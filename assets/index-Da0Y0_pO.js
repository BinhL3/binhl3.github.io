var ax=Object.defineProperty;var nw=n=>{throw TypeError(n)};var lx=(n,e,t)=>e in n?ax(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var pe=(n,e,t)=>lx(n,typeof e!="symbol"?e+"":e,t),Fg=(n,e,t)=>e.has(n)||nw("Cannot "+t);var u=(n,e,t)=>(Fg(n,e,"read from private field"),t?t.call(n):e.get(n)),b=(n,e,t)=>e.has(n)?nw("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),E=(n,e,t,r)=>(Fg(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),A=(n,e,t)=>(Fg(n,e,"access private method"),t);var Rn=(n,e,t,r)=>({set _(i){E(n,e,i,t)},get _(){return u(n,e,r)}});function hE(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var cx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ly(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var dE={exports:{}},Zp={},fE={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xd=Symbol.for("react.element"),ux=Symbol.for("react.portal"),hx=Symbol.for("react.fragment"),dx=Symbol.for("react.strict_mode"),fx=Symbol.for("react.profiler"),px=Symbol.for("react.provider"),gx=Symbol.for("react.context"),mx=Symbol.for("react.forward_ref"),vx=Symbol.for("react.suspense"),yx=Symbol.for("react.memo"),wx=Symbol.for("react.lazy"),rw=Symbol.iterator;function _x(n){return n===null||typeof n!="object"?null:(n=rw&&n[rw]||n["@@iterator"],typeof n=="function"?n:null)}var pE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gE=Object.assign,mE={};function Cc(n,e,t){this.props=n,this.context=e,this.refs=mE,this.updater=t||pE}Cc.prototype.isReactComponent={};Cc.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Cc.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function vE(){}vE.prototype=Cc.prototype;function My(n,e,t){this.props=n,this.context=e,this.refs=mE,this.updater=t||pE}var Dy=My.prototype=new vE;Dy.constructor=My;gE(Dy,Cc.prototype);Dy.isPureReactComponent=!0;var iw=Array.isArray,yE=Object.prototype.hasOwnProperty,Iy={current:null},wE={key:!0,ref:!0,__self:!0,__source:!0};function _E(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)yE.call(e,r)&&!wE.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:xd,type:n,key:s,ref:o,props:i,_owner:Iy.current}}function Ex(n,e){return{$$typeof:xd,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function Ny(n){return typeof n=="object"&&n!==null&&n.$$typeof===xd}function Ax(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var sw=/\/+/g;function Og(n,e){return typeof n=="object"&&n!==null&&n.key!=null?Ax(""+n.key):e.toString(36)}function pf(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case xd:case ux:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+Og(o,0):r,iw(i)?(t="",n!=null&&(t=n.replace(sw,"$&/")+"/"),pf(i,e,t,"",function(c){return c})):i!=null&&(Ny(i)&&(i=Ex(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(sw,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",iw(n))for(var a=0;a<n.length;a++){s=n[a];var l=r+Og(s,a);o+=pf(s,e,t,l,i)}else if(l=_x(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=r+Og(s,a++),o+=pf(s,e,t,l,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function $d(n,e,t){if(n==null)return n;var r=[],i=0;return pf(n,r,"","",function(s){return e.call(t,s,i++)}),r}function bx(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var pn={current:null},gf={transition:null},Sx={ReactCurrentDispatcher:pn,ReactCurrentBatchConfig:gf,ReactCurrentOwner:Iy};function EE(){throw Error("act(...) is not supported in production builds of React.")}Se.Children={map:$d,forEach:function(n,e,t){$d(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return $d(n,function(){e++}),e},toArray:function(n){return $d(n,function(e){return e})||[]},only:function(n){if(!Ny(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Se.Component=Cc;Se.Fragment=hx;Se.Profiler=fx;Se.PureComponent=My;Se.StrictMode=dx;Se.Suspense=vx;Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sx;Se.act=EE;Se.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=gE({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Iy.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)yE.call(e,l)&&!wE.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:xd,type:n.type,key:i,ref:s,props:r,_owner:o}};Se.createContext=function(n){return n={$$typeof:gx,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:px,_context:n},n.Consumer=n};Se.createElement=_E;Se.createFactory=function(n){var e=_E.bind(null,n);return e.type=n,e};Se.createRef=function(){return{current:null}};Se.forwardRef=function(n){return{$$typeof:mx,render:n}};Se.isValidElement=Ny;Se.lazy=function(n){return{$$typeof:wx,_payload:{_status:-1,_result:n},_init:bx}};Se.memo=function(n,e){return{$$typeof:yx,type:n,compare:e===void 0?null:e}};Se.startTransition=function(n){var e=gf.transition;gf.transition={};try{n()}finally{gf.transition=e}};Se.unstable_act=EE;Se.useCallback=function(n,e){return pn.current.useCallback(n,e)};Se.useContext=function(n){return pn.current.useContext(n)};Se.useDebugValue=function(){};Se.useDeferredValue=function(n){return pn.current.useDeferredValue(n)};Se.useEffect=function(n,e){return pn.current.useEffect(n,e)};Se.useId=function(){return pn.current.useId()};Se.useImperativeHandle=function(n,e,t){return pn.current.useImperativeHandle(n,e,t)};Se.useInsertionEffect=function(n,e){return pn.current.useInsertionEffect(n,e)};Se.useLayoutEffect=function(n,e){return pn.current.useLayoutEffect(n,e)};Se.useMemo=function(n,e){return pn.current.useMemo(n,e)};Se.useReducer=function(n,e,t){return pn.current.useReducer(n,e,t)};Se.useRef=function(n){return pn.current.useRef(n)};Se.useState=function(n){return pn.current.useState(n)};Se.useSyncExternalStore=function(n,e,t){return pn.current.useSyncExternalStore(n,e,t)};Se.useTransition=function(){return pn.current.useTransition()};Se.version="18.3.1";fE.exports=Se;var O=fE.exports;const AE=Ly(O),xx=hE({__proto__:null,default:AE},[O]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cx=O,kx=Symbol.for("react.element"),Tx=Symbol.for("react.fragment"),Px=Object.prototype.hasOwnProperty,Rx=Cx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Lx={key:!0,ref:!0,__self:!0,__source:!0};function bE(n,e,t){var r,i={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Px.call(e,r)&&!Lx.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:kx,type:n,key:s,ref:o,props:i,_owner:Rx.current}}Zp.Fragment=Tx;Zp.jsx=bE;Zp.jsxs=bE;dE.exports=Zp;var L=dE.exports,ym={},SE={exports:{}},Xn={},xE={exports:{}},CE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(j,z){var H=j.length;j.push(z);e:for(;0<H;){var J=H-1>>>1,G=j[J];if(0<i(G,z))j[J]=z,j[H]=G,H=J;else break e}}function t(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var z=j[0],H=j.pop();if(H!==z){j[0]=H;e:for(var J=0,G=j.length,ue=G>>>1;J<ue;){var N=2*(J+1)-1,Ke=j[N],X=N+1,re=j[X];if(0>i(Ke,H))X<G&&0>i(re,Ke)?(j[J]=re,j[X]=H,J=X):(j[J]=Ke,j[N]=H,J=N);else if(X<G&&0>i(re,H))j[J]=re,j[X]=H,J=X;else break e}}return z}function i(j,z){var H=j.sortIndex-z.sortIndex;return H!==0?H:j.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,d=null,f=3,p=!1,g=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(j){for(var z=t(c);z!==null;){if(z.callback===null)r(c);else if(z.startTime<=j)r(c),z.sortIndex=z.expirationTime,e(l,z);else break;z=t(c)}}function S(j){if(v=!1,w(j),!g)if(t(l)!==null)g=!0,q(C);else{var z=t(c);z!==null&&K(S,z.startTime-j)}}function C(j,z){g=!1,v&&(v=!1,m(x),x=-1),p=!0;var H=f;try{for(w(z),d=t(l);d!==null&&(!(d.expirationTime>z)||j&&!M());){var J=d.callback;if(typeof J=="function"){d.callback=null,f=d.priorityLevel;var G=J(d.expirationTime<=z);z=n.unstable_now(),typeof G=="function"?d.callback=G:d===t(l)&&r(l),w(z)}else r(l);d=t(l)}if(d!==null)var ue=!0;else{var N=t(c);N!==null&&K(S,N.startTime-z),ue=!1}return ue}finally{d=null,f=H,p=!1}}var k=!1,P=null,x=-1,D=5,I=-1;function M(){return!(n.unstable_now()-I<D)}function U(){if(P!==null){var j=n.unstable_now();I=j;var z=!0;try{z=P(!0,j)}finally{z?W():(k=!1,P=null)}}else k=!1}var W;if(typeof y=="function")W=function(){y(U)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,Q=$.port2;$.port1.onmessage=U,W=function(){Q.postMessage(null)}}else W=function(){_(U,0)};function q(j){P=j,k||(k=!0,W())}function K(j,z){x=_(function(){j(n.unstable_now())},z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(j){j.callback=null},n.unstable_continueExecution=function(){g||p||(g=!0,q(C))},n.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<j?Math.floor(1e3/j):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(j){switch(f){case 1:case 2:case 3:var z=3;break;default:z=f}var H=f;f=z;try{return j()}finally{f=H}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(j,z){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var H=f;f=j;try{return z()}finally{f=H}},n.unstable_scheduleCallback=function(j,z,H){var J=n.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?J+H:J):H=J,j){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=H+G,j={id:h++,callback:z,priorityLevel:j,startTime:H,expirationTime:G,sortIndex:-1},H>J?(j.sortIndex=H,e(c,j),t(l)===null&&j===t(c)&&(v?(m(x),x=-1):v=!0,K(S,H-J))):(j.sortIndex=G,e(l,j),g||p||(g=!0,q(C))),j},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(j){var z=f;return function(){var H=f;f=z;try{return j.apply(this,arguments)}finally{f=H}}}})(CE);xE.exports=CE;var Mx=xE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dx=O,Gn=Mx;function V(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var kE=new Set,Cu={};function Da(n,e){vc(n,e),vc(n+"Capture",e)}function vc(n,e){for(Cu[n]=e,n=0;n<e.length;n++)kE.add(e[n])}var Zi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wm=Object.prototype.hasOwnProperty,Ix=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ow={},aw={};function Nx(n){return wm.call(aw,n)?!0:wm.call(ow,n)?!1:Ix.test(n)?aw[n]=!0:(ow[n]=!0,!1)}function Fx(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function Ox(n,e,t,r){if(e===null||typeof e>"u"||Fx(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function gn(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Wt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Wt[n]=new gn(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Wt[e]=new gn(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Wt[n]=new gn(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Wt[n]=new gn(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Wt[n]=new gn(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Wt[n]=new gn(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Wt[n]=new gn(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Wt[n]=new gn(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Wt[n]=new gn(n,5,!1,n.toLowerCase(),null,!1,!1)});var Fy=/[\-:]([a-z])/g;function Oy(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(Fy,Oy);Wt[e]=new gn(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(Fy,Oy);Wt[e]=new gn(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(Fy,Oy);Wt[e]=new gn(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Wt[n]=new gn(n,1,!1,n.toLowerCase(),null,!1,!1)});Wt.xlinkHref=new gn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Wt[n]=new gn(n,1,!1,n.toLowerCase(),null,!0,!0)});function jy(n,e,t,r){var i=Wt.hasOwnProperty(e)?Wt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Ox(e,t,i,r)&&(t=null),r||i===null?Nx(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var ss=Dx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vd=Symbol.for("react.element"),Ja=Symbol.for("react.portal"),Za=Symbol.for("react.fragment"),zy=Symbol.for("react.strict_mode"),_m=Symbol.for("react.profiler"),TE=Symbol.for("react.provider"),PE=Symbol.for("react.context"),Hy=Symbol.for("react.forward_ref"),Em=Symbol.for("react.suspense"),Am=Symbol.for("react.suspense_list"),By=Symbol.for("react.memo"),fs=Symbol.for("react.lazy"),RE=Symbol.for("react.offscreen"),lw=Symbol.iterator;function Ic(n){return n===null||typeof n!="object"?null:(n=lw&&n[lw]||n["@@iterator"],typeof n=="function"?n:null)}var at=Object.assign,jg;function Kc(n){if(jg===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);jg=e&&e[1]||""}return`
`+jg+n}var zg=!1;function Hg(n,e){if(!n||zg)return"";zg=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){r=c}n.call(e.prototype)}else{try{throw Error()}catch(c){r=c}n()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{zg=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Kc(n):""}function jx(n){switch(n.tag){case 5:return Kc(n.type);case 16:return Kc("Lazy");case 13:return Kc("Suspense");case 19:return Kc("SuspenseList");case 0:case 2:case 15:return n=Hg(n.type,!1),n;case 11:return n=Hg(n.type.render,!1),n;case 1:return n=Hg(n.type,!0),n;default:return""}}function bm(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Za:return"Fragment";case Ja:return"Portal";case _m:return"Profiler";case zy:return"StrictMode";case Em:return"Suspense";case Am:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case PE:return(n.displayName||"Context")+".Consumer";case TE:return(n._context.displayName||"Context")+".Provider";case Hy:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case By:return e=n.displayName||null,e!==null?e:bm(n.type)||"Memo";case fs:e=n._payload,n=n._init;try{return bm(n(e))}catch{}}return null}function zx(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bm(e);case 8:return e===zy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ys(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function LE(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Hx(n){var e=LE(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Wd(n){n._valueTracker||(n._valueTracker=Hx(n))}function ME(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=LE(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function Zf(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Sm(n,e){var t=e.checked;return at({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function cw(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=Ys(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function DE(n,e){e=e.checked,e!=null&&jy(n,"checked",e,!1)}function xm(n,e){DE(n,e);var t=Ys(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?Cm(n,e.type,t):e.hasOwnProperty("defaultValue")&&Cm(n,e.type,Ys(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function uw(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function Cm(n,e,t){(e!=="number"||Zf(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Yc=Array.isArray;function dl(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+Ys(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function km(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(V(91));return at({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function hw(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(V(92));if(Yc(t)){if(1<t.length)throw Error(V(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Ys(t)}}function IE(n,e){var t=Ys(e.value),r=Ys(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function dw(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function NE(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tm(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?NE(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Gd,FE=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Gd=Gd||document.createElement("div"),Gd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Gd.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function ku(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var pu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Bx=["Webkit","ms","Moz","O"];Object.keys(pu).forEach(function(n){Bx.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),pu[e]=pu[n]})});function OE(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||pu.hasOwnProperty(n)&&pu[n]?(""+e).trim():e+"px"}function jE(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=OE(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var Ux=at({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pm(n,e){if(e){if(Ux[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(V(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(V(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(V(61))}if(e.style!=null&&typeof e.style!="object")throw Error(V(62))}}function Rm(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lm=null;function Uy(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Mm=null,fl=null,pl=null;function fw(n){if(n=Td(n)){if(typeof Mm!="function")throw Error(V(280));var e=n.stateNode;e&&(e=ig(e),Mm(n.stateNode,n.type,e))}}function zE(n){fl?pl?pl.push(n):pl=[n]:fl=n}function HE(){if(fl){var n=fl,e=pl;if(pl=fl=null,fw(n),e)for(n=0;n<e.length;n++)fw(e[n])}}function BE(n,e){return n(e)}function UE(){}var Bg=!1;function $E(n,e,t){if(Bg)return n(e,t);Bg=!0;try{return BE(n,e,t)}finally{Bg=!1,(fl!==null||pl!==null)&&(UE(),HE())}}function Tu(n,e){var t=n.stateNode;if(t===null)return null;var r=ig(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(V(231,e,typeof t));return t}var Dm=!1;if(Zi)try{var Nc={};Object.defineProperty(Nc,"passive",{get:function(){Dm=!0}}),window.addEventListener("test",Nc,Nc),window.removeEventListener("test",Nc,Nc)}catch{Dm=!1}function $x(n,e,t,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(h){this.onError(h)}}var gu=!1,ep=null,tp=!1,Im=null,Vx={onError:function(n){gu=!0,ep=n}};function Wx(n,e,t,r,i,s,o,a,l){gu=!1,ep=null,$x.apply(Vx,arguments)}function Gx(n,e,t,r,i,s,o,a,l){if(Wx.apply(this,arguments),gu){if(gu){var c=ep;gu=!1,ep=null}else throw Error(V(198));tp||(tp=!0,Im=c)}}function Ia(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function VE(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function pw(n){if(Ia(n)!==n)throw Error(V(188))}function Xx(n){var e=n.alternate;if(!e){if(e=Ia(n),e===null)throw Error(V(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return pw(i),n;if(s===r)return pw(i),e;s=s.sibling}throw Error(V(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o)throw Error(V(189))}}if(t.alternate!==r)throw Error(V(190))}if(t.tag!==3)throw Error(V(188));return t.stateNode.current===t?n:e}function WE(n){return n=Xx(n),n!==null?GE(n):null}function GE(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=GE(n);if(e!==null)return e;n=n.sibling}return null}var XE=Gn.unstable_scheduleCallback,gw=Gn.unstable_cancelCallback,Kx=Gn.unstable_shouldYield,Yx=Gn.unstable_requestPaint,dt=Gn.unstable_now,qx=Gn.unstable_getCurrentPriorityLevel,$y=Gn.unstable_ImmediatePriority,KE=Gn.unstable_UserBlockingPriority,np=Gn.unstable_NormalPriority,Qx=Gn.unstable_LowPriority,YE=Gn.unstable_IdlePriority,eg=null,si=null;function Jx(n){if(si&&typeof si.onCommitFiberRoot=="function")try{si.onCommitFiberRoot(eg,n,void 0,(n.current.flags&128)===128)}catch{}}var Dr=Math.clz32?Math.clz32:tC,Zx=Math.log,eC=Math.LN2;function tC(n){return n>>>=0,n===0?32:31-(Zx(n)/eC|0)|0}var Xd=64,Kd=4194304;function qc(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function rp(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~i;a!==0?r=qc(a):(s&=o,s!==0&&(r=qc(s)))}else o=t&~i,o!==0?r=qc(o):s!==0&&(r=qc(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-Dr(e),i=1<<t,r|=n[t],e&=~i;return r}function nC(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rC(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-Dr(s),a=1<<o,l=i[o];l===-1?(!(a&t)||a&r)&&(i[o]=nC(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function Nm(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function qE(){var n=Xd;return Xd<<=1,!(Xd&4194240)&&(Xd=64),n}function Ug(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Cd(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Dr(e),n[e]=t}function iC(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-Dr(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function Vy(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-Dr(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var Oe=0;function QE(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var JE,Wy,ZE,eA,tA,Fm=!1,Yd=[],Bs=null,Us=null,$s=null,Pu=new Map,Ru=new Map,gs=[],sC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mw(n,e){switch(n){case"focusin":case"focusout":Bs=null;break;case"dragenter":case"dragleave":Us=null;break;case"mouseover":case"mouseout":$s=null;break;case"pointerover":case"pointerout":Pu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ru.delete(e.pointerId)}}function Fc(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Td(e),e!==null&&Wy(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function oC(n,e,t,r,i){switch(e){case"focusin":return Bs=Fc(Bs,n,e,t,r,i),!0;case"dragenter":return Us=Fc(Us,n,e,t,r,i),!0;case"mouseover":return $s=Fc($s,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return Pu.set(s,Fc(Pu.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ru.set(s,Fc(Ru.get(s)||null,n,e,t,r,i)),!0}return!1}function nA(n){var e=wo(n.target);if(e!==null){var t=Ia(e);if(t!==null){if(e=t.tag,e===13){if(e=VE(t),e!==null){n.blockedOn=e,tA(n.priority,function(){ZE(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function mf(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=Om(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);Lm=r,t.target.dispatchEvent(r),Lm=null}else return e=Td(t),e!==null&&Wy(e),n.blockedOn=t,!1;e.shift()}return!0}function vw(n,e,t){mf(n)&&t.delete(e)}function aC(){Fm=!1,Bs!==null&&mf(Bs)&&(Bs=null),Us!==null&&mf(Us)&&(Us=null),$s!==null&&mf($s)&&($s=null),Pu.forEach(vw),Ru.forEach(vw)}function Oc(n,e){n.blockedOn===e&&(n.blockedOn=null,Fm||(Fm=!0,Gn.unstable_scheduleCallback(Gn.unstable_NormalPriority,aC)))}function Lu(n){function e(i){return Oc(i,n)}if(0<Yd.length){Oc(Yd[0],n);for(var t=1;t<Yd.length;t++){var r=Yd[t];r.blockedOn===n&&(r.blockedOn=null)}}for(Bs!==null&&Oc(Bs,n),Us!==null&&Oc(Us,n),$s!==null&&Oc($s,n),Pu.forEach(e),Ru.forEach(e),t=0;t<gs.length;t++)r=gs[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<gs.length&&(t=gs[0],t.blockedOn===null);)nA(t),t.blockedOn===null&&gs.shift()}var gl=ss.ReactCurrentBatchConfig,ip=!0;function lC(n,e,t,r){var i=Oe,s=gl.transition;gl.transition=null;try{Oe=1,Gy(n,e,t,r)}finally{Oe=i,gl.transition=s}}function cC(n,e,t,r){var i=Oe,s=gl.transition;gl.transition=null;try{Oe=4,Gy(n,e,t,r)}finally{Oe=i,gl.transition=s}}function Gy(n,e,t,r){if(ip){var i=Om(n,e,t,r);if(i===null)Jg(n,e,r,sp,t),mw(n,r);else if(oC(i,n,e,t,r))r.stopPropagation();else if(mw(n,r),e&4&&-1<sC.indexOf(n)){for(;i!==null;){var s=Td(i);if(s!==null&&JE(s),s=Om(n,e,t,r),s===null&&Jg(n,e,r,sp,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else Jg(n,e,r,null,t)}}var sp=null;function Om(n,e,t,r){if(sp=null,n=Uy(r),n=wo(n),n!==null)if(e=Ia(n),e===null)n=null;else if(t=e.tag,t===13){if(n=VE(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return sp=n,null}function rA(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qx()){case $y:return 1;case KE:return 4;case np:case Qx:return 16;case YE:return 536870912;default:return 16}default:return 16}}var zs=null,Xy=null,vf=null;function iA(){if(vf)return vf;var n,e=Xy,t=e.length,r,i="value"in zs?zs.value:zs.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return vf=i.slice(n,1<r?1-r:void 0)}function yf(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function qd(){return!0}function yw(){return!1}function Kn(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?qd:yw,this.isPropagationStopped=yw,this}return at(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=qd)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=qd)},persist:function(){},isPersistent:qd}),e}var kc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ky=Kn(kc),kd=at({},kc,{view:0,detail:0}),uC=Kn(kd),$g,Vg,jc,tg=at({},kd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yy,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==jc&&(jc&&n.type==="mousemove"?($g=n.screenX-jc.screenX,Vg=n.screenY-jc.screenY):Vg=$g=0,jc=n),$g)},movementY:function(n){return"movementY"in n?n.movementY:Vg}}),ww=Kn(tg),hC=at({},tg,{dataTransfer:0}),dC=Kn(hC),fC=at({},kd,{relatedTarget:0}),Wg=Kn(fC),pC=at({},kc,{animationName:0,elapsedTime:0,pseudoElement:0}),gC=Kn(pC),mC=at({},kc,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),vC=Kn(mC),yC=at({},kc,{data:0}),_w=Kn(yC),wC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_C={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},EC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function AC(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=EC[n])?!!e[n]:!1}function Yy(){return AC}var bC=at({},kd,{key:function(n){if(n.key){var e=wC[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=yf(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?_C[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yy,charCode:function(n){return n.type==="keypress"?yf(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?yf(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),SC=Kn(bC),xC=at({},tg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ew=Kn(xC),CC=at({},kd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yy}),kC=Kn(CC),TC=at({},kc,{propertyName:0,elapsedTime:0,pseudoElement:0}),PC=Kn(TC),RC=at({},tg,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),LC=Kn(RC),MC=[9,13,27,32],qy=Zi&&"CompositionEvent"in window,mu=null;Zi&&"documentMode"in document&&(mu=document.documentMode);var DC=Zi&&"TextEvent"in window&&!mu,sA=Zi&&(!qy||mu&&8<mu&&11>=mu),Aw=" ",bw=!1;function oA(n,e){switch(n){case"keyup":return MC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function aA(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var el=!1;function IC(n,e){switch(n){case"compositionend":return aA(e);case"keypress":return e.which!==32?null:(bw=!0,Aw);case"textInput":return n=e.data,n===Aw&&bw?null:n;default:return null}}function NC(n,e){if(el)return n==="compositionend"||!qy&&oA(n,e)?(n=iA(),vf=Xy=zs=null,el=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return sA&&e.locale!=="ko"?null:e.data;default:return null}}var FC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sw(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!FC[n.type]:e==="textarea"}function lA(n,e,t,r){zE(r),e=op(e,"onChange"),0<e.length&&(t=new Ky("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var vu=null,Mu=null;function OC(n){wA(n,0)}function ng(n){var e=rl(n);if(ME(e))return n}function jC(n,e){if(n==="change")return e}var cA=!1;if(Zi){var Gg;if(Zi){var Xg="oninput"in document;if(!Xg){var xw=document.createElement("div");xw.setAttribute("oninput","return;"),Xg=typeof xw.oninput=="function"}Gg=Xg}else Gg=!1;cA=Gg&&(!document.documentMode||9<document.documentMode)}function Cw(){vu&&(vu.detachEvent("onpropertychange",uA),Mu=vu=null)}function uA(n){if(n.propertyName==="value"&&ng(Mu)){var e=[];lA(e,Mu,n,Uy(n)),$E(OC,e)}}function zC(n,e,t){n==="focusin"?(Cw(),vu=e,Mu=t,vu.attachEvent("onpropertychange",uA)):n==="focusout"&&Cw()}function HC(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ng(Mu)}function BC(n,e){if(n==="click")return ng(e)}function UC(n,e){if(n==="input"||n==="change")return ng(e)}function $C(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Nr=typeof Object.is=="function"?Object.is:$C;function Du(n,e){if(Nr(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!wm.call(e,i)||!Nr(n[i],e[i]))return!1}return!0}function kw(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Tw(n,e){var t=kw(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=kw(t)}}function hA(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?hA(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function dA(){for(var n=window,e=Zf();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Zf(n.document)}return e}function Qy(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function VC(n){var e=dA(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&hA(t.ownerDocument.documentElement,t)){if(r!==null&&Qy(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=Tw(t,s);var o=Tw(t,r);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var WC=Zi&&"documentMode"in document&&11>=document.documentMode,tl=null,jm=null,yu=null,zm=!1;function Pw(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;zm||tl==null||tl!==Zf(r)||(r=tl,"selectionStart"in r&&Qy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),yu&&Du(yu,r)||(yu=r,r=op(jm,"onSelect"),0<r.length&&(e=new Ky("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=tl)))}function Qd(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var nl={animationend:Qd("Animation","AnimationEnd"),animationiteration:Qd("Animation","AnimationIteration"),animationstart:Qd("Animation","AnimationStart"),transitionend:Qd("Transition","TransitionEnd")},Kg={},fA={};Zi&&(fA=document.createElement("div").style,"AnimationEvent"in window||(delete nl.animationend.animation,delete nl.animationiteration.animation,delete nl.animationstart.animation),"TransitionEvent"in window||delete nl.transitionend.transition);function rg(n){if(Kg[n])return Kg[n];if(!nl[n])return n;var e=nl[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in fA)return Kg[n]=e[t];return n}var pA=rg("animationend"),gA=rg("animationiteration"),mA=rg("animationstart"),vA=rg("transitionend"),yA=new Map,Rw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function eo(n,e){yA.set(n,e),Da(e,[n])}for(var Yg=0;Yg<Rw.length;Yg++){var qg=Rw[Yg],GC=qg.toLowerCase(),XC=qg[0].toUpperCase()+qg.slice(1);eo(GC,"on"+XC)}eo(pA,"onAnimationEnd");eo(gA,"onAnimationIteration");eo(mA,"onAnimationStart");eo("dblclick","onDoubleClick");eo("focusin","onFocus");eo("focusout","onBlur");eo(vA,"onTransitionEnd");vc("onMouseEnter",["mouseout","mouseover"]);vc("onMouseLeave",["mouseout","mouseover"]);vc("onPointerEnter",["pointerout","pointerover"]);vc("onPointerLeave",["pointerout","pointerover"]);Da("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Da("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Da("onBeforeInput",["compositionend","keypress","textInput","paste"]);Da("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Da("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Da("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qc));function Lw(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,Gx(r,e,void 0,n),n.currentTarget=null}function wA(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Lw(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Lw(i,a,c),s=l}}}if(tp)throw n=Im,tp=!1,Im=null,n}function Je(n,e){var t=e[Vm];t===void 0&&(t=e[Vm]=new Set);var r=n+"__bubble";t.has(r)||(_A(e,n,2,!1),t.add(r))}function Qg(n,e,t){var r=0;e&&(r|=4),_A(t,n,r,e)}var Jd="_reactListening"+Math.random().toString(36).slice(2);function Iu(n){if(!n[Jd]){n[Jd]=!0,kE.forEach(function(t){t!=="selectionchange"&&(KC.has(t)||Qg(t,!1,n),Qg(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Jd]||(e[Jd]=!0,Qg("selectionchange",!1,e))}}function _A(n,e,t,r){switch(rA(e)){case 1:var i=lC;break;case 4:i=cC;break;default:i=Gy}t=i.bind(null,e,t,n),i=void 0,!Dm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function Jg(n,e,t,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=wo(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}$E(function(){var c=s,h=Uy(t),d=[];e:{var f=yA.get(n);if(f!==void 0){var p=Ky,g=n;switch(n){case"keypress":if(yf(t)===0)break e;case"keydown":case"keyup":p=SC;break;case"focusin":g="focus",p=Wg;break;case"focusout":g="blur",p=Wg;break;case"beforeblur":case"afterblur":p=Wg;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=ww;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=dC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=kC;break;case pA:case gA:case mA:p=gC;break;case vA:p=PC;break;case"scroll":p=uC;break;case"wheel":p=LC;break;case"copy":case"cut":case"paste":p=vC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Ew}var v=(e&4)!==0,_=!v&&n==="scroll",m=v?f!==null?f+"Capture":null:f;v=[];for(var y=c,w;y!==null;){w=y;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,m!==null&&(S=Tu(y,m),S!=null&&v.push(Nu(y,S,w)))),_)break;y=y.return}0<v.length&&(f=new p(f,g,null,t,h),d.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=n==="mouseover"||n==="pointerover",p=n==="mouseout"||n==="pointerout",f&&t!==Lm&&(g=t.relatedTarget||t.fromElement)&&(wo(g)||g[es]))break e;if((p||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=t.relatedTarget||t.toElement,p=c,g=g?wo(g):null,g!==null&&(_=Ia(g),g!==_||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(v=ww,S="onMouseLeave",m="onMouseEnter",y="mouse",(n==="pointerout"||n==="pointerover")&&(v=Ew,S="onPointerLeave",m="onPointerEnter",y="pointer"),_=p==null?f:rl(p),w=g==null?f:rl(g),f=new v(S,y+"leave",p,t,h),f.target=_,f.relatedTarget=w,S=null,wo(h)===c&&(v=new v(m,y+"enter",g,t,h),v.target=w,v.relatedTarget=_,S=v),_=S,p&&g)t:{for(v=p,m=g,y=0,w=v;w;w=Va(w))y++;for(w=0,S=m;S;S=Va(S))w++;for(;0<y-w;)v=Va(v),y--;for(;0<w-y;)m=Va(m),w--;for(;y--;){if(v===m||m!==null&&v===m.alternate)break t;v=Va(v),m=Va(m)}v=null}else v=null;p!==null&&Mw(d,f,p,v,!1),g!==null&&_!==null&&Mw(d,_,g,v,!0)}}e:{if(f=c?rl(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var C=jC;else if(Sw(f))if(cA)C=UC;else{C=HC;var k=zC}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=BC);if(C&&(C=C(n,c))){lA(d,C,t,h);break e}k&&k(n,f,c),n==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&Cm(f,"number",f.value)}switch(k=c?rl(c):window,n){case"focusin":(Sw(k)||k.contentEditable==="true")&&(tl=k,jm=c,yu=null);break;case"focusout":yu=jm=tl=null;break;case"mousedown":zm=!0;break;case"contextmenu":case"mouseup":case"dragend":zm=!1,Pw(d,t,h);break;case"selectionchange":if(WC)break;case"keydown":case"keyup":Pw(d,t,h)}var P;if(qy)e:{switch(n){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else el?oA(n,t)&&(x="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(x="onCompositionStart");x&&(sA&&t.locale!=="ko"&&(el||x!=="onCompositionStart"?x==="onCompositionEnd"&&el&&(P=iA()):(zs=h,Xy="value"in zs?zs.value:zs.textContent,el=!0)),k=op(c,x),0<k.length&&(x=new _w(x,n,null,t,h),d.push({event:x,listeners:k}),P?x.data=P:(P=aA(t),P!==null&&(x.data=P)))),(P=DC?IC(n,t):NC(n,t))&&(c=op(c,"onBeforeInput"),0<c.length&&(h=new _w("onBeforeInput","beforeinput",null,t,h),d.push({event:h,listeners:c}),h.data=P))}wA(d,e)})}function Nu(n,e,t){return{instance:n,listener:e,currentTarget:t}}function op(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Tu(n,t),s!=null&&r.unshift(Nu(n,s,i)),s=Tu(n,e),s!=null&&r.push(Nu(n,s,i))),n=n.return}return r}function Va(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Mw(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Tu(t,s),l!=null&&o.unshift(Nu(t,l,a))):i||(l=Tu(t,s),l!=null&&o.push(Nu(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var YC=/\r\n?/g,qC=/\u0000|\uFFFD/g;function Dw(n){return(typeof n=="string"?n:""+n).replace(YC,`
`).replace(qC,"")}function Zd(n,e,t){if(e=Dw(e),Dw(n)!==e&&t)throw Error(V(425))}function ap(){}var Hm=null,Bm=null;function Um(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var $m=typeof setTimeout=="function"?setTimeout:void 0,QC=typeof clearTimeout=="function"?clearTimeout:void 0,Iw=typeof Promise=="function"?Promise:void 0,JC=typeof queueMicrotask=="function"?queueMicrotask:typeof Iw<"u"?function(n){return Iw.resolve(null).then(n).catch(ZC)}:$m;function ZC(n){setTimeout(function(){throw n})}function Zg(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),Lu(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);Lu(e)}function Vs(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function Nw(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Tc=Math.random().toString(36).slice(2),ii="__reactFiber$"+Tc,Fu="__reactProps$"+Tc,es="__reactContainer$"+Tc,Vm="__reactEvents$"+Tc,ek="__reactListeners$"+Tc,tk="__reactHandles$"+Tc;function wo(n){var e=n[ii];if(e)return e;for(var t=n.parentNode;t;){if(e=t[es]||t[ii]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=Nw(n);n!==null;){if(t=n[ii])return t;n=Nw(n)}return e}n=t,t=n.parentNode}return null}function Td(n){return n=n[ii]||n[es],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function rl(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(V(33))}function ig(n){return n[Fu]||null}var Wm=[],il=-1;function to(n){return{current:n}}function Ze(n){0>il||(n.current=Wm[il],Wm[il]=null,il--)}function Qe(n,e){il++,Wm[il]=n.current,n.current=e}var qs={},nn=to(qs),xn=to(!1),Ea=qs;function yc(n,e){var t=n.type.contextTypes;if(!t)return qs;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function Cn(n){return n=n.childContextTypes,n!=null}function lp(){Ze(xn),Ze(nn)}function Fw(n,e,t){if(nn.current!==qs)throw Error(V(168));Qe(nn,e),Qe(xn,t)}function EA(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(V(108,zx(n)||"Unknown",i));return at({},t,r)}function cp(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||qs,Ea=nn.current,Qe(nn,n),Qe(xn,xn.current),!0}function Ow(n,e,t){var r=n.stateNode;if(!r)throw Error(V(169));t?(n=EA(n,e,Ea),r.__reactInternalMemoizedMergedChildContext=n,Ze(xn),Ze(nn),Qe(nn,n)):Ze(xn),Qe(xn,t)}var wi=null,sg=!1,em=!1;function AA(n){wi===null?wi=[n]:wi.push(n)}function nk(n){sg=!0,AA(n)}function no(){if(!em&&wi!==null){em=!0;var n=0,e=Oe;try{var t=wi;for(Oe=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}wi=null,sg=!1}catch(i){throw wi!==null&&(wi=wi.slice(n+1)),XE($y,no),i}finally{Oe=e,em=!1}}return null}var sl=[],ol=0,up=null,hp=0,ir=[],sr=0,Aa=null,Wi=1,Gi="";function uo(n,e){sl[ol++]=hp,sl[ol++]=up,up=n,hp=e}function bA(n,e,t){ir[sr++]=Wi,ir[sr++]=Gi,ir[sr++]=Aa,Aa=n;var r=Wi;n=Gi;var i=32-Dr(r)-1;r&=~(1<<i),t+=1;var s=32-Dr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Wi=1<<32-Dr(e)+i|t<<i|r,Gi=s+n}else Wi=1<<s|t<<i|r,Gi=n}function Jy(n){n.return!==null&&(uo(n,1),bA(n,1,0))}function Zy(n){for(;n===up;)up=sl[--ol],sl[ol]=null,hp=sl[--ol],sl[ol]=null;for(;n===Aa;)Aa=ir[--sr],ir[sr]=null,Gi=ir[--sr],ir[sr]=null,Wi=ir[--sr],ir[sr]=null}var Wn=null,Vn=null,tt=!1,Mr=null;function SA(n,e){var t=lr(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function jw(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Wn=n,Vn=Vs(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Wn=n,Vn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Aa!==null?{id:Wi,overflow:Gi}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=lr(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Wn=n,Vn=null,!0):!1;default:return!1}}function Gm(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Xm(n){if(tt){var e=Vn;if(e){var t=e;if(!jw(n,e)){if(Gm(n))throw Error(V(418));e=Vs(t.nextSibling);var r=Wn;e&&jw(n,e)?SA(r,t):(n.flags=n.flags&-4097|2,tt=!1,Wn=n)}}else{if(Gm(n))throw Error(V(418));n.flags=n.flags&-4097|2,tt=!1,Wn=n}}}function zw(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Wn=n}function ef(n){if(n!==Wn)return!1;if(!tt)return zw(n),tt=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!Um(n.type,n.memoizedProps)),e&&(e=Vn)){if(Gm(n))throw xA(),Error(V(418));for(;e;)SA(n,e),e=Vs(e.nextSibling)}if(zw(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(V(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Vn=Vs(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Vn=null}}else Vn=Wn?Vs(n.stateNode.nextSibling):null;return!0}function xA(){for(var n=Vn;n;)n=Vs(n.nextSibling)}function wc(){Vn=Wn=null,tt=!1}function e0(n){Mr===null?Mr=[n]:Mr.push(n)}var rk=ss.ReactCurrentBatchConfig;function zc(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(V(309));var r=t.stateNode}if(!r)throw Error(V(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(V(284));if(!t._owner)throw Error(V(290,n))}return n}function tf(n,e){throw n=Object.prototype.toString.call(e),Error(V(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function Hw(n){var e=n._init;return e(n._payload)}function CA(n){function e(m,y){if(n){var w=m.deletions;w===null?(m.deletions=[y],m.flags|=16):w.push(y)}}function t(m,y){if(!n)return null;for(;y!==null;)e(m,y),y=y.sibling;return null}function r(m,y){for(m=new Map;y!==null;)y.key!==null?m.set(y.key,y):m.set(y.index,y),y=y.sibling;return m}function i(m,y){return m=Ks(m,y),m.index=0,m.sibling=null,m}function s(m,y,w){return m.index=w,n?(w=m.alternate,w!==null?(w=w.index,w<y?(m.flags|=2,y):w):(m.flags|=2,y)):(m.flags|=1048576,y)}function o(m){return n&&m.alternate===null&&(m.flags|=2),m}function a(m,y,w,S){return y===null||y.tag!==6?(y=am(w,m.mode,S),y.return=m,y):(y=i(y,w),y.return=m,y)}function l(m,y,w,S){var C=w.type;return C===Za?h(m,y,w.props.children,S,w.key):y!==null&&(y.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===fs&&Hw(C)===y.type)?(S=i(y,w.props),S.ref=zc(m,y,w),S.return=m,S):(S=xf(w.type,w.key,w.props,null,m.mode,S),S.ref=zc(m,y,w),S.return=m,S)}function c(m,y,w,S){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=lm(w,m.mode,S),y.return=m,y):(y=i(y,w.children||[]),y.return=m,y)}function h(m,y,w,S,C){return y===null||y.tag!==7?(y=_a(w,m.mode,S,C),y.return=m,y):(y=i(y,w),y.return=m,y)}function d(m,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=am(""+y,m.mode,w),y.return=m,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Vd:return w=xf(y.type,y.key,y.props,null,m.mode,w),w.ref=zc(m,null,y),w.return=m,w;case Ja:return y=lm(y,m.mode,w),y.return=m,y;case fs:var S=y._init;return d(m,S(y._payload),w)}if(Yc(y)||Ic(y))return y=_a(y,m.mode,w,null),y.return=m,y;tf(m,y)}return null}function f(m,y,w,S){var C=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return C!==null?null:a(m,y,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Vd:return w.key===C?l(m,y,w,S):null;case Ja:return w.key===C?c(m,y,w,S):null;case fs:return C=w._init,f(m,y,C(w._payload),S)}if(Yc(w)||Ic(w))return C!==null?null:h(m,y,w,S,null);tf(m,w)}return null}function p(m,y,w,S,C){if(typeof S=="string"&&S!==""||typeof S=="number")return m=m.get(w)||null,a(y,m,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Vd:return m=m.get(S.key===null?w:S.key)||null,l(y,m,S,C);case Ja:return m=m.get(S.key===null?w:S.key)||null,c(y,m,S,C);case fs:var k=S._init;return p(m,y,w,k(S._payload),C)}if(Yc(S)||Ic(S))return m=m.get(w)||null,h(y,m,S,C,null);tf(y,S)}return null}function g(m,y,w,S){for(var C=null,k=null,P=y,x=y=0,D=null;P!==null&&x<w.length;x++){P.index>x?(D=P,P=null):D=P.sibling;var I=f(m,P,w[x],S);if(I===null){P===null&&(P=D);break}n&&P&&I.alternate===null&&e(m,P),y=s(I,y,x),k===null?C=I:k.sibling=I,k=I,P=D}if(x===w.length)return t(m,P),tt&&uo(m,x),C;if(P===null){for(;x<w.length;x++)P=d(m,w[x],S),P!==null&&(y=s(P,y,x),k===null?C=P:k.sibling=P,k=P);return tt&&uo(m,x),C}for(P=r(m,P);x<w.length;x++)D=p(P,m,x,w[x],S),D!==null&&(n&&D.alternate!==null&&P.delete(D.key===null?x:D.key),y=s(D,y,x),k===null?C=D:k.sibling=D,k=D);return n&&P.forEach(function(M){return e(m,M)}),tt&&uo(m,x),C}function v(m,y,w,S){var C=Ic(w);if(typeof C!="function")throw Error(V(150));if(w=C.call(w),w==null)throw Error(V(151));for(var k=C=null,P=y,x=y=0,D=null,I=w.next();P!==null&&!I.done;x++,I=w.next()){P.index>x?(D=P,P=null):D=P.sibling;var M=f(m,P,I.value,S);if(M===null){P===null&&(P=D);break}n&&P&&M.alternate===null&&e(m,P),y=s(M,y,x),k===null?C=M:k.sibling=M,k=M,P=D}if(I.done)return t(m,P),tt&&uo(m,x),C;if(P===null){for(;!I.done;x++,I=w.next())I=d(m,I.value,S),I!==null&&(y=s(I,y,x),k===null?C=I:k.sibling=I,k=I);return tt&&uo(m,x),C}for(P=r(m,P);!I.done;x++,I=w.next())I=p(P,m,x,I.value,S),I!==null&&(n&&I.alternate!==null&&P.delete(I.key===null?x:I.key),y=s(I,y,x),k===null?C=I:k.sibling=I,k=I);return n&&P.forEach(function(U){return e(m,U)}),tt&&uo(m,x),C}function _(m,y,w,S){if(typeof w=="object"&&w!==null&&w.type===Za&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Vd:e:{for(var C=w.key,k=y;k!==null;){if(k.key===C){if(C=w.type,C===Za){if(k.tag===7){t(m,k.sibling),y=i(k,w.props.children),y.return=m,m=y;break e}}else if(k.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===fs&&Hw(C)===k.type){t(m,k.sibling),y=i(k,w.props),y.ref=zc(m,k,w),y.return=m,m=y;break e}t(m,k);break}else e(m,k);k=k.sibling}w.type===Za?(y=_a(w.props.children,m.mode,S,w.key),y.return=m,m=y):(S=xf(w.type,w.key,w.props,null,m.mode,S),S.ref=zc(m,y,w),S.return=m,m=S)}return o(m);case Ja:e:{for(k=w.key;y!==null;){if(y.key===k)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){t(m,y.sibling),y=i(y,w.children||[]),y.return=m,m=y;break e}else{t(m,y);break}else e(m,y);y=y.sibling}y=lm(w,m.mode,S),y.return=m,m=y}return o(m);case fs:return k=w._init,_(m,y,k(w._payload),S)}if(Yc(w))return g(m,y,w,S);if(Ic(w))return v(m,y,w,S);tf(m,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(t(m,y.sibling),y=i(y,w),y.return=m,m=y):(t(m,y),y=am(w,m.mode,S),y.return=m,m=y),o(m)):t(m,y)}return _}var _c=CA(!0),kA=CA(!1),dp=to(null),fp=null,al=null,t0=null;function n0(){t0=al=fp=null}function r0(n){var e=dp.current;Ze(dp),n._currentValue=e}function Km(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function ml(n,e){fp=n,t0=al=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(An=!0),n.firstContext=null)}function ur(n){var e=n._currentValue;if(t0!==n)if(n={context:n,memoizedValue:e,next:null},al===null){if(fp===null)throw Error(V(308));al=n,fp.dependencies={lanes:0,firstContext:n}}else al=al.next=n;return e}var _o=null;function i0(n){_o===null?_o=[n]:_o.push(n)}function TA(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,i0(e)):(t.next=i.next,i.next=t),e.interleaved=t,ts(n,r)}function ts(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var ps=!1;function s0(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function PA(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Xi(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Ws(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,Pe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ts(n,t)}return i=r.interleaved,i===null?(e.next=e,i0(r)):(e.next=i.next,i.next=e),r.interleaved=e,ts(n,t)}function wf(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,Vy(n,t)}}function Bw(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function pp(n,e,t,r){var i=n.updateQueue;ps=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var h=n.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,h=c=l=null,a=s;do{var f=a.lane,p=a.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=n,v=a;switch(f=e,p=t,v.tag){case 1:if(g=v.payload,typeof g=="function"){d=g.call(p,d,f);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,f=typeof g=="function"?g.call(p,d,f):g,f==null)break e;d=at({},d,f);break e;case 2:ps=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=p,l=d):h=h.next=p,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(h===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Sa|=o,n.lanes=o,n.memoizedState=d}}function Uw(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(V(191,i));i.call(r)}}}var Pd={},oi=to(Pd),Ou=to(Pd),ju=to(Pd);function Eo(n){if(n===Pd)throw Error(V(174));return n}function o0(n,e){switch(Qe(ju,e),Qe(Ou,n),Qe(oi,Pd),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Tm(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=Tm(e,n)}Ze(oi),Qe(oi,e)}function Ec(){Ze(oi),Ze(Ou),Ze(ju)}function RA(n){Eo(ju.current);var e=Eo(oi.current),t=Tm(e,n.type);e!==t&&(Qe(Ou,n),Qe(oi,t))}function a0(n){Ou.current===n&&(Ze(oi),Ze(Ou))}var st=to(0);function gp(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var tm=[];function l0(){for(var n=0;n<tm.length;n++)tm[n]._workInProgressVersionPrimary=null;tm.length=0}var _f=ss.ReactCurrentDispatcher,nm=ss.ReactCurrentBatchConfig,ba=0,ot=null,Ct=null,Mt=null,mp=!1,wu=!1,zu=0,ik=0;function Xt(){throw Error(V(321))}function c0(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Nr(n[t],e[t]))return!1;return!0}function u0(n,e,t,r,i,s){if(ba=s,ot=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,_f.current=n===null||n.memoizedState===null?lk:ck,n=t(r,i),wu){s=0;do{if(wu=!1,zu=0,25<=s)throw Error(V(301));s+=1,Mt=Ct=null,e.updateQueue=null,_f.current=uk,n=t(r,i)}while(wu)}if(_f.current=vp,e=Ct!==null&&Ct.next!==null,ba=0,Mt=Ct=ot=null,mp=!1,e)throw Error(V(300));return n}function h0(){var n=zu!==0;return zu=0,n}function Br(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?ot.memoizedState=Mt=n:Mt=Mt.next=n,Mt}function hr(){if(Ct===null){var n=ot.alternate;n=n!==null?n.memoizedState:null}else n=Ct.next;var e=Mt===null?ot.memoizedState:Mt.next;if(e!==null)Mt=e,Ct=n;else{if(n===null)throw Error(V(310));Ct=n,n={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},Mt===null?ot.memoizedState=Mt=n:Mt=Mt.next=n}return Mt}function Hu(n,e){return typeof e=="function"?e(n):e}function rm(n){var e=hr(),t=e.queue;if(t===null)throw Error(V(311));t.lastRenderedReducer=n;var r=Ct,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var h=c.lane;if((ba&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:n(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,ot.lanes|=h,Sa|=h}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Nr(r,e.memoizedState)||(An=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,ot.lanes|=s,Sa|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function im(n){var e=hr(),t=e.queue;if(t===null)throw Error(V(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);Nr(s,e.memoizedState)||(An=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function LA(){}function MA(n,e){var t=ot,r=hr(),i=e(),s=!Nr(r.memoizedState,i);if(s&&(r.memoizedState=i,An=!0),r=r.queue,d0(NA.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||Mt!==null&&Mt.memoizedState.tag&1){if(t.flags|=2048,Bu(9,IA.bind(null,t,r,i,e),void 0,null),Dt===null)throw Error(V(349));ba&30||DA(t,e,i)}return i}function DA(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=ot.updateQueue,e===null?(e={lastEffect:null,stores:null},ot.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function IA(n,e,t,r){e.value=t,e.getSnapshot=r,FA(e)&&OA(n)}function NA(n,e,t){return t(function(){FA(e)&&OA(n)})}function FA(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Nr(n,t)}catch{return!0}}function OA(n){var e=ts(n,1);e!==null&&Ir(e,n,1,-1)}function $w(n){var e=Br();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hu,lastRenderedState:n},e.queue=n,n=n.dispatch=ak.bind(null,ot,n),[e.memoizedState,n]}function Bu(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=ot.updateQueue,e===null?(e={lastEffect:null,stores:null},ot.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function jA(){return hr().memoizedState}function Ef(n,e,t,r){var i=Br();ot.flags|=n,i.memoizedState=Bu(1|e,t,void 0,r===void 0?null:r)}function og(n,e,t,r){var i=hr();r=r===void 0?null:r;var s=void 0;if(Ct!==null){var o=Ct.memoizedState;if(s=o.destroy,r!==null&&c0(r,o.deps)){i.memoizedState=Bu(e,t,s,r);return}}ot.flags|=n,i.memoizedState=Bu(1|e,t,s,r)}function Vw(n,e){return Ef(8390656,8,n,e)}function d0(n,e){return og(2048,8,n,e)}function zA(n,e){return og(4,2,n,e)}function HA(n,e){return og(4,4,n,e)}function BA(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function UA(n,e,t){return t=t!=null?t.concat([n]):null,og(4,4,BA.bind(null,e,n),t)}function f0(){}function $A(n,e){var t=hr();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&c0(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function VA(n,e){var t=hr();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&c0(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function WA(n,e,t){return ba&21?(Nr(t,e)||(t=qE(),ot.lanes|=t,Sa|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,An=!0),n.memoizedState=t)}function sk(n,e){var t=Oe;Oe=t!==0&&4>t?t:4,n(!0);var r=nm.transition;nm.transition={};try{n(!1),e()}finally{Oe=t,nm.transition=r}}function GA(){return hr().memoizedState}function ok(n,e,t){var r=Xs(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},XA(n))KA(e,t);else if(t=TA(n,e,t,r),t!==null){var i=hn();Ir(t,n,r,i),YA(t,e,r)}}function ak(n,e,t){var r=Xs(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(XA(n))KA(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(i.hasEagerState=!0,i.eagerState=a,Nr(a,o)){var l=e.interleaved;l===null?(i.next=i,i0(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=TA(n,e,i,r),t!==null&&(i=hn(),Ir(t,n,r,i),YA(t,e,r))}}function XA(n){var e=n.alternate;return n===ot||e!==null&&e===ot}function KA(n,e){wu=mp=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function YA(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,Vy(n,t)}}var vp={readContext:ur,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useInsertionEffect:Xt,useLayoutEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useMutableSource:Xt,useSyncExternalStore:Xt,useId:Xt,unstable_isNewReconciler:!1},lk={readContext:ur,useCallback:function(n,e){return Br().memoizedState=[n,e===void 0?null:e],n},useContext:ur,useEffect:Vw,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,Ef(4194308,4,BA.bind(null,e,n),t)},useLayoutEffect:function(n,e){return Ef(4194308,4,n,e)},useInsertionEffect:function(n,e){return Ef(4,2,n,e)},useMemo:function(n,e){var t=Br();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=Br();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=ok.bind(null,ot,n),[r.memoizedState,n]},useRef:function(n){var e=Br();return n={current:n},e.memoizedState=n},useState:$w,useDebugValue:f0,useDeferredValue:function(n){return Br().memoizedState=n},useTransition:function(){var n=$w(!1),e=n[0];return n=sk.bind(null,n[1]),Br().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=ot,i=Br();if(tt){if(t===void 0)throw Error(V(407));t=t()}else{if(t=e(),Dt===null)throw Error(V(349));ba&30||DA(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,Vw(NA.bind(null,r,s,n),[n]),r.flags|=2048,Bu(9,IA.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=Br(),e=Dt.identifierPrefix;if(tt){var t=Gi,r=Wi;t=(r&~(1<<32-Dr(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=zu++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=ik++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},ck={readContext:ur,useCallback:$A,useContext:ur,useEffect:d0,useImperativeHandle:UA,useInsertionEffect:zA,useLayoutEffect:HA,useMemo:VA,useReducer:rm,useRef:jA,useState:function(){return rm(Hu)},useDebugValue:f0,useDeferredValue:function(n){var e=hr();return WA(e,Ct.memoizedState,n)},useTransition:function(){var n=rm(Hu)[0],e=hr().memoizedState;return[n,e]},useMutableSource:LA,useSyncExternalStore:MA,useId:GA,unstable_isNewReconciler:!1},uk={readContext:ur,useCallback:$A,useContext:ur,useEffect:d0,useImperativeHandle:UA,useInsertionEffect:zA,useLayoutEffect:HA,useMemo:VA,useReducer:im,useRef:jA,useState:function(){return im(Hu)},useDebugValue:f0,useDeferredValue:function(n){var e=hr();return Ct===null?e.memoizedState=n:WA(e,Ct.memoizedState,n)},useTransition:function(){var n=im(Hu)[0],e=hr().memoizedState;return[n,e]},useMutableSource:LA,useSyncExternalStore:MA,useId:GA,unstable_isNewReconciler:!1};function gr(n,e){if(n&&n.defaultProps){e=at({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function Ym(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:at({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var ag={isMounted:function(n){return(n=n._reactInternals)?Ia(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=hn(),i=Xs(n),s=Xi(r,i);s.payload=e,t!=null&&(s.callback=t),e=Ws(n,s,i),e!==null&&(Ir(e,n,i,r),wf(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=hn(),i=Xs(n),s=Xi(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=Ws(n,s,i),e!==null&&(Ir(e,n,i,r),wf(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=hn(),r=Xs(n),i=Xi(t,r);i.tag=2,e!=null&&(i.callback=e),e=Ws(n,i,r),e!==null&&(Ir(e,n,r,t),wf(e,n,r))}};function Ww(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Du(t,r)||!Du(i,s):!0}function qA(n,e,t){var r=!1,i=qs,s=e.contextType;return typeof s=="object"&&s!==null?s=ur(s):(i=Cn(e)?Ea:nn.current,r=e.contextTypes,s=(r=r!=null)?yc(n,i):qs),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ag,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function Gw(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&ag.enqueueReplaceState(e,e.state,null)}function qm(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs={},s0(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=ur(s):(s=Cn(e)?Ea:nn.current,i.context=yc(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Ym(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ag.enqueueReplaceState(i,i.state,null),pp(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function Ac(n,e){try{var t="",r=e;do t+=jx(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function sm(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function Qm(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var hk=typeof WeakMap=="function"?WeakMap:Map;function QA(n,e,t){t=Xi(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){wp||(wp=!0,av=r),Qm(n,e)},t}function JA(n,e,t){t=Xi(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){Qm(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){Qm(n,e),typeof r!="function"&&(Gs===null?Gs=new Set([this]):Gs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function Xw(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new hk;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=xk.bind(null,n,e,t),e.then(n,n))}function Kw(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function Yw(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Xi(-1,1),e.tag=2,Ws(t,e,1))),t.lanes|=1),n)}var dk=ss.ReactCurrentOwner,An=!1;function cn(n,e,t,r){e.child=n===null?kA(e,null,t,r):_c(e,n.child,t,r)}function qw(n,e,t,r,i){t=t.render;var s=e.ref;return ml(e,i),r=u0(n,e,t,r,s,i),t=h0(),n!==null&&!An?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,ns(n,e,i)):(tt&&t&&Jy(e),e.flags|=1,cn(n,e,r,i),e.child)}function Qw(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!E0(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,ZA(n,e,s,r,i)):(n=xf(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&i)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:Du,t(o,r)&&n.ref===e.ref)return ns(n,e,i)}return e.flags|=1,n=Ks(s,r),n.ref=e.ref,n.return=e,e.child=n}function ZA(n,e,t,r,i){if(n!==null){var s=n.memoizedProps;if(Du(s,r)&&n.ref===e.ref)if(An=!1,e.pendingProps=r=s,(n.lanes&i)!==0)n.flags&131072&&(An=!0);else return e.lanes=n.lanes,ns(n,e,i)}return Jm(n,e,t,r,i)}function eb(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(cl,Bn),Bn|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Qe(cl,Bn),Bn|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,Qe(cl,Bn),Bn|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,Qe(cl,Bn),Bn|=r;return cn(n,e,i,t),e.child}function tb(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function Jm(n,e,t,r,i){var s=Cn(t)?Ea:nn.current;return s=yc(e,s),ml(e,i),t=u0(n,e,t,r,s,i),r=h0(),n!==null&&!An?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,ns(n,e,i)):(tt&&r&&Jy(e),e.flags|=1,cn(n,e,t,i),e.child)}function Jw(n,e,t,r,i){if(Cn(t)){var s=!0;cp(e)}else s=!1;if(ml(e,i),e.stateNode===null)Af(n,e),qA(e,t,r),qm(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=ur(c):(c=Cn(t)?Ea:nn.current,c=yc(e,c));var h=t.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Gw(e,o,r,c),ps=!1;var f=e.memoizedState;o.state=f,pp(e,r,o,i),l=e.memoizedState,a!==r||f!==l||xn.current||ps?(typeof h=="function"&&(Ym(e,t,h,r),l=e.memoizedState),(a=ps||Ww(e,t,a,r,f,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,PA(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:gr(e.type,a),o.props=c,d=e.pendingProps,f=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=ur(l):(l=Cn(t)?Ea:nn.current,l=yc(e,l));var p=t.getDerivedStateFromProps;(h=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&Gw(e,o,r,l),ps=!1,f=e.memoizedState,o.state=f,pp(e,r,o,i);var g=e.memoizedState;a!==d||f!==g||xn.current||ps?(typeof p=="function"&&(Ym(e,t,p,r),g=e.memoizedState),(c=ps||Ww(e,t,c,r,f,g,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),r=!1)}return Zm(n,e,t,r,s,i)}function Zm(n,e,t,r,i,s){tb(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Ow(e,t,!1),ns(n,e,s);r=e.stateNode,dk.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=_c(e,n.child,null,s),e.child=_c(e,null,a,s)):cn(n,e,a,s),e.memoizedState=r.state,i&&Ow(e,t,!0),e.child}function nb(n){var e=n.stateNode;e.pendingContext?Fw(n,e.pendingContext,e.pendingContext!==e.context):e.context&&Fw(n,e.context,!1),o0(n,e.containerInfo)}function Zw(n,e,t,r,i){return wc(),e0(i),e.flags|=256,cn(n,e,t,r),e.child}var ev={dehydrated:null,treeContext:null,retryLane:0};function tv(n){return{baseLanes:n,cachePool:null,transitions:null}}function rb(n,e,t){var r=e.pendingProps,i=st.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),Qe(st,i&1),n===null)return Xm(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,n=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=ug(o,r,0,null),n=_a(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=tv(t),e.memoizedState=ev,n):p0(e,o));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return fk(n,e,o,r,a,i,t);if(s){s=r.fallback,o=e.mode,i=n.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ks(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ks(a,s):(s=_a(s,o,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=n.child.memoizedState,o=o===null?tv(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=ev,r}return s=n.child,n=s.sibling,r=Ks(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function p0(n,e){return e=ug({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function nf(n,e,t,r){return r!==null&&e0(r),_c(e,n.child,null,t),n=p0(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function fk(n,e,t,r,i,s,o){if(t)return e.flags&256?(e.flags&=-257,r=sm(Error(V(422))),nf(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=ug({mode:"visible",children:r.children},i,0,null),s=_a(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&_c(e,n.child,null,o),e.child.memoizedState=tv(o),e.memoizedState=ev,s);if(!(e.mode&1))return nf(n,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(V(419)),r=sm(s,r,void 0),nf(n,e,o,r)}if(a=(o&n.childLanes)!==0,An||a){if(r=Dt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ts(n,i),Ir(r,n,i,-1))}return _0(),r=sm(Error(V(421))),nf(n,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=Ck.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,Vn=Vs(i.nextSibling),Wn=e,tt=!0,Mr=null,n!==null&&(ir[sr++]=Wi,ir[sr++]=Gi,ir[sr++]=Aa,Wi=n.id,Gi=n.overflow,Aa=e),e=p0(e,r.children),e.flags|=4096,e)}function e_(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),Km(n.return,e,t)}function om(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function ib(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(cn(n,e,r.children,t),r=st.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&e_(n,t,e);else if(n.tag===19)e_(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(Qe(st,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&gp(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),om(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&gp(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}om(e,!0,t,null,s);break;case"together":om(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Af(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function ns(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Sa|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(V(153));if(e.child!==null){for(n=e.child,t=Ks(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Ks(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function pk(n,e,t){switch(e.tag){case 3:nb(e),wc();break;case 5:RA(e);break;case 1:Cn(e.type)&&cp(e);break;case 4:o0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Qe(dp,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Qe(st,st.current&1),e.flags|=128,null):t&e.child.childLanes?rb(n,e,t):(Qe(st,st.current&1),n=ns(n,e,t),n!==null?n.sibling:null);Qe(st,st.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return ib(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Qe(st,st.current),r)break;return null;case 22:case 23:return e.lanes=0,eb(n,e,t)}return ns(n,e,t)}var sb,nv,ob,ab;sb=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};nv=function(){};ob=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,Eo(oi.current);var s=null;switch(t){case"input":i=Sm(n,i),r=Sm(n,r),s=[];break;case"select":i=at({},i,{value:void 0}),r=at({},r,{value:void 0}),s=[];break;case"textarea":i=km(n,i),r=km(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=ap)}Pm(t,r);var o;t=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Cu.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Cu.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Je("scroll",n),s||a===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};ab=function(n,e,t,r){t!==r&&(e.flags|=4)};function Hc(n,e){if(!tt)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function Kt(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function gk(n,e,t){var r=e.pendingProps;switch(Zy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(e),null;case 1:return Cn(e.type)&&lp(),Kt(e),null;case 3:return r=e.stateNode,Ec(),Ze(xn),Ze(nn),l0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(ef(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Mr!==null&&(uv(Mr),Mr=null))),nv(n,e),Kt(e),null;case 5:a0(e);var i=Eo(ju.current);if(t=e.type,n!==null&&e.stateNode!=null)ob(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(V(166));return Kt(e),null}if(n=Eo(oi.current),ef(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[ii]=e,r[Fu]=s,n=(e.mode&1)!==0,t){case"dialog":Je("cancel",r),Je("close",r);break;case"iframe":case"object":case"embed":Je("load",r);break;case"video":case"audio":for(i=0;i<Qc.length;i++)Je(Qc[i],r);break;case"source":Je("error",r);break;case"img":case"image":case"link":Je("error",r),Je("load",r);break;case"details":Je("toggle",r);break;case"input":cw(r,s),Je("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Je("invalid",r);break;case"textarea":hw(r,s),Je("invalid",r)}Pm(t,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Zd(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Zd(r.textContent,a,n),i=["children",""+a]):Cu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Je("scroll",r)}switch(t){case"input":Wd(r),uw(r,s,!0);break;case"textarea":Wd(r),dw(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ap)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=NE(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[ii]=e,n[Fu]=r,sb(n,e,!1,!1),e.stateNode=n;e:{switch(o=Rm(t,r),t){case"dialog":Je("cancel",n),Je("close",n),i=r;break;case"iframe":case"object":case"embed":Je("load",n),i=r;break;case"video":case"audio":for(i=0;i<Qc.length;i++)Je(Qc[i],n);i=r;break;case"source":Je("error",n),i=r;break;case"img":case"image":case"link":Je("error",n),Je("load",n),i=r;break;case"details":Je("toggle",n),i=r;break;case"input":cw(n,r),i=Sm(n,r),Je("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=at({},r,{value:void 0}),Je("invalid",n);break;case"textarea":hw(n,r),i=km(n,r),Je("invalid",n);break;default:i=r}Pm(t,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?jE(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&FE(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&ku(n,l):typeof l=="number"&&ku(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Cu.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Je("scroll",n):l!=null&&jy(n,s,l,o))}switch(t){case"input":Wd(n),uw(n,r,!1);break;case"textarea":Wd(n),dw(n);break;case"option":r.value!=null&&n.setAttribute("value",""+Ys(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?dl(n,!!r.multiple,s,!1):r.defaultValue!=null&&dl(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=ap)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Kt(e),null;case 6:if(n&&e.stateNode!=null)ab(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(V(166));if(t=Eo(ju.current),Eo(oi.current),ef(e)){if(r=e.stateNode,t=e.memoizedProps,r[ii]=e,(s=r.nodeValue!==t)&&(n=Wn,n!==null))switch(n.tag){case 3:Zd(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Zd(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[ii]=e,e.stateNode=r}return Kt(e),null;case 13:if(Ze(st),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(tt&&Vn!==null&&e.mode&1&&!(e.flags&128))xA(),wc(),e.flags|=98560,s=!1;else if(s=ef(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(V(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(V(317));s[ii]=e}else wc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Kt(e),s=!1}else Mr!==null&&(uv(Mr),Mr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||st.current&1?Tt===0&&(Tt=3):_0())),e.updateQueue!==null&&(e.flags|=4),Kt(e),null);case 4:return Ec(),nv(n,e),n===null&&Iu(e.stateNode.containerInfo),Kt(e),null;case 10:return r0(e.type._context),Kt(e),null;case 17:return Cn(e.type)&&lp(),Kt(e),null;case 19:if(Ze(st),s=e.memoizedState,s===null)return Kt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Hc(s,!1);else{if(Tt!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=gp(n),o!==null){for(e.flags|=128,Hc(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Qe(st,st.current&1|2),e.child}n=n.sibling}s.tail!==null&&dt()>bc&&(e.flags|=128,r=!0,Hc(s,!1),e.lanes=4194304)}else{if(!r)if(n=gp(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Hc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!tt)return Kt(e),null}else 2*dt()-s.renderingStartTime>bc&&t!==1073741824&&(e.flags|=128,r=!0,Hc(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=dt(),e.sibling=null,t=st.current,Qe(st,r?t&1|2:t&1),e):(Kt(e),null);case 22:case 23:return w0(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Bn&1073741824&&(Kt(e),e.subtreeFlags&6&&(e.flags|=8192)):Kt(e),null;case 24:return null;case 25:return null}throw Error(V(156,e.tag))}function mk(n,e){switch(Zy(e),e.tag){case 1:return Cn(e.type)&&lp(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Ec(),Ze(xn),Ze(nn),l0(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return a0(e),null;case 13:if(Ze(st),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(V(340));wc()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Ze(st),null;case 4:return Ec(),null;case 10:return r0(e.type._context),null;case 22:case 23:return w0(),null;case 24:return null;default:return null}}var rf=!1,Zt=!1,vk=typeof WeakSet=="function"?WeakSet:Set,ne=null;function ll(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){ut(n,e,r)}else t.current=null}function rv(n,e,t){try{t()}catch(r){ut(n,e,r)}}var t_=!1;function yk(n,e){if(Hm=ip,n=dA(),Qy(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,c=0,h=0,d=n,f=null;t:for(;;){for(var p;d!==t||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===n)break t;if(f===t&&++c===i&&(a=o),f===s&&++h===r&&(l=o),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(Bm={focusedElem:n,selectionRange:t},ip=!1,ne=e;ne!==null;)if(e=ne,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,ne=n;else for(;ne!==null;){e=ne;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,_=g.memoizedState,m=e.stateNode,y=m.getSnapshotBeforeUpdate(e.elementType===e.type?v:gr(e.type,v),_);m.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(V(163))}}catch(S){ut(e,e.return,S)}if(n=e.sibling,n!==null){n.return=e.return,ne=n;break}ne=e.return}return g=t_,t_=!1,g}function _u(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&rv(e,t,s)}i=i.next}while(i!==r)}}function lg(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function iv(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function lb(n){var e=n.alternate;e!==null&&(n.alternate=null,lb(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[ii],delete e[Fu],delete e[Vm],delete e[ek],delete e[tk])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function cb(n){return n.tag===5||n.tag===3||n.tag===4}function n_(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||cb(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function sv(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=ap));else if(r!==4&&(n=n.child,n!==null))for(sv(n,e,t),n=n.sibling;n!==null;)sv(n,e,t),n=n.sibling}function ov(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(ov(n,e,t),n=n.sibling;n!==null;)ov(n,e,t),n=n.sibling}var Ut=null,Rr=!1;function ls(n,e,t){for(t=t.child;t!==null;)ub(n,e,t),t=t.sibling}function ub(n,e,t){if(si&&typeof si.onCommitFiberUnmount=="function")try{si.onCommitFiberUnmount(eg,t)}catch{}switch(t.tag){case 5:Zt||ll(t,e);case 6:var r=Ut,i=Rr;Ut=null,ls(n,e,t),Ut=r,Rr=i,Ut!==null&&(Rr?(n=Ut,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Ut.removeChild(t.stateNode));break;case 18:Ut!==null&&(Rr?(n=Ut,t=t.stateNode,n.nodeType===8?Zg(n.parentNode,t):n.nodeType===1&&Zg(n,t),Lu(n)):Zg(Ut,t.stateNode));break;case 4:r=Ut,i=Rr,Ut=t.stateNode.containerInfo,Rr=!0,ls(n,e,t),Ut=r,Rr=i;break;case 0:case 11:case 14:case 15:if(!Zt&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&rv(t,e,o),i=i.next}while(i!==r)}ls(n,e,t);break;case 1:if(!Zt&&(ll(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){ut(t,e,a)}ls(n,e,t);break;case 21:ls(n,e,t);break;case 22:t.mode&1?(Zt=(r=Zt)||t.memoizedState!==null,ls(n,e,t),Zt=r):ls(n,e,t);break;default:ls(n,e,t)}}function r_(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new vk),e.forEach(function(r){var i=kk.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function fr(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ut=a.stateNode,Rr=!1;break e;case 3:Ut=a.stateNode.containerInfo,Rr=!0;break e;case 4:Ut=a.stateNode.containerInfo,Rr=!0;break e}a=a.return}if(Ut===null)throw Error(V(160));ub(s,o,i),Ut=null,Rr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){ut(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)hb(e,n),e=e.sibling}function hb(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(fr(e,n),zr(n),r&4){try{_u(3,n,n.return),lg(3,n)}catch(v){ut(n,n.return,v)}try{_u(5,n,n.return)}catch(v){ut(n,n.return,v)}}break;case 1:fr(e,n),zr(n),r&512&&t!==null&&ll(t,t.return);break;case 5:if(fr(e,n),zr(n),r&512&&t!==null&&ll(t,t.return),n.flags&32){var i=n.stateNode;try{ku(i,"")}catch(v){ut(n,n.return,v)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&DE(i,s),Rm(a,o);var c=Rm(a,s);for(o=0;o<l.length;o+=2){var h=l[o],d=l[o+1];h==="style"?jE(i,d):h==="dangerouslySetInnerHTML"?FE(i,d):h==="children"?ku(i,d):jy(i,h,d,c)}switch(a){case"input":xm(i,s);break;case"textarea":IE(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?dl(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?dl(i,!!s.multiple,s.defaultValue,!0):dl(i,!!s.multiple,s.multiple?[]:"",!1))}i[Fu]=s}catch(v){ut(n,n.return,v)}}break;case 6:if(fr(e,n),zr(n),r&4){if(n.stateNode===null)throw Error(V(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(v){ut(n,n.return,v)}}break;case 3:if(fr(e,n),zr(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{Lu(e.containerInfo)}catch(v){ut(n,n.return,v)}break;case 4:fr(e,n),zr(n);break;case 13:fr(e,n),zr(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(v0=dt())),r&4&&r_(n);break;case 22:if(h=t!==null&&t.memoizedState!==null,n.mode&1?(Zt=(c=Zt)||h,fr(e,n),Zt=c):fr(e,n),zr(n),r&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!h&&n.mode&1)for(ne=n,h=n.child;h!==null;){for(d=ne=h;ne!==null;){switch(f=ne,p=f.child,f.tag){case 0:case 11:case 14:case 15:_u(4,f,f.return);break;case 1:ll(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,t=f.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){ut(r,t,v)}}break;case 5:ll(f,f.return);break;case 22:if(f.memoizedState!==null){s_(d);continue}}p!==null?(p.return=f,ne=p):s_(d)}h=h.sibling}e:for(h=null,d=n;;){if(d.tag===5){if(h===null){h=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=OE("display",o))}catch(v){ut(n,n.return,v)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(v){ut(n,n.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===n)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:fr(e,n),zr(n),r&4&&r_(n);break;case 21:break;default:fr(e,n),zr(n)}}function zr(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(cb(t)){var r=t;break e}t=t.return}throw Error(V(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ku(i,""),r.flags&=-33);var s=n_(n);ov(n,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=n_(n);sv(n,a,o);break;default:throw Error(V(161))}}catch(l){ut(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function wk(n,e,t){ne=n,db(n)}function db(n,e,t){for(var r=(n.mode&1)!==0;ne!==null;){var i=ne,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||rf;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Zt;a=rf;var c=Zt;if(rf=o,(Zt=l)&&!c)for(ne=i;ne!==null;)o=ne,l=o.child,o.tag===22&&o.memoizedState!==null?o_(i):l!==null?(l.return=o,ne=l):o_(i);for(;s!==null;)ne=s,db(s),s=s.sibling;ne=i,rf=a,Zt=c}i_(n)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ne=s):i_(n)}}function i_(n){for(;ne!==null;){var e=ne;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Zt||lg(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Zt)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:gr(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Uw(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}Uw(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&Lu(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(V(163))}Zt||e.flags&512&&iv(e)}catch(f){ut(e,e.return,f)}}if(e===n){ne=null;break}if(t=e.sibling,t!==null){t.return=e.return,ne=t;break}ne=e.return}}function s_(n){for(;ne!==null;){var e=ne;if(e===n){ne=null;break}var t=e.sibling;if(t!==null){t.return=e.return,ne=t;break}ne=e.return}}function o_(n){for(;ne!==null;){var e=ne;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{lg(4,e)}catch(l){ut(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){ut(e,i,l)}}var s=e.return;try{iv(e)}catch(l){ut(e,s,l)}break;case 5:var o=e.return;try{iv(e)}catch(l){ut(e,o,l)}}}catch(l){ut(e,e.return,l)}if(e===n){ne=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ne=a;break}ne=e.return}}var _k=Math.ceil,yp=ss.ReactCurrentDispatcher,g0=ss.ReactCurrentOwner,cr=ss.ReactCurrentBatchConfig,Pe=0,Dt=null,yt=null,$t=0,Bn=0,cl=to(0),Tt=0,Uu=null,Sa=0,cg=0,m0=0,Eu=null,En=null,v0=0,bc=1/0,gi=null,wp=!1,av=null,Gs=null,sf=!1,Hs=null,_p=0,Au=0,lv=null,bf=-1,Sf=0;function hn(){return Pe&6?dt():bf!==-1?bf:bf=dt()}function Xs(n){return n.mode&1?Pe&2&&$t!==0?$t&-$t:rk.transition!==null?(Sf===0&&(Sf=qE()),Sf):(n=Oe,n!==0||(n=window.event,n=n===void 0?16:rA(n.type)),n):1}function Ir(n,e,t,r){if(50<Au)throw Au=0,lv=null,Error(V(185));Cd(n,t,r),(!(Pe&2)||n!==Dt)&&(n===Dt&&(!(Pe&2)&&(cg|=t),Tt===4&&ms(n,$t)),kn(n,r),t===1&&Pe===0&&!(e.mode&1)&&(bc=dt()+500,sg&&no()))}function kn(n,e){var t=n.callbackNode;rC(n,e);var r=rp(n,n===Dt?$t:0);if(r===0)t!==null&&gw(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&gw(t),e===1)n.tag===0?nk(a_.bind(null,n)):AA(a_.bind(null,n)),JC(function(){!(Pe&6)&&no()}),t=null;else{switch(QE(r)){case 1:t=$y;break;case 4:t=KE;break;case 16:t=np;break;case 536870912:t=YE;break;default:t=np}t=_b(t,fb.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function fb(n,e){if(bf=-1,Sf=0,Pe&6)throw Error(V(327));var t=n.callbackNode;if(vl()&&n.callbackNode!==t)return null;var r=rp(n,n===Dt?$t:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=Ep(n,r);else{e=r;var i=Pe;Pe|=2;var s=gb();(Dt!==n||$t!==e)&&(gi=null,bc=dt()+500,wa(n,e));do try{bk();break}catch(a){pb(n,a)}while(!0);n0(),yp.current=s,Pe=i,yt!==null?e=0:(Dt=null,$t=0,e=Tt)}if(e!==0){if(e===2&&(i=Nm(n),i!==0&&(r=i,e=cv(n,i))),e===1)throw t=Uu,wa(n,0),ms(n,r),kn(n,dt()),t;if(e===6)ms(n,r);else{if(i=n.current.alternate,!(r&30)&&!Ek(i)&&(e=Ep(n,r),e===2&&(s=Nm(n),s!==0&&(r=s,e=cv(n,s))),e===1))throw t=Uu,wa(n,0),ms(n,r),kn(n,dt()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(V(345));case 2:ho(n,En,gi);break;case 3:if(ms(n,r),(r&130023424)===r&&(e=v0+500-dt(),10<e)){if(rp(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){hn(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=$m(ho.bind(null,n,En,gi),e);break}ho(n,En,gi);break;case 4:if(ms(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var o=31-Dr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=dt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_k(r/1960))-r,10<r){n.timeoutHandle=$m(ho.bind(null,n,En,gi),r);break}ho(n,En,gi);break;case 5:ho(n,En,gi);break;default:throw Error(V(329))}}}return kn(n,dt()),n.callbackNode===t?fb.bind(null,n):null}function cv(n,e){var t=Eu;return n.current.memoizedState.isDehydrated&&(wa(n,e).flags|=256),n=Ep(n,e),n!==2&&(e=En,En=t,e!==null&&uv(e)),n}function uv(n){En===null?En=n:En.push.apply(En,n)}function Ek(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!Nr(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ms(n,e){for(e&=~m0,e&=~cg,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Dr(e),r=1<<t;n[t]=-1,e&=~r}}function a_(n){if(Pe&6)throw Error(V(327));vl();var e=rp(n,0);if(!(e&1))return kn(n,dt()),null;var t=Ep(n,e);if(n.tag!==0&&t===2){var r=Nm(n);r!==0&&(e=r,t=cv(n,r))}if(t===1)throw t=Uu,wa(n,0),ms(n,e),kn(n,dt()),t;if(t===6)throw Error(V(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,ho(n,En,gi),kn(n,dt()),null}function y0(n,e){var t=Pe;Pe|=1;try{return n(e)}finally{Pe=t,Pe===0&&(bc=dt()+500,sg&&no())}}function xa(n){Hs!==null&&Hs.tag===0&&!(Pe&6)&&vl();var e=Pe;Pe|=1;var t=cr.transition,r=Oe;try{if(cr.transition=null,Oe=1,n)return n()}finally{Oe=r,cr.transition=t,Pe=e,!(Pe&6)&&no()}}function w0(){Bn=cl.current,Ze(cl)}function wa(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,QC(t)),yt!==null)for(t=yt.return;t!==null;){var r=t;switch(Zy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&lp();break;case 3:Ec(),Ze(xn),Ze(nn),l0();break;case 5:a0(r);break;case 4:Ec();break;case 13:Ze(st);break;case 19:Ze(st);break;case 10:r0(r.type._context);break;case 22:case 23:w0()}t=t.return}if(Dt=n,yt=n=Ks(n.current,null),$t=Bn=e,Tt=0,Uu=null,m0=cg=Sa=0,En=Eu=null,_o!==null){for(e=0;e<_o.length;e++)if(t=_o[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}t.pending=r}_o=null}return n}function pb(n,e){do{var t=yt;try{if(n0(),_f.current=vp,mp){for(var r=ot.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}mp=!1}if(ba=0,Mt=Ct=ot=null,wu=!1,zu=0,g0.current=null,t===null||t.return===null){Tt=1,Uu=e,yt=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=$t,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=Kw(o);if(p!==null){p.flags&=-257,Yw(p,o,a,s,e),p.mode&1&&Xw(s,c,e),e=p,l=c;var g=e.updateQueue;if(g===null){var v=new Set;v.add(l),e.updateQueue=v}else g.add(l);break e}else{if(!(e&1)){Xw(s,c,e),_0();break e}l=Error(V(426))}}else if(tt&&a.mode&1){var _=Kw(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Yw(_,o,a,s,e),e0(Ac(l,a));break e}}s=l=Ac(l,a),Tt!==4&&(Tt=2),Eu===null?Eu=[s]:Eu.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=QA(s,l,e);Bw(s,m);break e;case 1:a=l;var y=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Gs===null||!Gs.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=JA(s,a,e);Bw(s,S);break e}}s=s.return}while(s!==null)}vb(t)}catch(C){e=C,yt===t&&t!==null&&(yt=t=t.return);continue}break}while(!0)}function gb(){var n=yp.current;return yp.current=vp,n===null?vp:n}function _0(){(Tt===0||Tt===3||Tt===2)&&(Tt=4),Dt===null||!(Sa&268435455)&&!(cg&268435455)||ms(Dt,$t)}function Ep(n,e){var t=Pe;Pe|=2;var r=gb();(Dt!==n||$t!==e)&&(gi=null,wa(n,e));do try{Ak();break}catch(i){pb(n,i)}while(!0);if(n0(),Pe=t,yp.current=r,yt!==null)throw Error(V(261));return Dt=null,$t=0,Tt}function Ak(){for(;yt!==null;)mb(yt)}function bk(){for(;yt!==null&&!Kx();)mb(yt)}function mb(n){var e=wb(n.alternate,n,Bn);n.memoizedProps=n.pendingProps,e===null?vb(n):yt=e,g0.current=null}function vb(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=mk(t,e),t!==null){t.flags&=32767,yt=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Tt=6,yt=null;return}}else if(t=gk(t,e,Bn),t!==null){yt=t;return}if(e=e.sibling,e!==null){yt=e;return}yt=e=n}while(e!==null);Tt===0&&(Tt=5)}function ho(n,e,t){var r=Oe,i=cr.transition;try{cr.transition=null,Oe=1,Sk(n,e,t,r)}finally{cr.transition=i,Oe=r}return null}function Sk(n,e,t,r){do vl();while(Hs!==null);if(Pe&6)throw Error(V(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(V(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(iC(n,s),n===Dt&&(yt=Dt=null,$t=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||sf||(sf=!0,_b(np,function(){return vl(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=cr.transition,cr.transition=null;var o=Oe;Oe=1;var a=Pe;Pe|=4,g0.current=null,yk(n,t),hb(t,n),VC(Bm),ip=!!Hm,Bm=Hm=null,n.current=t,wk(t),Yx(),Pe=a,Oe=o,cr.transition=s}else n.current=t;if(sf&&(sf=!1,Hs=n,_p=i),s=n.pendingLanes,s===0&&(Gs=null),Jx(t.stateNode),kn(n,dt()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(wp)throw wp=!1,n=av,av=null,n;return _p&1&&n.tag!==0&&vl(),s=n.pendingLanes,s&1?n===lv?Au++:(Au=0,lv=n):Au=0,no(),null}function vl(){if(Hs!==null){var n=QE(_p),e=cr.transition,t=Oe;try{if(cr.transition=null,Oe=16>n?16:n,Hs===null)var r=!1;else{if(n=Hs,Hs=null,_p=0,Pe&6)throw Error(V(331));var i=Pe;for(Pe|=4,ne=n.current;ne!==null;){var s=ne,o=s.child;if(ne.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ne=c;ne!==null;){var h=ne;switch(h.tag){case 0:case 11:case 15:_u(8,h,s)}var d=h.child;if(d!==null)d.return=h,ne=d;else for(;ne!==null;){h=ne;var f=h.sibling,p=h.return;if(lb(h),h===c){ne=null;break}if(f!==null){f.return=p,ne=f;break}ne=p}}}var g=s.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var _=v.sibling;v.sibling=null,v=_}while(v!==null)}}ne=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ne=o;else e:for(;ne!==null;){if(s=ne,s.flags&2048)switch(s.tag){case 0:case 11:case 15:_u(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,ne=m;break e}ne=s.return}}var y=n.current;for(ne=y;ne!==null;){o=ne;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,ne=w;else e:for(o=y;ne!==null;){if(a=ne,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:lg(9,a)}}catch(C){ut(a,a.return,C)}if(a===o){ne=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,ne=S;break e}ne=a.return}}if(Pe=i,no(),si&&typeof si.onPostCommitFiberRoot=="function")try{si.onPostCommitFiberRoot(eg,n)}catch{}r=!0}return r}finally{Oe=t,cr.transition=e}}return!1}function l_(n,e,t){e=Ac(t,e),e=QA(n,e,1),n=Ws(n,e,1),e=hn(),n!==null&&(Cd(n,1,e),kn(n,e))}function ut(n,e,t){if(n.tag===3)l_(n,n,t);else for(;e!==null;){if(e.tag===3){l_(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Gs===null||!Gs.has(r))){n=Ac(t,n),n=JA(e,n,1),e=Ws(e,n,1),n=hn(),e!==null&&(Cd(e,1,n),kn(e,n));break}}e=e.return}}function xk(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=hn(),n.pingedLanes|=n.suspendedLanes&t,Dt===n&&($t&t)===t&&(Tt===4||Tt===3&&($t&130023424)===$t&&500>dt()-v0?wa(n,0):m0|=t),kn(n,e)}function yb(n,e){e===0&&(n.mode&1?(e=Kd,Kd<<=1,!(Kd&130023424)&&(Kd=4194304)):e=1);var t=hn();n=ts(n,e),n!==null&&(Cd(n,e,t),kn(n,t))}function Ck(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),yb(n,t)}function kk(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(V(314))}r!==null&&r.delete(e),yb(n,t)}var wb;wb=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||xn.current)An=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return An=!1,pk(n,e,t);An=!!(n.flags&131072)}else An=!1,tt&&e.flags&1048576&&bA(e,hp,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Af(n,e),n=e.pendingProps;var i=yc(e,nn.current);ml(e,t),i=u0(null,e,r,n,i,t);var s=h0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Cn(r)?(s=!0,cp(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,s0(e),i.updater=ag,e.stateNode=i,i._reactInternals=e,qm(e,r,n,t),e=Zm(null,e,r,!0,s,t)):(e.tag=0,tt&&s&&Jy(e),cn(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(Af(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Pk(r),n=gr(r,n),i){case 0:e=Jm(null,e,r,n,t);break e;case 1:e=Jw(null,e,r,n,t);break e;case 11:e=qw(null,e,r,n,t);break e;case 14:e=Qw(null,e,r,gr(r.type,n),t);break e}throw Error(V(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:gr(r,i),Jm(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:gr(r,i),Jw(n,e,r,i,t);case 3:e:{if(nb(e),n===null)throw Error(V(387));r=e.pendingProps,s=e.memoizedState,i=s.element,PA(n,e),pp(e,r,null,t);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ac(Error(V(423)),e),e=Zw(n,e,r,t,i);break e}else if(r!==i){i=Ac(Error(V(424)),e),e=Zw(n,e,r,t,i);break e}else for(Vn=Vs(e.stateNode.containerInfo.firstChild),Wn=e,tt=!0,Mr=null,t=kA(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(wc(),r===i){e=ns(n,e,t);break e}cn(n,e,r,t)}e=e.child}return e;case 5:return RA(e),n===null&&Xm(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,Um(r,i)?o=null:s!==null&&Um(r,s)&&(e.flags|=32),tb(n,e),cn(n,e,o,t),e.child;case 6:return n===null&&Xm(e),null;case 13:return rb(n,e,t);case 4:return o0(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=_c(e,null,r,t):cn(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:gr(r,i),qw(n,e,r,i,t);case 7:return cn(n,e,e.pendingProps,t),e.child;case 8:return cn(n,e,e.pendingProps.children,t),e.child;case 12:return cn(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Qe(dp,r._currentValue),r._currentValue=o,s!==null)if(Nr(s.value,o)){if(s.children===i.children&&!xn.current){e=ns(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Xi(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),Km(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(V(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),Km(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}cn(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ml(e,t),i=ur(i),r=r(i),e.flags|=1,cn(n,e,r,t),e.child;case 14:return r=e.type,i=gr(r,e.pendingProps),i=gr(r.type,i),Qw(n,e,r,i,t);case 15:return ZA(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:gr(r,i),Af(n,e),e.tag=1,Cn(r)?(n=!0,cp(e)):n=!1,ml(e,t),qA(e,r,i),qm(e,r,i,t),Zm(null,e,r,!0,n,t);case 19:return ib(n,e,t);case 22:return eb(n,e,t)}throw Error(V(156,e.tag))};function _b(n,e){return XE(n,e)}function Tk(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lr(n,e,t,r){return new Tk(n,e,t,r)}function E0(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Pk(n){if(typeof n=="function")return E0(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Hy)return 11;if(n===By)return 14}return 2}function Ks(n,e){var t=n.alternate;return t===null?(t=lr(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function xf(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")E0(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case Za:return _a(t.children,i,s,e);case zy:o=8,i|=8;break;case _m:return n=lr(12,t,e,i|2),n.elementType=_m,n.lanes=s,n;case Em:return n=lr(13,t,e,i),n.elementType=Em,n.lanes=s,n;case Am:return n=lr(19,t,e,i),n.elementType=Am,n.lanes=s,n;case RE:return ug(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case TE:o=10;break e;case PE:o=9;break e;case Hy:o=11;break e;case By:o=14;break e;case fs:o=16,r=null;break e}throw Error(V(130,n==null?n:typeof n,""))}return e=lr(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function _a(n,e,t,r){return n=lr(7,n,r,e),n.lanes=t,n}function ug(n,e,t,r){return n=lr(22,n,r,e),n.elementType=RE,n.lanes=t,n.stateNode={isHidden:!1},n}function am(n,e,t){return n=lr(6,n,null,e),n.lanes=t,n}function lm(n,e,t){return e=lr(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function Rk(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ug(0),this.expirationTimes=Ug(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ug(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function A0(n,e,t,r,i,s,o,a,l){return n=new Rk(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=lr(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},s0(s),n}function Lk(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ja,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function Eb(n){if(!n)return qs;n=n._reactInternals;e:{if(Ia(n)!==n||n.tag!==1)throw Error(V(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Cn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(V(171))}if(n.tag===1){var t=n.type;if(Cn(t))return EA(n,t,e)}return e}function Ab(n,e,t,r,i,s,o,a,l){return n=A0(t,r,!0,n,i,s,o,a,l),n.context=Eb(null),t=n.current,r=hn(),i=Xs(t),s=Xi(r,i),s.callback=e??null,Ws(t,s,i),n.current.lanes=i,Cd(n,i,r),kn(n,r),n}function hg(n,e,t,r){var i=e.current,s=hn(),o=Xs(i);return t=Eb(t),e.context===null?e.context=t:e.pendingContext=t,e=Xi(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=Ws(i,e,o),n!==null&&(Ir(n,i,o,s),wf(n,i,o)),o}function Ap(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function c_(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function b0(n,e){c_(n,e),(n=n.alternate)&&c_(n,e)}function Mk(){return null}var bb=typeof reportError=="function"?reportError:function(n){console.error(n)};function S0(n){this._internalRoot=n}dg.prototype.render=S0.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(V(409));hg(n,e,null,null)};dg.prototype.unmount=S0.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;xa(function(){hg(null,n,null,null)}),e[es]=null}};function dg(n){this._internalRoot=n}dg.prototype.unstable_scheduleHydration=function(n){if(n){var e=eA();n={blockedOn:null,target:n,priority:e};for(var t=0;t<gs.length&&e!==0&&e<gs[t].priority;t++);gs.splice(t,0,n),t===0&&nA(n)}};function x0(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function fg(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function u_(){}function Dk(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Ap(o);s.call(c)}}var o=Ab(e,r,n,0,null,!1,!1,"",u_);return n._reactRootContainer=o,n[es]=o.current,Iu(n.nodeType===8?n.parentNode:n),xa(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Ap(l);a.call(c)}}var l=A0(n,0,!1,null,null,!1,!1,"",u_);return n._reactRootContainer=l,n[es]=l.current,Iu(n.nodeType===8?n.parentNode:n),xa(function(){hg(e,l,t,r)}),l}function pg(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Ap(o);a.call(l)}}hg(e,o,n,i)}else o=Dk(t,e,n,i,r);return Ap(o)}JE=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=qc(e.pendingLanes);t!==0&&(Vy(e,t|1),kn(e,dt()),!(Pe&6)&&(bc=dt()+500,no()))}break;case 13:xa(function(){var r=ts(n,1);if(r!==null){var i=hn();Ir(r,n,1,i)}}),b0(n,1)}};Wy=function(n){if(n.tag===13){var e=ts(n,134217728);if(e!==null){var t=hn();Ir(e,n,134217728,t)}b0(n,134217728)}};ZE=function(n){if(n.tag===13){var e=Xs(n),t=ts(n,e);if(t!==null){var r=hn();Ir(t,n,e,r)}b0(n,e)}};eA=function(){return Oe};tA=function(n,e){var t=Oe;try{return Oe=n,e()}finally{Oe=t}};Mm=function(n,e,t){switch(e){case"input":if(xm(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=ig(r);if(!i)throw Error(V(90));ME(r),xm(r,i)}}}break;case"textarea":IE(n,t);break;case"select":e=t.value,e!=null&&dl(n,!!t.multiple,e,!1)}};BE=y0;UE=xa;var Ik={usingClientEntryPoint:!1,Events:[Td,rl,ig,zE,HE,y0]},Bc={findFiberByHostInstance:wo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Nk={bundleType:Bc.bundleType,version:Bc.version,rendererPackageName:Bc.rendererPackageName,rendererConfig:Bc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ss.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=WE(n),n===null?null:n.stateNode},findFiberByHostInstance:Bc.findFiberByHostInstance||Mk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var of=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!of.isDisabled&&of.supportsFiber)try{eg=of.inject(Nk),si=of}catch{}}Xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ik;Xn.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x0(e))throw Error(V(200));return Lk(n,e,null,t)};Xn.createRoot=function(n,e){if(!x0(n))throw Error(V(299));var t=!1,r="",i=bb;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=A0(n,1,!1,null,null,t,!1,r,i),n[es]=e.current,Iu(n.nodeType===8?n.parentNode:n),new S0(e)};Xn.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(V(188)):(n=Object.keys(n).join(","),Error(V(268,n)));return n=WE(e),n=n===null?null:n.stateNode,n};Xn.flushSync=function(n){return xa(n)};Xn.hydrate=function(n,e,t){if(!fg(e))throw Error(V(200));return pg(null,n,e,!0,t)};Xn.hydrateRoot=function(n,e,t){if(!x0(n))throw Error(V(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",o=bb;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=Ab(e,null,n,1,t??null,i,!1,s,o),n[es]=e.current,Iu(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new dg(e)};Xn.render=function(n,e,t){if(!fg(e))throw Error(V(200));return pg(null,n,e,!1,t)};Xn.unmountComponentAtNode=function(n){if(!fg(n))throw Error(V(40));return n._reactRootContainer?(xa(function(){pg(null,null,n,!1,function(){n._reactRootContainer=null,n[es]=null})}),!0):!1};Xn.unstable_batchedUpdates=y0;Xn.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!fg(t))throw Error(V(200));if(n==null||n._reactInternals===void 0)throw Error(V(38));return pg(n,e,t,!1,r)};Xn.version="18.3.1-next-f1338f8080-20240426";function Sb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Sb)}catch(n){console.error(n)}}Sb(),SE.exports=Xn;var C0=SE.exports;const Fk=Ly(C0),Ok=hE({__proto__:null,default:Fk},[C0]);var h_=C0;ym.createRoot=h_.createRoot,ym.hydrateRoot=h_.hydrateRoot;/**
 * @remix-run/router v1.19.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function it(){return it=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},it.apply(this,arguments)}var vt;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(vt||(vt={}));const d_="popstate";function jk(n){n===void 0&&(n={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return $u("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:Ca(i)}return Hk(e,t,null,n)}function _e(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Sc(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function zk(){return Math.random().toString(36).substr(2,8)}function f_(n,e){return{usr:n.state,key:n.key,idx:e}}function $u(n,e,t,r){return t===void 0&&(t=null),it({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?ro(e):e,{state:t,key:e&&e.key||r||zk()})}function Ca(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ro(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function Hk(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=vt.Pop,l=null,c=h();c==null&&(c=0,o.replaceState(it({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function d(){a=vt.Pop;let _=h(),m=_==null?null:_-c;c=_,l&&l({action:a,location:v.location,delta:m})}function f(_,m){a=vt.Push;let y=$u(v.location,_,m);c=h()+1;let w=f_(y,c),S=v.createHref(y);try{o.pushState(w,"",S)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(S)}s&&l&&l({action:a,location:v.location,delta:1})}function p(_,m){a=vt.Replace;let y=$u(v.location,_,m);c=h();let w=f_(y,c),S=v.createHref(y);o.replaceState(w,"",S),s&&l&&l({action:a,location:v.location,delta:0})}function g(_){let m=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof _=="string"?_:Ca(_);return y=y.replace(/ $/,"%20"),_e(m,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,m)}let v={get action(){return a},get location(){return n(i,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(d_,d),l=_,()=>{i.removeEventListener(d_,d),l=null}},createHref(_){return e(i,_)},createURL:g,encodeLocation(_){let m=g(_);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:p,go(_){return o.go(_)}};return v}var He;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(He||(He={}));const Bk=new Set(["lazy","caseSensitive","path","id","index","children"]);function Uk(n){return n.index===!0}function Vu(n,e,t,r){return t===void 0&&(t=[]),r===void 0&&(r={}),n.map((i,s)=>{let o=[...t,String(s)],a=typeof i.id=="string"?i.id:o.join("-");if(_e(i.index!==!0||!i.children,"Cannot specify children on an index route"),_e(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),Uk(i)){let l=it({},i,e(i),{id:a});return r[a]=l,l}else{let l=it({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=Vu(i.children,e,o,r)),l}})}function mo(n,e,t){return t===void 0&&(t="/"),Cf(n,e,t,!1)}function Cf(n,e,t,r){let i=typeof e=="string"?ro(e):e,s=Pc(i.pathname||"/",t);if(s==null)return null;let o=xb(n);Vk(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=tT(s);a=Zk(o[l],c,r)}return a}function $k(n,e){let{route:t,pathname:r,params:i}=n;return{id:t.id,pathname:r,params:i,data:e[t.id],handle:t.handle}}function xb(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(_e(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Ki([r,l.relativePath]),h=t.concat(l);s.children&&s.children.length>0&&(_e(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),xb(s.children,e,h,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:Qk(c,s.index),routesMeta:h})};return n.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of Cb(s.path))i(s,o,l)}),e}function Cb(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Cb(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function Vk(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Jk(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const Wk=/^:[\w-]+$/,Gk=3,Xk=2,Kk=1,Yk=10,qk=-2,p_=n=>n==="*";function Qk(n,e){let t=n.split("/"),r=t.length;return t.some(p_)&&(r+=qk),e&&(r+=Xk),t.filter(i=>!p_(i)).reduce((i,s)=>i+(Wk.test(s)?Gk:s===""?Kk:Yk),r)}function Jk(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function Zk(n,e,t){t===void 0&&(t=!1);let{routesMeta:r}=n,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",d=g_({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h),f=l.route;if(!d&&c&&t&&!r[r.length-1].route.index&&(d=g_({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:Ki([s,d.pathname]),pathnameBase:iT(Ki([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=Ki([s,d.pathnameBase]))}return o}function g_(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=eT(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,h,d)=>{let{paramName:f,isOptional:p}=h;if(f==="*"){let v=a[d]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const g=a[d];return p&&!g?c[f]=void 0:c[f]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:n}}function eT(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),Sc(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function tT(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Sc(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function Pc(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function nT(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?ro(n):n;return{pathname:t?t.startsWith("/")?t:rT(t,e):e,search:sT(r),hash:oT(i)}}function rT(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function cm(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function kb(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function k0(n,e){let t=kb(n);return e?t.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function T0(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=ro(n):(i=it({},n),_e(!i.pathname||!i.pathname.includes("?"),cm("?","pathname","search",i)),_e(!i.pathname||!i.pathname.includes("#"),cm("#","pathname","hash",i)),_e(!i.search||!i.search.includes("#"),cm("#","search","hash",i)));let s=n===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=t;else{let d=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=nT(i,a),c=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}const Ki=n=>n.join("/").replace(/\/\/+/g,"/"),iT=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),sT=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,oT=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;class bp{constructor(e,t,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=t||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function gg(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const Tb=["post","put","patch","delete"],aT=new Set(Tb),lT=["get",...Tb],cT=new Set(lT),uT=new Set([301,302,303,307,308]),hT=new Set([307,308]),um={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},dT={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Uc={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},P0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fT=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),Pb="remix-router-transitions";function pT(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!t;_e(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(n.mapRouteProperties)i=n.mapRouteProperties;else if(n.detectErrorBoundary){let T=n.detectErrorBoundary;i=R=>({hasErrorBoundary:T(R)})}else i=fT;let s={},o=Vu(n.routes,i,void 0,s),a,l=n.basename||"/",c=n.unstable_dataStrategy||wT,h=n.unstable_patchRoutesOnNavigation,d=it({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},n.future),f=null,p=new Set,g=1e3,v=new Set,_=null,m=null,y=null,w=n.hydrationData!=null,S=mo(o,n.history.location,l),C=null;if(S==null&&!h){let T=ln(404,{pathname:n.history.location.pathname}),{matches:R,route:F}=x_(o);S=R,C={[F.id]:T}}S&&!n.hydrationData&&jd(S,o,n.history.location.pathname).active&&(S=null);let k;if(S)if(S.some(T=>T.route.lazy))k=!1;else if(!S.some(T=>T.route.loader))k=!0;else if(d.v7_partialHydration){let T=n.hydrationData?n.hydrationData.loaderData:null,R=n.hydrationData?n.hydrationData.errors:null,F=B=>B.route.loader?typeof B.route.loader=="function"&&B.route.loader.hydrate===!0?!1:T&&T[B.route.id]!==void 0||R&&R[B.route.id]!==void 0:!0;if(R){let B=S.findIndex(te=>R[te.route.id]!==void 0);k=S.slice(0,B+1).every(F)}else k=S.every(F)}else k=n.hydrationData!=null;else if(k=!1,S=[],d.v7_partialHydration){let T=jd(null,o,n.history.location.pathname);T.active&&T.matches&&(S=T.matches)}let P,x={historyAction:n.history.action,location:n.history.location,matches:S,initialized:k,navigation:um,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||C,fetchers:new Map,blockers:new Map},D=vt.Pop,I=!1,M,U=!1,W=new Map,$=null,Q=!1,q=!1,K=[],j=new Set,z=new Map,H=0,J=-1,G=new Map,ue=new Set,N=new Map,Ke=new Map,X=new Set,re=new Map,we=new Map,De=new Map,le=!1;function pt(){if(f=n.history.listen(T=>{let{action:R,location:F,delta:B}=T;if(le){le=!1;return}Sc(we.size===0||B!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let te=Q0({currentLocation:x.location,nextLocation:F,historyAction:R});if(te&&B!=null){le=!0,n.history.go(B*-1),Fd(te,{state:"blocked",location:F,proceed(){Fd(te,{state:"proceeding",proceed:void 0,reset:void 0,location:F}),n.history.go(B)},reset(){let se=new Map(x.blockers);se.set(te,Uc),ge({blockers:se})}});return}return qn(R,F)}),t){MT(e,W);let T=()=>DT(e,W);e.addEventListener("pagehide",T),$=()=>e.removeEventListener("pagehide",T)}return x.initialized||qn(vt.Pop,x.location,{initialHydration:!0}),P}function mn(){f&&f(),$&&$(),p.clear(),M&&M.abort(),x.fetchers.forEach((T,R)=>Ha(R)),x.blockers.forEach((T,R)=>q0(R))}function Ce(T){return p.add(T),()=>p.delete(T)}function ge(T,R){R===void 0&&(R={}),x=it({},x,T);let F=[],B=[];d.v7_fetcherPersist&&x.fetchers.forEach((te,se)=>{te.state==="idle"&&(X.has(se)?B.push(se):F.push(se))}),[...p].forEach(te=>te(x,{deletedFetchers:B,unstable_viewTransitionOpts:R.viewTransitionOpts,unstable_flushSync:R.flushSync===!0})),d.v7_fetcherPersist&&(F.forEach(te=>x.fetchers.delete(te)),B.forEach(te=>Ha(te)))}function Ye(T,R,F){var B,te;let{flushSync:se}=F===void 0?{}:F,he=x.actionData!=null&&x.navigation.formMethod!=null&&Lr(x.navigation.formMethod)&&x.navigation.state==="loading"&&((B=T.state)==null?void 0:B._isRedirect)!==!0,Y;R.actionData?Object.keys(R.actionData).length>0?Y=R.actionData:Y=null:he?Y=x.actionData:Y=null;let me=R.loaderData?b_(x.loaderData,R.loaderData,R.matches||[],R.errors):x.loaderData,ce=x.blockers;ce.size>0&&(ce=new Map(ce),ce.forEach((Ie,Ve)=>ce.set(Ve,Uc)));let ve=I===!0||x.navigation.formMethod!=null&&Lr(x.navigation.formMethod)&&((te=T.state)==null?void 0:te._isRedirect)!==!0;a&&(o=a,a=void 0),Q||D===vt.Pop||(D===vt.Push?n.history.push(T,T.state):D===vt.Replace&&n.history.replace(T,T.state));let je;if(D===vt.Pop){let Ie=W.get(x.location.pathname);Ie&&Ie.has(T.pathname)?je={currentLocation:x.location,nextLocation:T}:W.has(T.pathname)&&(je={currentLocation:T,nextLocation:x.location})}else if(U){let Ie=W.get(x.location.pathname);Ie?Ie.add(T.pathname):(Ie=new Set([T.pathname]),W.set(x.location.pathname,Ie)),je={currentLocation:x.location,nextLocation:T}}ge(it({},R,{actionData:Y,loaderData:me,historyAction:D,location:T,initialized:!0,navigation:um,revalidation:"idle",restoreScrollPosition:Z0(T,R.matches||x.matches),preventScrollReset:ve,blockers:ce}),{viewTransitionOpts:je,flushSync:se===!0}),D=vt.Pop,I=!1,U=!1,Q=!1,q=!1,K=[]}async function $e(T,R){if(typeof T=="number"){n.history.go(T);return}let F=hv(x.location,x.matches,l,d.v7_prependBasename,T,d.v7_relativeSplatPath,R==null?void 0:R.fromRouteId,R==null?void 0:R.relative),{path:B,submission:te,error:se}=m_(d.v7_normalizeFormMethod,!1,F,R),he=x.location,Y=$u(x.location,B,R&&R.state);Y=it({},Y,n.history.encodeLocation(Y));let me=R&&R.replace!=null?R.replace:void 0,ce=vt.Push;me===!0?ce=vt.Replace:me===!1||te!=null&&Lr(te.formMethod)&&te.formAction===x.location.pathname+x.location.search&&(ce=vt.Replace);let ve=R&&"preventScrollReset"in R?R.preventScrollReset===!0:void 0,je=(R&&R.unstable_flushSync)===!0,Ie=Q0({currentLocation:he,nextLocation:Y,historyAction:ce});if(Ie){Fd(Ie,{state:"blocked",location:Y,proceed(){Fd(Ie,{state:"proceeding",proceed:void 0,reset:void 0,location:Y}),$e(T,R)},reset(){let Ve=new Map(x.blockers);Ve.set(Ie,Uc),ge({blockers:Ve})}});return}return await qn(ce,Y,{submission:te,pendingError:se,preventScrollReset:ve,replace:R&&R.replace,enableViewTransition:R&&R.unstable_viewTransition,flushSync:je})}function Yn(){if(Or(),ge({revalidation:"loading"}),x.navigation.state!=="submitting"){if(x.navigation.state==="idle"){qn(x.historyAction,x.location,{startUninterruptedRevalidation:!0});return}qn(D||x.historyAction,x.navigation.location,{overrideNavigation:x.navigation})}}async function qn(T,R,F){M&&M.abort(),M=null,D=T,Q=(F&&F.startUninterruptedRevalidation)===!0,rx(x.location,x.matches),I=(F&&F.preventScrollReset)===!0,U=(F&&F.enableViewTransition)===!0;let B=a||o,te=F&&F.overrideNavigation,se=mo(B,R,l),he=(F&&F.flushSync)===!0,Y=jd(se,B,R.pathname);if(Y.active&&Y.matches&&(se=Y.matches),!se){let{error:Me,notFoundMatches:It,route:gt}=Ig(R.pathname);Ye(R,{matches:It,loaderData:{},errors:{[gt.id]:Me}},{flushSync:he});return}if(x.initialized&&!q&&xT(x.location,R)&&!(F&&F.submission&&Lr(F.submission.formMethod))){Ye(R,{matches:se},{flushSync:he});return}M=new AbortController;let me=Wa(n.history,R,M.signal,F&&F.submission),ce;if(F&&F.pendingError)ce=[ul(se).route.id,{type:He.error,error:F.pendingError}];else if(F&&F.submission&&Lr(F.submission.formMethod)){let Me=await Rc(me,R,F.submission,se,Y.active,{replace:F.replace,flushSync:he});if(Me.shortCircuited)return;if(Me.pendingActionResult){let[It,gt]=Me.pendingActionResult;if(Un(gt)&&gg(gt.error)&&gt.error.status===404){M=null,Ye(R,{matches:Me.matches,loaderData:{},errors:{[It]:gt.error}});return}}se=Me.matches||se,ce=Me.pendingActionResult,te=hm(R,F.submission),he=!1,Y.active=!1,me=Wa(n.history,me.url,me.signal)}let{shortCircuited:ve,matches:je,loaderData:Ie,errors:Ve}=await Lc(me,R,se,Y.active,te,F&&F.submission,F&&F.fetcherSubmission,F&&F.replace,F&&F.initialHydration===!0,he,ce);ve||(M=null,Ye(R,it({matches:je||se},S_(ce),{loaderData:Ie,errors:Ve})))}async function Rc(T,R,F,B,te,se){se===void 0&&(se={}),Or();let he=RT(R,F);if(ge({navigation:he},{flushSync:se.flushSync===!0}),te){let ce=await zd(B,R.pathname,T.signal);if(ce.type==="aborted")return{shortCircuited:!0};if(ce.type==="error"){let{boundaryId:ve,error:je}=Od(R.pathname,ce);return{matches:ce.partialMatches,pendingActionResult:[ve,{type:He.error,error:je}]}}else if(ce.matches)B=ce.matches;else{let{notFoundMatches:ve,error:je,route:Ie}=Ig(R.pathname);return{matches:ve,pendingActionResult:[Ie.id,{type:He.error,error:je}]}}}let Y,me=Jc(B,R);if(!me.route.action&&!me.route.lazy)Y={type:He.error,error:ln(405,{method:T.method,pathname:R.pathname,routeId:me.route.id})};else if(Y=(await rn("action",T,[me],B))[0],T.signal.aborted)return{shortCircuited:!0};if(bo(Y)){let ce;return se&&se.replace!=null?ce=se.replace:ce=__(Y.response.headers.get("Location"),new URL(T.url),l)===x.location.pathname+x.location.search,await Qn(T,Y,{submission:F,replace:ce}),{shortCircuited:!0}}if(Ao(Y))throw ln(400,{type:"defer-action"});if(Un(Y)){let ce=ul(B,me.route.id);return(se&&se.replace)!==!0&&(D=vt.Push),{matches:B,pendingActionResult:[ce.route.id,Y]}}return{matches:B,pendingActionResult:[me.route.id,Y]}}async function Lc(T,R,F,B,te,se,he,Y,me,ce,ve){let je=te||hm(R,se),Ie=se||he||P_(je),Ve=!Q&&(!d.v7_partialHydration||!me);if(B){if(Ve){let lt=Fr(ve);ge(it({navigation:je},lt!==void 0?{actionData:lt}:{}),{flushSync:ce})}let ye=await zd(F,R.pathname,T.signal);if(ye.type==="aborted")return{shortCircuited:!0};if(ye.type==="error"){let{boundaryId:lt,error:Pn}=Od(R.pathname,ye);return{matches:ye.partialMatches,loaderData:{},errors:{[lt]:Pn}}}else if(ye.matches)F=ye.matches;else{let{error:lt,notFoundMatches:Pn,route:et}=Ig(R.pathname);return{matches:Pn,loaderData:{},errors:{[et.id]:lt}}}}let Me=a||o,[It,gt]=v_(n.history,x,F,Ie,R,d.v7_partialHydration&&me===!0,d.v7_skipActionErrorRevalidation,q,K,j,X,N,ue,Me,l,ve);if(Ng(ye=>!(F&&F.some(lt=>lt.route.id===ye))||It&&It.some(lt=>lt.route.id===ye)),J=++H,It.length===0&&gt.length===0){let ye=K0();return Ye(R,it({matches:F,loaderData:{},errors:ve&&Un(ve[1])?{[ve[0]]:ve[1].error}:null},S_(ve),ye?{fetchers:new Map(x.fetchers)}:{}),{flushSync:ce}),{shortCircuited:!0}}if(Ve){let ye={};if(!B){ye.navigation=je;let lt=Fr(ve);lt!==void 0&&(ye.actionData=lt)}gt.length>0&&(ye.fetchers=so(gt)),ge(ye,{flushSync:ce})}gt.forEach(ye=>{z.has(ye.key)&&os(ye.key),ye.controller&&z.set(ye.key,ye.controller)});let Dc=()=>gt.forEach(ye=>os(ye.key));M&&M.signal.addEventListener("abort",Dc);let{loaderResults:as,fetcherResults:Ba}=await ui(x.matches,F,It,gt,T);if(T.signal.aborted)return{shortCircuited:!0};M&&M.signal.removeEventListener("abort",Dc),gt.forEach(ye=>z.delete(ye.key));let Ua=C_([...as,...Ba]);if(Ua){if(Ua.idx>=It.length){let ye=gt[Ua.idx-It.length].key;ue.add(ye)}return await Qn(T,Ua.result,{replace:Y}),{shortCircuited:!0}}let{loaderData:$a,errors:jr}=A_(x,F,It,as,ve,gt,Ba,re);re.forEach((ye,lt)=>{ye.subscribe(Pn=>{(Pn||ye.done)&&re.delete(lt)})}),d.v7_partialHydration&&me&&x.errors&&Object.entries(x.errors).filter(ye=>{let[lt]=ye;return!It.some(Pn=>Pn.route.id===lt)}).forEach(ye=>{let[lt,Pn]=ye;jr=Object.assign(jr||{},{[lt]:Pn})});let Hd=K0(),Bd=Y0(J),Ud=Hd||Bd||gt.length>0;return it({matches:F,loaderData:$a,errors:jr},Ud?{fetchers:new Map(x.fetchers)}:{})}function Fr(T){if(T&&!Un(T[1]))return{[T[0]]:T[1].data};if(x.actionData)return Object.keys(x.actionData).length===0?null:x.actionData}function so(T){return T.forEach(R=>{let F=x.fetchers.get(R.key),B=$c(void 0,F?F.data:void 0);x.fetchers.set(R.key,B)}),new Map(x.fetchers)}function oo(T,R,F,B){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");z.has(T)&&os(T);let te=(B&&B.unstable_flushSync)===!0,se=a||o,he=hv(x.location,x.matches,l,d.v7_prependBasename,F,d.v7_relativeSplatPath,R,B==null?void 0:B.relative),Y=mo(se,he,l),me=jd(Y,se,he);if(me.active&&me.matches&&(Y=me.matches),!Y){dr(T,R,ln(404,{pathname:he}),{flushSync:te});return}let{path:ce,submission:ve,error:je}=m_(d.v7_normalizeFormMethod,!0,he,B);if(je){dr(T,R,je,{flushSync:te});return}let Ie=Jc(Y,ce);if(I=(B&&B.preventScrollReset)===!0,ve&&Lr(ve.formMethod)){Mc(T,R,ce,Ie,Y,me.active,te,ve);return}N.set(T,{routeId:R,path:ce}),ao(T,R,ce,Ie,Y,me.active,te,ve)}async function Mc(T,R,F,B,te,se,he,Y){Or(),N.delete(T);function me(et){if(!et.route.action&&!et.route.lazy){let hi=ln(405,{method:Y.formMethod,pathname:F,routeId:R});return dr(T,R,hi,{flushSync:he}),!0}return!1}if(!se&&me(B))return;let ce=x.fetchers.get(T);Gt(T,LT(Y,ce),{flushSync:he});let ve=new AbortController,je=Wa(n.history,F,ve.signal,Y);if(se){let et=await zd(te,F,je.signal);if(et.type==="aborted")return;if(et.type==="error"){let{error:hi}=Od(F,et);dr(T,R,hi,{flushSync:he});return}else if(et.matches){if(te=et.matches,B=Jc(te,F),me(B))return}else{dr(T,R,ln(404,{pathname:F}),{flushSync:he});return}}z.set(T,ve);let Ie=H,Me=(await rn("action",je,[B],te))[0];if(je.signal.aborted){z.get(T)===ve&&z.delete(T);return}if(d.v7_fetcherPersist&&X.has(T)){if(bo(Me)||Un(Me)){Gt(T,cs(void 0));return}}else{if(bo(Me))if(z.delete(T),J>Ie){Gt(T,cs(void 0));return}else return ue.add(T),Gt(T,$c(Y)),Qn(je,Me,{fetcherSubmission:Y});if(Un(Me)){dr(T,R,Me.error);return}}if(Ao(Me))throw ln(400,{type:"defer-action"});let It=x.navigation.location||x.location,gt=Wa(n.history,It,ve.signal),Dc=a||o,as=x.navigation.state!=="idle"?mo(Dc,x.navigation.location,l):x.matches;_e(as,"Didn't find any matches after fetcher action");let Ba=++H;G.set(T,Ba);let Ua=$c(Y,Me.data);x.fetchers.set(T,Ua);let[$a,jr]=v_(n.history,x,as,Y,It,!1,d.v7_skipActionErrorRevalidation,q,K,j,X,N,ue,Dc,l,[B.route.id,Me]);jr.filter(et=>et.key!==T).forEach(et=>{let hi=et.key,tw=x.fetchers.get(hi),ox=$c(void 0,tw?tw.data:void 0);x.fetchers.set(hi,ox),z.has(hi)&&os(hi),et.controller&&z.set(hi,et.controller)}),ge({fetchers:new Map(x.fetchers)});let Hd=()=>jr.forEach(et=>os(et.key));ve.signal.addEventListener("abort",Hd);let{loaderResults:Bd,fetcherResults:Ud}=await ui(x.matches,as,$a,jr,gt);if(ve.signal.aborted)return;ve.signal.removeEventListener("abort",Hd),G.delete(T),z.delete(T),jr.forEach(et=>z.delete(et.key));let ye=C_([...Bd,...Ud]);if(ye){if(ye.idx>=$a.length){let et=jr[ye.idx-$a.length].key;ue.add(et)}return Qn(gt,ye.result)}let{loaderData:lt,errors:Pn}=A_(x,x.matches,$a,Bd,void 0,jr,Ud,re);if(x.fetchers.has(T)){let et=cs(Me.data);x.fetchers.set(T,et)}Y0(Ba),x.navigation.state==="loading"&&Ba>J?(_e(D,"Expected pending action"),M&&M.abort(),Ye(x.navigation.location,{matches:as,loaderData:lt,errors:Pn,fetchers:new Map(x.fetchers)})):(ge({errors:Pn,loaderData:b_(x.loaderData,lt,as,Pn),fetchers:new Map(x.fetchers)}),q=!1)}async function ao(T,R,F,B,te,se,he,Y){let me=x.fetchers.get(T);Gt(T,$c(Y,me?me.data:void 0),{flushSync:he});let ce=new AbortController,ve=Wa(n.history,F,ce.signal);if(se){let Me=await zd(te,F,ve.signal);if(Me.type==="aborted")return;if(Me.type==="error"){let{error:It}=Od(F,Me);dr(T,R,It,{flushSync:he});return}else if(Me.matches)te=Me.matches,B=Jc(te,F);else{dr(T,R,ln(404,{pathname:F}),{flushSync:he});return}}z.set(T,ce);let je=H,Ve=(await rn("loader",ve,[B],te))[0];if(Ao(Ve)&&(Ve=await Ib(Ve,ve.signal,!0)||Ve),z.get(T)===ce&&z.delete(T),!ve.signal.aborted){if(X.has(T)){Gt(T,cs(void 0));return}if(bo(Ve))if(J>je){Gt(T,cs(void 0));return}else{ue.add(T),await Qn(ve,Ve);return}if(Un(Ve)){dr(T,R,Ve.error);return}_e(!Ao(Ve),"Unhandled fetcher deferred data"),Gt(T,cs(Ve.data))}}async function Qn(T,R,F){let{submission:B,fetcherSubmission:te,replace:se}=F===void 0?{}:F;R.response.headers.has("X-Remix-Revalidate")&&(q=!0);let he=R.response.headers.get("Location");_e(he,"Expected a Location header on the redirect Response"),he=__(he,new URL(T.url),l);let Y=$u(x.location,he,{_isRedirect:!0});if(t){let Ve=!1;if(R.response.headers.has("X-Remix-Reload-Document"))Ve=!0;else if(P0.test(he)){const Me=n.history.createURL(he);Ve=Me.origin!==e.location.origin||Pc(Me.pathname,l)==null}if(Ve){se?e.location.replace(he):e.location.assign(he);return}}M=null;let me=se===!0||R.response.headers.has("X-Remix-Replace")?vt.Replace:vt.Push,{formMethod:ce,formAction:ve,formEncType:je}=x.navigation;!B&&!te&&ce&&ve&&je&&(B=P_(x.navigation));let Ie=B||te;if(hT.has(R.response.status)&&Ie&&Lr(Ie.formMethod))await qn(me,Y,{submission:it({},Ie,{formAction:he}),preventScrollReset:I});else{let Ve=hm(Y,B);await qn(me,Y,{overrideNavigation:Ve,fetcherSubmission:te,preventScrollReset:I})}}async function rn(T,R,F,B){try{let te=await _T(c,T,R,F,B,s,i);return await Promise.all(te.map((se,he)=>{if(kT(se)){let Y=se.result;return{type:He.redirect,response:bT(Y,R,F[he].route.id,B,l,d.v7_relativeSplatPath)}}return AT(se)}))}catch(te){return F.map(()=>({type:He.error,error:te}))}}async function ui(T,R,F,B,te){let[se,...he]=await Promise.all([F.length?rn("loader",te,F,R):[],...B.map(Y=>{if(Y.matches&&Y.match&&Y.controller){let me=Wa(n.history,Y.path,Y.controller.signal);return rn("loader",me,[Y.match],Y.matches).then(ce=>ce[0])}else return Promise.resolve({type:He.error,error:ln(404,{pathname:Y.path})})})]);return await Promise.all([T_(T,F,se,se.map(()=>te.signal),!1,x.loaderData),T_(T,B.map(Y=>Y.match),he,B.map(Y=>Y.controller?Y.controller.signal:null),!0)]),{loaderResults:se,fetcherResults:he}}function Or(){q=!0,K.push(...Ng()),N.forEach((T,R)=>{z.has(R)&&(j.add(R),os(R))})}function Gt(T,R,F){F===void 0&&(F={}),x.fetchers.set(T,R),ge({fetchers:new Map(x.fetchers)},{flushSync:(F&&F.flushSync)===!0})}function dr(T,R,F,B){B===void 0&&(B={});let te=ul(x.matches,R);Ha(T),ge({errors:{[te.route.id]:F},fetchers:new Map(x.fetchers)},{flushSync:(B&&B.flushSync)===!0})}function lo(T){return d.v7_fetcherPersist&&(Ke.set(T,(Ke.get(T)||0)+1),X.has(T)&&X.delete(T)),x.fetchers.get(T)||dT}function Ha(T){let R=x.fetchers.get(T);z.has(T)&&!(R&&R.state==="loading"&&G.has(T))&&os(T),N.delete(T),G.delete(T),ue.delete(T),X.delete(T),j.delete(T),x.fetchers.delete(T)}function ex(T){if(d.v7_fetcherPersist){let R=(Ke.get(T)||0)-1;R<=0?(Ke.delete(T),X.add(T)):Ke.set(T,R)}else Ha(T);ge({fetchers:new Map(x.fetchers)})}function os(T){let R=z.get(T);_e(R,"Expected fetch controller: "+T),R.abort(),z.delete(T)}function X0(T){for(let R of T){let F=lo(R),B=cs(F.data);x.fetchers.set(R,B)}}function K0(){let T=[],R=!1;for(let F of ue){let B=x.fetchers.get(F);_e(B,"Expected fetcher: "+F),B.state==="loading"&&(ue.delete(F),T.push(F),R=!0)}return X0(T),R}function Y0(T){let R=[];for(let[F,B]of G)if(B<T){let te=x.fetchers.get(F);_e(te,"Expected fetcher: "+F),te.state==="loading"&&(os(F),G.delete(F),R.push(F))}return X0(R),R.length>0}function tx(T,R){let F=x.blockers.get(T)||Uc;return we.get(T)!==R&&we.set(T,R),F}function q0(T){x.blockers.delete(T),we.delete(T)}function Fd(T,R){let F=x.blockers.get(T)||Uc;_e(F.state==="unblocked"&&R.state==="blocked"||F.state==="blocked"&&R.state==="blocked"||F.state==="blocked"&&R.state==="proceeding"||F.state==="blocked"&&R.state==="unblocked"||F.state==="proceeding"&&R.state==="unblocked","Invalid blocker state transition: "+F.state+" -> "+R.state);let B=new Map(x.blockers);B.set(T,R),ge({blockers:B})}function Q0(T){let{currentLocation:R,nextLocation:F,historyAction:B}=T;if(we.size===0)return;we.size>1&&Sc(!1,"A router only supports one blocker at a time");let te=Array.from(we.entries()),[se,he]=te[te.length-1],Y=x.blockers.get(se);if(!(Y&&Y.state==="proceeding")&&he({currentLocation:R,nextLocation:F,historyAction:B}))return se}function Ig(T){let R=ln(404,{pathname:T}),F=a||o,{matches:B,route:te}=x_(F);return Ng(),{notFoundMatches:B,route:te,error:R}}function Od(T,R){return{boundaryId:ul(R.partialMatches).route.id,error:ln(400,{type:"route-discovery",pathname:T,message:R.error!=null&&"message"in R.error?R.error:String(R.error)})}}function Ng(T){let R=[];return re.forEach((F,B)=>{(!T||T(B))&&(F.cancel(),R.push(B),re.delete(B))}),R}function nx(T,R,F){if(_=T,y=R,m=F||null,!w&&x.navigation===um){w=!0;let B=Z0(x.location,x.matches);B!=null&&ge({restoreScrollPosition:B})}return()=>{_=null,y=null,m=null}}function J0(T,R){return m&&m(T,R.map(B=>$k(B,x.loaderData)))||T.key}function rx(T,R){if(_&&y){let F=J0(T,R);_[F]=y()}}function Z0(T,R){if(_){let F=J0(T,R),B=_[F];if(typeof B=="number")return B}return null}function jd(T,R,F){if(h){if(v.has(F))return{active:!1,matches:T};if(T){if(Object.keys(T[0].params).length>0)return{active:!0,matches:Cf(R,F,l,!0)}}else return{active:!0,matches:Cf(R,F,l,!0)||[]}}return{active:!1,matches:null}}async function zd(T,R,F){let B=T;for(;;){let te=a==null,se=a||o;try{await yT(h,R,B,se,s,i,De,F)}catch(me){return{type:"error",error:me,partialMatches:B}}finally{te&&(o=[...o])}if(F.aborted)return{type:"aborted"};let he=mo(se,R,l);if(he)return ew(R,v),{type:"success",matches:he};let Y=Cf(se,R,l,!0);if(!Y||B.length===Y.length&&B.every((me,ce)=>me.route.id===Y[ce].route.id))return ew(R,v),{type:"success",matches:null};B=Y}}function ew(T,R){if(R.size>=g){let F=R.values().next().value;R.delete(F)}R.add(T)}function ix(T){s={},a=Vu(T,i,void 0,s)}function sx(T,R){let F=a==null;Lb(T,R,a||o,s,i),F&&(o=[...o],ge({}))}return P={get basename(){return l},get future(){return d},get state(){return x},get routes(){return o},get window(){return e},initialize:pt,subscribe:Ce,enableScrollRestoration:nx,navigate:$e,fetch:oo,revalidate:Yn,createHref:T=>n.history.createHref(T),encodeLocation:T=>n.history.encodeLocation(T),getFetcher:lo,deleteFetcher:ex,dispose:mn,getBlocker:tx,deleteBlocker:q0,patchRoutes:sx,_internalFetchControllers:z,_internalActiveDeferreds:re,_internalSetRoutes:ix},P}function gT(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function hv(n,e,t,r,i,s,o,a){let l,c;if(o){l=[];for(let d of e)if(l.push(d),d.route.id===o){c=d;break}}else l=e,c=e[e.length-1];let h=T0(i||".",k0(l,s),Pc(n.pathname,t)||n.pathname,a==="path");return i==null&&(h.search=n.search,h.hash=n.hash),(i==null||i===""||i===".")&&c&&c.route.index&&!R0(h.search)&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),r&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Ki([t,h.pathname])),Ca(h)}function m_(n,e,t,r){if(!r||!gT(r))return{path:t};if(r.formMethod&&!PT(r.formMethod))return{path:t,error:ln(405,{method:r.formMethod})};let i=()=>({path:t,error:ln(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=n?s.toUpperCase():s.toLowerCase(),a=Mb(t);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Lr(o))return i();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((p,g)=>{let[v,_]=g;return""+p+v+"="+_+`
`},""):String(r.body);return{path:t,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!Lr(o))return i();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:t,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return i()}}}_e(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=dv(r.formData),c=r.formData;else if(r.body instanceof FormData)l=dv(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=E_(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=E_(l)}catch{return i()}let h={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(Lr(h.formMethod))return{path:t,submission:h};let d=ro(t);return e&&d.search&&R0(d.search)&&l.append("index",""),d.search="?"+l,{path:Ca(d),submission:h}}function mT(n,e){let t=n;if(e){let r=n.findIndex(i=>i.route.id===e);r>=0&&(t=n.slice(0,r))}return t}function v_(n,e,t,r,i,s,o,a,l,c,h,d,f,p,g,v){let _=v?Un(v[1])?v[1].error:v[1].data:void 0,m=n.createURL(e.location),y=n.createURL(i),w=v&&Un(v[1])?v[0]:void 0,S=w?mT(t,w):t,C=v?v[1].statusCode:void 0,k=o&&C&&C>=400,P=S.filter((D,I)=>{let{route:M}=D;if(M.lazy)return!0;if(M.loader==null)return!1;if(s)return typeof M.loader!="function"||M.loader.hydrate?!0:e.loaderData[M.id]===void 0&&(!e.errors||e.errors[M.id]===void 0);if(vT(e.loaderData,e.matches[I],D)||l.some($=>$===D.route.id))return!0;let U=e.matches[I],W=D;return y_(D,it({currentUrl:m,currentParams:U.params,nextUrl:y,nextParams:W.params},r,{actionResult:_,actionStatus:C,defaultShouldRevalidate:k?!1:a||m.pathname+m.search===y.pathname+y.search||m.search!==y.search||Rb(U,W)}))}),x=[];return d.forEach((D,I)=>{if(s||!t.some(Q=>Q.route.id===D.routeId)||h.has(I))return;let M=mo(p,D.path,g);if(!M){x.push({key:I,routeId:D.routeId,path:D.path,matches:null,match:null,controller:null});return}let U=e.fetchers.get(I),W=Jc(M,D.path),$=!1;f.has(I)?$=!1:c.has(I)?(c.delete(I),$=!0):U&&U.state!=="idle"&&U.data===void 0?$=a:$=y_(W,it({currentUrl:m,currentParams:e.matches[e.matches.length-1].params,nextUrl:y,nextParams:t[t.length-1].params},r,{actionResult:_,actionStatus:C,defaultShouldRevalidate:k?!1:a})),$&&x.push({key:I,routeId:D.routeId,path:D.path,matches:M,match:W,controller:new AbortController})}),[P,x]}function vT(n,e,t){let r=!e||t.route.id!==e.route.id,i=n[t.route.id]===void 0;return r||i}function Rb(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function y_(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}async function yT(n,e,t,r,i,s,o,a){let l=[e,...t.map(c=>c.route.id)].join("-");try{let c=o.get(l);c||(c=n({path:e,matches:t,patch:(h,d)=>{a.aborted||Lb(h,d,r,i,s)}}),o.set(l,c)),c&&CT(c)&&await c}finally{o.delete(l)}}function Lb(n,e,t,r,i){if(n){var s;let o=r[n];_e(o,"No route found to patch children into: routeId = "+n);let a=Vu(e,i,[n,"patch",String(((s=o.children)==null?void 0:s.length)||"0")],r);o.children?o.children.push(...a):o.children=a}else{let o=Vu(e,i,["patch",String(t.length||"0")],r);t.push(...o)}}async function w_(n,e,t){if(!n.lazy)return;let r=await n.lazy();if(!n.lazy)return;let i=t[n.id];_e(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";Sc(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!Bk.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,it({},e(i),{lazy:void 0}))}function wT(n){return Promise.all(n.matches.map(e=>e.resolve()))}async function _T(n,e,t,r,i,s,o,a){let l=r.reduce((d,f)=>d.add(f.route.id),new Set),c=new Set,h=await n({matches:i.map(d=>{let f=l.has(d.route.id);return it({},d,{shouldLoad:f,resolve:g=>(c.add(d.route.id),f?ET(e,t,d,s,o,g,a):Promise.resolve({type:He.data,result:void 0}))})}),request:t,params:i[0].params,context:a});return i.forEach(d=>_e(c.has(d.route.id),'`match.resolve()` was not called for route id "'+d.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),h.filter((d,f)=>l.has(i[f].route.id))}async function ET(n,e,t,r,i,s,o){let a,l,c=h=>{let d,f=new Promise((v,_)=>d=_);l=()=>d(),e.signal.addEventListener("abort",l);let p=v=>typeof h!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+n+'" [routeId: '+t.route.id+"]"))):h({request:e,params:t.params,context:o},...v!==void 0?[v]:[]),g;return s?g=s(v=>p(v)):g=(async()=>{try{return{type:"data",result:await p()}}catch(v){return{type:"error",result:v}}})(),Promise.race([g,f])};try{let h=t.route[n];if(t.route.lazy)if(h){let d,[f]=await Promise.all([c(h).catch(p=>{d=p}),w_(t.route,i,r)]);if(d!==void 0)throw d;a=f}else if(await w_(t.route,i,r),h=t.route[n],h)a=await c(h);else if(n==="action"){let d=new URL(e.url),f=d.pathname+d.search;throw ln(405,{method:e.method,pathname:f,routeId:t.route.id})}else return{type:He.data,result:void 0};else if(h)a=await c(h);else{let d=new URL(e.url),f=d.pathname+d.search;throw ln(404,{pathname:f})}_e(a.result!==void 0,"You defined "+(n==="action"?"an action":"a loader")+" for route "+('"'+t.route.id+"\" but didn't return anything from your `"+n+"` ")+"function. Please return a value or `null`.")}catch(h){return{type:He.error,result:h}}finally{l&&e.signal.removeEventListener("abort",l)}return a}async function AT(n){let{result:e,type:t}=n;if(Db(e)){let c;try{let h=e.headers.get("Content-Type");h&&/\bapplication\/json\b/.test(h)?e.body==null?c=null:c=await e.json():c=await e.text()}catch(h){return{type:He.error,error:h}}return t===He.error?{type:He.error,error:new bp(e.status,e.statusText,c),statusCode:e.status,headers:e.headers}:{type:He.data,data:c,statusCode:e.status,headers:e.headers}}if(t===He.error){if(k_(e)){var r;if(e.data instanceof Error){var i;return{type:He.error,error:e.data,statusCode:(i=e.init)==null?void 0:i.status}}e=new bp(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:He.error,error:e,statusCode:gg(e)?e.status:void 0}}if(TT(e)){var s,o;return{type:He.deferred,deferredData:e,statusCode:(s=e.init)==null?void 0:s.status,headers:((o=e.init)==null?void 0:o.headers)&&new Headers(e.init.headers)}}if(k_(e)){var a,l;return{type:He.data,data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:He.data,data:e}}function bT(n,e,t,r,i,s){let o=n.headers.get("Location");if(_e(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!P0.test(o)){let a=r.slice(0,r.findIndex(l=>l.route.id===t)+1);o=hv(new URL(e.url),a,i,!0,o,s),n.headers.set("Location",o)}return n}function __(n,e,t){if(P0.test(n)){let r=n,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=Pc(i.pathname,t)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return n}function Wa(n,e,t,r){let i=n.createURL(Mb(e)).toString(),s={signal:t};if(r&&Lr(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=dv(r.formData):s.body=r.formData}return new Request(i,s)}function dv(n){let e=new URLSearchParams;for(let[t,r]of n.entries())e.append(t,typeof r=="string"?r:r.name);return e}function E_(n){let e=new FormData;for(let[t,r]of n.entries())e.append(t,r);return e}function ST(n,e,t,r,i,s){let o={},a=null,l,c=!1,h={},d=r&&Un(r[1])?r[1].error:void 0;return t.forEach((f,p)=>{let g=e[p].route.id;if(_e(!bo(f),"Cannot handle redirect results in processLoaderData"),Un(f)){let v=f.error;d!==void 0&&(v=d,d=void 0),a=a||{};{let _=ul(n,g);a[_.route.id]==null&&(a[_.route.id]=v)}o[g]=void 0,c||(c=!0,l=gg(f.error)?f.error.status:500),f.headers&&(h[g]=f.headers)}else Ao(f)?(i.set(g,f.deferredData),o[g]=f.deferredData.data,f.statusCode!=null&&f.statusCode!==200&&!c&&(l=f.statusCode),f.headers&&(h[g]=f.headers)):(o[g]=f.data,f.statusCode&&f.statusCode!==200&&!c&&(l=f.statusCode),f.headers&&(h[g]=f.headers))}),d!==void 0&&r&&(a={[r[0]]:d},o[r[0]]=void 0),{loaderData:o,errors:a,statusCode:l||200,loaderHeaders:h}}function A_(n,e,t,r,i,s,o,a){let{loaderData:l,errors:c}=ST(e,t,r,i,a);for(let h=0;h<s.length;h++){let{key:d,match:f,controller:p}=s[h];_e(o!==void 0&&o[h]!==void 0,"Did not find corresponding fetcher result");let g=o[h];if(!(p&&p.signal.aborted))if(Un(g)){let v=ul(n.matches,f==null?void 0:f.route.id);c&&c[v.route.id]||(c=it({},c,{[v.route.id]:g.error})),n.fetchers.delete(d)}else if(bo(g))_e(!1,"Unhandled fetcher revalidation redirect");else if(Ao(g))_e(!1,"Unhandled fetcher deferred data");else{let v=cs(g.data);n.fetchers.set(d,v)}}return{loaderData:l,errors:c}}function b_(n,e,t,r){let i=it({},e);for(let s of t){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):n[o]!==void 0&&s.route.loader&&(i[o]=n[o]),r&&r.hasOwnProperty(o))break}return i}function S_(n){return n?Un(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function ul(n,e){return(e?n.slice(0,n.findIndex(r=>r.route.id===e)+1):[...n]).reverse().find(r=>r.route.hasErrorBoundary===!0)||n[0]}function x_(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function ln(n,e){let{pathname:t,routeId:r,method:i,type:s,message:o}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return n===400?(a="Bad Request",s==="route-discovery"?l='Unable to match URL "'+t+'" - the `unstable_patchRoutesOnNavigation()` '+(`function threw the following error:
`+o):i&&t&&r?l="You made a "+i+' request to "'+t+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?l="defer() is not supported in actions":s==="invalid-body"&&(l="Unable to encode submission body")):n===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+t+'"'):n===404?(a="Not Found",l='No route matches URL "'+t+'"'):n===405&&(a="Method Not Allowed",i&&t&&r?l="You made a "+i.toUpperCase()+' request to "'+t+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new bp(n||500,a,new Error(l),!0)}function C_(n){for(let e=n.length-1;e>=0;e--){let t=n[e];if(bo(t))return{result:t,idx:e}}}function Mb(n){let e=typeof n=="string"?ro(n):n;return Ca(it({},e,{hash:""}))}function xT(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function CT(n){return typeof n=="object"&&n!=null&&"then"in n}function kT(n){return Db(n.result)&&uT.has(n.result.status)}function Ao(n){return n.type===He.deferred}function Un(n){return n.type===He.error}function bo(n){return(n&&n.type)===He.redirect}function k_(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function TT(n){let e=n;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function Db(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function PT(n){return cT.has(n.toLowerCase())}function Lr(n){return aT.has(n.toLowerCase())}async function T_(n,e,t,r,i,s){for(let o=0;o<t.length;o++){let a=t[o],l=e[o];if(!l)continue;let c=n.find(d=>d.route.id===l.route.id),h=c!=null&&!Rb(c,l)&&(s&&s[l.route.id])!==void 0;if(Ao(a)&&(i||h)){let d=r[o];_e(d,"Expected an AbortSignal for revalidating fetcher deferred result"),await Ib(a,d,i).then(f=>{f&&(t[o]=f||t[o])})}}}async function Ib(n,e,t){if(t===void 0&&(t=!1),!await n.deferredData.resolveData(e)){if(t)try{return{type:He.data,data:n.deferredData.unwrappedData}}catch(i){return{type:He.error,error:i}}return{type:He.data,data:n.deferredData.data}}}function R0(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Jc(n,e){let t=typeof e=="string"?ro(e).search:e.search;if(n[n.length-1].route.index&&R0(t||""))return n[n.length-1];let r=kb(n);return r[r.length-1]}function P_(n){let{formMethod:e,formAction:t,formEncType:r,text:i,formData:s,json:o}=n;if(!(!e||!t||!r)){if(i!=null)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:t,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:o,text:void 0}}}function hm(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function RT(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function $c(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function LT(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function cs(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function MT(n,e){try{let t=n.sessionStorage.getItem(Pb);if(t){let r=JSON.parse(t);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function DT(n,e){if(e.size>0){let t={};for(let[r,i]of e)t[r]=[...i];try{n.sessionStorage.setItem(Pb,JSON.stringify(t))}catch(r){Sc(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.26.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sp(){return Sp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Sp.apply(this,arguments)}const mg=O.createContext(null),Nb=O.createContext(null),Na=O.createContext(null),L0=O.createContext(null),Fa=O.createContext({outlet:null,matches:[],isDataRoute:!1}),Fb=O.createContext(null);function IT(n,e){let{relative:t}=e===void 0?{}:e;Rd()||_e(!1);let{basename:r,navigator:i}=O.useContext(Na),{hash:s,pathname:o,search:a}=jb(n,{relative:t}),l=o;return r!=="/"&&(l=o==="/"?r:Ki([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Rd(){return O.useContext(L0)!=null}function vg(){return Rd()||_e(!1),O.useContext(L0).location}function Ob(n){O.useContext(Na).static||O.useLayoutEffect(n)}function NT(){let{isDataRoute:n}=O.useContext(Fa);return n?XT():FT()}function FT(){Rd()||_e(!1);let n=O.useContext(mg),{basename:e,future:t,navigator:r}=O.useContext(Na),{matches:i}=O.useContext(Fa),{pathname:s}=vg(),o=JSON.stringify(k0(i,t.v7_relativeSplatPath)),a=O.useRef(!1);return Ob(()=>{a.current=!0}),O.useCallback(function(c,h){if(h===void 0&&(h={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=T0(c,JSON.parse(o),s,h.relative==="path");n==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Ki([e,d.pathname])),(h.replace?r.replace:r.push)(d,h.state,h)},[e,r,o,s,n])}function jb(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=O.useContext(Na),{matches:i}=O.useContext(Fa),{pathname:s}=vg(),o=JSON.stringify(k0(i,r.v7_relativeSplatPath));return O.useMemo(()=>T0(n,JSON.parse(o),s,t==="path"),[n,o,s,t])}function OT(n,e,t,r){Rd()||_e(!1);let{navigator:i}=O.useContext(Na),{matches:s}=O.useContext(Fa),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=vg(),h;h=c;let d=h.pathname||"/",f=d;if(l!=="/"){let v=l.replace(/^\//,"").split("/");f="/"+d.replace(/^\//,"").split("/").slice(v.length).join("/")}let p=mo(n,{pathname:f});return UT(p&&p.map(v=>Object.assign({},v,{params:Object.assign({},a,v.params),pathname:Ki([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:Ki([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,t,r)}function jT(){let n=GT(),e=gg(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),t?O.createElement("pre",{style:i},t):null,null)}const zT=O.createElement(jT,null);class HT extends O.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?O.createElement(Fa.Provider,{value:this.props.routeContext},O.createElement(Fb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function BT(n){let{routeContext:e,match:t,children:r}=n,i=O.useContext(mg);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),O.createElement(Fa.Provider,{value:e},r)}function UT(n,e,t,r){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var s;if(!t)return null;if(t.errors)n=t.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=(i=t)==null?void 0:i.errors;if(a!=null){let h=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);h>=0||_e(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,c=-1;if(t&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let d=o[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=h),d.route.id){let{loaderData:f,errors:p}=t,g=d.route.loader&&f[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||g){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((h,d,f)=>{let p,g=!1,v=null,_=null;t&&(p=a&&d.route.id?a[d.route.id]:void 0,v=d.route.errorElement||zT,l&&(c<0&&f===0?(KT("route-fallback"),g=!0,_=null):c===f&&(g=!0,_=d.route.hydrateFallbackElement||null)));let m=e.concat(o.slice(0,f+1)),y=()=>{let w;return p?w=v:g?w=_:d.route.Component?w=O.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=h,O.createElement(BT,{match:d,routeContext:{outlet:h,matches:m,isDataRoute:t!=null},children:w})};return t&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?O.createElement(HT,{location:t.location,revalidation:t.revalidation,component:v,error:p,children:y(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):y()},null)}var zb=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(zb||{}),xp=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(xp||{});function $T(n){let e=O.useContext(mg);return e||_e(!1),e}function VT(n){let e=O.useContext(Nb);return e||_e(!1),e}function WT(n){let e=O.useContext(Fa);return e||_e(!1),e}function Hb(n){let e=WT(),t=e.matches[e.matches.length-1];return t.route.id||_e(!1),t.route.id}function GT(){var n;let e=O.useContext(Fb),t=VT(xp.UseRouteError),r=Hb(xp.UseRouteError);return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function XT(){let{router:n}=$T(zb.UseNavigateStable),e=Hb(xp.UseNavigateStable),t=O.useRef(!1);return Ob(()=>{t.current=!0}),O.useCallback(function(i,s){s===void 0&&(s={}),t.current&&(typeof i=="number"?n.navigate(i):n.navigate(i,Sp({fromRouteId:e},s)))},[n,e])}const R_={};function KT(n,e,t){R_[n]||(R_[n]=!0)}function YT(n){let{basename:e="/",children:t=null,location:r,navigationType:i=vt.Pop,navigator:s,static:o=!1,future:a}=n;Rd()&&_e(!1);let l=e.replace(/^\/*/,"/"),c=O.useMemo(()=>({basename:l,navigator:s,static:o,future:Sp({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=ro(r));let{pathname:h="/",search:d="",hash:f="",state:p=null,key:g="default"}=r,v=O.useMemo(()=>{let _=Pc(h,l);return _==null?null:{location:{pathname:_,search:d,hash:f,state:p,key:g},navigationType:i}},[l,h,d,f,p,g,i]);return v==null?null:O.createElement(Na.Provider,{value:c},O.createElement(L0.Provider,{children:t,value:v}))}new Promise(()=>{});function qT(n){let e={hasErrorBoundary:n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&Object.assign(e,{element:O.createElement(n.Component),Component:void 0}),n.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:O.createElement(n.HydrateFallback),HydrateFallback:void 0}),n.ErrorBoundary&&Object.assign(e,{errorElement:O.createElement(n.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.26.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wu(){return Wu=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Wu.apply(this,arguments)}function QT(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function JT(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function ZT(n,e){return n.button===0&&(!e||e==="_self")&&!JT(n)}const eP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],tP="6";try{window.__reactRouterVersion=tP}catch{}function nP(n,e){return pT({basename:void 0,future:Wu({},void 0,{v7_prependBasename:!0}),history:jk({window:void 0}),hydrationData:rP(),routes:n,mapRouteProperties:qT,unstable_dataStrategy:void 0,unstable_patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function rP(){var n;let e=(n=window)==null?void 0:n.__staticRouterHydrationData;return e&&e.errors&&(e=Wu({},e,{errors:iP(e.errors)})),e}function iP(n){if(!n)return null;let e=Object.entries(n),t={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")t[r]=new bp(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",t[r]=o}catch{}}if(t[r]==null){let s=new Error(i.message);s.stack="",t[r]=s}}else t[r]=i;return t}const sP=O.createContext({isTransitioning:!1}),oP=O.createContext(new Map),aP="startTransition",L_=xx[aP],lP="flushSync",M_=Ok[lP];function cP(n){L_?L_(n):n()}function Vc(n){M_?M_(n):n()}class uP{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}}function hP(n){let{fallbackElement:e,router:t,future:r}=n,[i,s]=O.useState(t.state),[o,a]=O.useState(),[l,c]=O.useState({isTransitioning:!1}),[h,d]=O.useState(),[f,p]=O.useState(),[g,v]=O.useState(),_=O.useRef(new Map),{v7_startTransition:m}=r||{},y=O.useCallback(x=>{m?cP(x):x()},[m]),w=O.useCallback((x,D)=>{let{deletedFetchers:I,unstable_flushSync:M,unstable_viewTransitionOpts:U}=D;I.forEach($=>_.current.delete($)),x.fetchers.forEach(($,Q)=>{$.data!==void 0&&_.current.set(Q,$.data)});let W=t.window==null||t.window.document==null||typeof t.window.document.startViewTransition!="function";if(!U||W){M?Vc(()=>s(x)):y(()=>s(x));return}if(M){Vc(()=>{f&&(h&&h.resolve(),f.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:U.currentLocation,nextLocation:U.nextLocation})});let $=t.window.document.startViewTransition(()=>{Vc(()=>s(x))});$.finished.finally(()=>{Vc(()=>{d(void 0),p(void 0),a(void 0),c({isTransitioning:!1})})}),Vc(()=>p($));return}f?(h&&h.resolve(),f.skipTransition(),v({state:x,currentLocation:U.currentLocation,nextLocation:U.nextLocation})):(a(x),c({isTransitioning:!0,flushSync:!1,currentLocation:U.currentLocation,nextLocation:U.nextLocation}))},[t.window,f,h,_,y]);O.useLayoutEffect(()=>t.subscribe(w),[t,w]),O.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new uP)},[l]),O.useEffect(()=>{if(h&&o&&t.window){let x=o,D=h.promise,I=t.window.document.startViewTransition(async()=>{y(()=>s(x)),await D});I.finished.finally(()=>{d(void 0),p(void 0),a(void 0),c({isTransitioning:!1})}),p(I)}},[y,o,h,t.window]),O.useEffect(()=>{h&&o&&i.location.key===o.location.key&&h.resolve()},[h,f,i.location,o]),O.useEffect(()=>{!l.isTransitioning&&g&&(a(g.state),c({isTransitioning:!0,flushSync:!1,currentLocation:g.currentLocation,nextLocation:g.nextLocation}),v(void 0))},[l.isTransitioning,g]),O.useEffect(()=>{},[]);let S=O.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:x=>t.navigate(x),push:(x,D,I)=>t.navigate(x,{state:D,preventScrollReset:I==null?void 0:I.preventScrollReset}),replace:(x,D,I)=>t.navigate(x,{replace:!0,state:D,preventScrollReset:I==null?void 0:I.preventScrollReset})}),[t]),C=t.basename||"/",k=O.useMemo(()=>({router:t,navigator:S,static:!1,basename:C}),[t,S,C]),P=O.useMemo(()=>({v7_relativeSplatPath:t.future.v7_relativeSplatPath}),[t.future.v7_relativeSplatPath]);return O.createElement(O.Fragment,null,O.createElement(mg.Provider,{value:k},O.createElement(Nb.Provider,{value:i},O.createElement(oP.Provider,{value:_.current},O.createElement(sP.Provider,{value:l},O.createElement(YT,{basename:C,location:i.location,navigationType:i.historyAction,navigator:S,future:P},i.initialized||t.future.v7_partialHydration?O.createElement(dP,{routes:t.routes,future:t.future,state:i}):e))))),null)}const dP=O.memo(fP);function fP(n){let{routes:e,future:t,state:r}=n;return OT(e,void 0,r,t)}const pP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",gP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,af=O.forwardRef(function(e,t){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:h,unstable_viewTransition:d}=e,f=QT(e,eP),{basename:p}=O.useContext(Na),g,v=!1;if(typeof c=="string"&&gP.test(c)&&(g=c,pP))try{let w=new URL(window.location.href),S=c.startsWith("//")?new URL(w.protocol+c):new URL(c),C=Pc(S.pathname,p);S.origin===w.origin&&C!=null?c=C+S.search+S.hash:v=!0}catch{}let _=IT(c,{relative:i}),m=mP(c,{replace:o,state:a,target:l,preventScrollReset:h,relative:i,unstable_viewTransition:d});function y(w){r&&r(w),w.defaultPrevented||m(w)}return O.createElement("a",Wu({},f,{href:g||_,onClick:v||s?r:y,ref:t,target:l}))});var D_;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(D_||(D_={}));var I_;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(I_||(I_={}));function mP(n,e){let{target:t,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=NT(),c=vg(),h=jb(n,{relative:o});return O.useCallback(d=>{if(ZT(d,t)){d.preventDefault();let f=r!==void 0?r:Ca(c)===Ca(h);l(n,{replace:f,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[c,l,h,r,i,t,n,s,o,a])}var vP={exports:{}};(function(n,e){(function(t,r){n.exports=r(O)})(typeof self<"u"?self:cx,t=>(()=>{var r={7403:(a,l,c)=>{c.d(l,{default:()=>j});var h=c(4087),d=c.n(h);const f=function(z){return new RegExp(/<[a-z][\s\S]*>/i).test(z)},p=function(z,H){return Math.floor(Math.random()*(H-z+1))+z};var g="TYPE_CHARACTER",v="REMOVE_CHARACTER",_="REMOVE_ALL",m="REMOVE_LAST_VISIBLE_NODE",y="PAUSE_FOR",w="CALL_FUNCTION",S="ADD_HTML_TAG_ELEMENT",C="CHANGE_DELETE_SPEED",k="CHANGE_DELAY",P="CHANGE_CURSOR",x="PASTE_STRING",D="HTML_TAG";function I(z){return I=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},I(z)}function M(z,H){var J=Object.keys(z);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(z);H&&(G=G.filter(function(ue){return Object.getOwnPropertyDescriptor(z,ue).enumerable})),J.push.apply(J,G)}return J}function U(z){for(var H=1;H<arguments.length;H++){var J=arguments[H]!=null?arguments[H]:{};H%2?M(Object(J),!0).forEach(function(G){q(z,G,J[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(z,Object.getOwnPropertyDescriptors(J)):M(Object(J)).forEach(function(G){Object.defineProperty(z,G,Object.getOwnPropertyDescriptor(J,G))})}return z}function W(z){return function(H){if(Array.isArray(H))return $(H)}(z)||function(H){if(typeof Symbol<"u"&&H[Symbol.iterator]!=null||H["@@iterator"]!=null)return Array.from(H)}(z)||function(H,J){if(H){if(typeof H=="string")return $(H,J);var G=Object.prototype.toString.call(H).slice(8,-1);return G==="Object"&&H.constructor&&(G=H.constructor.name),G==="Map"||G==="Set"?Array.from(H):G==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(G)?$(H,J):void 0}}(z)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function $(z,H){(H==null||H>z.length)&&(H=z.length);for(var J=0,G=new Array(H);J<H;J++)G[J]=z[J];return G}function Q(z,H){for(var J=0;J<H.length;J++){var G=H[J];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(z,K(G.key),G)}}function q(z,H,J){return(H=K(H))in z?Object.defineProperty(z,H,{value:J,enumerable:!0,configurable:!0,writable:!0}):z[H]=J,z}function K(z){var H=function(J,G){if(I(J)!=="object"||J===null)return J;var ue=J[Symbol.toPrimitive];if(ue!==void 0){var N=ue.call(J,"string");if(I(N)!=="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(J)}(z);return I(H)==="symbol"?H:String(H)}const j=function(){function z(G,ue){var N=this;if(function(X,re){if(!(X instanceof re))throw new TypeError("Cannot call a class as a function")}(this,z),q(this,"state",{cursorAnimation:null,lastFrameTime:null,pauseUntil:null,eventQueue:[],eventLoop:null,eventLoopPaused:!1,reverseCalledEvents:[],calledEvents:[],visibleNodes:[],initialOptions:null,elements:{container:null,wrapper:document.createElement("span"),cursor:document.createElement("span")}}),q(this,"options",{strings:null,cursor:"|",delay:"natural",pauseFor:1500,deleteSpeed:"natural",loop:!1,autoStart:!1,devMode:!1,skipAddStyles:!1,wrapperClassName:"Typewriter__wrapper",cursorClassName:"Typewriter__cursor",stringSplitter:null,onCreateTextNode:null,onRemoveNode:null}),q(this,"setupWrapperElement",function(){N.state.elements.container&&(N.state.elements.wrapper.className=N.options.wrapperClassName,N.state.elements.cursor.className=N.options.cursorClassName,N.state.elements.cursor.innerHTML=N.options.cursor,N.state.elements.container.innerHTML="",N.state.elements.container.appendChild(N.state.elements.wrapper),N.state.elements.container.appendChild(N.state.elements.cursor))}),q(this,"start",function(){return N.state.eventLoopPaused=!1,N.runEventLoop(),N}),q(this,"pause",function(){return N.state.eventLoopPaused=!0,N}),q(this,"stop",function(){return N.state.eventLoop&&((0,h.cancel)(N.state.eventLoop),N.state.eventLoop=null),N}),q(this,"pauseFor",function(X){return N.addEventToQueue(y,{ms:X}),N}),q(this,"typeOutAllStrings",function(){return typeof N.options.strings=="string"?(N.typeString(N.options.strings).pauseFor(N.options.pauseFor),N):(N.options.strings.forEach(function(X){N.typeString(X).pauseFor(N.options.pauseFor).deleteAll(N.options.deleteSpeed)}),N)}),q(this,"typeString",function(X){var re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(f(X))return N.typeOutHTMLString(X,re);if(X){var we=(N.options||{}).stringSplitter,De=typeof we=="function"?we(X):X.split("");N.typeCharacters(De,re)}return N}),q(this,"pasteString",function(X){var re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return f(X)?N.typeOutHTMLString(X,re,!0):(X&&N.addEventToQueue(x,{character:X,node:re}),N)}),q(this,"typeOutHTMLString",function(X){var re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,we=arguments.length>2?arguments[2]:void 0,De=function(Ce){var ge=document.createElement("div");return ge.innerHTML=Ce,ge.childNodes}(X);if(De.length>0)for(var le=0;le<De.length;le++){var pt=De[le],mn=pt.innerHTML;pt&&pt.nodeType!==3?(pt.innerHTML="",N.addEventToQueue(S,{node:pt,parentNode:re}),we?N.pasteString(mn,pt):N.typeString(mn,pt)):pt.textContent&&(we?N.pasteString(pt.textContent,re):N.typeString(pt.textContent,re))}return N}),q(this,"deleteAll",function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"natural";return N.addEventToQueue(_,{speed:X}),N}),q(this,"changeDeleteSpeed",function(X){if(!X)throw new Error("Must provide new delete speed");return N.addEventToQueue(C,{speed:X}),N}),q(this,"changeDelay",function(X){if(!X)throw new Error("Must provide new delay");return N.addEventToQueue(k,{delay:X}),N}),q(this,"changeCursor",function(X){if(!X)throw new Error("Must provide new cursor");return N.addEventToQueue(P,{cursor:X}),N}),q(this,"deleteChars",function(X){if(!X)throw new Error("Must provide amount of characters to delete");for(var re=0;re<X;re++)N.addEventToQueue(v);return N}),q(this,"callFunction",function(X,re){if(!X||typeof X!="function")throw new Error("Callback must be a function");return N.addEventToQueue(w,{cb:X,thisArg:re}),N}),q(this,"typeCharacters",function(X){var re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!X||!Array.isArray(X))throw new Error("Characters must be an array");return X.forEach(function(we){N.addEventToQueue(g,{character:we,node:re})}),N}),q(this,"removeCharacters",function(X){if(!X||!Array.isArray(X))throw new Error("Characters must be an array");return X.forEach(function(){N.addEventToQueue(v)}),N}),q(this,"addEventToQueue",function(X,re){var we=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return N.addEventToStateProperty(X,re,we,"eventQueue")}),q(this,"addReverseCalledEvent",function(X,re){var we=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return N.options.loop?N.addEventToStateProperty(X,re,we,"reverseCalledEvents"):N}),q(this,"addEventToStateProperty",function(X,re){var we=arguments.length>2&&arguments[2]!==void 0&&arguments[2],De=arguments.length>3?arguments[3]:void 0,le={eventName:X,eventArgs:re||{}};return N.state[De]=we?[le].concat(W(N.state[De])):[].concat(W(N.state[De]),[le]),N}),q(this,"runEventLoop",function(){N.state.lastFrameTime||(N.state.lastFrameTime=Date.now());var X=Date.now(),re=X-N.state.lastFrameTime;if(!N.state.eventQueue.length){if(!N.options.loop)return;N.state.eventQueue=W(N.state.calledEvents),N.state.calledEvents=[],N.options=U({},N.state.initialOptions)}if(N.state.eventLoop=d()(N.runEventLoop),!N.state.eventLoopPaused){if(N.state.pauseUntil){if(X<N.state.pauseUntil)return;N.state.pauseUntil=null}var we,De=W(N.state.eventQueue),le=De.shift();if(!(re<=(we=le.eventName===m||le.eventName===v?N.options.deleteSpeed==="natural"?p(40,80):N.options.deleteSpeed:N.options.delay==="natural"?p(120,160):N.options.delay))){var pt=le.eventName,mn=le.eventArgs;switch(N.logInDevMode({currentEvent:le,state:N.state,delay:we}),pt){case x:case g:var Ce=mn.character,ge=mn.node,Ye=document.createTextNode(Ce),$e=Ye;N.options.onCreateTextNode&&typeof N.options.onCreateTextNode=="function"&&($e=N.options.onCreateTextNode(Ce,Ye)),$e&&(ge?ge.appendChild($e):N.state.elements.wrapper.appendChild($e)),N.state.visibleNodes=[].concat(W(N.state.visibleNodes),[{type:"TEXT_NODE",character:Ce,node:$e}]);break;case v:De.unshift({eventName:m,eventArgs:{removingCharacterNode:!0}});break;case y:var Yn=le.eventArgs.ms;N.state.pauseUntil=Date.now()+parseInt(Yn);break;case w:var qn=le.eventArgs,Rc=qn.cb,Lc=qn.thisArg;Rc.call(Lc,{elements:N.state.elements});break;case S:var Fr=le.eventArgs,so=Fr.node,oo=Fr.parentNode;oo?oo.appendChild(so):N.state.elements.wrapper.appendChild(so),N.state.visibleNodes=[].concat(W(N.state.visibleNodes),[{type:D,node:so,parentNode:oo||N.state.elements.wrapper}]);break;case _:var Mc=N.state.visibleNodes,ao=mn.speed,Qn=[];ao&&Qn.push({eventName:C,eventArgs:{speed:ao,temp:!0}});for(var rn=0,ui=Mc.length;rn<ui;rn++)Qn.push({eventName:m,eventArgs:{removingCharacterNode:!1}});ao&&Qn.push({eventName:C,eventArgs:{speed:N.options.deleteSpeed,temp:!0}}),De.unshift.apply(De,Qn);break;case m:var Or=le.eventArgs.removingCharacterNode;if(N.state.visibleNodes.length){var Gt=N.state.visibleNodes.pop(),dr=Gt.type,lo=Gt.node,Ha=Gt.character;N.options.onRemoveNode&&typeof N.options.onRemoveNode=="function"&&N.options.onRemoveNode({node:lo,character:Ha}),lo&&lo.parentNode.removeChild(lo),dr===D&&Or&&De.unshift({eventName:m,eventArgs:{}})}break;case C:N.options.deleteSpeed=le.eventArgs.speed;break;case k:N.options.delay=le.eventArgs.delay;break;case P:N.options.cursor=le.eventArgs.cursor,N.state.elements.cursor.innerHTML=le.eventArgs.cursor}N.options.loop&&(le.eventName===m||le.eventArgs&&le.eventArgs.temp||(N.state.calledEvents=[].concat(W(N.state.calledEvents),[le]))),N.state.eventQueue=De,N.state.lastFrameTime=X}}}),G)if(typeof G=="string"){var Ke=document.querySelector(G);if(!Ke)throw new Error("Could not find container element");this.state.elements.container=Ke}else this.state.elements.container=G;ue&&(this.options=U(U({},this.options),ue)),this.state.initialOptions=U({},this.options),this.init()}var H,J;return H=z,(J=[{key:"init",value:function(){var G,ue;this.setupWrapperElement(),this.addEventToQueue(P,{cursor:this.options.cursor},!0),this.addEventToQueue(_,null,!0),!window||window.___TYPEWRITER_JS_STYLES_ADDED___||this.options.skipAddStyles||(G=".Typewriter__cursor{-webkit-animation:Typewriter-cursor 1s infinite;animation:Typewriter-cursor 1s infinite;margin-left:1px}@-webkit-keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}@keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}",(ue=document.createElement("style")).appendChild(document.createTextNode(G)),document.head.appendChild(ue),window.___TYPEWRITER_JS_STYLES_ADDED___=!0),this.options.autoStart===!0&&this.options.strings&&this.typeOutAllStrings().start()}},{key:"logInDevMode",value:function(G){this.options.devMode&&console.log(G)}}])&&Q(H.prototype,J),Object.defineProperty(H,"prototype",{writable:!1}),z}()},8552:(a,l,c)=>{var h=c(852)(c(5639),"DataView");a.exports=h},1989:(a,l,c)=>{var h=c(1789),d=c(401),f=c(7667),p=c(1327),g=c(1866);function v(_){var m=-1,y=_==null?0:_.length;for(this.clear();++m<y;){var w=_[m];this.set(w[0],w[1])}}v.prototype.clear=h,v.prototype.delete=d,v.prototype.get=f,v.prototype.has=p,v.prototype.set=g,a.exports=v},8407:(a,l,c)=>{var h=c(7040),d=c(4125),f=c(2117),p=c(7518),g=c(4705);function v(_){var m=-1,y=_==null?0:_.length;for(this.clear();++m<y;){var w=_[m];this.set(w[0],w[1])}}v.prototype.clear=h,v.prototype.delete=d,v.prototype.get=f,v.prototype.has=p,v.prototype.set=g,a.exports=v},7071:(a,l,c)=>{var h=c(852)(c(5639),"Map");a.exports=h},3369:(a,l,c)=>{var h=c(4785),d=c(1285),f=c(6e3),p=c(9916),g=c(5265);function v(_){var m=-1,y=_==null?0:_.length;for(this.clear();++m<y;){var w=_[m];this.set(w[0],w[1])}}v.prototype.clear=h,v.prototype.delete=d,v.prototype.get=f,v.prototype.has=p,v.prototype.set=g,a.exports=v},3818:(a,l,c)=>{var h=c(852)(c(5639),"Promise");a.exports=h},8525:(a,l,c)=>{var h=c(852)(c(5639),"Set");a.exports=h},8668:(a,l,c)=>{var h=c(3369),d=c(619),f=c(2385);function p(g){var v=-1,_=g==null?0:g.length;for(this.__data__=new h;++v<_;)this.add(g[v])}p.prototype.add=p.prototype.push=d,p.prototype.has=f,a.exports=p},6384:(a,l,c)=>{var h=c(8407),d=c(7465),f=c(3779),p=c(7599),g=c(4758),v=c(4309);function _(m){var y=this.__data__=new h(m);this.size=y.size}_.prototype.clear=d,_.prototype.delete=f,_.prototype.get=p,_.prototype.has=g,_.prototype.set=v,a.exports=_},2705:(a,l,c)=>{var h=c(5639).Symbol;a.exports=h},1149:(a,l,c)=>{var h=c(5639).Uint8Array;a.exports=h},577:(a,l,c)=>{var h=c(852)(c(5639),"WeakMap");a.exports=h},4963:a=>{a.exports=function(l,c){for(var h=-1,d=l==null?0:l.length,f=0,p=[];++h<d;){var g=l[h];c(g,h,l)&&(p[f++]=g)}return p}},4636:(a,l,c)=>{var h=c(2545),d=c(5694),f=c(1469),p=c(4144),g=c(5776),v=c(6719),_=Object.prototype.hasOwnProperty;a.exports=function(m,y){var w=f(m),S=!w&&d(m),C=!w&&!S&&p(m),k=!w&&!S&&!C&&v(m),P=w||S||C||k,x=P?h(m.length,String):[],D=x.length;for(var I in m)!y&&!_.call(m,I)||P&&(I=="length"||C&&(I=="offset"||I=="parent")||k&&(I=="buffer"||I=="byteLength"||I=="byteOffset")||g(I,D))||x.push(I);return x}},2488:a=>{a.exports=function(l,c){for(var h=-1,d=c.length,f=l.length;++h<d;)l[f+h]=c[h];return l}},2908:a=>{a.exports=function(l,c){for(var h=-1,d=l==null?0:l.length;++h<d;)if(c(l[h],h,l))return!0;return!1}},8470:(a,l,c)=>{var h=c(7813);a.exports=function(d,f){for(var p=d.length;p--;)if(h(d[p][0],f))return p;return-1}},8866:(a,l,c)=>{var h=c(2488),d=c(1469);a.exports=function(f,p,g){var v=p(f);return d(f)?v:h(v,g(f))}},4239:(a,l,c)=>{var h=c(2705),d=c(9607),f=c(2333),p=h?h.toStringTag:void 0;a.exports=function(g){return g==null?g===void 0?"[object Undefined]":"[object Null]":p&&p in Object(g)?d(g):f(g)}},9454:(a,l,c)=>{var h=c(4239),d=c(7005);a.exports=function(f){return d(f)&&h(f)=="[object Arguments]"}},939:(a,l,c)=>{var h=c(2492),d=c(7005);a.exports=function f(p,g,v,_,m){return p===g||(p==null||g==null||!d(p)&&!d(g)?p!=p&&g!=g:h(p,g,v,_,f,m))}},2492:(a,l,c)=>{var h=c(6384),d=c(7114),f=c(8351),p=c(6096),g=c(4160),v=c(1469),_=c(4144),m=c(6719),y="[object Arguments]",w="[object Array]",S="[object Object]",C=Object.prototype.hasOwnProperty;a.exports=function(k,P,x,D,I,M){var U=v(k),W=v(P),$=U?w:g(k),Q=W?w:g(P),q=($=$==y?S:$)==S,K=(Q=Q==y?S:Q)==S,j=$==Q;if(j&&_(k)){if(!_(P))return!1;U=!0,q=!1}if(j&&!q)return M||(M=new h),U||m(k)?d(k,P,x,D,I,M):f(k,P,$,x,D,I,M);if(!(1&x)){var z=q&&C.call(k,"__wrapped__"),H=K&&C.call(P,"__wrapped__");if(z||H){var J=z?k.value():k,G=H?P.value():P;return M||(M=new h),I(J,G,x,D,M)}}return!!j&&(M||(M=new h),p(k,P,x,D,I,M))}},8458:(a,l,c)=>{var h=c(3560),d=c(5346),f=c(3218),p=c(346),g=/^\[object .+?Constructor\]$/,v=Function.prototype,_=Object.prototype,m=v.toString,y=_.hasOwnProperty,w=RegExp("^"+m.call(y).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");a.exports=function(S){return!(!f(S)||d(S))&&(h(S)?w:g).test(p(S))}},8749:(a,l,c)=>{var h=c(4239),d=c(1780),f=c(7005),p={};p["[object Float32Array]"]=p["[object Float64Array]"]=p["[object Int8Array]"]=p["[object Int16Array]"]=p["[object Int32Array]"]=p["[object Uint8Array]"]=p["[object Uint8ClampedArray]"]=p["[object Uint16Array]"]=p["[object Uint32Array]"]=!0,p["[object Arguments]"]=p["[object Array]"]=p["[object ArrayBuffer]"]=p["[object Boolean]"]=p["[object DataView]"]=p["[object Date]"]=p["[object Error]"]=p["[object Function]"]=p["[object Map]"]=p["[object Number]"]=p["[object Object]"]=p["[object RegExp]"]=p["[object Set]"]=p["[object String]"]=p["[object WeakMap]"]=!1,a.exports=function(g){return f(g)&&d(g.length)&&!!p[h(g)]}},280:(a,l,c)=>{var h=c(5726),d=c(6916),f=Object.prototype.hasOwnProperty;a.exports=function(p){if(!h(p))return d(p);var g=[];for(var v in Object(p))f.call(p,v)&&v!="constructor"&&g.push(v);return g}},2545:a=>{a.exports=function(l,c){for(var h=-1,d=Array(l);++h<l;)d[h]=c(h);return d}},1717:a=>{a.exports=function(l){return function(c){return l(c)}}},4757:a=>{a.exports=function(l,c){return l.has(c)}},4429:(a,l,c)=>{var h=c(5639)["__core-js_shared__"];a.exports=h},7114:(a,l,c)=>{var h=c(8668),d=c(2908),f=c(4757);a.exports=function(p,g,v,_,m,y){var w=1&v,S=p.length,C=g.length;if(S!=C&&!(w&&C>S))return!1;var k=y.get(p),P=y.get(g);if(k&&P)return k==g&&P==p;var x=-1,D=!0,I=2&v?new h:void 0;for(y.set(p,g),y.set(g,p);++x<S;){var M=p[x],U=g[x];if(_)var W=w?_(U,M,x,g,p,y):_(M,U,x,p,g,y);if(W!==void 0){if(W)continue;D=!1;break}if(I){if(!d(g,function($,Q){if(!f(I,Q)&&(M===$||m(M,$,v,_,y)))return I.push(Q)})){D=!1;break}}else if(M!==U&&!m(M,U,v,_,y)){D=!1;break}}return y.delete(p),y.delete(g),D}},8351:(a,l,c)=>{var h=c(2705),d=c(1149),f=c(7813),p=c(7114),g=c(8776),v=c(1814),_=h?h.prototype:void 0,m=_?_.valueOf:void 0;a.exports=function(y,w,S,C,k,P,x){switch(S){case"[object DataView]":if(y.byteLength!=w.byteLength||y.byteOffset!=w.byteOffset)return!1;y=y.buffer,w=w.buffer;case"[object ArrayBuffer]":return!(y.byteLength!=w.byteLength||!P(new d(y),new d(w)));case"[object Boolean]":case"[object Date]":case"[object Number]":return f(+y,+w);case"[object Error]":return y.name==w.name&&y.message==w.message;case"[object RegExp]":case"[object String]":return y==w+"";case"[object Map]":var D=g;case"[object Set]":var I=1&C;if(D||(D=v),y.size!=w.size&&!I)return!1;var M=x.get(y);if(M)return M==w;C|=2,x.set(y,w);var U=p(D(y),D(w),C,k,P,x);return x.delete(y),U;case"[object Symbol]":if(m)return m.call(y)==m.call(w)}return!1}},6096:(a,l,c)=>{var h=c(8234),d=Object.prototype.hasOwnProperty;a.exports=function(f,p,g,v,_,m){var y=1&g,w=h(f),S=w.length;if(S!=h(p).length&&!y)return!1;for(var C=S;C--;){var k=w[C];if(!(y?k in p:d.call(p,k)))return!1}var P=m.get(f),x=m.get(p);if(P&&x)return P==p&&x==f;var D=!0;m.set(f,p),m.set(p,f);for(var I=y;++C<S;){var M=f[k=w[C]],U=p[k];if(v)var W=y?v(U,M,k,p,f,m):v(M,U,k,f,p,m);if(!(W===void 0?M===U||_(M,U,g,v,m):W)){D=!1;break}I||(I=k=="constructor")}if(D&&!I){var $=f.constructor,Q=p.constructor;$==Q||!("constructor"in f)||!("constructor"in p)||typeof $=="function"&&$ instanceof $&&typeof Q=="function"&&Q instanceof Q||(D=!1)}return m.delete(f),m.delete(p),D}},1957:(a,l,c)=>{var h=typeof c.g=="object"&&c.g&&c.g.Object===Object&&c.g;a.exports=h},8234:(a,l,c)=>{var h=c(8866),d=c(9551),f=c(3674);a.exports=function(p){return h(p,f,d)}},5050:(a,l,c)=>{var h=c(7019);a.exports=function(d,f){var p=d.__data__;return h(f)?p[typeof f=="string"?"string":"hash"]:p.map}},852:(a,l,c)=>{var h=c(8458),d=c(7801);a.exports=function(f,p){var g=d(f,p);return h(g)?g:void 0}},9607:(a,l,c)=>{var h=c(2705),d=Object.prototype,f=d.hasOwnProperty,p=d.toString,g=h?h.toStringTag:void 0;a.exports=function(v){var _=f.call(v,g),m=v[g];try{v[g]=void 0;var y=!0}catch{}var w=p.call(v);return y&&(_?v[g]=m:delete v[g]),w}},9551:(a,l,c)=>{var h=c(4963),d=c(479),f=Object.prototype.propertyIsEnumerable,p=Object.getOwnPropertySymbols,g=p?function(v){return v==null?[]:(v=Object(v),h(p(v),function(_){return f.call(v,_)}))}:d;a.exports=g},4160:(a,l,c)=>{var h=c(8552),d=c(7071),f=c(3818),p=c(8525),g=c(577),v=c(4239),_=c(346),m="[object Map]",y="[object Promise]",w="[object Set]",S="[object WeakMap]",C="[object DataView]",k=_(h),P=_(d),x=_(f),D=_(p),I=_(g),M=v;(h&&M(new h(new ArrayBuffer(1)))!=C||d&&M(new d)!=m||f&&M(f.resolve())!=y||p&&M(new p)!=w||g&&M(new g)!=S)&&(M=function(U){var W=v(U),$=W=="[object Object]"?U.constructor:void 0,Q=$?_($):"";if(Q)switch(Q){case k:return C;case P:return m;case x:return y;case D:return w;case I:return S}return W}),a.exports=M},7801:a=>{a.exports=function(l,c){return l==null?void 0:l[c]}},1789:(a,l,c)=>{var h=c(4536);a.exports=function(){this.__data__=h?h(null):{},this.size=0}},401:a=>{a.exports=function(l){var c=this.has(l)&&delete this.__data__[l];return this.size-=c?1:0,c}},7667:(a,l,c)=>{var h=c(4536),d=Object.prototype.hasOwnProperty;a.exports=function(f){var p=this.__data__;if(h){var g=p[f];return g==="__lodash_hash_undefined__"?void 0:g}return d.call(p,f)?p[f]:void 0}},1327:(a,l,c)=>{var h=c(4536),d=Object.prototype.hasOwnProperty;a.exports=function(f){var p=this.__data__;return h?p[f]!==void 0:d.call(p,f)}},1866:(a,l,c)=>{var h=c(4536);a.exports=function(d,f){var p=this.__data__;return this.size+=this.has(d)?0:1,p[d]=h&&f===void 0?"__lodash_hash_undefined__":f,this}},5776:a=>{var l=/^(?:0|[1-9]\d*)$/;a.exports=function(c,h){var d=typeof c;return!!(h=h??9007199254740991)&&(d=="number"||d!="symbol"&&l.test(c))&&c>-1&&c%1==0&&c<h}},7019:a=>{a.exports=function(l){var c=typeof l;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?l!=="__proto__":l===null}},5346:(a,l,c)=>{var h,d=c(4429),f=(h=/[^.]+$/.exec(d&&d.keys&&d.keys.IE_PROTO||""))?"Symbol(src)_1."+h:"";a.exports=function(p){return!!f&&f in p}},5726:a=>{var l=Object.prototype;a.exports=function(c){var h=c&&c.constructor;return c===(typeof h=="function"&&h.prototype||l)}},7040:a=>{a.exports=function(){this.__data__=[],this.size=0}},4125:(a,l,c)=>{var h=c(8470),d=Array.prototype.splice;a.exports=function(f){var p=this.__data__,g=h(p,f);return!(g<0||(g==p.length-1?p.pop():d.call(p,g,1),--this.size,0))}},2117:(a,l,c)=>{var h=c(8470);a.exports=function(d){var f=this.__data__,p=h(f,d);return p<0?void 0:f[p][1]}},7518:(a,l,c)=>{var h=c(8470);a.exports=function(d){return h(this.__data__,d)>-1}},4705:(a,l,c)=>{var h=c(8470);a.exports=function(d,f){var p=this.__data__,g=h(p,d);return g<0?(++this.size,p.push([d,f])):p[g][1]=f,this}},4785:(a,l,c)=>{var h=c(1989),d=c(8407),f=c(7071);a.exports=function(){this.size=0,this.__data__={hash:new h,map:new(f||d),string:new h}}},1285:(a,l,c)=>{var h=c(5050);a.exports=function(d){var f=h(this,d).delete(d);return this.size-=f?1:0,f}},6e3:(a,l,c)=>{var h=c(5050);a.exports=function(d){return h(this,d).get(d)}},9916:(a,l,c)=>{var h=c(5050);a.exports=function(d){return h(this,d).has(d)}},5265:(a,l,c)=>{var h=c(5050);a.exports=function(d,f){var p=h(this,d),g=p.size;return p.set(d,f),this.size+=p.size==g?0:1,this}},8776:a=>{a.exports=function(l){var c=-1,h=Array(l.size);return l.forEach(function(d,f){h[++c]=[f,d]}),h}},4536:(a,l,c)=>{var h=c(852)(Object,"create");a.exports=h},6916:(a,l,c)=>{var h=c(5569)(Object.keys,Object);a.exports=h},1167:(a,l,c)=>{a=c.nmd(a);var h=c(1957),d=l&&!l.nodeType&&l,f=d&&a&&!a.nodeType&&a,p=f&&f.exports===d&&h.process,g=function(){try{return f&&f.require&&f.require("util").types||p&&p.binding&&p.binding("util")}catch{}}();a.exports=g},2333:a=>{var l=Object.prototype.toString;a.exports=function(c){return l.call(c)}},5569:a=>{a.exports=function(l,c){return function(h){return l(c(h))}}},5639:(a,l,c)=>{var h=c(1957),d=typeof self=="object"&&self&&self.Object===Object&&self,f=h||d||Function("return this")();a.exports=f},619:a=>{a.exports=function(l){return this.__data__.set(l,"__lodash_hash_undefined__"),this}},2385:a=>{a.exports=function(l){return this.__data__.has(l)}},1814:a=>{a.exports=function(l){var c=-1,h=Array(l.size);return l.forEach(function(d){h[++c]=d}),h}},7465:(a,l,c)=>{var h=c(8407);a.exports=function(){this.__data__=new h,this.size=0}},3779:a=>{a.exports=function(l){var c=this.__data__,h=c.delete(l);return this.size=c.size,h}},7599:a=>{a.exports=function(l){return this.__data__.get(l)}},4758:a=>{a.exports=function(l){return this.__data__.has(l)}},4309:(a,l,c)=>{var h=c(8407),d=c(7071),f=c(3369);a.exports=function(p,g){var v=this.__data__;if(v instanceof h){var _=v.__data__;if(!d||_.length<199)return _.push([p,g]),this.size=++v.size,this;v=this.__data__=new f(_)}return v.set(p,g),this.size=v.size,this}},346:a=>{var l=Function.prototype.toString;a.exports=function(c){if(c!=null){try{return l.call(c)}catch{}try{return c+""}catch{}}return""}},7813:a=>{a.exports=function(l,c){return l===c||l!=l&&c!=c}},5694:(a,l,c)=>{var h=c(9454),d=c(7005),f=Object.prototype,p=f.hasOwnProperty,g=f.propertyIsEnumerable,v=h(function(){return arguments}())?h:function(_){return d(_)&&p.call(_,"callee")&&!g.call(_,"callee")};a.exports=v},1469:a=>{var l=Array.isArray;a.exports=l},8612:(a,l,c)=>{var h=c(3560),d=c(1780);a.exports=function(f){return f!=null&&d(f.length)&&!h(f)}},4144:(a,l,c)=>{a=c.nmd(a);var h=c(5639),d=c(5062),f=l&&!l.nodeType&&l,p=f&&a&&!a.nodeType&&a,g=p&&p.exports===f?h.Buffer:void 0,v=(g?g.isBuffer:void 0)||d;a.exports=v},8446:(a,l,c)=>{var h=c(939);a.exports=function(d,f){return h(d,f)}},3560:(a,l,c)=>{var h=c(4239),d=c(3218);a.exports=function(f){if(!d(f))return!1;var p=h(f);return p=="[object Function]"||p=="[object GeneratorFunction]"||p=="[object AsyncFunction]"||p=="[object Proxy]"}},1780:a=>{a.exports=function(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=9007199254740991}},3218:a=>{a.exports=function(l){var c=typeof l;return l!=null&&(c=="object"||c=="function")}},7005:a=>{a.exports=function(l){return l!=null&&typeof l=="object"}},6719:(a,l,c)=>{var h=c(8749),d=c(1717),f=c(1167),p=f&&f.isTypedArray,g=p?d(p):h;a.exports=g},3674:(a,l,c)=>{var h=c(4636),d=c(280),f=c(8612);a.exports=function(p){return f(p)?h(p):d(p)}},479:a=>{a.exports=function(){return[]}},5062:a=>{a.exports=function(){return!1}},75:function(a){(function(){var l,c,h,d,f,p;typeof performance<"u"&&performance!==null&&performance.now?a.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(a.exports=function(){return(l()-f)/1e6},c=process.hrtime,d=(l=function(){var g;return 1e9*(g=c())[0]+g[1]})(),p=1e9*process.uptime(),f=d-p):Date.now?(a.exports=function(){return Date.now()-h},h=Date.now()):(a.exports=function(){return new Date().getTime()-h},h=new Date().getTime())}).call(this)},4087:(a,l,c)=>{for(var h=c(75),d=typeof window>"u"?c.g:window,f=["moz","webkit"],p="AnimationFrame",g=d["request"+p],v=d["cancel"+p]||d["cancelRequest"+p],_=0;!g&&_<f.length;_++)g=d[f[_]+"Request"+p],v=d[f[_]+"Cancel"+p]||d[f[_]+"CancelRequest"+p];if(!g||!v){var m=0,y=0,w=[];g=function(S){if(w.length===0){var C=h(),k=Math.max(0,16.666666666666668-(C-m));m=k+C,setTimeout(function(){var P=w.slice(0);w.length=0;for(var x=0;x<P.length;x++)if(!P[x].cancelled)try{P[x].callback(m)}catch(D){setTimeout(function(){throw D},0)}},Math.round(k))}return w.push({handle:++y,callback:S,cancelled:!1}),y},v=function(S){for(var C=0;C<w.length;C++)w[C].handle===S&&(w[C].cancelled=!0)}}a.exports=function(S){return g.call(d,S)},a.exports.cancel=function(){v.apply(d,arguments)},a.exports.polyfill=function(S){S||(S=d),S.requestAnimationFrame=g,S.cancelAnimationFrame=v}},8156:a=>{a.exports=t}},i={};function s(a){var l=i[a];if(l!==void 0)return l.exports;var c=i[a]={id:a,loaded:!1,exports:{}};return r[a].call(c.exports,c,c.exports,s),c.loaded=!0,c.exports}s.n=a=>{var l=a&&a.__esModule?()=>a.default:()=>a;return s.d(l,{a:l}),l},s.d=(a,l)=>{for(var c in l)s.o(l,c)&&!s.o(a,c)&&Object.defineProperty(a,c,{enumerable:!0,get:l[c]})},s.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),s.o=(a,l)=>Object.prototype.hasOwnProperty.call(a,l),s.nmd=a=>(a.paths=[],a.children||(a.children=[]),a);var o={};return(()=>{s.d(o,{default:()=>w});var a=s(8156),l=s.n(a),c=s(7403),h=s(8446),d=s.n(h);function f(S){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},f(S)}function p(S,C){for(var k=0;k<C.length;k++){var P=C[k];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(S,m(P.key),P)}}function g(S,C){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(k,P){return k.__proto__=P,k},g(S,C)}function v(S){if(S===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}function _(S){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(C){return C.__proto__||Object.getPrototypeOf(C)},_(S)}function m(S){var C=function(k,P){if(f(k)!=="object"||k===null)return k;var x=k[Symbol.toPrimitive];if(x!==void 0){var D=x.call(k,"string");if(f(D)!=="object")return D;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(k)}(S);return f(C)==="symbol"?C:String(C)}var y=function(S){(function(M,U){if(typeof U!="function"&&U!==null)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(U&&U.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),Object.defineProperty(M,"prototype",{writable:!1}),U&&g(M,U)})(I,S);var C,k,P,x,D=(P=I,x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var M,U=_(P);if(x){var W=_(this).constructor;M=Reflect.construct(U,arguments,W)}else M=U.apply(this,arguments);return function($,Q){if(Q&&(f(Q)==="object"||typeof Q=="function"))return Q;if(Q!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v($)}(this,M)});function I(){var M,U,W,$;(function(j,z){if(!(j instanceof z))throw new TypeError("Cannot call a class as a function")})(this,I);for(var Q=arguments.length,q=new Array(Q),K=0;K<Q;K++)q[K]=arguments[K];return U=v(M=D.call.apply(D,[this].concat(q))),$={instance:null},(W=m(W="state"))in U?Object.defineProperty(U,W,{value:$,enumerable:!0,configurable:!0,writable:!0}):U[W]=$,M}return C=I,(k=[{key:"componentDidMount",value:function(){var M=this,U=new c.default(this.typewriter,this.props.options);this.setState({instance:U},function(){var W=M.props.onInit;W&&W(U)})}},{key:"componentDidUpdate",value:function(M){d()(this.props.options,M.options)||this.setState({instance:new c.default(this.typewriter,this.props.options)})}},{key:"componentWillUnmount",value:function(){this.state.instance&&this.state.instance.stop()}},{key:"render",value:function(){var M=this,U=this.props.component;return l().createElement(U,{ref:function(W){return M.typewriter=W},className:"Typewriter","data-testid":"typewriter-wrapper"})}}])&&p(C.prototype,k),Object.defineProperty(C,"prototype",{writable:!1}),I}(a.Component);y.defaultProps={component:"div"};const w=y})(),o.default})())})(vP);function yg(n){return L.jsxs(L.Fragment,{children:[L.jsx("h1",{children:"binh's letters"}),L.jsx("nav",{children:L.jsxs("ol",{children:[L.jsx("li",{children:L.jsx(af,{to:"/",children:"home"})}),L.jsx("li",{children:L.jsx(af,{to:"/experience",children:"experience"})}),L.jsx("li",{children:L.jsx(af,{to:"/projects",children:"projects"})}),L.jsx("li",{children:L.jsx(af,{to:"/about",children:"about me"})})]})})]})}function wg(n){return L.jsx("footer",{children:L.jsxs("p",{children:["Copyright © ",new Date().getFullYear(),L.jsx("a",{href:"https://www.youtube.com/@binh",children:"Binh Le"})]})})}function yP(){return L.jsxs("div",{className:"main-container",children:[L.jsx(yg,{}),L.jsx("img",{src:"assets/nycsubway.jpg"}),L.jsx("p",{children:"hi, i'm binh le."}),L.jsx("p",{children:"thanks for being here."}),L.jsx("p",{children:"i had a lot of trouble deciding on how my portfolio site should be but after a discussion with my web dev professor, and being really inspired from herman's blog i now think less is more."}),L.jsx("p",{children:"i made this site to free myself from the a4 limits of traditional resumes."}),L.jsx("p",{children:"oh. and im 20 years old. a cs major @ drexel"}),L.jsx(wg,{})]})}const wP=()=>L.jsxs("div",{className:"main-container",children:[L.jsx(yg,{}),L.jsxs("ul",{children:[L.jsxs("li",{children:[L.jsx("span",{className:"date",children:"2024 - present"}),L.jsxs("div",{className:"content",children:[L.jsx("span",{className:"role",children:L.jsx("a",{href:"https://soar-lab.github.io/",target:"_blank",rel:"noopener noreferrer",children:"research assistant @ soar lab"})}),L.jsx("p",{className:"description",children:"co-authored a paper on security risks of llm-generated code. analyzed 1,000+ devgpt conversations, creating visualizations to highlight llm inaccuracies. developed scripts to fetch and clean github security data using python and pandas."}),L.jsx("span",{className:"technologies",children:"python, pandas, matplotlib, seaborn, jupyter notebook, numpy, github api"})]})]}),L.jsxs("li",{children:[L.jsx("span",{className:"date",children:"jul - sep 2024"}),L.jsxs("div",{className:"content",children:[L.jsx("span",{className:"role",children:L.jsx("a",{href:"https://google.com/",target:"_blank",rel:"noopener noreferrer",children:"fellow @ google"})}),L.jsx("p",{className:"description",children:"participate in pair programming sessions with google engineer for 10 weeks, and receive mentorship to prepare for technical and behavioral interviews."})]})]}),L.jsxs("li",{children:[L.jsx("span",{className:"date",children:"apr - sep 2024"}),L.jsxs("div",{className:"content",children:[L.jsx("span",{className:"role",children:L.jsx("a",{href:"https://dataing.io/",target:"_blank",rel:"noopener noreferrer",children:"software engineer co-op @ dataing"})}),L.jsx("p",{className:"description",children:"led efforts in automating user data retrievals from social media APIs, enhancing authentication processes and overall system efficiency. oversaw the integration of third-party services into an ios app and played a key role in qa to ensure seamless data extraction and feature reliability."}),L.jsx("span",{className:"technologies",children:"typescript, firestore, typesaurus, react, swift, api, aws, terraform, kubernetes, docker"})]})]}),L.jsxs("li",{children:[L.jsx("span",{className:"date",children:"apr - jul 2024"}),L.jsxs("div",{className:"content",children:[L.jsx("span",{className:"role",children:L.jsx("a",{href:"https://codeinplace.stanford.edu/",target:"_blank",rel:"noopener noreferrer",children:"section leader @ stanford"})}),L.jsx("p",{className:"description",children:"taught cs106a introduction to programming course for stanford"})]})]}),L.jsxs("li",{children:[L.jsx("span",{className:"date",children:"jan - feb 2024"}),L.jsxs("div",{className:"content",children:[L.jsx("span",{className:"role",children:L.jsx("a",{href:"https://www.meta.com/",target:"_blank",rel:"noopener noreferrer",children:"fellow @ meta"})}),L.jsx("p",{className:"description",children:"participated in meta's winter cohort of abcs fellowship to learn about ds&a problem solving and meta's interview process"})]})]}),L.jsxs("li",{children:[L.jsx("span",{className:"date",children:"apr - jun 2022"}),L.jsxs("div",{className:"content",children:[L.jsx("span",{className:"role",children:L.jsx("a",{href:"https://vnpt-technology.vn/en",target:"_blank",rel:"noopener noreferrer",children:"software engineer intern @ vnpt"})}),L.jsx("p",{className:"description",children:"conducted research to support error reduction in product development alongside fellow interns. developed a python script to streamline data cleaning, significantly enhancing work efficiency. gained insights into the product development process through factory tours."})]})]})]}),L.jsx("div",{className:"resume",children:L.jsx("a",{href:"src/assets/BinhLeResume.pdf",target:"_blank",children:"view full resume"})}),L.jsx(wg,{})]}),_P=()=>L.jsxs("div",{className:"main-container",children:[L.jsx(yg,{}),L.jsxs("ul",{children:[L.jsxs("li",{children:[L.jsx("span",{className:"date",children:"2013 - present"}),L.jsxs("div",{className:"content",children:[L.jsx("span",{className:"role",children:L.jsx("a",{href:"https://www.youtube.com/@binh",target:"_blank",rel:"noopener noreferrer",children:"content creator"})}),L.jsx("p",{className:"description",children:"amassed 1.3+ million followers by integrating cs education into engaging content for vietnamese teens. directed marketing strategies reaching 300+ million views with brands like tiktok, vng, acer, and vtc games."}),L.jsx("span",{className:"technologies",children:"youtube, tiktok, instagram, facebook, linkedin, marketing, content creation"})]})]}),L.jsxs("li",{children:[L.jsx("span",{className:"date",children:"apr 2024"}),L.jsxs("div",{className:"content",children:[L.jsx("span",{className:"role",children:L.jsx("a",{href:"https://github.com/mikth3372/DragonHacks",target:"_blank",rel:"noopener noreferrer",children:"serenity - dragonhacks 10"})}),L.jsx("p",{className:"description",children:"led a team of 3 to build an interview platform using humeapi for live emotional insights, winning best tech domain at dragonhacks 2024. designed the backend with session validation and integrated openai."}),L.jsx("span",{className:"technologies",children:"python, flask, humeapi, openai, react, tailwind, html, css, numpy, matplotlib"})]})]}),L.jsxs("li",{children:[L.jsx("span",{className:"date",children:"apr 2024"}),L.jsxs("div",{className:"content",children:[L.jsx("span",{className:"role",children:L.jsx("a",{href:"https://github.com/kxllydo/codefest24-25",target:"_blank",rel:"noopener noreferrer",children:"adopteam - philly codefest 2024"})}),L.jsx("p",{className:"description",children:"spearheaded ml model integration using multilayer perceptrons, achieving 80% success in parent-child pairings to make adoption more accessible and refine the process. used 1000 samples with various attributes for kids and adults, targeting compatibility."}),L.jsx("span",{className:"technologies",children:"python, keras, tensorflow, pandas, scikit-learn"})]})]}),L.jsxs("li",{children:[L.jsx("span",{className:"date",children:"dec 2023"}),L.jsxs("div",{className:"content",children:[L.jsx("span",{className:"role",children:"student survey & test system - drexel university"}),L.jsx("p",{className:"description",children:"leveraged 4+ design patterns in a java program to enable seamless future feature integration and optimized serialization for 50% faster runtime."}),L.jsx("span",{className:"technologies",children:"java, design patterns, serialization"})]})]}),L.jsxs("li",{children:[L.jsx("span",{className:"date",children:"aug 2023"}),L.jsxs("div",{className:"content",children:[L.jsx("span",{className:"role",children:L.jsx("a",{href:"https://github.com/BinhL3/MultiplayerSnake",target:"_blank",rel:"noopener noreferrer",children:"2d multiplayer snake"})}),L.jsx("p",{className:"description",children:"developed a 2d multiplayer snake game like slither.io using rest apis, phaser, and socket.io. led a team of 3 and implemented ci/cd with github actions."}),L.jsx("span",{className:"technologies",children:"javascript, react, socket.io, phaser, rest apis"})]})]}),L.jsxs("li",{children:[L.jsx("span",{className:"date",children:"aug 2023"}),L.jsxs("div",{className:"content",children:[L.jsx("span",{className:"role",children:"mini unix shell - drexel university"}),L.jsx("p",{className:"description",children:"engineered a c-based shell with system command execution, io redirection, and efficient process piping. added features like background task execution and directory navigation on tux servers."}),L.jsx("span",{className:"technologies",children:"c, tux servers, system programming"})]})]}),L.jsxs("li",{children:[L.jsx("span",{className:"date",children:"jan - jun 2023"}),L.jsxs("div",{className:"content",children:[L.jsx("span",{className:"role",children:L.jsx("a",{href:"https://github.com/BinhL3/Mangrove---Webagenda",target:"_blank",rel:"noopener noreferrer",children:"mangrove agenda"})}),L.jsx("p",{className:"description",children:"led a team-based agile full-stack project, mangrove agenda, at drexel to streamline student scheduling. designed the backend with python, flask, javascript for session validation, and sqlalchemy for database management. integrated openai and fullcalendar apis for a seamless user experience."}),L.jsx("span",{className:"technologies",children:"python, flask, javascript, sqlalchemy, openai, fullcalendar"})]})]}),L.jsxs("li",{children:[L.jsx("span",{className:"date",children:"apr - jun 2022"}),L.jsxs("div",{className:"content",children:[L.jsx("span",{className:"role",children:"pacman replication - vin university"}),L.jsx("p",{className:"description",children:"collaborated with 3 peers to develop a pacman replication game in java and javafx. reduced bugs by 70% with optimized collision detection to update the game state."}),L.jsx("span",{className:"technologies",children:"java, javafx, object-oriented programming, design patterns"})]})]}),L.jsxs("li",{children:[L.jsx("span",{className:"date",children:"2021 - 2022"}),L.jsxs("div",{className:"content",children:[L.jsx("span",{className:"role",children:"autonomous car - cecs day"}),L.jsx("p",{className:"description",children:"engineered a pre-trained model into an autonomous car, boosting track detection accuracy by 20% using opencv. secured top 2 best recycling solution at vinuni hackathon by implementing ar for cultural heritage preservation."}),L.jsx("span",{className:"technologies",children:"python, opencv, arduino, makerbot microcontroller, figma, esp32-cam module"})]})]})]}),L.jsx(wg,{})]}),EP=()=>L.jsxs("div",{className:"main-container",children:[L.jsx(yg,{}),L.jsx("img",{src:"src/assets/icon.jpg"}),L.jsx("p",{children:"hi, i'm binh le. 20. vietnamese."}),L.jsx("p",{children:"i called this page binh letters cause of the word play i thought was funny"}),L.jsx("p",{children:"i like to think of myself as a very passionate person. i mean it might just be me in my early twenties wanting to change the world and impact it in a positive light. but you'll find my talking about how cool people are for innovating and how smart people can be from looking at their legacy."}),L.jsx("p",{children:"i don't think i'm that smart. but man do i try to work hard and learn as many things as possible. it might be this attitude that helped me graduate at the top of my school, get into every vietnamese college (can't say the same for the u.s. ones), and gain substantial success in social media."}),L.jsx("p",{children:"i really want to succeed in this tech world now. even given the prevalence of ai. even given the kids who coded since they was 6. i hope that showing up and persisting each day through all the struggles will pay off."}),L.jsxs("p",{children:[L.jsx("strong",{children:"p.s. "}),"this picture here is fan art someone made of my minecraft character"]}),L.jsx(wg,{})]}),AP="modulepreload",bP=function(n){return"/"+n},N_={},lf=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.all(t.map(a=>{if(a=bP(a),a in N_)return;N_[a]=!0;const l=a.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${c}`))return;const h=document.createElement("link");if(h.rel=l?"stylesheet":AP,l||(h.as="script",h.crossOrigin=""),h.href=a,o&&h.setAttribute("nonce",o),document.head.appendChild(h),l)return new Promise((d,f)=>{h.addEventListener("load",d),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${a}`)))})}))}return i.then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};var bu={};bu.d=(n,e)=>{for(var t in e)bu.o(e,t)&&!bu.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})};bu.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var de=globalThis.pdfjsLib={};bu.d(de,{AbortException:()=>ja,AnnotationEditorLayer:()=>Ay,AnnotationEditorParamsType:()=>fe,AnnotationEditorType:()=>ke,AnnotationEditorUIManager:()=>Ta,AnnotationLayer:()=>EL,AnnotationMode:()=>vs,CMapCompressionType:()=>pv,ColorPicker:()=>Mp,DOMSVGFactory:()=>I0,DrawLayer:()=>Cy,FeatureTest:()=>bn,GlobalWorkerOptions:()=>Yi,ImageKind:()=>kf,InvalidPDFException:()=>Ub,MissingPDFException:()=>Oa,OPS:()=>mr,Outliner:()=>ry,PDFDataRangeTransport:()=>OS,PDFDateString:()=>Yb,PDFWorker:()=>wl,PasswordResponses:()=>kP,PermissionFlag:()=>CP,PixelsPerInch:()=>Qs,RenderingCancelledException:()=>N0,TextLayer:()=>Rp,UnexpectedResponseException:()=>bg,Util:()=>oe,VerbosityLevel:()=>_g,XfaLayer:()=>zS,build:()=>tL,createValidAbsoluteUrl:()=>LP,fetchData:()=>Tg,getDocument:()=>GR,getFilenameFromUrl:()=>BP,getPdfFilenameFromUrl:()=>UP,getXfaPageViewport:()=>$P,isDataScheme:()=>F0,isPdfFile:()=>O0,noContextMenu:()=>Tn,normalizeUnicode:()=>OP,renderTextLayer:()=>OR,setLayerDimensions:()=>ka,shadow:()=>Te,updateTextLayer:()=>jR,version:()=>eL});const tn=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),Bb=[1,0,0,1,0,0],fv=[.001,0,0,.001,0,0],SP=1e7,dm=1.35,rr={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},vs={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},xP="pdfjs_internal_editor_",ke={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},fe={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},CP={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Yt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},kf={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},_t={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Wc={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},_g={ERRORS:0,WARNINGS:1,INFOS:5},pv={NONE:0,BINARY:1},mr={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},kP={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Eg=_g.WARNINGS;function TP(n){Number.isInteger(n)&&(Eg=n)}function PP(){return Eg}function Ag(n){Eg>=_g.INFOS&&console.log(`Info: ${n}`)}function Ee(n){Eg>=_g.WARNINGS&&console.log(`Warning: ${n}`)}function Be(n){throw new Error(n)}function kt(n,e){n||Be(e)}function RP(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function LP(n,e=null,t=null){if(!n)return null;try{if(t&&typeof n=="string"){if(t.addDefaultProtocol&&n.startsWith("www.")){const i=n.match(/\./g);(i==null?void 0:i.length)>=2&&(n=`http://${n}`)}if(t.tryConvertEncoding)try{n=FP(n)}catch{}}const r=e?new URL(n,e):new URL(n);if(RP(r))return r}catch{}return null}function Te(n,e,t,r=!1){return Object.defineProperty(n,e,{value:t,enumerable:!r,configurable:!0,writable:!1}),t}const io=function(){function e(t,r){this.constructor===e&&Be("Cannot initialize BaseException."),this.message=t,this.name=r}return e.prototype=new Error,e.constructor=e,e}();class gv extends io{constructor(e,t){super(e,"PasswordException"),this.code=t}}class mv extends io{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class Ub extends io{constructor(e){super(e,"InvalidPDFException")}}class Oa extends io{constructor(e){super(e,"MissingPDFException")}}class bg extends io{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class MP extends io{constructor(e){super(e,"FormatError")}}class ja extends io{constructor(e){super(e,"AbortException")}}function $b(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&Be("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const r=[];for(let i=0;i<e;i+=t){const s=Math.min(i+t,e),o=n.subarray(i,s);r.push(String.fromCharCode.apply(null,o))}return r.join("")}function Sg(n){typeof n!="string"&&Be("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let r=0;r<e;++r)t[r]=n.charCodeAt(r)&255;return t}function DP(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function M0(n){const e=Object.create(null);for(const[t,r]of n)e[t]=r;return e}function IP(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function NP(){try{return new Function(""),!0}catch{return!1}}class bn{static get isLittleEndian(){return Te(this,"isLittleEndian",IP())}static get isEvalSupported(){return Te(this,"isEvalSupported",NP())}static get isOffscreenCanvasSupported(){return Te(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?Te(this,"platform",{isMac:navigator.platform.includes("Mac")}):Te(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){var e,t;return Te(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const fm=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var Qi,Tf,vv;class oe{static makeHexColor(e,t,r){return`#${fm[e]}${fm[t]}${fm[r]}`}static scaleMinMax(e,t){let r;e[0]?(e[0]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[3],t[3]*=e[3]):(r=t[0],t[0]=t[1],t[1]=r,r=t[2],t[2]=t[3],t[3]=r,e[1]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){const r=e[0]*t[0]+e[1]*t[2]+t[4],i=e[0]*t[1]+e[1]*t[3]+t[5];return[r,i]}static applyInverseTransform(e,t){const r=t[0]*t[3]-t[1]*t[2],i=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/r,s=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/r;return[i,s]}static getAxialAlignedBoundingBox(e,t){const r=this.applyTransform(e,t),i=this.applyTransform(e.slice(2,4),t),s=this.applyTransform([e[0],e[3]],t),o=this.applyTransform([e[2],e[1]],t);return[Math.min(r[0],i[0],s[0],o[0]),Math.min(r[1],i[1],s[1],o[1]),Math.max(r[0],i[0],s[0],o[0]),Math.max(r[1],i[1],s[1],o[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],r=e[0]*t[0]+e[1]*t[2],i=e[0]*t[1]+e[1]*t[3],s=e[2]*t[0]+e[3]*t[2],o=e[2]*t[1]+e[3]*t[3],a=(r+o)/2,l=Math.sqrt((r+o)**2-4*(r*o-s*i))/2,c=a+l||1,h=a-l||1;return[Math.sqrt(c),Math.sqrt(h)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const r=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(r>i)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),o=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>o?null:[r,s,i,o]}static bezierBoundingBox(e,t,r,i,s,o,a,l,c){return c?(c[0]=Math.min(c[0],e,a),c[1]=Math.min(c[1],t,l),c[2]=Math.max(c[2],e,a),c[3]=Math.max(c[3],t,l)):c=[Math.min(e,a),Math.min(t,l),Math.max(e,a),Math.max(t,l)],A(this,Qi,vv).call(this,e,r,s,a,t,i,o,l,3*(-e+3*(r-s)+a),6*(e-2*r+s),3*(r-e),c),A(this,Qi,vv).call(this,e,r,s,a,t,i,o,l,3*(-t+3*(i-o)+l),6*(t-2*i+o),3*(i-t),c),c}}Qi=new WeakSet,Tf=function(e,t,r,i,s,o,a,l,c,h){if(c<=0||c>=1)return;const d=1-c,f=c*c,p=f*c,g=d*(d*(d*e+3*c*t)+3*f*r)+p*i,v=d*(d*(d*s+3*c*o)+3*f*a)+p*l;h[0]=Math.min(h[0],g),h[1]=Math.min(h[1],v),h[2]=Math.max(h[2],g),h[3]=Math.max(h[3],v)},vv=function(e,t,r,i,s,o,a,l,c,h,d,f){if(Math.abs(c)<1e-12){Math.abs(h)>=1e-12&&A(this,Qi,Tf).call(this,e,t,r,i,s,o,a,l,-d/h,f);return}const p=h**2-4*d*c;if(p<0)return;const g=Math.sqrt(p),v=2*c;A(this,Qi,Tf).call(this,e,t,r,i,s,o,a,l,(-h+g)/v,f),A(this,Qi,Tf).call(this,e,t,r,i,s,o,a,l,(-h-g)/v,f)},b(oe,Qi);function FP(n){return decodeURIComponent(escape(n))}let pm=null,F_=null;function OP(n){return pm||(pm=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,F_=new Map([["ﬅ","ſt"]])),n.replaceAll(pm,(e,t,r)=>t?t.normalize("NFKC"):F_.get(r))}function jP(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const n=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(n);else for(let e=0;e<32;e++)n[e]=Math.floor(Math.random()*255);return $b(n)}const Vb="pdfjs_internal_id_",di={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};class xg{constructor(){this.constructor===xg&&Be("Cannot initialize BaseFilterFactory.")}addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,r,i,s){return"none"}destroy(e=!1){}}var Xu;const $0=class $0{constructor({enableHWA:e=!1}={}){b(this,Xu,!1);this.constructor===$0&&Be("Cannot initialize BaseCanvasFactory."),E(this,Xu,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,t);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!u(this,Xu)})}}reset(e,t,r){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){Be("Abstract method `_createCanvas` called.")}};Xu=new WeakMap;let Cp=$0;class Cg{constructor({baseUrl:e=null,isCompressed:t=!0}){this.constructor===Cg&&Be("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":""),r=this.isCompressed?pv.BINARY:pv.NONE;return this._fetchData(t,r).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}_fetchData(e,t){Be("Abstract method `_fetchData` called.")}}class kg{constructor({baseUrl:e=null}){this.constructor===kg&&Be("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetchData(t).catch(r=>{throw new Error(`Unable to load font data at: ${t}`)})}_fetchData(e){Be("Abstract method `_fetchData` called.")}}class D0{constructor(){this.constructor===D0&&Be("Cannot initialize BaseSVGFactory.")}create(e,t,r=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),r||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${t}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${t}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Be("Abstract method `_createSVG` called.")}}const pi="http://www.w3.org/2000/svg",vo=class vo{};pe(vo,"CSS",96),pe(vo,"PDF",72),pe(vo,"PDF_TO_CSS_UNITS",vo.CSS/vo.PDF);let Qs=vo;var So,Ur,Ei,yn,Ip,xo,ie,qt,Ga,Xa,Pf,Wb,yv,Ka,Zc,eu,wv,tu;class zP extends xg{constructor({docId:t,ownerDocument:r=globalThis.document}={}){super();b(this,ie);b(this,So);b(this,Ur);b(this,Ei);b(this,yn);b(this,Ip);b(this,xo,0);E(this,Ei,t),E(this,yn,r)}addFilter(t){if(!t)return"none";let r=u(this,ie,qt).get(t);if(r)return r;const[i,s,o]=A(this,ie,Pf).call(this,t),a=t.length===1?i:`${i}${s}${o}`;if(r=u(this,ie,qt).get(a),r)return u(this,ie,qt).set(t,r),r;const l=`g_${u(this,Ei)}_transfer_map_${Rn(this,xo)._++}`,c=`url(#${l})`;u(this,ie,qt).set(t,c),u(this,ie,qt).set(a,c);const h=A(this,ie,Ka).call(this,l);return A(this,ie,eu).call(this,i,s,o,h),c}addHCMFilter(t,r){var g;const i=`${t}-${r}`,s="base";let o=u(this,ie,Ga).get(s);if((o==null?void 0:o.key)===i||(o?((g=o.filter)==null||g.remove(),o.key=i,o.url="none",o.filter=null):(o={key:i,url:"none",filter:null},u(this,ie,Ga).set(s,o)),!t||!r))return o.url;const a=A(this,ie,tu).call(this,t);t=oe.makeHexColor(...a);const l=A(this,ie,tu).call(this,r);if(r=oe.makeHexColor(...l),u(this,ie,Xa).style.color="",t==="#000000"&&r==="#ffffff"||t===r)return o.url;const c=new Array(256);for(let v=0;v<=255;v++){const _=v/255;c[v]=_<=.03928?_/12.92:((_+.055)/1.055)**2.4}const h=c.join(","),d=`g_${u(this,Ei)}_hcm_filter`,f=o.filter=A(this,ie,Ka).call(this,d);A(this,ie,eu).call(this,h,h,h,f),A(this,ie,yv).call(this,f);const p=(v,_)=>{const m=a[v]/255,y=l[v]/255,w=new Array(_+1);for(let S=0;S<=_;S++)w[S]=m+S/_*(y-m);return w.join(",")};return A(this,ie,eu).call(this,p(0,5),p(1,5),p(2,5),f),o.url=`url(#${d})`,o.url}addAlphaFilter(t){let r=u(this,ie,qt).get(t);if(r)return r;const[i]=A(this,ie,Pf).call(this,[t]),s=`alpha_${i}`;if(r=u(this,ie,qt).get(s),r)return u(this,ie,qt).set(t,r),r;const o=`g_${u(this,Ei)}_alpha_map_${Rn(this,xo)._++}`,a=`url(#${o})`;u(this,ie,qt).set(t,a),u(this,ie,qt).set(s,a);const l=A(this,ie,Ka).call(this,o);return A(this,ie,wv).call(this,i,l),a}addLuminosityFilter(t){let r=u(this,ie,qt).get(t||"luminosity");if(r)return r;let i,s;if(t?([i]=A(this,ie,Pf).call(this,[t]),s=`luminosity_${i}`):s="luminosity",r=u(this,ie,qt).get(s),r)return u(this,ie,qt).set(t,r),r;const o=`g_${u(this,Ei)}_luminosity_map_${Rn(this,xo)._++}`,a=`url(#${o})`;u(this,ie,qt).set(t,a),u(this,ie,qt).set(s,a);const l=A(this,ie,Ka).call(this,o);return A(this,ie,Wb).call(this,l),t&&A(this,ie,wv).call(this,i,l),a}addHighlightHCMFilter(t,r,i,s,o){var y;const a=`${r}-${i}-${s}-${o}`;let l=u(this,ie,Ga).get(t);if((l==null?void 0:l.key)===a||(l?((y=l.filter)==null||y.remove(),l.key=a,l.url="none",l.filter=null):(l={key:a,url:"none",filter:null},u(this,ie,Ga).set(t,l)),!r||!i))return l.url;const[c,h]=[r,i].map(A(this,ie,tu).bind(this));let d=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),f=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),[p,g]=[s,o].map(A(this,ie,tu).bind(this));f<d&&([d,f,p,g]=[f,d,g,p]),u(this,ie,Xa).style.color="";const v=(w,S,C)=>{const k=new Array(256),P=(f-d)/C,x=w/255,D=(S-w)/(255*C);let I=0;for(let M=0;M<=C;M++){const U=Math.round(d+M*P),W=x+M*D;for(let $=I;$<=U;$++)k[$]=W;I=U+1}for(let M=I;M<256;M++)k[M]=k[I-1];return k.join(",")},_=`g_${u(this,Ei)}_hcm_${t}_filter`,m=l.filter=A(this,ie,Ka).call(this,_);return A(this,ie,yv).call(this,m),A(this,ie,eu).call(this,v(p[0],g[0],5),v(p[1],g[1],5),v(p[2],g[2],5),m),l.url=`url(#${_})`,l.url}destroy(t=!1){t&&u(this,ie,Ga).size!==0||(u(this,Ur)&&(u(this,Ur).parentNode.parentNode.remove(),E(this,Ur,null)),u(this,So)&&(u(this,So).clear(),E(this,So,null)),E(this,xo,0))}}So=new WeakMap,Ur=new WeakMap,Ei=new WeakMap,yn=new WeakMap,Ip=new WeakMap,xo=new WeakMap,ie=new WeakSet,qt=function(){return u(this,So)||E(this,So,new Map)},Ga=function(){return u(this,Ip)||E(this,Ip,new Map)},Xa=function(){if(!u(this,Ur)){const t=u(this,yn).createElement("div"),{style:r}=t;r.visibility="hidden",r.contain="strict",r.width=r.height=0,r.position="absolute",r.top=r.left=0,r.zIndex=-1;const i=u(this,yn).createElementNS(pi,"svg");i.setAttribute("width",0),i.setAttribute("height",0),E(this,Ur,u(this,yn).createElementNS(pi,"defs")),t.append(i),i.append(u(this,Ur)),u(this,yn).body.append(t)}return u(this,Ur)},Pf=function(t){if(t.length===1){const c=t[0],h=new Array(256);for(let f=0;f<256;f++)h[f]=c[f]/255;const d=h.join(",");return[d,d,d]}const[r,i,s]=t,o=new Array(256),a=new Array(256),l=new Array(256);for(let c=0;c<256;c++)o[c]=r[c]/255,a[c]=i[c]/255,l[c]=s[c]/255;return[o.join(","),a.join(","),l.join(",")]},Wb=function(t){const r=u(this,yn).createElementNS(pi,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(r)},yv=function(t){const r=u(this,yn).createElementNS(pi,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(r)},Ka=function(t){const r=u(this,yn).createElementNS(pi,"filter");return r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("id",t),u(this,ie,Xa).append(r),r},Zc=function(t,r,i){const s=u(this,yn).createElementNS(pi,r);s.setAttribute("type","discrete"),s.setAttribute("tableValues",i),t.append(s)},eu=function(t,r,i,s){const o=u(this,yn).createElementNS(pi,"feComponentTransfer");s.append(o),A(this,ie,Zc).call(this,o,"feFuncR",t),A(this,ie,Zc).call(this,o,"feFuncG",r),A(this,ie,Zc).call(this,o,"feFuncB",i)},wv=function(t,r){const i=u(this,yn).createElementNS(pi,"feComponentTransfer");r.append(i),A(this,ie,Zc).call(this,i,"feFuncA",t)},tu=function(t){return u(this,ie,Xa).style.color=t,j0(getComputedStyle(u(this,ie,Xa)).getPropertyValue("color"))};class HP extends Cp{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}={}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const r=this._document.createElement("canvas");return r.width=e,r.height=t,r}}async function Tg(n,e="text"){if(nu(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,r)=>{const i=new XMLHttpRequest;i.open("GET",n,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(i.response);return}t(i.responseText);return}r(new Error(i.statusText))}},i.send(null)})}class Gb extends Cg{_fetchData(e,t){return Tg(e,this.isCompressed?"arraybuffer":"text").then(r=>({cMapData:r instanceof ArrayBuffer?new Uint8Array(r):Sg(r),compressionType:t}))}}class Xb extends kg{_fetchData(e){return Tg(e,"arraybuffer").then(t=>new Uint8Array(t))}}class I0 extends D0{_createSVG(e){return document.createElementNS(pi,e)}}class Ld{constructor({viewBox:e,scale:t,rotation:r,offsetX:i=0,offsetY:s=0,dontFlip:o=!1}){this.viewBox=e,this.scale=t,this.rotation=r,this.offsetX=i,this.offsetY=s;const a=(e[2]+e[0])/2,l=(e[3]+e[1])/2;let c,h,d,f;switch(r%=360,r<0&&(r+=360),r){case 180:c=-1,h=0,d=0,f=1;break;case 90:c=0,h=1,d=1,f=0;break;case 270:c=0,h=-1,d=-1,f=0;break;case 0:c=1,h=0,d=0,f=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(d=-d,f=-f);let p,g,v,_;c===0?(p=Math.abs(l-e[1])*t+i,g=Math.abs(a-e[0])*t+s,v=(e[3]-e[1])*t,_=(e[2]-e[0])*t):(p=Math.abs(a-e[0])*t+i,g=Math.abs(l-e[1])*t+s,v=(e[2]-e[0])*t,_=(e[3]-e[1])*t),this.transform=[c*t,h*t,d*t,f*t,p-c*t*a-d*t*l,g-h*t*a-f*t*l],this.width=v,this.height=_}get rawDims(){const{viewBox:e}=this;return Te(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:r=this.offsetX,offsetY:i=this.offsetY,dontFlip:s=!1}={}){return new Ld({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:s})}convertToViewportPoint(e,t){return oe.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=oe.applyTransform([e[0],e[1]],this.transform),r=oe.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],r[0],r[1]]}convertToPdfPoint(e,t){return oe.applyInverseTransform([e,t],this.transform)}}class N0 extends io{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function F0(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function O0(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function BP(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function UP(n,e="document.pdf"){if(typeof n!="string")return e;if(F0(n))return Ee('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,r=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=t.exec(n);let s=r.exec(i[1])||r.exec(i[2])||r.exec(i[3]);if(s&&(s=s[0],s.includes("%")))try{s=r.exec(decodeURIComponent(s))[0]}catch{}return s||e}class O_{constructor(){pe(this,"started",Object.create(null));pe(this,"times",[])}time(e){e in this.started&&Ee(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Ee(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:r}of this.times)t=Math.max(r.length,t);for(const{name:r,start:i,end:s}of this.times)e.push(`${r.padEnd(t)} ${s-i}ms
`);return e.join("")}}function nu(n,e){try{const{protocol:t}=e?new URL(n,e):new URL(n);return t==="http:"||t==="https:"}catch{return!1}}function Tn(n){n.preventDefault()}function Kb(n){console.log("Deprecated API usage: "+n)}let j_;class Yb{static toDateObject(e){if(!e||typeof e!="string")return null;j_||(j_=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=j_.exec(e);if(!t)return null;const r=parseInt(t[1],10);let i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let o=parseInt(t[4],10);o=o>=0&&o<=23?o:0;let a=parseInt(t[5],10);a=a>=0&&a<=59?a:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;const c=t[7]||"Z";let h=parseInt(t[8],10);h=h>=0&&h<=23?h:0;let d=parseInt(t[9],10)||0;return d=d>=0&&d<=59?d:0,c==="-"?(o+=h,a+=d):c==="+"&&(o-=h,a-=d),new Date(Date.UTC(r,i,s,o,a,l))}}function $P(n,{scale:e=1,rotation:t=0}){const{width:r,height:i}=n.attributes.style,s=[0,0,parseInt(r),parseInt(i)];return new Ld({viewBox:s,scale:e,rotation:t})}function j0(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Ee(`Not a valid color format: "${n}"`),[0,0,0])}function VP(n){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const t of n.keys()){e.style.color=t;const r=window.getComputedStyle(e).color;n.set(t,j0(r))}e.remove()}function rt(n){const{a:e,b:t,c:r,d:i,e:s,f:o}=n.getTransform();return[e,t,r,i,s,o]}function fi(n){const{a:e,b:t,c:r,d:i,e:s,f:o}=n.getTransform().invertSelf();return[e,t,r,i,s,o]}function ka(n,e,t=!1,r=!0){if(e instanceof Ld){const{pageWidth:i,pageHeight:s}=e.rawDims,{style:o}=n,a=bn.isCSSRoundSupported,l=`var(--scale-factor) * ${i}px`,c=`var(--scale-factor) * ${s}px`,h=a?`round(${l}, 1px)`:`calc(${l})`,d=a?`round(${c}, 1px)`:`calc(${c})`;!t||e.rotation%180===0?(o.width=h,o.height=d):(o.width=d,o.height=h)}r&&n.setAttribute("data-main-rotation",e.rotation)}var Co,ko,Dn,To,Np,qb,dn,Qb,Jb,Rf,Zb,Ev;const Fp=class Fp{constructor(e){b(this,dn);b(this,Co,null);b(this,ko,null);b(this,Dn);b(this,To,null);E(this,Dn,e)}render(){const e=E(this,Co,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const t=u(this,Dn)._uiManager._signal;e.addEventListener("contextmenu",Tn,{signal:t}),e.addEventListener("pointerdown",A(Fp,Np,qb),{signal:t});const r=E(this,To,document.createElement("div"));r.className="buttons",e.append(r);const i=u(this,Dn).toolbarPosition;if(i){const{style:s}=e,o=u(this,Dn)._uiManager.direction==="ltr"?1-i[0]:i[0];s.insetInlineEnd=`${100*o}%`,s.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return A(this,dn,Zb).call(this),e}hide(){var e;u(this,Co).classList.add("hidden"),(e=u(this,ko))==null||e.hideDropdown()}show(){u(this,Co).classList.remove("hidden")}addAltTextButton(e){A(this,dn,Rf).call(this,e),u(this,To).prepend(e,u(this,dn,Ev))}addColorPicker(e){E(this,ko,e);const t=e.renderButton();A(this,dn,Rf).call(this,t),u(this,To).prepend(t,u(this,dn,Ev))}remove(){var e;u(this,Co).remove(),(e=u(this,ko))==null||e.destroy(),E(this,ko,null)}};Co=new WeakMap,ko=new WeakMap,Dn=new WeakMap,To=new WeakMap,Np=new WeakSet,qb=function(e){e.stopPropagation()},dn=new WeakSet,Qb=function(e){u(this,Dn)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},Jb=function(e){u(this,Dn)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},Rf=function(e){const t=u(this,Dn)._uiManager._signal;e.addEventListener("focusin",A(this,dn,Qb).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",A(this,dn,Jb).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Tn,{signal:t})},Zb=function(){const e=document.createElement("button");e.className="delete",e.tabIndex=0,e.setAttribute("data-l10n-id",`pdfjs-editor-remove-${u(this,Dn).editorType}-button`),A(this,dn,Rf).call(this,e),e.addEventListener("click",t=>{u(this,Dn)._uiManager.delete()},{signal:u(this,Dn)._uiManager._signal}),u(this,To).append(e)},Ev=function(){const e=document.createElement("div");return e.className="divider",e},b(Fp,Np);let _v=Fp;var Ku,Po,Ro,Js,eS,tS,nS;class WP{constructor(e){b(this,Js);b(this,Ku,null);b(this,Po,null);b(this,Ro);E(this,Ro,e)}show(e,t,r){const[i,s]=A(this,Js,tS).call(this,t,r),{style:o}=u(this,Po)||E(this,Po,A(this,Js,eS).call(this));e.append(u(this,Po)),o.insetInlineEnd=`${100*i}%`,o.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){u(this,Po).remove()}}Ku=new WeakMap,Po=new WeakMap,Ro=new WeakMap,Js=new WeakSet,eS=function(){const e=E(this,Po,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",Tn,{signal:u(this,Ro)._signal});const t=E(this,Ku,document.createElement("div"));return t.className="buttons",e.append(t),A(this,Js,nS).call(this),e},tS=function(e,t){let r=0,i=0;for(const s of e){const o=s.y+s.height;if(o<r)continue;const a=s.x+(t?s.width:0);if(o>r){i=a,r=o;continue}t?a>i&&(i=a):a<i&&(i=a)}return[t?1-i:i,r]},nS=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const r=u(this,Ro)._signal;e.addEventListener("contextmenu",Tn,{signal:r}),e.addEventListener("click",()=>{u(this,Ro).highlightSelection("floating_button")},{signal:r}),u(this,Ku).append(e)};function kp(n,e,t){for(const r of t)e.addEventListener(r,n[r].bind(n))}function GP(n){return Math.round(Math.min(255,Math.max(1,255*n))).toString(16).padStart(2,"0")}var Op;class XP{constructor(){b(this,Op,0)}get id(){return`${xP}${Rn(this,Op)._++}`}}Op=new WeakMap;var Yu,jp,Zn,qu,bv;const V0=class V0{constructor(){b(this,qu);b(this,Yu,jP());b(this,jp,0);b(this,Zn,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const s=i.decode().then(()=>(r.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return Te(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:t,name:r,size:i,type:s}=e;return A(this,qu,bv).call(this,`${t}_${r}_${i}_${s}`,e)}async getFromUrl(e){return A(this,qu,bv).call(this,e,e)}async getFromId(e){u(this,Zn)||E(this,Zn,new Map);const t=u(this,Zn).get(e);return t?t.bitmap?(t.refCounter+=1,t):t.file?this.getFromFile(t.file):this.getFromUrl(t.url):null}getSvgUrl(e){const t=u(this,Zn).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){u(this,Zn)||E(this,Zn,new Map);const t=u(this,Zn).get(e);t&&(t.refCounter-=1,t.refCounter===0&&(t.bitmap=null))}isValidId(e){return e.startsWith(`image_${u(this,Yu)}_`)}};Yu=new WeakMap,jp=new WeakMap,Zn=new WeakMap,qu=new WeakSet,bv=async function(e,t){u(this,Zn)||E(this,Zn,new Map);let r=u(this,Zn).get(e);if(r===null)return null;if(r!=null&&r.bitmap)return r.refCounter+=1,r;try{r||(r={bitmap:null,id:`image_${u(this,Yu)}_${Rn(this,jp)._++}`,refCounter:0,isSvg:!1});let i;if(typeof t=="string"?(r.url=t,i=await Tg(t,"blob")):i=r.file=t,i.type==="image/svg+xml"){const s=V0._isSVGFittingCanvas,o=new FileReader,a=new Image,l=new Promise((c,h)=>{a.onload=()=>{r.bitmap=a,r.isSvg=!0,c()},o.onload=async()=>{const d=r.svgUrl=o.result;a.src=await s?`${d}#svgView(preserveAspectRatio(none))`:d},a.onerror=o.onerror=h});o.readAsDataURL(i),await l}else r.bitmap=await createImageBitmap(i);r.refCounter=1}catch(i){console.error(i),r=null}return u(this,Zn).set(e,r),r&&u(this,Zn).set(r.id,r),r};let Av=V0;var Rt,ys,Qu,Lt;class KP{constructor(e=128){b(this,Rt,[]);b(this,ys,!1);b(this,Qu);b(this,Lt,-1);E(this,Qu,e)}add({cmd:e,undo:t,post:r,mustExec:i,type:s=NaN,overwriteIfSameType:o=!1,keepUndo:a=!1}){if(i&&e(),u(this,ys))return;const l={cmd:e,undo:t,post:r,type:s};if(u(this,Lt)===-1){u(this,Rt).length>0&&(u(this,Rt).length=0),E(this,Lt,0),u(this,Rt).push(l);return}if(o&&u(this,Rt)[u(this,Lt)].type===s){a&&(l.undo=u(this,Rt)[u(this,Lt)].undo),u(this,Rt)[u(this,Lt)]=l;return}const c=u(this,Lt)+1;c===u(this,Qu)?u(this,Rt).splice(0,1):(E(this,Lt,c),c<u(this,Rt).length&&u(this,Rt).splice(c)),u(this,Rt).push(l)}undo(){if(u(this,Lt)===-1)return;E(this,ys,!0);const{undo:e,post:t}=u(this,Rt)[u(this,Lt)];e(),t==null||t(),E(this,ys,!1),E(this,Lt,u(this,Lt)-1)}redo(){if(u(this,Lt)<u(this,Rt).length-1){E(this,Lt,u(this,Lt)+1),E(this,ys,!0);const{cmd:e,post:t}=u(this,Rt)[u(this,Lt)];e(),t==null||t(),E(this,ys,!1)}}hasSomethingToUndo(){return u(this,Lt)!==-1}hasSomethingToRedo(){return u(this,Lt)<u(this,Rt).length-1}destroy(){E(this,Rt,null)}}Rt=new WeakMap,ys=new WeakMap,Qu=new WeakMap,Lt=new WeakMap;var zp,rS;class Md{constructor(e){b(this,zp);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=bn.platform;for(const[r,i,s={}]of e)for(const o of r){const a=o.startsWith("mac+");t&&a?(this.callbacks.set(o.slice(4),{callback:i,options:s}),this.allKeys.add(o.split("+").at(-1))):!t&&!a&&(this.callbacks.set(o,{callback:i,options:s}),this.allKeys.add(o.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const r=this.callbacks.get(A(this,zp,rS).call(this,t));if(!r)return;const{callback:i,options:{bubbles:s=!1,args:o=[],checker:a=null}}=r;a&&!a(e,t)||(i.bind(e,...o,t)(),s||(t.stopPropagation(),t.preventDefault()))}}zp=new WeakSet,rS=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const Hp=class Hp{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return VP(e),Te(this,"_colors",e)}convert(e){const t=j0(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[r,i]of this._colors)if(i.every((s,o)=>s===t[o]))return Hp._colorsMapping.get(r);return t}getHexCode(e){const t=this._colors.get(e);return t?oe.makeHexColor(...t):e}};pe(Hp,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let Sv=Hp;var Al,In,Et,Ft,bl,Ai,Sl,vr,xl,Lo,$r,yr,Mo,Ju,Zu,Vr,Cl,ws,Wr,Bp,_s,eh,Do,th,kl,Ot,Ne,bi,Io,nh,rh,ih,sh,oh,ah,lh,ch,uh,hh,dh,fh,ph,Es,Gr,Si,gh,Z,Lf,iS,sS,Mf,oS,aS,lS,xv,cS,Cv,kv,uS,sn,us,hS,dS,Tv,fS,ru,Pv;const hl=class hl{constructor(e,t,r,i,s,o,a,l,c){b(this,Z);b(this,Al,new AbortController);b(this,In,null);b(this,Et,new Map);b(this,Ft,new Map);b(this,bl,null);b(this,Ai,null);b(this,Sl,null);b(this,vr,new KP);b(this,xl,0);b(this,Lo,new Set);b(this,$r,null);b(this,yr,null);b(this,Mo,new Set);b(this,Ju,!1);b(this,Zu,null);b(this,Vr,null);b(this,Cl,null);b(this,ws,!1);b(this,Wr,null);b(this,Bp,new XP);b(this,_s,!1);b(this,eh,!1);b(this,Do,null);b(this,th,null);b(this,kl,null);b(this,Ot,ke.NONE);b(this,Ne,new Set);b(this,bi,null);b(this,Io,null);b(this,nh,null);b(this,rh,this.blur.bind(this));b(this,ih,this.focus.bind(this));b(this,sh,this.copy.bind(this));b(this,oh,this.cut.bind(this));b(this,ah,this.paste.bind(this));b(this,lh,this.keydown.bind(this));b(this,ch,this.keyup.bind(this));b(this,uh,this.onEditingAction.bind(this));b(this,hh,this.onPageChanging.bind(this));b(this,dh,this.onScaleChanging.bind(this));b(this,fh,this.onRotationChanging.bind(this));b(this,ph,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});b(this,Es,[0,0]);b(this,Gr,null);b(this,Si,null);b(this,gh,null);this._signal=u(this,Al).signal,E(this,Si,e),E(this,gh,t),E(this,bl,r),this._eventBus=i,this._eventBus._on("editingaction",u(this,uh)),this._eventBus._on("pagechanging",u(this,hh)),this._eventBus._on("scalechanging",u(this,dh)),this._eventBus._on("rotationchanging",u(this,fh)),A(this,Z,oS).call(this),A(this,Z,uS).call(this),A(this,Z,xv).call(this),E(this,Ai,s.annotationStorage),E(this,Zu,s.filterFactory),E(this,Io,o),E(this,Cl,a||null),E(this,Ju,l),E(this,kl,c||null),this.viewParameters={realScale:Qs.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=hl.prototype,t=o=>u(o,Si).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),r=(o,{target:a})=>{if(a instanceof HTMLInputElement){const{type:l}=a;return l!=="text"&&l!=="number"}return!0},i=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return Te(this,"_keyboardManager",new Md([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&u(o,Si).contains(a)&&!o.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&u(o,Si).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}destroy(){var e,t,r;(e=u(this,Al))==null||e.abort(),E(this,Al,null),this._signal=null,this._eventBus._off("editingaction",u(this,uh)),this._eventBus._off("pagechanging",u(this,hh)),this._eventBus._off("scalechanging",u(this,dh)),this._eventBus._off("rotationchanging",u(this,fh));for(const i of u(this,Ft).values())i.destroy();u(this,Ft).clear(),u(this,Et).clear(),u(this,Mo).clear(),E(this,In,null),u(this,Ne).clear(),u(this,vr).destroy(),(t=u(this,bl))==null||t.destroy(),(r=u(this,Wr))==null||r.hide(),E(this,Wr,null),u(this,Vr)&&(clearTimeout(u(this,Vr)),E(this,Vr,null)),u(this,Gr)&&(clearTimeout(u(this,Gr)),E(this,Gr,null))}async mlGuess(e){var t;return((t=u(this,kl))==null?void 0:t.guess(e))||null}get hasMLManager(){return!!u(this,kl)}get hcmFilter(){return Te(this,"hcmFilter",u(this,Io)?u(this,Zu).addHCMFilter(u(this,Io).foreground,u(this,Io).background):"none")}get direction(){return Te(this,"direction",getComputedStyle(u(this,Si)).direction)}get highlightColors(){return Te(this,"highlightColors",u(this,Cl)?new Map(u(this,Cl).split(",").map(e=>e.split("=").map(t=>t.trim()))):null)}get highlightColorNames(){return Te(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){E(this,th,e)}editAltText(e){var t;(t=u(this,bl))==null||t.editAltText(this,e)}onPageChanging({pageNumber:e}){E(this,xl,e-1)}focusMainContainer(){u(this,Si).focus()}findParent(e,t){for(const r of u(this,Ft).values()){const{x:i,y:s,width:o,height:a}=r.div.getBoundingClientRect();if(e>=i&&e<=i+o&&t>=s&&t<=s+a)return r}return null}disableUserSelect(e=!1){u(this,gh).classList.toggle("noUserSelect",e)}addShouldRescale(e){u(this,Mo).add(e)}removeShouldRescale(e){u(this,Mo).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*Qs.PDF_TO_CSS_UNITS;for(const t of u(this,Mo))t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:o}=t,a=t.toString(),c=A(this,Z,Lf).call(this,t).closest(".textLayer"),h=this.getSelectionBoxes(c);if(h){t.empty(),u(this,Ot)===ke.NONE&&(this._eventBus.dispatch("showannotationeditorui",{source:this,mode:ke.HIGHLIGHT}),this.showAllEditors("highlight",!0,!0));for(const d of u(this,Ft).values())if(d.hasTextLayer(c)){d.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:h,anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:o,text:a});break}}}addToAnnotationStorage(e){!e.isEmpty()&&u(this,Ai)&&!u(this,Ai).has(e.id)&&u(this,Ai).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,u(this,ws)&&(E(this,ws,!1),A(this,Z,Mf).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of u(this,Ne))if(t.div.contains(e)){E(this,Do,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!u(this,Do))return;const[e,t]=u(this,Do);E(this,Do,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){A(this,Z,xv).call(this),A(this,Z,Cv).call(this)}removeEditListeners(){A(this,Z,cS).call(this),A(this,Z,kv).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const r of u(this,yr))if(r.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const r of u(this,yr))if(r.isHandlingMimeForPasting(t.type)){r.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var r;if(e.preventDefault(),(r=u(this,In))==null||r.commitOrRemove(),!this.hasSelection)return;const t=[];for(const i of u(this,Ne)){const s=i.serialize(!0);s&&t.push(s)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const o of u(this,yr))if(o.isHandlingMimeForPasting(s.type)){o.paste(s,this.currentLayer);return}let r=t.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(s){Ee(`paste: "${s.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const i=this.currentLayer;try{const s=[];for(const l of r){const c=i.deserialize(l);if(!c)return;s.push(c)}const o=()=>{for(const l of s)A(this,Z,Tv).call(this,l);A(this,Z,Pv).call(this,s)},a=()=>{for(const l of s)l.remove()};this.addCommands({cmd:o,undo:a,mustExec:!0})}catch(s){Ee(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),u(this,Ot)!==ke.NONE&&!this.isEditorHandlingKeyboard&&hl._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,u(this,ws)&&(E(this,ws,!1),A(this,Z,Mf).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(A(this,Z,aS).call(this),A(this,Z,Cv).call(this),A(this,Z,sn).call(this,{isEditing:u(this,Ot)!==ke.NONE,isEmpty:A(this,Z,ru).call(this),hasSomethingToUndo:u(this,vr).hasSomethingToUndo(),hasSomethingToRedo:u(this,vr).hasSomethingToRedo(),hasSelectedEditor:!1})):(A(this,Z,lS).call(this),A(this,Z,kv).call(this),A(this,Z,sn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!u(this,yr)){E(this,yr,e);for(const t of u(this,yr))A(this,Z,us).call(this,t.defaultPropertiesToUpdate)}}getId(){return u(this,Bp).id}get currentLayer(){return u(this,Ft).get(u(this,xl))}getLayer(e){return u(this,Ft).get(e)}get currentPageIndex(){return u(this,xl)}addLayer(e){u(this,Ft).set(e.pageIndex,e),u(this,_s)?e.enable():e.disable()}removeLayer(e){u(this,Ft).delete(e.pageIndex)}updateMode(e,t=null,r=!1){if(u(this,Ot)!==e){if(E(this,Ot,e),e===ke.NONE){this.setEditingState(!1),A(this,Z,dS).call(this);return}this.setEditingState(!0),A(this,Z,hS).call(this),this.unselectAll();for(const i of u(this,Ft).values())i.updateMode(e);if(!t&&r){this.addNewEditorFromKeyboard();return}if(t){for(const i of u(this,Et).values())if(i.annotationElementId===t){this.setSelected(i),i.enterInEditMode();break}}}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==u(this,Ot)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){var r;if(u(this,yr)){switch(e){case fe.CREATE:this.currentLayer.addNewEditor();return;case fe.HIGHLIGHT_DEFAULT_COLOR:(r=u(this,th))==null||r.updateColor(t);break;case fe.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(u(this,nh)||E(this,nh,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const i of u(this,Ne))i.updateParams(e,t);for(const i of u(this,yr))i.updateDefaultParams(e,t)}}showAllEditors(e,t,r=!1){var s;for(const o of u(this,Et).values())o.editorType===e&&o.show(t);(((s=u(this,nh))==null?void 0:s.get(fe.HIGHLIGHT_SHOW_ALL))??!0)!==t&&A(this,Z,us).call(this,[[fe.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(u(this,eh)!==e){E(this,eh,e);for(const t of u(this,Ft).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const r of u(this,Et).values())r.pageIndex===e&&t.push(r);return t}getEditor(e){return u(this,Et).get(e)}addEditor(e){u(this,Et).set(e.id,e)}removeEditor(e){var t;e.div.contains(document.activeElement)&&(u(this,Vr)&&clearTimeout(u(this,Vr)),E(this,Vr,setTimeout(()=>{this.focusMainContainer(),E(this,Vr,null)},0))),u(this,Et).delete(e.id),this.unselect(e),(!e.annotationElementId||!u(this,Lo).has(e.annotationElementId))&&((t=u(this,Ai))==null||t.remove(e.id))}addDeletedAnnotationElement(e){u(this,Lo).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return u(this,Lo).has(e)}removeDeletedAnnotationElement(e){u(this,Lo).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){u(this,In)!==e&&(E(this,In,e),e&&A(this,Z,us).call(this,e.propertiesToUpdate))}updateUI(e){u(this,Z,fS)===e&&A(this,Z,us).call(this,e.propertiesToUpdate)}toggleSelected(e){if(u(this,Ne).has(e)){u(this,Ne).delete(e),e.unselect(),A(this,Z,sn).call(this,{hasSelectedEditor:this.hasSelection});return}u(this,Ne).add(e),e.select(),A(this,Z,us).call(this,e.propertiesToUpdate),A(this,Z,sn).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const t of u(this,Ne))t!==e&&t.unselect();u(this,Ne).clear(),u(this,Ne).add(e),e.select(),A(this,Z,us).call(this,e.propertiesToUpdate),A(this,Z,sn).call(this,{hasSelectedEditor:!0})}isSelected(e){return u(this,Ne).has(e)}get firstSelectedEditor(){return u(this,Ne).values().next().value}unselect(e){e.unselect(),u(this,Ne).delete(e),A(this,Z,sn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return u(this,Ne).size!==0}get isEnterHandled(){return u(this,Ne).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){u(this,vr).undo(),A(this,Z,sn).call(this,{hasSomethingToUndo:u(this,vr).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:A(this,Z,ru).call(this)})}redo(){u(this,vr).redo(),A(this,Z,sn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:u(this,vr).hasSomethingToRedo(),isEmpty:A(this,Z,ru).call(this)})}addCommands(e){u(this,vr).add(e),A(this,Z,sn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:A(this,Z,ru).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...u(this,Ne)],t=()=>{for(const i of e)i.remove()},r=()=>{for(const i of e)A(this,Z,Tv).call(this,i)};this.addCommands({cmd:t,undo:r,mustExec:!0})}commitOrRemove(){var e;(e=u(this,In))==null||e.commitOrRemove()}hasSomethingToControl(){return u(this,In)||this.hasSelection}selectAll(){for(const e of u(this,Ne))e.commit();A(this,Z,Pv).call(this,u(this,Et).values())}unselectAll(){if(!(u(this,In)&&(u(this,In).commitOrRemove(),u(this,Ot)!==ke.NONE))&&this.hasSelection){for(const e of u(this,Ne))e.unselect();u(this,Ne).clear(),A(this,Z,sn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;u(this,Es)[0]+=e,u(this,Es)[1]+=t;const[i,s]=u(this,Es),o=[...u(this,Ne)],a=1e3;u(this,Gr)&&clearTimeout(u(this,Gr)),E(this,Gr,setTimeout(()=>{E(this,Gr,null),u(this,Es)[0]=u(this,Es)[1]=0,this.addCommands({cmd:()=>{for(const l of o)u(this,Et).has(l.id)&&l.translateInPage(i,s)},undo:()=>{for(const l of o)u(this,Et).has(l.id)&&l.translateInPage(-i,-s)},mustExec:!1})},a));for(const l of o)l.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),E(this,$r,new Map);for(const e of u(this,Ne))u(this,$r).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!u(this,$r))return!1;this.disableUserSelect(!1);const e=u(this,$r);E(this,$r,null);let t=!1;for(const[{x:i,y:s,pageIndex:o},a]of e)a.newX=i,a.newY=s,a.newPageIndex=o,t||(t=i!==a.savedX||s!==a.savedY||o!==a.savedPageIndex);if(!t)return!1;const r=(i,s,o,a)=>{if(u(this,Et).has(i.id)){const l=u(this,Ft).get(a);l?i._setParentAndPosition(l,s,o):(i.pageIndex=a,i.x=s,i.y=o)}};return this.addCommands({cmd:()=>{for(const[i,{newX:s,newY:o,newPageIndex:a}]of e)r(i,s,o,a)},undo:()=>{for(const[i,{savedX:s,savedY:o,savedPageIndex:a}]of e)r(i,s,o,a)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(u(this,$r))for(const r of u(this,$r).keys())r.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||u(this,Ne).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return u(this,In)===e}getActive(){return u(this,In)}getMode(){return u(this,Ot)}get imageManager(){return Te(this,"imageManager",new Av)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let c=0,h=t.rangeCount;c<h;c++)if(!e.contains(t.getRangeAt(c).commonAncestorContainer))return null;const{x:r,y:i,width:s,height:o}=e.getBoundingClientRect();let a;switch(e.getAttribute("data-main-rotation")){case"90":a=(c,h,d,f)=>({x:(h-i)/o,y:1-(c+d-r)/s,width:f/o,height:d/s});break;case"180":a=(c,h,d,f)=>({x:1-(c+d-r)/s,y:1-(h+f-i)/o,width:d/s,height:f/o});break;case"270":a=(c,h,d,f)=>({x:1-(h+f-i)/o,y:(c-r)/s,width:f/o,height:d/s});break;default:a=(c,h,d,f)=>({x:(c-r)/s,y:(h-i)/o,width:d/s,height:f/o});break}const l=[];for(let c=0,h=t.rangeCount;c<h;c++){const d=t.getRangeAt(c);if(!d.collapsed)for(const{x:f,y:p,width:g,height:v}of d.getClientRects())g===0||v===0||l.push(a(f,p,g,v))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:t}){(u(this,Sl)||E(this,Sl,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=u(this,Sl))==null||t.delete(e)}renderAnnotationElement(e){var i;const t=(i=u(this,Sl))==null?void 0:i.get(e.data.id);if(!t)return;const r=u(this,Ai).getRawValue(t);r&&(u(this,Ot)===ke.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}};Al=new WeakMap,In=new WeakMap,Et=new WeakMap,Ft=new WeakMap,bl=new WeakMap,Ai=new WeakMap,Sl=new WeakMap,vr=new WeakMap,xl=new WeakMap,Lo=new WeakMap,$r=new WeakMap,yr=new WeakMap,Mo=new WeakMap,Ju=new WeakMap,Zu=new WeakMap,Vr=new WeakMap,Cl=new WeakMap,ws=new WeakMap,Wr=new WeakMap,Bp=new WeakMap,_s=new WeakMap,eh=new WeakMap,Do=new WeakMap,th=new WeakMap,kl=new WeakMap,Ot=new WeakMap,Ne=new WeakMap,bi=new WeakMap,Io=new WeakMap,nh=new WeakMap,rh=new WeakMap,ih=new WeakMap,sh=new WeakMap,oh=new WeakMap,ah=new WeakMap,lh=new WeakMap,ch=new WeakMap,uh=new WeakMap,hh=new WeakMap,dh=new WeakMap,fh=new WeakMap,ph=new WeakMap,Es=new WeakMap,Gr=new WeakMap,Si=new WeakMap,gh=new WeakMap,Z=new WeakSet,Lf=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},iS=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=A(this,Z,Lf).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(r);i&&(u(this,Wr)||E(this,Wr,new WP(this)),u(this,Wr).show(r,i,this.direction==="ltr"))},sS=function(){var s,o,a;const e=document.getSelection();if(!e||e.isCollapsed){u(this,bi)&&((s=u(this,Wr))==null||s.hide(),E(this,bi,null),A(this,Z,sn).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===u(this,bi))return;if(!A(this,Z,Lf).call(this,e).closest(".textLayer")){u(this,bi)&&((o=u(this,Wr))==null||o.hide(),E(this,bi,null),A(this,Z,sn).call(this,{hasSelectedText:!1}));return}if((a=u(this,Wr))==null||a.hide(),E(this,bi,t),A(this,Z,sn).call(this,{hasSelectedText:!0}),!(u(this,Ot)!==ke.HIGHLIGHT&&u(this,Ot)!==ke.NONE)&&(u(this,Ot)===ke.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),E(this,ws,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=this._signal,c=h=>{h.type==="pointerup"&&h.button!==0||(window.removeEventListener("pointerup",c),window.removeEventListener("blur",c),h.type==="pointerup"&&A(this,Z,Mf).call(this,"main_toolbar"))};window.addEventListener("pointerup",c,{signal:l}),window.addEventListener("blur",c,{signal:l})}},Mf=function(e=""){u(this,Ot)===ke.HIGHLIGHT?this.highlightSelection(e):u(this,Ju)&&A(this,Z,iS).call(this)},oS=function(){document.addEventListener("selectionchange",A(this,Z,sS).bind(this),{signal:this._signal})},aS=function(){const e=this._signal;window.addEventListener("focus",u(this,ih),{signal:e}),window.addEventListener("blur",u(this,rh),{signal:e})},lS=function(){window.removeEventListener("focus",u(this,ih)),window.removeEventListener("blur",u(this,rh))},xv=function(){const e=this._signal;window.addEventListener("keydown",u(this,lh),{signal:e}),window.addEventListener("keyup",u(this,ch),{signal:e})},cS=function(){window.removeEventListener("keydown",u(this,lh)),window.removeEventListener("keyup",u(this,ch))},Cv=function(){const e=this._signal;document.addEventListener("copy",u(this,sh),{signal:e}),document.addEventListener("cut",u(this,oh),{signal:e}),document.addEventListener("paste",u(this,ah),{signal:e})},kv=function(){document.removeEventListener("copy",u(this,sh)),document.removeEventListener("cut",u(this,oh)),document.removeEventListener("paste",u(this,ah))},uS=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},sn=function(e){Object.entries(e).some(([r,i])=>u(this,ph)[r]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(u(this,ph),e)}),u(this,Ot)===ke.HIGHLIGHT&&e.hasSelectedEditor===!1&&A(this,Z,us).call(this,[[fe.HIGHLIGHT_FREE,!0]]))},us=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},hS=function(){if(!u(this,_s)){E(this,_s,!0);for(const e of u(this,Ft).values())e.enable();for(const e of u(this,Et).values())e.enable()}},dS=function(){if(this.unselectAll(),u(this,_s)){E(this,_s,!1);for(const e of u(this,Ft).values())e.disable();for(const e of u(this,Et).values())e.disable()}},Tv=function(e){const t=u(this,Ft).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},fS=function(){let e=null;for(e of u(this,Ne));return e},ru=function(){if(u(this,Et).size===0)return!0;if(u(this,Et).size===1)for(const e of u(this,Et).values())return e.isEmpty();return!1},Pv=function(e){for(const t of u(this,Ne))t.unselect();u(this,Ne).clear();for(const t of e)t.isEmpty()||(u(this,Ne).add(t),t.select());A(this,Z,sn).call(this,{hasSelectedEditor:this.hasSelection})},pe(hl,"TRANSLATE_SMALL",1),pe(hl,"TRANSLATE_BIG",10);let Ta=hl;var xi,Ci,wr,ki,Nn,Tl,_r,mh,Rv;const mi=class mi{constructor(e){b(this,mh);b(this,xi,"");b(this,Ci,!1);b(this,wr,null);b(this,ki,null);b(this,Nn,null);b(this,Tl,!1);b(this,_r,null);E(this,_r,e)}static initialize(e){mi._l10nPromise||(mi._l10nPromise=e)}async render(){const e=E(this,wr,document.createElement("button"));e.className="altText";const t=await mi._l10nPromise.get("pdfjs-editor-alt-text-button-label");e.textContent=t,e.setAttribute("aria-label",t),e.tabIndex="0";const r=u(this,_r)._uiManager._signal;e.addEventListener("contextmenu",Tn,{signal:r}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:r});const i=s=>{s.preventDefault(),u(this,_r)._uiManager.editAltText(u(this,_r))};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(E(this,Tl,!0),i(s))},{signal:r}),await A(this,mh,Rv).call(this),e}finish(){u(this,wr)&&(u(this,wr).focus({focusVisible:u(this,Tl)}),E(this,Tl,!1))}isEmpty(){return!u(this,xi)&&!u(this,Ci)}get data(){return{altText:u(this,xi),decorative:u(this,Ci)}}set data({altText:e,decorative:t}){u(this,xi)===e&&u(this,Ci)===t||(E(this,xi,e),E(this,Ci,t),A(this,mh,Rv).call(this))}toggle(e=!1){u(this,wr)&&(!e&&u(this,Nn)&&(clearTimeout(u(this,Nn)),E(this,Nn,null)),u(this,wr).disabled=!e)}destroy(){var e;(e=u(this,wr))==null||e.remove(),E(this,wr,null),E(this,ki,null)}};xi=new WeakMap,Ci=new WeakMap,wr=new WeakMap,ki=new WeakMap,Nn=new WeakMap,Tl=new WeakMap,_r=new WeakMap,mh=new WeakSet,Rv=async function(){var i;const e=u(this,wr);if(!e)return;if(!u(this,xi)&&!u(this,Ci)){e.classList.remove("done"),(i=u(this,ki))==null||i.remove();return}e.classList.add("done"),mi._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(s=>{e.setAttribute("aria-label",s)});let t=u(this,ki);if(!t){E(this,ki,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip");const s=t.id=`alt-text-tooltip-${u(this,_r).id}`;e.setAttribute("aria-describedby",s);const o=100,a=u(this,_r)._uiManager._signal;a.addEventListener("abort",()=>{clearTimeout(u(this,Nn)),E(this,Nn,null)},{once:!0}),e.addEventListener("mouseenter",()=>{E(this,Nn,setTimeout(()=>{E(this,Nn,null),u(this,ki).classList.add("show"),u(this,_r)._reportTelemetry({action:"alt_text_tooltip"})},o))},{signal:a}),e.addEventListener("mouseleave",()=>{var l;u(this,Nn)&&(clearTimeout(u(this,Nn)),E(this,Nn,null)),(l=u(this,ki))==null||l.classList.remove("show")},{signal:a})}t.innerText=u(this,Ci)?await mi._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):u(this,xi),t.parentNode||e.append(t);const r=u(this,_r).getImageForAltText();r==null||r.setAttribute("aria-describedby",t.id)},pe(mi,"_l10nPromise",null);let Tp=mi;var No,Er,Qt,Pl,Fo,jt,Oo,Rl,Ll,Jt,vh,jo,As,yh,zo,Ti,Xr,Ml,Dl,er,wh,Up,Ae,Lv,_h,Mv,Dv,pS,gS,Iv,Nv,Fv,mS,vS,yS,wS,Ov,iu;const We=class We{constructor(e){b(this,Ae);b(this,No,null);b(this,Er,null);b(this,Qt,null);b(this,Pl,!1);b(this,Fo,!1);b(this,jt,null);b(this,Oo,null);b(this,Rl,this.focusin.bind(this));b(this,Ll,this.focusout.bind(this));b(this,Jt,null);b(this,vh,"");b(this,jo,!1);b(this,As,null);b(this,yh,!1);b(this,zo,!1);b(this,Ti,!1);b(this,Xr,null);b(this,Ml,0);b(this,Dl,0);b(this,er,null);pe(this,"_initialOptions",Object.create(null));pe(this,"_isVisible",!0);pe(this,"_uiManager",null);pe(this,"_focusEventsAllowed",!0);pe(this,"_l10nPromise",null);b(this,wh,!1);b(this,Up,We._zIndex++);this.constructor===We&&Be("Cannot initialize AnnotationEditor."),this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:r,pageHeight:i,pageX:s,pageY:o}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,i],this.pageTranslation=[s,o];const[a,l]=this.parentDimensions;this.x=e.x/a,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=We.prototype._resizeWithKeyboard,t=Ta.TRANSLATE_SMALL,r=Ta.TRANSLATE_BIG;return Te(this,"_resizerKeyboardManager",new Md([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],We.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return Te(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new YP({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t,r){if(We._l10nPromise||(We._l10nPromise=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map(s=>[s,e.get(s.replaceAll(/([A-Z])/g,o=>`-${o.toLowerCase()}`))]))),r!=null&&r.strings)for(const s of r.strings)We._l10nPromise.set(s,e.get(s));if(We._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);We._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){Be("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return u(this,wh)}set _isDraggable(e){var t;E(this,wh,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=u(this,Up)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):A(this,Ae,iu).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(u(this,jo)?E(this,jo,!1):this.parent.setSelected(this))}focusout(e){var r;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(r=this.parent)!=null&&r.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,r,i){const[s,o]=this.parentDimensions;[r,i]=this.screenToPageTranslation(r,i),this.x=(e+r)/s,this.y=(t+i)/o,this.fixAndSetPosition()}translate(e,t){A(this,Ae,Lv).call(this,this.parentDimensions,e,t)}translateInPage(e,t){u(this,As)||E(this,As,[this.x,this.y]),A(this,Ae,Lv).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){u(this,As)||E(this,As,[this.x,this.y]);const[r,i]=this.parentDimensions;if(this.x+=e/r,this.y+=t/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:c,y:h}=this.div.getBoundingClientRect();this.parent.findNewParent(this,c,h)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:s,y:o}=this;const[a,l]=this.getBaseTranslation();s+=a,o+=l,this.div.style.left=`${(100*s).toFixed(2)}%`,this.div.style.top=`${(100*o).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!u(this,As)&&(u(this,As)[0]!==this.x||u(this,As)[1]!==this.y)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:r}=We,i=r/e,s=r/t;switch(this.rotation){case 90:return[-i,s];case 180:return[i,s];case 270:return[i,-s];default:return[-i,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[t,r]=this.pageDimensions;let{x:i,y:s,width:o,height:a}=this;if(o*=t,a*=r,i*=t,s*=r,this._mustFixPosition)switch(e){case 0:i=Math.max(0,Math.min(t-o,i)),s=Math.max(0,Math.min(r-a,s));break;case 90:i=Math.max(0,Math.min(t-a,i)),s=Math.min(r,Math.max(o,s));break;case 180:i=Math.min(t,Math.max(o,i)),s=Math.min(r,Math.max(a,s));break;case 270:i=Math.min(t,Math.max(a,i)),s=Math.max(0,Math.min(r-o,s));break}this.x=i/=t,this.y=s/=r;const[l,c]=this.getBaseTranslation();i+=l,s+=c;const{style:h}=this.div;h.left=`${(100*i).toFixed(2)}%`,h.top=`${(100*s).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var r;return A(r=We,_h,Mv).call(r,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var r;return A(r=We,_h,Mv).call(r,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,r]}=this,i=t*e,s=r*e;return bn.isCSSRoundSupported?[Math.round(i),Math.round(s)]:[i,s]}setDims(e,t){const[r,i]=this.parentDimensions;this.div.style.width=`${(100*e/r).toFixed(2)}%`,u(this,Fo)||(this.div.style.height=`${(100*t/i).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:r}=e,i=r.endsWith("%"),s=!u(this,Fo)&&t.endsWith("%");if(i&&s)return;const[o,a]=this.parentDimensions;i||(e.width=`${(100*parseFloat(r)/o).toFixed(2)}%`),!u(this,Fo)&&!s&&(e.height=`${(100*parseFloat(t)/a).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=u(this,Qt))==null||e.finish()}async addEditToolbar(){return u(this,Jt)||u(this,zo)?u(this,Jt):(E(this,Jt,new _v(this)),this.div.append(u(this,Jt).render()),u(this,Qt)&&u(this,Jt).addAltTextButton(await u(this,Qt).render()),u(this,Jt))}removeEditToolbar(){var e;u(this,Jt)&&(u(this,Jt).remove(),E(this,Jt,null),(e=u(this,Qt))==null||e.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){u(this,Qt)||(Tp.initialize(We._l10nPromise),E(this,Qt,new Tp(this)),u(this,No)&&(u(this,Qt).data=u(this,No),E(this,No,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=u(this,Qt))==null?void 0:e.data}set altTextData(e){u(this,Qt)&&(u(this,Qt).data=e)}hasAltText(){var e;return!((e=u(this,Qt))!=null&&e.isEmpty())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=u(this,Pl)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground();const e=this._uiManager._signal;this.div.addEventListener("focusin",u(this,Rl),{signal:e}),this.div.addEventListener("focusout",u(this,Ll),{signal:e});const[t,r]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*r/t).toFixed(2)}%`,this.div.style.maxHeight=`${(100*t/r).toFixed(2)}%`);const[i,s]=this.getInitialTranslation();return this.translate(i,s),kp(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:t}=bn.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(E(this,jo,!0),this._isDraggable){A(this,Ae,mS).call(this,e);return}A(this,Ae,Fv).call(this,e)}moveInDOM(){u(this,Xr)&&clearTimeout(u(this,Xr)),E(this,Xr,setTimeout(()=>{var e;E(this,Xr,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,r){e.changeParent(this),this.x=t,this.y=r,this.fixAndSetPosition()}getRect(e,t,r=this.rotation){const i=this.parentScale,[s,o]=this.pageDimensions,[a,l]=this.pageTranslation,c=e/i,h=t/i,d=this.x*s,f=this.y*o,p=this.width*s,g=this.height*o;switch(r){case 0:return[d+c+a,o-f-h-g+l,d+c+p+a,o-f-h+l];case 90:return[d+h+a,o-f+c+l,d+h+g+a,o-f+c+p+l];case 180:return[d-c-p+a,o-f+h+l,d-c+a,o-f+h+g+l];case 270:return[d-h-g+a,o-f-c-p+l,d-h+a,o-f-c+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[r,i,s,o]=e,a=s-r,l=o-i;switch(this.rotation){case 0:return[r,t-o,a,l];case 90:return[r,t-i,l,a];case 180:return[s,t-i,a,l];case 270:return[s,t-o,l,a];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){E(this,zo,!0)}disableEditMode(){E(this,zo,!1)}isInEditMode(){return u(this,zo)}shouldGetKeyboardEvents(){return u(this,Ti)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var t,r;const e=this._uiManager._signal;(t=this.div)==null||t.addEventListener("focusin",u(this,Rl),{signal:e}),(r=this.div)==null||r.addEventListener("focusout",u(this,Ll),{signal:e})}rotate(e){}serialize(e=!1,t=null){Be("An editor must be serializable")}static deserialize(e,t,r){const i=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:r});i.rotation=e.rotation,E(i,No,e.accessibilityData);const[s,o]=i.pageDimensions,[a,l,c,h]=i.getRectInCurrentCoords(e.rect,o);return i.x=a/s,i.y=l/o,i.width=c/s,i.height=h/o,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.div.removeEventListener("focusin",u(this,Rl)),this.div.removeEventListener("focusout",u(this,Ll)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),u(this,Xr)&&(clearTimeout(u(this,Xr)),E(this,Xr,null)),A(this,Ae,iu).call(this),this.removeEditToolbar(),u(this,er)){for(const e of u(this,er).values())clearTimeout(e);E(this,er,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(A(this,Ae,pS).call(this),u(this,jt).classList.remove("hidden"),kp(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),E(this,Oo,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=u(this,jt).children;if(!u(this,Er)){E(this,Er,Array.from(t));const o=A(this,Ae,vS).bind(this),a=A(this,Ae,yS).bind(this),l=this._uiManager._signal;for(const c of u(this,Er)){const h=c.getAttribute("data-resizer-name");c.setAttribute("role","spinbutton"),c.addEventListener("keydown",o,{signal:l}),c.addEventListener("blur",a,{signal:l}),c.addEventListener("focus",A(this,Ae,wS).bind(this,h),{signal:l}),We._l10nPromise.get(`pdfjs-editor-resizer-label-${h}`).then(d=>c.setAttribute("aria-label",d))}}const r=u(this,Er)[0];let i=0;for(const o of t){if(o===r)break;i++}const s=(360-this.rotation+this.parentRotation)%360/90*(u(this,Er).length/4);if(s!==i){if(s<i)for(let a=0;a<i-s;a++)u(this,jt).append(u(this,jt).firstChild);else if(s>i)for(let a=0;a<s-i;a++)u(this,jt).firstChild.before(u(this,jt).lastChild);let o=0;for(const a of t){const c=u(this,Er)[o++].getAttribute("data-resizer-name");We._l10nPromise.get(`pdfjs-editor-resizer-label-${c}`).then(h=>a.setAttribute("aria-label",h))}}A(this,Ae,Ov).call(this,0),E(this,Ti,!0),u(this,jt).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){u(this,Ti)&&A(this,Ae,Nv).call(this,u(this,vh),{movementX:e,movementY:t})}_stopResizingWithKeyboard(){A(this,Ae,iu).call(this),this.div.focus()}select(){var e,t;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!u(this,Jt)){this.addEditToolbar().then(()=>{var r,i;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((i=u(this,Jt))==null||i.show())});return}(t=u(this,Jt))==null||t.show()}unselect(){var e,t,r,i;(e=u(this,jt))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(r=this.div)!=null&&r.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=u(this,Jt))==null||i.hide()}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return u(this,yh)}set isEditing(e){E(this,yh,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){E(this,Fo,!0);const r=e/t,{style:i}=this.div;i.aspectRatio=r,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){u(this,er)||E(this,er,new Map);const{action:r}=e;let i=u(this,er).get(r);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),u(this,er).delete(r),u(this,er).size===0&&E(this,er,null)},We._telemetryTimeout),u(this,er).set(r,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),E(this,Pl,!1)}disable(){this.div&&(this.div.tabIndex=-1),E(this,Pl,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const r=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),r.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;t.nodeName==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};No=new WeakMap,Er=new WeakMap,Qt=new WeakMap,Pl=new WeakMap,Fo=new WeakMap,jt=new WeakMap,Oo=new WeakMap,Rl=new WeakMap,Ll=new WeakMap,Jt=new WeakMap,vh=new WeakMap,jo=new WeakMap,As=new WeakMap,yh=new WeakMap,zo=new WeakMap,Ti=new WeakMap,Xr=new WeakMap,Ml=new WeakMap,Dl=new WeakMap,er=new WeakMap,wh=new WeakMap,Up=new WeakMap,Ae=new WeakSet,Lv=function([e,t],r,i){[r,i]=this.screenToPageTranslation(r,i),this.x+=r/e,this.y+=i/t,this.fixAndSetPosition()},_h=new WeakSet,Mv=function(e,t,r){switch(r){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},Dv=function(e){switch(e){case 90:{const[t,r]=this.pageDimensions;return[0,-t/r,r/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,r]=this.pageDimensions;return[0,t/r,-r/t,0]}default:return[1,0,0,1]}},pS=function(){if(u(this,jt))return;E(this,jt,document.createElement("div")),u(this,jt).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const r of e){const i=document.createElement("div");u(this,jt).append(i),i.classList.add("resizer",r),i.setAttribute("data-resizer-name",r),i.addEventListener("pointerdown",A(this,Ae,gS).bind(this,r),{signal:t}),i.addEventListener("contextmenu",Tn,{signal:t}),i.tabIndex=-1}this.div.prepend(u(this,jt))},gS=function(e,t){var v;t.preventDefault();const{isMac:r}=bn.platform;if(t.button!==0||t.ctrlKey&&r)return;(v=u(this,Qt))==null||v.toggle(!1);const i=A(this,Ae,Nv).bind(this,e),s=this._isDraggable;this._isDraggable=!1;const o=this._uiManager._signal,a={passive:!0,capture:!0,signal:o};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",i,a),window.addEventListener("contextmenu",Tn,{signal:o});const l=this.x,c=this.y,h=this.width,d=this.height,f=this.parent.div.style.cursor,p=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const g=()=>{var _;this.parent.togglePointerEvents(!0),(_=u(this,Qt))==null||_.toggle(!0),this._isDraggable=s,window.removeEventListener("pointerup",g),window.removeEventListener("blur",g),window.removeEventListener("pointermove",i,a),window.removeEventListener("contextmenu",Tn),this.parent.div.style.cursor=f,this.div.style.cursor=p,A(this,Ae,Iv).call(this,l,c,h,d)};window.addEventListener("pointerup",g,{signal:o}),window.addEventListener("blur",g,{signal:o})},Iv=function(e,t,r,i){const s=this.x,o=this.y,a=this.width,l=this.height;s===e&&o===t&&a===r&&l===i||this.addCommands({cmd:()=>{this.width=a,this.height=l,this.x=s,this.y=o;const[c,h]=this.parentDimensions;this.setDims(c*a,h*l),this.fixAndSetPosition()},undo:()=>{this.width=r,this.height=i,this.x=e,this.y=t;const[c,h]=this.parentDimensions;this.setDims(c*r,h*i),this.fixAndSetPosition()},mustExec:!0})},Nv=function(e,t){const[r,i]=this.parentDimensions,s=this.x,o=this.y,a=this.width,l=this.height,c=We.MIN_SIZE/r,h=We.MIN_SIZE/i,d=K=>Math.round(K*1e4)/1e4,f=A(this,Ae,Dv).call(this,this.rotation),p=(K,j)=>[f[0]*K+f[2]*j,f[1]*K+f[3]*j],g=A(this,Ae,Dv).call(this,360-this.rotation),v=(K,j)=>[g[0]*K+g[2]*j,g[1]*K+g[3]*j];let _,m,y=!1,w=!1;switch(e){case"topLeft":y=!0,_=(K,j)=>[0,0],m=(K,j)=>[K,j];break;case"topMiddle":_=(K,j)=>[K/2,0],m=(K,j)=>[K/2,j];break;case"topRight":y=!0,_=(K,j)=>[K,0],m=(K,j)=>[0,j];break;case"middleRight":w=!0,_=(K,j)=>[K,j/2],m=(K,j)=>[0,j/2];break;case"bottomRight":y=!0,_=(K,j)=>[K,j],m=(K,j)=>[0,0];break;case"bottomMiddle":_=(K,j)=>[K/2,j],m=(K,j)=>[K/2,0];break;case"bottomLeft":y=!0,_=(K,j)=>[0,j],m=(K,j)=>[K,0];break;case"middleLeft":w=!0,_=(K,j)=>[0,j/2],m=(K,j)=>[K,j/2];break}const S=_(a,l),C=m(a,l);let k=p(...C);const P=d(s+k[0]),x=d(o+k[1]);let D=1,I=1,[M,U]=this.screenToPageTranslation(t.movementX,t.movementY);if([M,U]=v(M/r,U/i),y){const K=Math.hypot(a,l);D=I=Math.max(Math.min(Math.hypot(C[0]-S[0]-M,C[1]-S[1]-U)/K,1/a,1/l),c/a,h/l)}else w?D=Math.max(c,Math.min(1,Math.abs(C[0]-S[0]-M)))/a:I=Math.max(h,Math.min(1,Math.abs(C[1]-S[1]-U)))/l;const W=d(a*D),$=d(l*I);k=p(...m(W,$));const Q=P-k[0],q=x-k[1];this.width=W,this.height=$,this.x=Q,this.y=q,this.setDims(r*W,i*$),this.fixAndSetPosition()},Fv=function(e){const{isMac:t}=bn.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},mS=function(e){const t=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let r,i;const s=this._uiManager._signal;t&&(this.div.classList.add("moving"),r={passive:!0,capture:!0,signal:s},E(this,Ml,e.clientX),E(this,Dl,e.clientY),i=a=>{const{clientX:l,clientY:c}=a,[h,d]=this.screenToPageTranslation(l-u(this,Ml),c-u(this,Dl));E(this,Ml,l),E(this,Dl,c),this._uiManager.dragSelectedEditors(h,d)},window.addEventListener("pointermove",i,r));const o=()=>{window.removeEventListener("pointerup",o),window.removeEventListener("blur",o),t&&(this.div.classList.remove("moving"),window.removeEventListener("pointermove",i,r)),E(this,jo,!1),this._uiManager.endDragSession()||A(this,Ae,Fv).call(this,e)};window.addEventListener("pointerup",o,{signal:s}),window.addEventListener("blur",o,{signal:s})},vS=function(e){We._resizerKeyboardManager.exec(this,e)},yS=function(e){var t;u(this,Ti)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==u(this,jt)&&A(this,Ae,iu).call(this)},wS=function(e){E(this,vh,u(this,Ti)?e:"")},Ov=function(e){if(u(this,Er))for(const t of u(this,Er))t.tabIndex=e},iu=function(){if(E(this,Ti,!1),A(this,Ae,Ov).call(this,-1),u(this,Oo)){const{savedX:e,savedY:t,savedWidth:r,savedHeight:i}=u(this,Oo);A(this,Ae,Iv).call(this,e,t,r,i),E(this,Oo,null)}},b(We,_h),pe(We,"_borderLineWidth",-1),pe(We,"_colorManager",new Sv),pe(We,"_zIndex",1),pe(We,"_telemetryTimeout",1e3);let Fe=We;class YP extends Fe{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}const z_=3285377520,Jn=4294901760,Hr=65535;class _S{constructor(e){this.h1=e?e&4294967295:z_,this.h2=e?e&4294967295:z_}update(e){let t,r;if(typeof e=="string"){t=new Uint8Array(e.length*2),r=0;for(let v=0,_=e.length;v<_;v++){const m=e.charCodeAt(v);m<=255?t[r++]=m:(t[r++]=m>>>8,t[r++]=m&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),r=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=r>>2,s=r-i*4,o=new Uint32Array(t.buffer,0,i);let a=0,l=0,c=this.h1,h=this.h2;const d=3432918353,f=461845907,p=d&Hr,g=f&Hr;for(let v=0;v<i;v++)v&1?(a=o[v],a=a*d&Jn|a*p&Hr,a=a<<15|a>>>17,a=a*f&Jn|a*g&Hr,c^=a,c=c<<13|c>>>19,c=c*5+3864292196):(l=o[v],l=l*d&Jn|l*p&Hr,l=l<<15|l>>>17,l=l*f&Jn|l*g&Hr,h^=l,h=h<<13|h>>>19,h=h*5+3864292196);switch(a=0,s){case 3:a^=t[i*4+2]<<16;case 2:a^=t[i*4+1]<<8;case 1:a^=t[i*4],a=a*d&Jn|a*p&Hr,a=a<<15|a>>>17,a=a*f&Jn|a*g&Hr,i&1?c^=a:h^=a}this.h1=c,this.h2=h}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Jn|e*36045&Hr,t=t*4283543511&Jn|((t<<16|e>>>16)*2950163797&Jn)>>>16,e^=t>>>1,e=e*444984403&Jn|e*60499&Hr,t=t*3301882366&Jn|((t<<16|e>>>16)*3120437893&Jn)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const jv=Object.freeze({map:null,hash:"",transfer:void 0});var Ho,zt,$p,ES;class z0{constructor(){b(this,$p);b(this,Ho,!1);b(this,zt,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const r=u(this,zt).get(e);return r===void 0?t:Object.assign(t,r)}getRawValue(e){return u(this,zt).get(e)}remove(e){if(u(this,zt).delete(e),u(this,zt).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of u(this,zt).values())if(t instanceof Fe)return;this.onAnnotationEditor(null)}}setValue(e,t){const r=u(this,zt).get(e);let i=!1;if(r!==void 0)for(const[s,o]of Object.entries(t))r[s]!==o&&(i=!0,r[s]=o);else i=!0,u(this,zt).set(e,t);i&&A(this,$p,ES).call(this),t instanceof Fe&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return u(this,zt).has(e)}getAll(){return u(this,zt).size>0?M0(u(this,zt)):null}setAll(e){for(const[t,r]of Object.entries(e))this.setValue(t,r)}get size(){return u(this,zt).size}resetModified(){u(this,Ho)&&(E(this,Ho,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new AS(this)}get serializable(){if(u(this,zt).size===0)return jv;const e=new Map,t=new _S,r=[],i=Object.create(null);let s=!1;for(const[o,a]of u(this,zt)){const l=a instanceof Fe?a.serialize(!1,i):a;l&&(e.set(o,l),t.update(`${o}:${JSON.stringify(l)}`),s||(s=!!l.bitmap))}if(s)for(const o of e.values())o.bitmap&&r.push(o.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:r}:jv}get editorStats(){let e=null;const t=new Map;for(const r of u(this,zt).values()){if(!(r instanceof Fe))continue;const i=r.telemetryFinalData;if(!i)continue;const{type:s}=i;t.has(s)||t.set(s,Object.getPrototypeOf(r).constructor),e||(e=Object.create(null));const o=e[s]||(e[s]=new Map);for(const[a,l]of Object.entries(i)){if(a==="type")continue;let c=o.get(a);c||(c=new Map,o.set(a,c));const h=c.get(l)??0;c.set(l,h+1)}}for(const[r,i]of t)e[r]=i.computeTelemetryFinalData(e[r]);return e}}Ho=new WeakMap,zt=new WeakMap,$p=new WeakSet,ES=function(){u(this,Ho)||(E(this,Ho,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Eh;class AS extends z0{constructor(t){super();b(this,Eh);const{map:r,hash:i,transfer:s}=t.serializable,o=structuredClone(r,s?{transfer:s}:null);E(this,Eh,{map:o,hash:i,transfer:s})}get print(){Be("Should not call PrintAnnotationStorage.print")}get serializable(){return u(this,Eh)}}Eh=new WeakMap;var Il;class qP{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){b(this,Il,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),u(this,Il).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:t}){if(!(!e||u(this,Il).has(e.loadedName))){if(kt(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:i,style:s}=e,o=new FontFace(r,i,s);this.addNativeFontFace(o);try{await o.load(),u(this,Il).add(r),t==null||t(e)}catch{Ee(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}Be("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(i){throw Ee(`Failed to load font '${r.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const i=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return Te(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(tn||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),Te(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function t(){for(kt(!i.done,"completeRequest() cannot be called twice."),i.done=!0;r.length>0&&r[0].done;){const s=r.shift();setTimeout(s.callback,0)}}const{loadingRequests:r}=this,i={done:!1,complete:t,callback:e};return r.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Te(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function r(S,C){return S.charCodeAt(C)<<24|S.charCodeAt(C+1)<<16|S.charCodeAt(C+2)<<8|S.charCodeAt(C+3)&255}function i(S,C,k,P){const x=S.substring(0,C),D=S.substring(C+k);return x+P+D}let s,o;const a=this._document.createElement("canvas");a.width=1,a.height=1;const l=a.getContext("2d");let c=0;function h(S,C){if(++c>30){Ee("Load test font never loaded."),C();return}if(l.font="30px "+S,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){C();return}setTimeout(h.bind(null,S,C))}const d=`lt${Date.now()}${this.loadTestFontId++}`;let f=this._loadTestFont;f=i(f,976,d.length,d);const g=16,v=1482184792;let _=r(f,g);for(s=0,o=d.length-3;s<o;s+=4)_=_-v+r(d,s)|0;s<d.length&&(_=_-v+r(d+"XXX",s)|0),f=i(f,g,4,DP(_));const m=`url(data:font/opentype;base64,${btoa(f)});`,y=`@font-face {font-family:"${d}";src:${m}}`;this.insertRule(y);const w=this._document.createElement("div");w.style.visibility="hidden",w.style.width=w.style.height="10px",w.style.position="absolute",w.style.top=w.style.left="0px";for(const S of[e.loadedName,d]){const C=this._document.createElement("span");C.textContent="Hi",C.style.fontFamily=S,w.append(C)}this._document.body.append(w),h(d,()=>{w.remove(),t.complete()})}}Il=new WeakMap;class QP{constructor(e,{disableFontFace:t=!1,inspectFont:r=null}){this.compiledGlyphs=Object.create(null);for(const i in e)this[i]=e[i];this.disableFontFace=t===!0,this._inspectFont=r}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const r={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(r.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,r)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var i;if(!this.data||this.disableFontFace)return null;const e=$b(this.data),t=`url(data:${this.mimetype};base64,${btoa(e)});`;let r;if(!this.cssFontInfo)r=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),r=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${t}}`}return(i=this._inspectFont)==null||i.call(this,this,t),r}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];let r;try{r=e.get(this.loadedName+"_path_"+t)}catch(s){Ee(`getPathGenerator - ignoring character: "${s}".`)}if(!Array.isArray(r)||r.length===0)return this.compiledGlyphs[t]=function(s,o){};const i=[];for(let s=0,o=r.length;s<o;)switch(r[s++]){case di.BEZIER_CURVE_TO:{const[a,l,c,h,d,f]=r.slice(s,s+6);i.push(p=>p.bezierCurveTo(a,l,c,h,d,f)),s+=6}break;case di.MOVE_TO:{const[a,l]=r.slice(s,s+2);i.push(c=>c.moveTo(a,l)),s+=2}break;case di.LINE_TO:{const[a,l]=r.slice(s,s+2);i.push(c=>c.lineTo(a,l)),s+=2}break;case di.QUADRATIC_CURVE_TO:{const[a,l,c,h]=r.slice(s,s+4);i.push(d=>d.quadraticCurveTo(a,l,c,h)),s+=4}break;case di.RESTORE:i.push(a=>a.restore());break;case di.SAVE:i.push(a=>a.save());break;case di.SCALE:kt(i.length===2,"Scale command is only valid at the third position.");break;case di.TRANSFORM:{const[a,l,c,h,d,f]=r.slice(s,s+6);i.push(p=>p.transform(a,l,c,h,d,f)),s+=6}break;case di.TRANSLATE:{const[a,l]=r.slice(s,s+2);i.push(c=>c.translate(a,l)),s+=2}break}return this.compiledGlyphs[t]=function(o,a){i[0](o),i[1](o),o.scale(a,-a);for(let l=2,c=i.length;l<c;l++)i[l](o)}}}if(tn){var zv=Promise.withResolvers(),Su=null;(async()=>{const e=await lf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),t=await lf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=await lf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),i=await lf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let s,o;return new Map(Object.entries({fs:e,http:t,https:r,url:i,canvas:s,path2d:o}))})().then(e=>{Su=e,zv.resolve()},e=>{Ee(`loadPackages: ${e}`),Su=new Map,zv.resolve()})}class ci{static get promise(){return zv.promise}static get(e){return Su==null?void 0:Su.get(e)}}const bS=function(n){return ci.get("fs").promises.readFile(n).then(t=>new Uint8Array(t))};class JP extends xg{}class ZP extends Cp{_createCanvas(e,t){return ci.get("canvas").createCanvas(e,t)}}class eR extends Cg{_fetchData(e,t){return bS(e).then(r=>({cMapData:r,compressionType:t}))}}class tR extends kg{_fetchData(e){return bS(e)}}const un={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Hv(n,e){if(!e)return;const t=e[2]-e[0],r=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],t,r),n.clip(i)}class Dd{constructor(){this.constructor===Dd&&Be("Cannot initialize BaseShadingPattern.")}getPattern(){Be("Abstract method `getPattern` called.")}}class nR extends Dd{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)t.addColorStop(r[0],r[1]);return t}getPattern(e,t,r,i){let s;if(i===un.STROKE||i===un.FILL){const o=t.current.getClippedPathBoundingBox(i,rt(e))||[0,0,0,0],a=Math.ceil(o[2]-o[0])||1,l=Math.ceil(o[3]-o[1])||1,c=t.cachedCanvases.getCanvas("pattern",a,l,!0),h=c.context;h.clearRect(0,0,h.canvas.width,h.canvas.height),h.beginPath(),h.rect(0,0,h.canvas.width,h.canvas.height),h.translate(-o[0],-o[1]),r=oe.transform(r,[1,0,0,1,o[0],o[1]]),h.transform(...t.baseTransform),this.matrix&&h.transform(...this.matrix),Hv(h,this._bbox),h.fillStyle=this._createGradient(h),h.fill(),s=e.createPattern(c.canvas,"no-repeat");const d=new DOMMatrix(r);s.setTransform(d)}else Hv(e,this._bbox),s=this._createGradient(e);return s}}function gm(n,e,t,r,i,s,o,a){const l=e.coords,c=e.colors,h=n.data,d=n.width*4;let f;l[t+1]>l[r+1]&&(f=t,t=r,r=f,f=s,s=o,o=f),l[r+1]>l[i+1]&&(f=r,r=i,i=f,f=o,o=a,a=f),l[t+1]>l[r+1]&&(f=t,t=r,r=f,f=s,s=o,o=f);const p=(l[t]+e.offsetX)*e.scaleX,g=(l[t+1]+e.offsetY)*e.scaleY,v=(l[r]+e.offsetX)*e.scaleX,_=(l[r+1]+e.offsetY)*e.scaleY,m=(l[i]+e.offsetX)*e.scaleX,y=(l[i+1]+e.offsetY)*e.scaleY;if(g>=y)return;const w=c[s],S=c[s+1],C=c[s+2],k=c[o],P=c[o+1],x=c[o+2],D=c[a],I=c[a+1],M=c[a+2],U=Math.round(g),W=Math.round(y);let $,Q,q,K,j,z,H,J;for(let G=U;G<=W;G++){if(G<_){const re=G<g?0:(g-G)/(g-_);$=p-(p-v)*re,Q=w-(w-k)*re,q=S-(S-P)*re,K=C-(C-x)*re}else{let re;G>y?re=1:_===y?re=0:re=(_-G)/(_-y),$=v-(v-m)*re,Q=k-(k-D)*re,q=P-(P-I)*re,K=x-(x-M)*re}let ue;G<g?ue=0:G>y?ue=1:ue=(g-G)/(g-y),j=p-(p-m)*ue,z=w-(w-D)*ue,H=S-(S-I)*ue,J=C-(C-M)*ue;const N=Math.round(Math.min($,j)),Ke=Math.round(Math.max($,j));let X=d*G+N*4;for(let re=N;re<=Ke;re++)ue=($-re)/($-j),ue<0?ue=0:ue>1&&(ue=1),h[X++]=Q-(Q-z)*ue|0,h[X++]=q-(q-H)*ue|0,h[X++]=K-(K-J)*ue|0,h[X++]=255}}function rR(n,e,t){const r=e.coords,i=e.colors;let s,o;switch(e.type){case"lattice":const a=e.verticesPerRow,l=Math.floor(r.length/a)-1,c=a-1;for(s=0;s<l;s++){let h=s*a;for(let d=0;d<c;d++,h++)gm(n,t,r[h],r[h+1],r[h+a],i[h],i[h+1],i[h+a]),gm(n,t,r[h+a+1],r[h+1],r[h+a],i[h+a+1],i[h+1],i[h+a])}break;case"triangles":for(s=0,o=r.length;s<o;s+=3)gm(n,t,r[s],r[s+1],r[s+2],i[s],i[s+1],i[s+2]);break;default:throw new Error("illegal figure")}}class iR extends Dd{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,r){const a=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),c=Math.ceil(this._bounds[2])-a,h=Math.ceil(this._bounds[3])-l,d=Math.min(Math.ceil(Math.abs(c*e[0]*1.1)),3e3),f=Math.min(Math.ceil(Math.abs(h*e[1]*1.1)),3e3),p=c/d,g=h/f,v={coords:this._coords,colors:this._colors,offsetX:-a,offsetY:-l,scaleX:1/p,scaleY:1/g},_=d+2*2,m=f+2*2,y=r.getCanvas("mesh",_,m,!1),w=y.context,S=w.createImageData(d,f);if(t){const k=S.data;for(let P=0,x=k.length;P<x;P+=4)k[P]=t[0],k[P+1]=t[1],k[P+2]=t[2],k[P+3]=255}for(const k of this._figures)rR(S,k,v);return w.putImageData(S,2,2),{canvas:y.canvas,offsetX:a-2*p,offsetY:l-2*g,scaleX:p,scaleY:g}}getPattern(e,t,r,i){Hv(e,this._bbox);let s;if(i===un.SHADING)s=oe.singularValueDecompose2dScale(rt(e));else if(s=oe.singularValueDecompose2dScale(t.baseTransform),this.matrix){const a=oe.singularValueDecompose2dScale(this.matrix);s=[s[0]*a[0],s[1]*a[1]]}const o=this._createMeshCanvas(s,i===un.SHADING?null:this._background,t.cachedCanvases);return i!==un.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(o.offsetX,o.offsetY),e.scale(o.scaleX,o.scaleY),e.createPattern(o.canvas,"no-repeat")}}class sR extends Dd{getPattern(){return"hotpink"}}function oR(n){switch(n[0]){case"RadialAxial":return new nR(n);case"Mesh":return new iR(n);case"Dummy":return new sR}throw new Error(`Unknown IR type: ${n[0]}`)}const H_={COLORED:1,UNCOLORED:2},Vp=class Vp{constructor(e,t,r,i,s){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=r,this.canvasGraphicsFactory=i,this.baseTransform=s}createPatternCanvas(e){const t=this.operatorList,r=this.bbox,i=this.xstep,s=this.ystep,o=this.paintType,a=this.tilingType,l=this.color,c=this.canvasGraphicsFactory;Ag("TilingType: "+a);const h=r[0],d=r[1],f=r[2],p=r[3],g=oe.singularValueDecompose2dScale(this.matrix),v=oe.singularValueDecompose2dScale(this.baseTransform),_=[g[0]*v[0],g[1]*v[1]],m=this.getSizeAndScale(i,this.ctx.canvas.width,_[0]),y=this.getSizeAndScale(s,this.ctx.canvas.height,_[1]),w=e.cachedCanvases.getCanvas("pattern",m.size,y.size,!0),S=w.context,C=c.createCanvasGraphics(S);C.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(C,o,l);let k=h,P=d,x=f,D=p;return h<0&&(k=0,x+=Math.abs(h)),d<0&&(P=0,D+=Math.abs(d)),S.translate(-(m.scale*k),-(y.scale*P)),C.transform(m.scale,0,0,y.scale,0,0),S.save(),this.clipBbox(C,k,P,x,D),C.baseTransform=rt(C.ctx),C.executeOperatorList(t),C.endDrawing(),{canvas:w.canvas,scaleX:m.scale,scaleY:y.scale,offsetX:k,offsetY:P}}getSizeAndScale(e,t,r){e=Math.abs(e);const i=Math.max(Vp.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*r);return s>=i?s=i:r=s/e,{scale:r,size:s}}clipBbox(e,t,r,i,s){const o=i-t,a=s-r;e.ctx.rect(t,r,o,a),e.current.updateRectMinMax(rt(e.ctx),[t,r,i,s]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,r){const i=e.ctx,s=e.current;switch(t){case H_.COLORED:const o=this.ctx;i.fillStyle=o.fillStyle,i.strokeStyle=o.strokeStyle,s.fillColor=o.fillStyle,s.strokeColor=o.strokeStyle;break;case H_.UNCOLORED:const a=oe.makeHexColor(r[0],r[1],r[2]);i.fillStyle=a,i.strokeStyle=a,s.fillColor=a,s.strokeColor=a;break;default:throw new MP(`Unsupported paint type: ${t}`)}}getPattern(e,t,r,i){let s=r;i!==un.SHADING&&(s=oe.transform(s,t.baseTransform),this.matrix&&(s=oe.transform(s,this.matrix)));const o=this.createPatternCanvas(t);let a=new DOMMatrix(s);a=a.translate(o.offsetX,o.offsetY),a=a.scale(1/o.scaleX,1/o.scaleY);const l=e.createPattern(o.canvas,"repeat");return l.setTransform(a),l}};pe(Vp,"MAX_PATTERN_SIZE",3e3);let Bv=Vp;function aR({src:n,srcPos:e=0,dest:t,width:r,height:i,nonBlackColor:s=4294967295,inverseDecode:o=!1}){const a=bn.isLittleEndian?4278190080:255,[l,c]=o?[s,a]:[a,s],h=r>>3,d=r&7,f=n.length;t=new Uint32Array(t.buffer);let p=0;for(let g=0;g<i;g++){for(const _=e+h;e<_;e++){const m=e<f?n[e]:255;t[p++]=m&128?c:l,t[p++]=m&64?c:l,t[p++]=m&32?c:l,t[p++]=m&16?c:l,t[p++]=m&8?c:l,t[p++]=m&4?c:l,t[p++]=m&2?c:l,t[p++]=m&1?c:l}if(d===0)continue;const v=e<f?n[e++]:255;for(let _=0;_<d;_++)t[p++]=v&1<<7-_?c:l}return{srcPos:e,destPos:p}}const B_=16,U_=100,lR=15,$_=10,V_=1e3,_n=16;function cR(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(r,i){e.translate(r,i),this.__originalTranslate(r,i)},n.scale=function(r,i){e.scale(r,i),this.__originalScale(r,i)},n.transform=function(r,i,s,o,a,l){e.transform(r,i,s,o,a,l),this.__originalTransform(r,i,s,o,a,l)},n.setTransform=function(r,i,s,o,a,l){e.setTransform(r,i,s,o,a,l),this.__originalSetTransform(r,i,s,o,a,l)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(r){e.rotate(r),this.__originalRotate(r)},n.clip=function(r){e.clip(r),this.__originalClip(r)},n.moveTo=function(t,r){e.moveTo(t,r),this.__originalMoveTo(t,r)},n.lineTo=function(t,r){e.lineTo(t,r),this.__originalLineTo(t,r)},n.bezierCurveTo=function(t,r,i,s,o,a){e.bezierCurveTo(t,r,i,s,o,a),this.__originalBezierCurveTo(t,r,i,s,o,a)},n.rect=function(t,r,i,s){e.rect(t,r,i,s),this.__originalRect(t,r,i,s)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class uR{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,r){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,t,r)):(i=this.canvasFactory.create(t,r),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function cf(n,e,t,r,i,s,o,a,l,c){const[h,d,f,p,g,v]=rt(n);if(d===0&&f===0){const y=o*h+g,w=Math.round(y),S=a*p+v,C=Math.round(S),k=(o+l)*h+g,P=Math.abs(Math.round(k)-w)||1,x=(a+c)*p+v,D=Math.abs(Math.round(x)-C)||1;return n.setTransform(Math.sign(h),0,0,Math.sign(p),w,C),n.drawImage(e,t,r,i,s,0,0,P,D),n.setTransform(h,d,f,p,g,v),[P,D]}if(h===0&&p===0){const y=a*f+g,w=Math.round(y),S=o*d+v,C=Math.round(S),k=(a+c)*f+g,P=Math.abs(Math.round(k)-w)||1,x=(o+l)*d+v,D=Math.abs(Math.round(x)-C)||1;return n.setTransform(0,Math.sign(d),Math.sign(f),0,w,C),n.drawImage(e,t,r,i,s,0,0,D,P),n.setTransform(h,d,f,p,g,v),[D,P]}n.drawImage(e,t,r,i,s,o,a,l,c);const _=Math.hypot(h,d),m=Math.hypot(f,p);return[_*l,m*c]}function hR(n){const{width:e,height:t}=n;if(e>V_||t>V_)return null;const r=1e3,i=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),s=e+1;let o=new Uint8Array(s*(t+1)),a,l,c;const h=e+7&-8;let d=new Uint8Array(h*t),f=0;for(const m of n.data){let y=128;for(;y>0;)d[f++]=m&y?0:255,y>>=1}let p=0;for(f=0,d[f]!==0&&(o[0]=1,++p),l=1;l<e;l++)d[f]!==d[f+1]&&(o[l]=d[f]?2:1,++p),f++;for(d[f]!==0&&(o[l]=2,++p),a=1;a<t;a++){f=a*h,c=a*s,d[f-h]!==d[f]&&(o[c]=d[f]?1:8,++p);let m=(d[f]?4:0)+(d[f-h]?8:0);for(l=1;l<e;l++)m=(m>>2)+(d[f+1]?4:0)+(d[f-h+1]?8:0),i[m]&&(o[c+l]=i[m],++p),f++;if(d[f-h]!==d[f]&&(o[c+l]=d[f]?2:4,++p),p>r)return null}for(f=h*(t-1),c=a*s,d[f]!==0&&(o[c]=8,++p),l=1;l<e;l++)d[f]!==d[f+1]&&(o[c+l]=d[f]?4:8,++p),f++;if(d[f]!==0&&(o[c+l]=4,++p),p>r)return null;const g=new Int32Array([0,s,-1,0,-s,0,0,0,1]),v=new Path2D;for(a=0;p&&a<=t;a++){let m=a*s;const y=m+e;for(;m<y&&!o[m];)m++;if(m===y)continue;v.moveTo(m%s,a);const w=m;let S=o[m];do{const C=g[S];do m+=C;while(!o[m]);const k=o[m];k!==5&&k!==10?(S=k,o[m]=0):(S=k&51*S>>4,o[m]&=S>>2|S<<2),v.lineTo(m%s,m/s|0),o[m]||--p}while(w!==m);--a}return d=null,o=null,function(m){m.save(),m.scale(1/e,-1/t),m.translate(0,-t),m.fill(v),m.beginPath(),m.restore()}}class W_{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=Bb,this.textMatrixScale=1,this.fontMatrix=fv,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Yt.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,r){[t,r]=oe.applyTransform([t,r],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,r),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,r)}updateRectMinMax(e,t){const r=oe.applyTransform(t,e),i=oe.applyTransform(t.slice(2),e),s=oe.applyTransform([t[0],t[3]],e),o=oe.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,r[0],i[0],s[0],o[0]),this.minY=Math.min(this.minY,r[1],i[1],s[1],o[1]),this.maxX=Math.max(this.maxX,r[0],i[0],s[0],o[0]),this.maxY=Math.max(this.maxY,r[1],i[1],s[1],o[1])}updateScalingPathMinMax(e,t){oe.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,r,i,s,o,a,l,c,h){const d=oe.bezierBoundingBox(t,r,i,s,o,a,l,c,h);h||this.updateRectMinMax(e,d)}getPathBoundingBox(e=un.FILL,t=null){const r=[this.minX,this.minY,this.maxX,this.maxY];if(e===un.STROKE){t||Be("Stroke bounding box must include transform.");const i=oe.singularValueDecompose2dScale(t),s=i[0]*this.lineWidth/2,o=i[1]*this.lineWidth/2;r[0]-=s,r[1]-=o,r[2]+=s,r[3]+=o}return r}updateClipFromPath(){const e=oe.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=un.FILL,t=null){return oe.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function G_(n,e){if(typeof ImageData<"u"&&e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,r=e.width,i=t%_n,s=(t-i)/_n,o=i===0?s:s+1,a=n.createImageData(r,_n);let l=0,c;const h=e.data,d=a.data;let f,p,g,v;if(e.kind===kf.GRAYSCALE_1BPP){const _=h.byteLength,m=new Uint32Array(d.buffer,0,d.byteLength>>2),y=m.length,w=r+7>>3,S=4294967295,C=bn.isLittleEndian?4278190080:255;for(f=0;f<o;f++){for(g=f<s?_n:i,c=0,p=0;p<g;p++){const k=_-l;let P=0;const x=k>w?r:k*8-7,D=x&-8;let I=0,M=0;for(;P<D;P+=8)M=h[l++],m[c++]=M&128?S:C,m[c++]=M&64?S:C,m[c++]=M&32?S:C,m[c++]=M&16?S:C,m[c++]=M&8?S:C,m[c++]=M&4?S:C,m[c++]=M&2?S:C,m[c++]=M&1?S:C;for(;P<x;P++)I===0&&(M=h[l++],I=128),m[c++]=M&I?S:C,I>>=1}for(;c<y;)m[c++]=0;n.putImageData(a,0,f*_n)}}else if(e.kind===kf.RGBA_32BPP){for(p=0,v=r*_n*4,f=0;f<s;f++)d.set(h.subarray(l,l+v)),l+=v,n.putImageData(a,0,p),p+=_n;f<o&&(v=r*i*4,d.set(h.subarray(l,l+v)),n.putImageData(a,0,p))}else if(e.kind===kf.RGB_24BPP)for(g=_n,v=r*g,f=0;f<o;f++){for(f>=s&&(g=i,v=r*g),c=0,p=v;p--;)d[c++]=h[l++],d[c++]=h[l++],d[c++]=h[l++],d[c++]=255;n.putImageData(a,0,f*_n)}else throw new Error(`bad image kind: ${e.kind}`)}function X_(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,r=e.width,i=t%_n,s=(t-i)/_n,o=i===0?s:s+1,a=n.createImageData(r,_n);let l=0;const c=e.data,h=a.data;for(let d=0;d<o;d++){const f=d<s?_n:i;({srcPos:l}=aR({src:c,srcPos:l,dest:h,width:r,height:f,nonBlackColor:0})),n.putImageData(a,0,d*_n)}}function Gc(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of t)n[r]!==void 0&&(e[r]=n[r]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function uf(n){if(n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0),!tn){const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}}function K_(n,e){if(e)return!0;const t=oe.singularValueDecompose2dScale(n);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);const r=Math.fround((globalThis.devicePixelRatio||1)*Qs.PDF_TO_CSS_UNITS);return t[0]<=r&&t[1]<=r}const dR=["butt","round","square"],fR=["miter","round","bevel"],pR={},Y_={};var Zs,Uv,$v;const W0=class W0{constructor(e,t,r,i,s,{optionalContentConfig:o,markedContentStack:a=null},l,c){b(this,Zs);this.ctx=e,this.current=new W_(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=r,this.canvasFactory=i,this.filterFactory=s,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=a||[],this.optionalContentConfig=o,this.cachedCanvases=new uR(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:r=!1,background:i=null}){const s=this.ctx.canvas.width,o=this.ctx.canvas.height,a=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,s,o),this.ctx.fillStyle=a,r){const l=this.cachedCanvases.getCanvas("transparent",s,o);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...rt(this.compositeCtx))}this.ctx.save(),uf(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=rt(this.ctx)}executeOperatorList(e,t,r,i){const s=e.argsArray,o=e.fnArray;let a=t||0;const l=s.length;if(l===a)return a;const c=l-a>$_&&typeof r=="function",h=c?Date.now()+lR:0;let d=0;const f=this.commonObjs,p=this.objs;let g;for(;;){if(i!==void 0&&a===i.nextBreakPoint)return i.breakIt(a,r),a;if(g=o[a],g!==mr.dependency)this[g].apply(this,s[a]);else for(const v of s[a]){const _=v.startsWith("g_")?f:p;if(!_.has(v))return _.get(v,r),a}if(a++,a===l)return a;if(c&&++d>$_){if(Date.now()>h)return r(),a;d=0}}}endDrawing(){A(this,Zs,Uv).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),A(this,Zs,$v).call(this)}_scaleImage(e,t){const r=e.width,i=e.height;let s=Math.max(Math.hypot(t[0],t[1]),1),o=Math.max(Math.hypot(t[2],t[3]),1),a=r,l=i,c="prescale1",h,d;for(;s>2&&a>1||o>2&&l>1;){let f=a,p=l;s>2&&a>1&&(f=a>=16384?Math.floor(a/2)-1||1:Math.ceil(a/2),s/=a/f),o>2&&l>1&&(p=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,o/=l/p),h=this.cachedCanvases.getCanvas(c,f,p),d=h.context,d.clearRect(0,0,f,p),d.drawImage(e,0,0,a,l,0,0,f,p),e=h.canvas,a=f,l=p,c=c==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:a,paintHeight:l}}_createMaskCanvas(e){const t=this.ctx,{width:r,height:i}=e,s=this.current.fillColor,o=this.current.patternFill,a=rt(t);let l,c,h,d;if((e.bitmap||e.data)&&e.count>1){const x=e.bitmap||e.data.buffer;c=JSON.stringify(o?a:[a.slice(0,4),s]),l=this._cachedBitmapsMap.get(x),l||(l=new Map,this._cachedBitmapsMap.set(x,l));const D=l.get(c);if(D&&!o){const I=Math.round(Math.min(a[0],a[2])+a[4]),M=Math.round(Math.min(a[1],a[3])+a[5]);return{canvas:D,offsetX:I,offsetY:M}}h=D}h||(d=this.cachedCanvases.getCanvas("maskCanvas",r,i),X_(d.context,e));let f=oe.transform(a,[1/r,0,0,-1/i,0,0]);f=oe.transform(f,[1,0,0,1,0,-i]);const[p,g,v,_]=oe.getAxialAlignedBoundingBox([0,0,r,i],f),m=Math.round(v-p)||1,y=Math.round(_-g)||1,w=this.cachedCanvases.getCanvas("fillCanvas",m,y),S=w.context,C=p,k=g;S.translate(-C,-k),S.transform(...f),h||(h=this._scaleImage(d.canvas,fi(S)),h=h.img,l&&o&&l.set(c,h)),S.imageSmoothingEnabled=K_(rt(S),e.interpolate),cf(S,h,0,0,h.width,h.height,0,0,r,i),S.globalCompositeOperation="source-in";const P=oe.transform(fi(S),[1,0,0,1,-C,-k]);return S.fillStyle=o?s.getPattern(t,this,P,un.FILL):s,S.fillRect(0,0,r,i),l&&!o&&(this.cachedCanvases.delete("fillCanvas"),l.set(c,w.canvas)),{canvas:w.canvas,offsetX:Math.round(C),offsetY:Math.round(k)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=dR[e]}setLineJoin(e){this.ctx.lineJoin=fR[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(e),r.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,r]of e)switch(t){case"LW":this.setLineWidth(r);break;case"LC":this.setLineCap(r);break;case"LJ":this.setLineJoin(r);break;case"ML":this.setMiterLimit(r);break;case"D":this.setDash(r[0],r[1]);break;case"RI":this.setRenderingIntent(r);break;case"FL":this.setFlatness(r);break;case"Font":this.setFont(r[0],r[1]);break;case"CA":this.current.strokeAlpha=r;break;case"ca":this.current.fillAlpha=r,this.ctx.globalAlpha=r;break;case"BM":this.ctx.globalCompositeOperation=r;break;case"SMask":this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(r);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(r,e,t);this.suspendedCtx=this.ctx,this.ctx=i.context;const s=this.ctx;s.setTransform(...rt(this.suspendedCtx)),Gc(this.suspendedCtx,s),cR(s,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Gc(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,r,i){const s=i[0],o=i[1],a=i[2]-s,l=i[3]-o;a===0||l===0||(this.genericComposeSMask(t.context,r,a,l,t.subtype,t.backdrop,t.transferMap,s,o,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,t,r,i,s,o,a,l,c,h,d){let f=e.canvas,p=l-h,g=c-d;if(o){if(p<0||g<0||p+r>f.width||g+i>f.height){const _=this.cachedCanvases.getCanvas("maskExtension",r,i),m=_.context;m.drawImage(f,-p,-g),o.some(y=>y!==0)&&(m.globalCompositeOperation="destination-atop",m.fillStyle=oe.makeHexColor(...o),m.fillRect(0,0,r,i),m.globalCompositeOperation="source-over"),f=_.canvas,p=g=0}else if(o.some(_=>_!==0)){e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const _=new Path2D;_.rect(p,g,r,i),e.clip(_),e.globalCompositeOperation="destination-atop",e.fillStyle=oe.makeHexColor(...o),e.fillRect(p,g,r,i),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&a?t.filter=this.filterFactory.addAlphaFilter(a):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(a));const v=new Path2D;v.rect(l,c,r,i),t.clip(v),t.globalCompositeOperation="destination-in",t.drawImage(f,p,g,r,i,l,c,r,i),t.restore()}save(){this.inSMaskMode?(Gc(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Gc(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,r,i,s,o){this.ctx.transform(e,t,r,i,s,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,r){const i=this.ctx,s=this.current;let o=s.x,a=s.y,l,c;const h=rt(i),d=h[0]===0&&h[3]===0||h[1]===0&&h[2]===0,f=d?r.slice(0):null;for(let p=0,g=0,v=e.length;p<v;p++)switch(e[p]|0){case mr.rectangle:o=t[g++],a=t[g++];const _=t[g++],m=t[g++],y=o+_,w=a+m;i.moveTo(o,a),_===0||m===0?i.lineTo(y,w):(i.lineTo(y,a),i.lineTo(y,w),i.lineTo(o,w)),d||s.updateRectMinMax(h,[o,a,y,w]),i.closePath();break;case mr.moveTo:o=t[g++],a=t[g++],i.moveTo(o,a),d||s.updatePathMinMax(h,o,a);break;case mr.lineTo:o=t[g++],a=t[g++],i.lineTo(o,a),d||s.updatePathMinMax(h,o,a);break;case mr.curveTo:l=o,c=a,o=t[g+4],a=t[g+5],i.bezierCurveTo(t[g],t[g+1],t[g+2],t[g+3],o,a),s.updateCurvePathMinMax(h,l,c,t[g],t[g+1],t[g+2],t[g+3],o,a,f),g+=6;break;case mr.curveTo2:l=o,c=a,i.bezierCurveTo(o,a,t[g],t[g+1],t[g+2],t[g+3]),s.updateCurvePathMinMax(h,l,c,o,a,t[g],t[g+1],t[g+2],t[g+3],f),o=t[g+2],a=t[g+3],g+=4;break;case mr.curveTo3:l=o,c=a,o=t[g+2],a=t[g+3],i.bezierCurveTo(t[g],t[g+1],o,a,o,a),s.updateCurvePathMinMax(h,l,c,t[g],t[g+1],o,a,o,a,f),g+=4;break;case mr.closePath:i.closePath();break}d&&s.updateScalingPathMinMax(h,f),s.setCurrentPoint(o,a)}closePath(){this.ctx.closePath()}stroke(e=!0){const t=this.ctx,r=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof r=="object"&&(r!=null&&r.getPattern)?(t.save(),t.strokeStyle=r.getPattern(t,this,fi(t),un.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const t=this.ctx,r=this.current.fillColor,i=this.current.patternFill;let s=!1;i&&(t.save(),t.fillStyle=r.getPattern(t,this,fi(t),un.FILL),s=!0);const o=this.current.getClippedPathBoundingBox();this.contentVisible&&o!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),s&&t.restore(),e&&this.consumePath(o)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=pR}eoClip(){this.pendingClip=Y_}beginText(){this.current.textMatrix=Bb,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0){t.beginPath();return}t.save(),t.beginPath();for(const r of e)t.setTransform(...r.transform),t.translate(r.x,r.y),r.addToPath(t,r.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var h;const r=this.commonObjs.get(e),i=this.current;if(!r)throw new Error(`Can't find font for ${e}`);if(i.fontMatrix=r.fontMatrix||fv,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&Ee("Invalid font matrix for font "+e),t<0?(t=-t,i.fontDirection=-1):i.fontDirection=1,this.current.font=r,this.current.fontSize=t,r.isType3Font)return;const s=r.loadedName||"sans-serif",o=((h=r.systemFontInfo)==null?void 0:h.css)||`"${s}", ${r.fallbackName}`;let a="normal";r.black?a="900":r.bold&&(a="bold");const l=r.italic?"italic":"normal";let c=t;t<B_?c=B_:t>U_&&(c=U_),this.current.fontSizeScale=t/c,this.ctx.font=`${l} ${a} ${c}px ${o}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,r,i,s,o){this.current.textMatrix=[e,t,r,i,s,o],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,r,i){const s=this.ctx,o=this.current,a=o.font,l=o.textRenderingMode,c=o.fontSize/o.fontSizeScale,h=l&Yt.FILL_STROKE_MASK,d=!!(l&Yt.ADD_TO_PATH_FLAG),f=o.patternFill&&!a.missingFile;let p;(a.disableFontFace||d||f)&&(p=a.getPathGenerator(this.commonObjs,e)),a.disableFontFace||f?(s.save(),s.translate(t,r),s.beginPath(),p(s,c),i&&s.setTransform(...i),(h===Yt.FILL||h===Yt.FILL_STROKE)&&s.fill(),(h===Yt.STROKE||h===Yt.FILL_STROKE)&&s.stroke(),s.restore()):((h===Yt.FILL||h===Yt.FILL_STROKE)&&s.fillText(e,t,r),(h===Yt.STROKE||h===Yt.FILL_STROKE)&&s.strokeText(e,t,r)),d&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:rt(s),x:t,y:r,fontSize:c,addToPath:p})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let r=!1;for(let i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){r=!0;break}return Te(this,"isFontSubpixelAAEnabled",r)}showText(e){const t=this.current,r=t.font;if(r.isType3Font)return this.showType3Text(e);const i=t.fontSize;if(i===0)return;const s=this.ctx,o=t.fontSizeScale,a=t.charSpacing,l=t.wordSpacing,c=t.fontDirection,h=t.textHScale*c,d=e.length,f=r.vertical,p=f?1:-1,g=r.defaultVMetrics,v=i*t.fontMatrix[0],_=t.textRenderingMode===Yt.FILL&&!r.disableFontFace&&!t.patternFill;s.save(),s.transform(...t.textMatrix),s.translate(t.x,t.y+t.textRise),c>0?s.scale(h,-1):s.scale(h,1);let m;if(t.patternFill){s.save();const k=t.fillColor.getPattern(s,this,fi(s),un.FILL);m=rt(s),s.restore(),s.fillStyle=k}let y=t.lineWidth;const w=t.textMatrixScale;if(w===0||y===0){const k=t.textRenderingMode&Yt.FILL_STROKE_MASK;(k===Yt.STROKE||k===Yt.FILL_STROKE)&&(y=this.getSinglePixelWidth())}else y/=w;if(o!==1&&(s.scale(o,o),y/=o),s.lineWidth=y,r.isInvalidPDFjsFont){const k=[];let P=0;for(const x of e)k.push(x.unicode),P+=x.width;s.fillText(k.join(""),0,0),t.x+=P*v*h,s.restore(),this.compose();return}let S=0,C;for(C=0;C<d;++C){const k=e[C];if(typeof k=="number"){S+=p*k*i/1e3;continue}let P=!1;const x=(k.isSpace?l:0)+a,D=k.fontChar,I=k.accent;let M,U,W=k.width;if(f){const Q=k.vmetric||g,q=-(k.vmetric?Q[1]:W*.5)*v,K=Q[2]*v;W=Q?-Q[0]:W,M=q/o,U=(S+K)/o}else M=S/o,U=0;if(r.remeasure&&W>0){const Q=s.measureText(D).width*1e3/i*o;if(W<Q&&this.isFontSubpixelAAEnabled){const q=W/Q;P=!0,s.save(),s.scale(q,1),M/=q}else W!==Q&&(M+=(W-Q)/2e3*i/o)}if(this.contentVisible&&(k.isInFont||r.missingFile)){if(_&&!I)s.fillText(D,M,U);else if(this.paintChar(D,M,U,m),I){const Q=M+i*I.offset.x/o,q=U-i*I.offset.y/o;this.paintChar(I.fontChar,Q,q,m)}}const $=f?W*v-x*c:W*v+x*c;S+=$,P&&s.restore()}f?t.y-=S:t.x+=S*h,s.restore(),this.compose()}showType3Text(e){const t=this.ctx,r=this.current,i=r.font,s=r.fontSize,o=r.fontDirection,a=i.vertical?1:-1,l=r.charSpacing,c=r.wordSpacing,h=r.textHScale*o,d=r.fontMatrix||fv,f=e.length,p=r.textRenderingMode===Yt.INVISIBLE;let g,v,_,m;if(!(p||s===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...r.textMatrix),t.translate(r.x,r.y),t.scale(h,o),g=0;g<f;++g){if(v=e[g],typeof v=="number"){m=a*v*s/1e3,this.ctx.translate(m,0),r.x+=m*h;continue}const y=(v.isSpace?c:0)+l,w=i.charProcOperatorList[v.operatorListId];if(!w){Ee(`Type3 character "${v.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=v,this.save(),t.scale(s,s),t.transform(...d),this.executeOperatorList(w),this.restore()),_=oe.applyTransform([v.width,0],d)[0]*s+y,t.translate(_,0),r.x+=_*h}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,r,i,s,o){this.ctx.rect(r,i,s-r,o-i),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const r=e[1],i=this.baseTransform||rt(this.ctx),s={createCanvasGraphics:o=>new W0(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new Bv(e,r,this.ctx,s,i)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,r){const i=oe.makeHexColor(e,t,r);this.ctx.strokeStyle=i,this.current.strokeColor=i}setFillRGBColor(e,t,r){const i=oe.makeHexColor(e,t,r);this.ctx.fillStyle=i,this.current.fillColor=i,this.current.patternFill=!1}_getPattern(e,t=null){let r;return this.cachedPatterns.has(e)?r=this.cachedPatterns.get(e):(r=oR(this.getObject(e)),this.cachedPatterns.set(e,r)),t&&(r.matrix=t),r}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const r=this._getPattern(e);t.fillStyle=r.getPattern(t,this,fi(t),un.SHADING);const i=fi(t);if(i){const{width:s,height:o}=t.canvas,[a,l,c,h]=oe.getAxialAlignedBoundingBox([0,0,s,o],i);this.ctx.fillRect(a,l,c-a,h-l)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Be("Should not call beginInlineImage")}beginImageData(){Be("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=rt(this.ctx),t)){const r=t[2]-t[0],i=t[3]-t[1];this.ctx.rect(t[0],t[1],r,i),this.current.updateRectMinMax(rt(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||Ag("TODO: Support non-isolated groups."),e.knockout&&Ee("Knockout groups not supported.");const r=rt(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let i=oe.getAxialAlignedBoundingBox(e.bbox,rt(t));const s=[0,0,t.canvas.width,t.canvas.height];i=oe.intersect(i,s)||[0,0,0,0];const o=Math.floor(i[0]),a=Math.floor(i[1]),l=Math.max(Math.ceil(i[2])-o,1),c=Math.max(Math.ceil(i[3])-a,1);this.current.startNewPathAndClipBox([0,0,l,c]);let h="groupAt"+this.groupLevel;e.smask&&(h+="_smask_"+this.smaskCounter++%2);const d=this.cachedCanvases.getCanvas(h,l,c),f=d.context;f.translate(-o,-a),f.transform(...r),e.smask?this.smaskStack.push({canvas:d.canvas,context:f,offsetX:o,offsetY:a,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(o,a),t.save()),Gc(t,f),this.ctx=f,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const i=rt(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...i);const s=oe.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],i);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(e,t,r,i,s){if(A(this,Zs,Uv).call(this),uf(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const o=t[2]-t[0],a=t[3]-t[1];if(s&&this.annotationCanvasMap){r=r.slice(),r[4]-=t[0],r[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=o,t[3]=a;const[l,c]=oe.singularValueDecompose2dScale(rt(this.ctx)),{viewportScale:h}=this,d=Math.ceil(o*this.outputScaleX*h),f=Math.ceil(a*this.outputScaleY*h);this.annotationCanvas=this.canvasFactory.create(d,f);const{canvas:p,context:g}=this.annotationCanvas;this.annotationCanvasMap.set(e,p),this.annotationCanvas.savedCtx=this.ctx,this.ctx=g,this.ctx.save(),this.ctx.setTransform(l,0,0,-c,0,a*c),uf(this.ctx)}else uf(this.ctx),this.ctx.rect(t[0],t[1],o,a),this.ctx.clip(),this.endPath()}this.current=new W_(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...r),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),A(this,Zs,$v).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const r=this.ctx,i=this.processingType3;if(i&&(i.compiled===void 0&&(i.compiled=hR(e)),i.compiled)){i.compiled(r);return}const s=this._createMaskCanvas(e),o=s.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(o,s.offsetX,s.offsetY),r.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,r=0,i=0,s,o){if(!this.contentVisible)return;e=this.getObject(e.data,e);const a=this.ctx;a.save();const l=rt(a);a.transform(t,r,i,s,0,0);const c=this._createMaskCanvas(e);a.setTransform(1,0,0,1,c.offsetX-l[4],c.offsetY-l[5]);for(let h=0,d=o.length;h<d;h+=2){const f=oe.transform(l,[t,r,i,s,o[h],o[h+1]]),[p,g]=oe.applyTransform([0,0],f);a.drawImage(c.canvas,p,g)}a.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,r=this.current.fillColor,i=this.current.patternFill;for(const s of e){const{data:o,width:a,height:l,transform:c}=s,h=this.cachedCanvases.getCanvas("maskCanvas",a,l),d=h.context;d.save();const f=this.getObject(o,s);X_(d,f),d.globalCompositeOperation="source-in",d.fillStyle=i?r.getPattern(d,this,fi(t),un.FILL):r,d.fillRect(0,0,a,l),d.restore(),t.save(),t.transform(...c),t.scale(1,-1),cf(t,h.canvas,0,0,a,l,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){Ee("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,r,i){if(!this.contentVisible)return;const s=this.getObject(e);if(!s){Ee("Dependent image isn't ready yet");return}const o=s.width,a=s.height,l=[];for(let c=0,h=i.length;c<h;c+=2)l.push({transform:[t,0,0,r,i[c],i[c+1]],x:0,y:0,w:o,h:a});this.paintInlineImageXObjectGroup(s,l)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:r,height:i}=e,s=this.cachedCanvases.getCanvas("inlineImage",r,i),o=s.context;return o.filter=this.current.transferMaps,o.drawImage(t,0,0),o.filter="none",s.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,r=e.height,i=this.ctx;if(this.save(),!tn){const{filter:a}=i;a!=="none"&&a!==""&&(i.filter="none")}i.scale(1/t,-1/r);let s;if(e.bitmap)s=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)s=e;else{const l=this.cachedCanvases.getCanvas("inlineImage",t,r).context;G_(l,e),s=this.applyTransferMapsToCanvas(l)}const o=this._scaleImage(s,fi(i));i.imageSmoothingEnabled=K_(rt(i),e.interpolate),cf(i,o.img,0,0,o.paintWidth,o.paintHeight,0,-r,t,r),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const r=this.ctx;let i;if(e.bitmap)i=e.bitmap;else{const s=e.width,o=e.height,l=this.cachedCanvases.getCanvas("inlineImage",s,o).context;G_(l,e),i=this.applyTransferMapsToCanvas(l)}for(const s of t)r.save(),r.transform(...s.transform),r.scale(1,-1),cf(r,i,s.x,s.y,s.w,s.h,0,-1,1,1),r.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const r=this.ctx;this.pendingClip&&(t||(this.pendingClip===Y_?r.clip("evenodd"):r.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),r.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=rt(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,i)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:r,c:i,d:s}=this.ctx.getTransform();let o,a;if(r===0&&i===0){const l=Math.abs(t),c=Math.abs(s);if(l===c)if(e===0)o=a=1/l;else{const h=l*e;o=a=h<1?1/h:1}else if(e===0)o=1/l,a=1/c;else{const h=l*e,d=c*e;o=h<1?1/h:1,a=d<1?1/d:1}}else{const l=Math.abs(t*s-r*i),c=Math.hypot(t,r),h=Math.hypot(i,s);if(e===0)o=h/l,a=c/l;else{const d=e*l;o=h>d?h/d:1,a=c>d?c/d:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:r}=this.current,[i,s]=this.getScaleForStroking();if(t.lineWidth=r||1,i===1&&s===1){t.stroke();return}const o=t.getLineDash();if(e&&t.save(),t.scale(i,s),o.length>0){const a=Math.max(i,s);t.setLineDash(o.map(l=>l/a)),t.lineDashOffset/=a}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};Zs=new WeakSet,Uv=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},$v=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}};let yl=W0;for(const n in mr)yl.prototype[n]!==void 0&&(yl.prototype[mr[n]]=yl.prototype[n]);var Ah,bh;class Yi{static get workerPort(){return u(this,Ah)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");E(this,Ah,e)}static get workerSrc(){return u(this,bh)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");E(this,bh,e)}}Ah=new WeakMap,bh=new WeakMap,b(Yi,Ah,null),b(Yi,bh,"");const hf={UNKNOWN:0,DATA:1,ERROR:2},mt={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Ln(n){switch(n instanceof Error||typeof n=="object"&&n!==null||Be('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new ja(n.message);case"MissingPDFException":return new Oa(n.message);case"PasswordException":return new gv(n.message,n.code);case"UnexpectedResponseException":return new bg(n.message,n.status);case"UnknownErrorException":return new mv(n.message,n.details);default:return new mv(n.message,n.toString())}}var ai,SS,xS,Df;class su{constructor(e,t,r){b(this,ai);this.sourceName=e,this.targetName=t,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=i=>{const s=i.data;if(s.targetName!==this.sourceName)return;if(s.stream){A(this,ai,xS).call(this,s);return}if(s.callback){const a=s.callbackId,l=this.callbackCapabilities[a];if(!l)throw new Error(`Cannot resolve callback ${a}`);if(delete this.callbackCapabilities[a],s.callback===hf.DATA)l.resolve(s.data);else if(s.callback===hf.ERROR)l.reject(Ln(s.reason));else throw new Error("Unexpected callback case");return}const o=this.actionHandler[s.action];if(!o)throw new Error(`Unknown action from worker: ${s.action}`);if(s.callbackId){const a=this.sourceName,l=s.sourceName;new Promise(function(c){c(o(s.data))}).then(function(c){r.postMessage({sourceName:a,targetName:l,callback:hf.DATA,callbackId:s.callbackId,data:c})},function(c){r.postMessage({sourceName:a,targetName:l,callback:hf.ERROR,callbackId:s.callbackId,reason:Ln(c)})});return}if(s.streamId){A(this,ai,SS).call(this,s);return}o(s.data)},r.addEventListener("message",this._onComObjOnMessage)}on(e,t){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=t}send(e,t,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},r)}sendWithPromise(e,t,r){const i=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[i]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},r)}catch(o){s.reject(o)}return s.promise}sendWithStream(e,t,r,i){const s=this.streamId++,o=this.sourceName,a=this.targetName,l=this.comObj;return new ReadableStream({start:c=>{const h=Promise.withResolvers();return this.streamControllers[s]={controller:c,startCall:h,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:o,targetName:a,action:e,streamId:s,data:t,desiredSize:c.desiredSize},i),h.promise},pull:c=>{const h=Promise.withResolvers();return this.streamControllers[s].pullCall=h,l.postMessage({sourceName:o,targetName:a,stream:mt.PULL,streamId:s,desiredSize:c.desiredSize}),h.promise},cancel:c=>{kt(c instanceof Error,"cancel must have a valid reason");const h=Promise.withResolvers();return this.streamControllers[s].cancelCall=h,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:o,targetName:a,stream:mt.CANCEL,streamId:s,reason:Ln(c)}),h.promise}},r)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}ai=new WeakSet,SS=function(e){const t=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,o=this,a=this.actionHandler[e.action],l={enqueue(c,h=1,d){if(this.isCancelled)return;const f=this.desiredSize;this.desiredSize-=h,f>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:r,targetName:i,stream:mt.ENQUEUE,streamId:t,chunk:c},d)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:mt.CLOSE,streamId:t}),delete o.streamSinks[t])},error(c){kt(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:mt.ERROR,streamId:t,reason:Ln(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[t]=l,new Promise(function(c){c(a(e.data,l))}).then(function(){s.postMessage({sourceName:r,targetName:i,stream:mt.START_COMPLETE,streamId:t,success:!0})},function(c){s.postMessage({sourceName:r,targetName:i,stream:mt.START_COMPLETE,streamId:t,reason:Ln(c)})})},xS=function(e){const t=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,o=this.streamControllers[t],a=this.streamSinks[t];switch(e.stream){case mt.START_COMPLETE:e.success?o.startCall.resolve():o.startCall.reject(Ln(e.reason));break;case mt.PULL_COMPLETE:e.success?o.pullCall.resolve():o.pullCall.reject(Ln(e.reason));break;case mt.PULL:if(!a){s.postMessage({sourceName:r,targetName:i,stream:mt.PULL_COMPLETE,streamId:t,success:!0});break}a.desiredSize<=0&&e.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=e.desiredSize,new Promise(function(l){var c;l((c=a.onPull)==null?void 0:c.call(a))}).then(function(){s.postMessage({sourceName:r,targetName:i,stream:mt.PULL_COMPLETE,streamId:t,success:!0})},function(l){s.postMessage({sourceName:r,targetName:i,stream:mt.PULL_COMPLETE,streamId:t,reason:Ln(l)})});break;case mt.ENQUEUE:if(kt(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(e.chunk);break;case mt.CLOSE:if(kt(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),A(this,ai,Df).call(this,o,t);break;case mt.ERROR:kt(o,"error should have stream controller"),o.controller.error(Ln(e.reason)),A(this,ai,Df).call(this,o,t);break;case mt.CANCEL_COMPLETE:e.success?o.cancelCall.resolve():o.cancelCall.reject(Ln(e.reason)),A(this,ai,Df).call(this,o,t);break;case mt.CANCEL:if(!a)break;new Promise(function(l){var c;l((c=a.onCancel)==null?void 0:c.call(a,Ln(e.reason)))}).then(function(){s.postMessage({sourceName:r,targetName:i,stream:mt.CANCEL_COMPLETE,streamId:t,success:!0})},function(l){s.postMessage({sourceName:r,targetName:i,stream:mt.CANCEL_COMPLETE,streamId:t,reason:Ln(l)})}),a.sinkCapability.reject(Ln(e.reason)),a.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},Df=async function(e,t){var r,i,s;await Promise.allSettled([(r=e.startCall)==null?void 0:r.promise,(i=e.pullCall)==null?void 0:i.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[t]};var Bo,Sh;class gR{constructor({parsedData:e,rawData:t}){b(this,Bo);b(this,Sh);E(this,Bo,e),E(this,Sh,t)}getRaw(){return u(this,Sh)}get(e){return u(this,Bo).get(e)??null}getAll(){return M0(u(this,Bo))}has(e){return u(this,Bo).has(e)}}Bo=new WeakMap,Sh=new WeakMap;const hs=Symbol("INTERNAL");var xh,Ch,kh,Nl;class mR{constructor(e,{name:t,intent:r,usage:i}){b(this,xh,!1);b(this,Ch,!1);b(this,kh,!1);b(this,Nl,!0);E(this,xh,!!(e&rr.DISPLAY)),E(this,Ch,!!(e&rr.PRINT)),this.name=t,this.intent=r,this.usage=i}get visible(){if(u(this,kh))return u(this,Nl);if(!u(this,Nl))return!1;const{print:e,view:t}=this.usage;return u(this,xh)?(t==null?void 0:t.viewState)!=="OFF":u(this,Ch)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,r=!1){e!==hs&&Be("Internal method `_setVisible` called."),E(this,kh,r),E(this,Nl,t)}}xh=new WeakMap,Ch=new WeakMap,kh=new WeakMap,Nl=new WeakMap;var bs,ze,Fl,Ol,Th,Vv;class vR{constructor(e,t=rr.DISPLAY){b(this,Th);b(this,bs,null);b(this,ze,new Map);b(this,Fl,null);b(this,Ol,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,E(this,Ol,e.order);for(const r of e.groups)u(this,ze).set(r.id,new mR(t,r));if(e.baseState==="OFF")for(const r of u(this,ze).values())r._setVisible(hs,!1);for(const r of e.on)u(this,ze).get(r)._setVisible(hs,!0);for(const r of e.off)u(this,ze).get(r)._setVisible(hs,!1);E(this,Fl,this.getHash())}}isVisible(e){if(u(this,ze).size===0)return!0;if(!e)return Ag("Optional content group not defined."),!0;if(e.type==="OCG")return u(this,ze).has(e.id)?u(this,ze).get(e.id).visible:(Ee(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return A(this,Th,Vv).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!u(this,ze).has(t))return Ee(`Optional content group not found: ${t}`),!0;if(u(this,ze).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!u(this,ze).has(t))return Ee(`Optional content group not found: ${t}`),!0;if(!u(this,ze).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!u(this,ze).has(t))return Ee(`Optional content group not found: ${t}`),!0;if(!u(this,ze).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!u(this,ze).has(t))return Ee(`Optional content group not found: ${t}`),!0;if(u(this,ze).get(t).visible)return!1}return!0}return Ee(`Unknown optional content policy ${e.policy}.`),!0}return Ee(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0){const r=u(this,ze).get(e);if(!r){Ee(`Optional content group not found: ${e}`);return}r._setVisible(hs,!!t,!0),E(this,bs,null)}setOCGState({state:e,preserveRB:t}){let r;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":r=i;continue}const s=u(this,ze).get(i);if(s)switch(r){case"ON":s._setVisible(hs,!0);break;case"OFF":s._setVisible(hs,!1);break;case"Toggle":s._setVisible(hs,!s.visible);break}}E(this,bs,null)}get hasInitialVisibility(){return u(this,Fl)===null||this.getHash()===u(this,Fl)}getOrder(){return u(this,ze).size?u(this,Ol)?u(this,Ol).slice():[...u(this,ze).keys()]:null}getGroups(){return u(this,ze).size>0?M0(u(this,ze)):null}getGroup(e){return u(this,ze).get(e)||null}getHash(){if(u(this,bs)!==null)return u(this,bs);const e=new _S;for(const[t,r]of u(this,ze))e.update(`${t}:${r.visible}`);return E(this,bs,e.hexdigest())}}bs=new WeakMap,ze=new WeakMap,Fl=new WeakMap,Ol=new WeakMap,Th=new WeakSet,Vv=function(e){const t=e.length;if(t<2)return!0;const r=e[0];for(let i=1;i<t;i++){const s=e[i];let o;if(Array.isArray(s))o=A(this,Th,Vv).call(this,s);else if(u(this,ze).has(s))o=u(this,ze).get(s).visible;else return Ee(`Optional content group not found: ${s}`),!0;switch(r){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return r==="And"};class yR{constructor(e,{disableRange:t=!1,disableStream:r=!1}){kt(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:s,progressiveDone:o,contentDispositionFilename:a}=e;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=a,(s==null?void 0:s.length)>0){const l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!t,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,c)=>{this._onReceiveData({begin:l,chunk:c})}),e.addProgressListener((l,c)=>{this._onProgress({loaded:l,total:c})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const r=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const i=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(r),!0)});kt(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,r,i,s;e.total===void 0?(r=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||r.call(t,{loaded:e.loaded}):(s=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||s.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){kt(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new wR(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new _R(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeReaders.slice(0))r.cancel(e);this._pdfDataRangeTransport.abort()}}class wR{constructor(e,t,r=!1,i=null){this._stream=e,this._done=r||!1,this._filename=O0(i)?i:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class _R{constructor(e,t,r){this._stream=e,this._begin=t,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function ER(n){let e=!0,t=r("filename\\*","i").exec(n);if(t){t=t[1];let h=a(t);return h=unescape(h),h=l(h),h=c(h),s(h)}if(t=o(n),t){const h=c(t);return s(h)}if(t=r("filename","i").exec(n),t){t=t[1];let h=a(t);return h=c(h),s(h)}function r(h,d){return new RegExp("(?:^|;)\\s*"+h+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',d)}function i(h,d){if(h){if(!/^[\x00-\xFF]+$/.test(d))return d;try{const f=new TextDecoder(h,{fatal:!0}),p=Sg(d);d=f.decode(p),e=!1}catch{}}return d}function s(h){return e&&/[\x80-\xff]/.test(h)&&(h=i("utf-8",h),e&&(h=i("iso-8859-1",h))),h}function o(h){const d=[];let f;const p=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(f=p.exec(h))!==null;){let[,v,_,m]=f;if(v=parseInt(v,10),v in d){if(v===0)break;continue}d[v]=[_,m]}const g=[];for(let v=0;v<d.length&&v in d;++v){let[_,m]=d[v];m=a(m),_&&(m=unescape(m),v===0&&(m=l(m))),g.push(m)}return g.join("")}function a(h){if(h.startsWith('"')){const d=h.slice(1).split('\\"');for(let f=0;f<d.length;++f){const p=d[f].indexOf('"');p!==-1&&(d[f]=d[f].slice(0,p),d.length=f+1),d[f]=d[f].replaceAll(/\\(.)/g,"$1")}h=d.join('"')}return h}function l(h){const d=h.indexOf("'");if(d===-1)return h;const f=h.slice(0,d),g=h.slice(d+1).replace(/^[^']*'/,"");return i(f,g)}function c(h){return!h.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(h)?h:h.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(d,f,p,g){if(p==="q"||p==="Q")return g=g.replaceAll("_"," "),g=g.replaceAll(/=([0-9a-fA-F]{2})/g,function(v,_){return String.fromCharCode(parseInt(_,16))}),i(f,g);try{g=atob(g)}catch{}return i(f,g)})}return""}function H0({getResponseHeader:n,isHttp:e,rangeChunkSize:t,disableRange:r}){const i={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(n("Content-Length"),10);return!Number.isInteger(s)||(i.suggestedLength=s,s<=2*t)||r||!e||n("Accept-Ranges")!=="bytes"||(n("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function B0(n){const e=n("Content-Disposition");if(e){let t=ER(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(O0(t))return t}return null}function Pg(n,e){return n===404||n===0&&e.startsWith("file:")?new Oa('Missing PDF "'+e+'".'):new bg(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n)}function CS(n){return n===200||n===206}function kS(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function TS(n){const e=new Headers;for(const t in n){const r=n[t];r!==void 0&&e.append(t,r)}return e}function PS(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(Ee(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class q_{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return kt(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new AR(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new bR(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class AR{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._headers=TS(this._stream.httpHeaders);const r=t.url;fetch(r,kS(this._headers,this._withCredentials,this._abortController)).then(i=>{if(!CS(i.status))throw Pg(i.status,r);this._reader=i.body.getReader(),this._headersCapability.resolve();const s=l=>i.headers.get(l),{allowRangeRequests:o,suggestedLength:a}=H0({getResponseHeader:s,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=a||this._contentLength,this._filename=B0(s),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new ja("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:PS(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class bR{constructor(e,t,r){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController,this._headers=TS(this._stream.httpHeaders),this._headers.append("Range",`bytes=${t}-${r-1}`);const s=i.url;fetch(s,kS(this._headers,this._withCredentials,this._abortController)).then(o=>{if(!CS(o.status))throw Pg(o.status,s);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:PS(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const mm=200,vm=206;function SR(n){const e=n.response;return typeof e!="string"?e:Sg(e).buffer}class xR{constructor(e,t={}){this.url=e,this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&t.httpHeaders||Object.create(null),this.withCredentials=t.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,r){const i={begin:e,end:t};for(const s in r)i[s]=r[s];return this.request(i)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,r=this.currXhrId++,i=this.pendingRequests[r]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const s in this.httpHeaders){const o=this.httpHeaders[s];o!==void 0&&t.setRequestHeader(s,o)}return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=vm):i.expectedStatus=mm,t.responseType="arraybuffer",e.onError&&(t.onerror=function(s){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,r),t.onprogress=this.onProgress.bind(this,r),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,t.send(null),r}onProgress(e,t){var i;const r=this.pendingRequests[e];r&&((i=r.onProgress)==null||i.call(r,t))}onStateChange(e,t){var l,c,h;const r=this.pendingRequests[e];if(!r)return;const i=r.xhr;if(i.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){(l=r.onError)==null||l.call(r,i.status);return}const s=i.status||mm;if(!(s===mm&&r.expectedStatus===vm)&&s!==r.expectedStatus){(c=r.onError)==null||c.call(r,i.status);return}const a=SR(i);if(s===vm){const d=i.getResponseHeader("Content-Range"),f=/bytes (\d+)-(\d+)\/(\d+)/.exec(d);r.onDone({begin:parseInt(f[1],10),chunk:a})}else a?r.onDone({begin:0,chunk:a}):(h=r.onError)==null||h.call(r,i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class CR{constructor(e){this._source=e,this._manager=new xR(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return kt(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new kR(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const r=new TR(this._manager,e,t);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class kR{constructor(e,t){this._manager=e;const r={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(r),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),r=o=>t.getResponseHeader(o),{allowRangeRequests:i,suggestedLength:s}=H0({getResponseHeader:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=B0(r),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Pg(e,this._url),this._headersReceivedCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersReceivedCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class TR{constructor(e,t,r){this._manager=e;const i={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,r,i),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=Pg(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const RS=/^file:\/\/\/[a-zA-Z]:\//;function PR(n){const e=ci.get("url"),t=e.parse(n);return t.protocol==="file:"||t.host?t:/^[a-z]:[/\\]/i.test(n)?e.parse(`file:///${n}`):(t.host||(t.protocol="file:"),t)}class RR{constructor(e){this.source=e,this.url=PR(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return kt(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new DR(this):new LR(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=this.isFsUrl?new IR(this,e,t):new MR(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class LS{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new ja("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class MS{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function Pp(n,e){return{protocol:n.protocol,auth:n.auth,host:n.hostname,port:n.port,path:n.path,method:"GET",headers:e}}class LR extends LS{constructor(e){super(e);const t=r=>{if(r.statusCode===404){const a=new Oa(`Missing PDF "${this._url}".`);this._storedError=a,this._headersCapability.reject(a);return}this._headersCapability.resolve(),this._setReadableStream(r);const i=a=>this._readableStream.headers[a.toLowerCase()],{allowRangeRequests:s,suggestedLength:o}=H0({getResponseHeader:i,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=o||this._contentLength,this._filename=B0(i)};if(this._request=null,this._url.protocol==="http:"){const r=ci.get("http");this._request=r.request(Pp(this._url,e.httpHeaders),t)}else{const r=ci.get("https");this._request=r.request(Pp(this._url,e.httpHeaders),t)}this._request.on("error",r=>{this._storedError=r,this._headersCapability.reject(r)}),this._request.end()}}class MR extends MS{constructor(e,t,r){super(e),this._httpHeaders={};for(const s in e.httpHeaders){const o=e.httpHeaders[s];o!==void 0&&(this._httpHeaders[s]=o)}this._httpHeaders.Range=`bytes=${t}-${r-1}`;const i=s=>{if(s.statusCode===404){const o=new Oa(`Missing PDF "${this._url}".`);this._storedError=o;return}this._setReadableStream(s)};if(this._request=null,this._url.protocol==="http:"){const s=ci.get("http");this._request=s.request(Pp(this._url,this._httpHeaders),i)}else{const s=ci.get("https");this._request=s.request(Pp(this._url,this._httpHeaders),i)}this._request.on("error",s=>{this._storedError=s}),this._request.end()}}class DR extends LS{constructor(e){super(e);let t=decodeURIComponent(this._url.path);RS.test(this._url.href)&&(t=t.replace(/^\//,""));const r=ci.get("fs");r.promises.lstat(t).then(i=>{this._contentLength=i.size,this._setReadableStream(r.createReadStream(t)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=new Oa(`Missing PDF "${t}".`)),this._storedError=i,this._headersCapability.reject(i)})}}class IR extends MS{constructor(e,t,r){super(e);let i=decodeURIComponent(this._url.path);RS.test(this._url.href)&&(i=i.replace(/^\//,""));const s=ci.get("fs");this._setReadableStream(s.createReadStream(i,{start:t,end:r-1}))}}const NR=1e5,vn=30,FR=.8;var cE,Ss,wn,Ph,Rh,Uo,Pi,Lh,Mh,$o,jl,zl,xs,Hl,Dh,Bl,Vo,Ih,Nh,xt,Wo,Go,Cs,Ul,rs,DS,IS,Wv,li,If,NS,FS;let Rp=(xt=class{constructor({textContentSource:e,container:t,viewport:r}){b(this,rs);b(this,Ss,Promise.withResolvers());b(this,wn,null);b(this,Ph,!1);b(this,Rh,!!((cE=globalThis.FontInspector)!=null&&cE.enabled));b(this,Uo,null);b(this,Pi,null);b(this,Lh,0);b(this,Mh,0);b(this,$o,null);b(this,jl,null);b(this,zl,0);b(this,xs,0);b(this,Hl,Object.create(null));b(this,Dh,[]);b(this,Bl,null);b(this,Vo,[]);b(this,Ih,new WeakMap);b(this,Nh,null);var l;if(e instanceof ReadableStream)E(this,Bl,e);else if(typeof e=="object")E(this,Bl,new ReadableStream({start(c){c.enqueue(e),c.close()}}));else throw new Error('No "textContentSource" parameter specified.');E(this,wn,E(this,jl,t)),E(this,xs,r.scale*(globalThis.devicePixelRatio||1)),E(this,zl,r.rotation),E(this,Pi,{prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:s,pageX:o,pageY:a}=r.rawDims;E(this,Nh,[1,0,0,-1,-o,a+s]),E(this,Mh,i),E(this,Lh,s),A(l=xt,li,NS).call(l),ka(t,r),u(this,Ss).promise.catch(()=>{}).then(()=>{u(xt,Ul).delete(this),E(this,Pi,null),E(this,Hl,null)})}render(){const e=()=>{u(this,$o).read().then(({value:t,done:r})=>{if(r){u(this,Ss).resolve();return}u(this,Uo)??E(this,Uo,t.lang),Object.assign(u(this,Hl),t.styles),A(this,rs,DS).call(this,t.items),e()},u(this,Ss).reject)};return E(this,$o,u(this,Bl).getReader()),u(xt,Ul).add(this),e(),u(this,Ss).promise}update({viewport:e,onBefore:t=null}){var s;const r=e.scale*(globalThis.devicePixelRatio||1),i=e.rotation;if(i!==u(this,zl)&&(t==null||t(),E(this,zl,i),ka(u(this,jl),{rotation:i})),r!==u(this,xs)){t==null||t(),E(this,xs,r);const o={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:A(s=xt,li,If).call(s,u(this,Uo))};for(const a of u(this,Vo))o.properties=u(this,Ih).get(a),o.div=a,A(this,rs,Wv).call(this,o)}}cancel(){var t;const e=new ja("TextLayer task cancelled.");(t=u(this,$o))==null||t.cancel(e).catch(()=>{}),E(this,$o,null),u(this,Ss).reject(e)}get textDivs(){return u(this,Vo)}get textContentItemsStr(){return u(this,Dh)}static cleanup(){if(!(u(this,Ul).size>0)){u(this,Wo).clear();for(const{canvas:e}of u(this,Go).values())e.remove();u(this,Go).clear()}}},Ss=new WeakMap,wn=new WeakMap,Ph=new WeakMap,Rh=new WeakMap,Uo=new WeakMap,Pi=new WeakMap,Lh=new WeakMap,Mh=new WeakMap,$o=new WeakMap,jl=new WeakMap,zl=new WeakMap,xs=new WeakMap,Hl=new WeakMap,Dh=new WeakMap,Bl=new WeakMap,Vo=new WeakMap,Ih=new WeakMap,Nh=new WeakMap,Wo=new WeakMap,Go=new WeakMap,Cs=new WeakMap,Ul=new WeakMap,rs=new WeakSet,DS=function(e){var i,s;if(u(this,Ph))return;(s=u(this,Pi)).ctx??(s.ctx=A(i=xt,li,If).call(i,u(this,Uo)));const t=u(this,Vo),r=u(this,Dh);for(const o of e){if(t.length>NR){Ee("Ignoring additional textDivs for performance reasons."),E(this,Ph,!0);return}if(o.str===void 0){if(o.type==="beginMarkedContentProps"||o.type==="beginMarkedContent"){const a=u(this,wn);E(this,wn,document.createElement("span")),u(this,wn).classList.add("markedContent"),o.id!==null&&u(this,wn).setAttribute("id",`${o.id}`),a.append(u(this,wn))}else o.type==="endMarkedContent"&&E(this,wn,u(this,wn).parentNode);continue}r.push(o.str),A(this,rs,IS).call(this,o)}},IS=function(e){var v;const t=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};u(this,Vo).push(t);const i=oe.transform(u(this,Nh),e.transform);let s=Math.atan2(i[1],i[0]);const o=u(this,Hl)[e.fontName];o.vertical&&(s+=Math.PI/2);const a=u(this,Rh)&&o.fontSubstitution||o.fontFamily,l=Math.hypot(i[2],i[3]),c=l*A(v=xt,li,FS).call(v,a,u(this,Uo));let h,d;s===0?(h=i[4],d=i[5]-c):(h=i[4]+c*Math.sin(s),d=i[5]-c*Math.cos(s));const f="calc(var(--scale-factor)*",p=t.style;u(this,wn)===u(this,jl)?(p.left=`${(100*h/u(this,Mh)).toFixed(2)}%`,p.top=`${(100*d/u(this,Lh)).toFixed(2)}%`):(p.left=`${f}${h.toFixed(2)}px)`,p.top=`${f}${d.toFixed(2)}px)`),p.fontSize=`${f}${(u(xt,Cs)*l).toFixed(2)}px)`,p.fontFamily=a,r.fontSize=l,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,u(this,Rh)&&(t.dataset.fontName=o.fontSubstitutionLoadedName||e.fontName),s!==0&&(r.angle=s*(180/Math.PI));let g=!1;if(e.str.length>1)g=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const _=Math.abs(e.transform[0]),m=Math.abs(e.transform[3]);_!==m&&Math.max(_,m)/Math.min(_,m)>1.5&&(g=!0)}if(g&&(r.canvasWidth=o.vertical?e.height:e.width),u(this,Ih).set(t,r),u(this,Pi).div=t,u(this,Pi).properties=r,A(this,rs,Wv).call(this,u(this,Pi)),r.hasText&&u(this,wn).append(t),r.hasEOL){const _=document.createElement("br");_.setAttribute("role","presentation"),u(this,wn).append(_)}},Wv=function(e){const{div:t,properties:r,ctx:i,prevFontSize:s,prevFontFamily:o}=e,{style:a}=t;let l="";if(u(xt,Cs)>1&&(l=`scale(${1/u(xt,Cs)})`),r.canvasWidth!==0&&r.hasText){const{fontFamily:c}=a,{canvasWidth:h,fontSize:d}=r;(s!==d||o!==c)&&(i.font=`${d*u(this,xs)}px ${c}`,e.prevFontSize=d,e.prevFontFamily=c);const{width:f}=i.measureText(t.textContent);f>0&&(l=`scaleX(${h*u(this,xs)/f}) ${l}`)}r.angle!==0&&(l=`rotate(${r.angle}deg) ${l}`),l.length>0&&(a.transform=l)},li=new WeakSet,If=function(e=null){let t=u(this,Go).get(e||(e=""));if(!t){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),t=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),u(this,Go).set(e,t)}return t},NS=function(){if(u(this,Cs)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.textContent="X",document.body.append(e),E(this,Cs,e.getBoundingClientRect().height),e.remove()},FS=function(e,t){const r=u(this,Wo).get(e);if(r)return r;const i=A(this,li,If).call(this,t),s=i.font;i.canvas.width=i.canvas.height=vn,i.font=`${vn}px ${e}`;const o=i.measureText("");let a=o.fontBoundingBoxAscent,l=Math.abs(o.fontBoundingBoxDescent);if(a){const d=a/(a+l);return u(this,Wo).set(e,d),i.canvas.width=i.canvas.height=0,i.font=s,d}i.strokeStyle="red",i.clearRect(0,0,vn,vn),i.strokeText("g",0,0);let c=i.getImageData(0,0,vn,vn).data;l=0;for(let d=c.length-1-3;d>=0;d-=4)if(c[d]>0){l=Math.ceil(d/4/vn);break}i.clearRect(0,0,vn,vn),i.strokeText("A",0,vn),c=i.getImageData(0,0,vn,vn).data,a=0;for(let d=0,f=c.length;d<f;d+=4)if(c[d]>0){a=vn-Math.floor(d/4/vn);break}i.canvas.width=i.canvas.height=0,i.font=s;const h=a?a/(a+l):FR;return u(this,Wo).set(e,h),h},b(xt,li),b(xt,Wo,new Map),b(xt,Go,new Map),b(xt,Cs,null),b(xt,Ul,new Set),xt);function OR(){Kb("`renderTextLayer`, please use `TextLayer` instead.");const{textContentSource:n,container:e,viewport:t,...r}=arguments[0],i=Object.keys(r);i.length>0&&Ee("Ignoring `renderTextLayer` parameters: "+i.join(", "));const s=new Rp({textContentSource:n,container:e,viewport:t}),{textDivs:o,textContentItemsStr:a}=s;return{promise:s.render(),textDivs:o,textContentItemsStr:a}}function jR(){Kb("`updateTextLayer`, please use `TextLayer` instead.")}class Gu{static textContent(e){const t=[],r={items:t,styles:Object.create(null)};function i(s){var l;if(!s)return;let o=null;const a=s.name;if(a==="#text")o=s.value;else if(Gu.shouldBuildText(a))(l=s==null?void 0:s.attributes)!=null&&l.textContent?o=s.attributes.textContent:s.value&&(o=s.value);else return;if(o!==null&&t.push({str:o}),!!s.children)for(const c of s.children)i(c)}return i(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const zR=65536,HR=100,BR=5e3,UR=tn?ZP:HP,$R=tn?eR:Gb,VR=tn?JP:zP,WR=tn?tR:Xb;function GR(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new Gv,{docId:t}=e,r=n.url?XR(n.url):null,i=n.data?KR(n.data):null,s=n.httpHeaders||null,o=n.withCredentials===!0,a=n.password??null,l=n.range instanceof OS?n.range:null,c=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:zR;let h=n.worker instanceof wl?n.worker:null;const d=n.verbosity,f=typeof n.docBaseUrl=="string"&&!F0(n.docBaseUrl)?n.docBaseUrl:null,p=typeof n.cMapUrl=="string"?n.cMapUrl:null,g=n.cMapPacked!==!1,v=n.CMapReaderFactory||$R,_=typeof n.standardFontDataUrl=="string"?n.standardFontDataUrl:null,m=n.StandardFontDataFactory||WR,y=n.stopAtErrors!==!0,w=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,S=n.isEvalSupported!==!1,C=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!tn,k=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,P=typeof n.disableFontFace=="boolean"?n.disableFontFace:tn,x=n.fontExtraProperties===!0,D=n.enableXfa===!0,I=n.ownerDocument||globalThis.document,M=n.disableRange===!0,U=n.disableStream===!0,W=n.disableAutoFetch===!0,$=n.pdfBug===!0,Q=n.enableHWA===!0,q=l?l.length:n.length??NaN,K=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!tn&&!P,j=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:v===Gb&&m===Xb&&p&&_&&nu(p,document.baseURI)&&nu(_,document.baseURI),z=n.canvasFactory||new UR({ownerDocument:I,enableHWA:Q}),H=n.filterFactory||new VR({docId:t,ownerDocument:I}),J=null;TP(d);const G={canvasFactory:z,filterFactory:H};if(j||(G.cMapReaderFactory=new v({baseUrl:p,isCompressed:g}),G.standardFontDataFactory=new m({baseUrl:_})),!h){const Ke={verbosity:d,port:Yi.workerPort};h=Ke.port?wl.fromPort(Ke):new wl(Ke),e._worker=h}const ue={docId:t,apiVersion:"4.4.168",data:i,password:a,disableAutoFetch:W,rangeChunkSize:c,length:q,docBaseUrl:f,enableXfa:D,evaluatorOptions:{maxImageSize:w,disableFontFace:P,ignoreErrors:y,isEvalSupported:S,isOffscreenCanvasSupported:C,canvasMaxAreaInBytes:k,fontExtraProperties:x,useSystemFonts:K,cMapUrl:j?p:null,standardFontDataUrl:j?_:null}},N={disableFontFace:P,fontExtraProperties:x,ownerDocument:I,pdfBug:$,styleElement:J,loadingParams:{disableAutoFetch:W,enableXfa:D}};return h.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const Ke=h.messageHandler.sendWithPromise("GetDocRequest",ue,i?[i.buffer]:null);let X;if(l)X=new yR(l,{disableRange:M,disableStream:U});else if(!i){if(!r)throw new Error("getDocument - no `url` parameter provided.");X=(we=>tn?function(){return typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype}()&&nu(we.url)?new q_(we):new RR(we):nu(we.url)?new q_(we):new CR(we))({url:r,length:q,httpHeaders:s,withCredentials:o,rangeChunkSize:c,disableRange:M,disableStream:U})}return Ke.then(re=>{if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const we=new su(t,re,h.port),De=new JR(we,e,X,N,G);e._transport=De,we.send("Ready",null)})}).catch(e._capability.reject),e}function XR(n){if(n instanceof URL)return n.href;try{return new URL(n,window.location).href}catch{if(tn&&typeof n=="string")return n}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function KR(n){if(tn&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return Sg(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Q_(n){return typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0}var Wp;const Gp=class Gp{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${Rn(Gp,Wp)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,t,r;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(i){throw(r=this._worker)!=null&&r.port&&delete this._worker._pendingDestroy,i}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};Wp=new WeakMap,b(Gp,Wp,0);let Gv=Gp,OS=class{constructor(e,t,r=!1,i=null){this.length=e,this.initialData=t,this.progressiveDone=r,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const r of this._rangeListeners)r(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(const r of this._progressListeners)r(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){Be("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class YR{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Te(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var ks,Ri,or,Ya,Nf;class qR{constructor(e,t,r,i=!1){b(this,or);b(this,ks,null);b(this,Ri,!1);this._pageIndex=e,this._pageInfo=t,this._transport=r,this._stats=i?new O_:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new jS,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:r=0,offsetY:i=0,dontFlip:s=!1}={}){return new Ld({viewBox:this.view,scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Te(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:r="display",annotationMode:i=vs.ENABLE,transform:s=null,background:o=null,optionalContentConfigPromise:a=null,annotationCanvasMap:l=null,pageColors:c=null,printAnnotationStorage:h=null}){var w,S;(w=this._stats)==null||w.time("Overall");const d=this._transport.getRenderingIntent(r,i,h),{renderingIntent:f,cacheKey:p}=d;E(this,Ri,!1),A(this,or,Nf).call(this),a||(a=this._transport.getOptionalContentConfig(f));let g=this._intentStates.get(p);g||(g=Object.create(null),this._intentStates.set(p,g)),g.streamReaderCancelTimeout&&(clearTimeout(g.streamReaderCancelTimeout),g.streamReaderCancelTimeout=null);const v=!!(f&rr.PRINT);g.displayReadyCapability||(g.displayReadyCapability=Promise.withResolvers(),g.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(S=this._stats)==null||S.time("Page Request"),this._pumpOperatorList(d));const _=C=>{var k;g.renderTasks.delete(m),(this._maybeCleanupAfterRender||v)&&E(this,Ri,!0),A(this,or,Ya).call(this,!v),C?(m.capability.reject(C),this._abortOperatorList({intentState:g,reason:C instanceof Error?C:new Error(C)})):m.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(k=globalThis.Stats)!=null&&k.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},m=new Kv({callback:_,params:{canvasContext:e,viewport:t,transform:s,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:g.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!v,pdfBug:this._pdfBug,pageColors:c});(g.renderTasks||(g.renderTasks=new Set)).add(m);const y=m.task;return Promise.all([g.displayReadyCapability.promise,a]).then(([C,k])=>{var P;if(this.destroyed){_();return}if((P=this._stats)==null||P.time("Rendering"),!(k.renderingIntent&f))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");m.initializeGraphics({transparency:C,optionalContentConfig:k}),m.operatorListChanged()}).catch(_),y}getOperatorList({intent:e="display",annotationMode:t=vs.ENABLE,printAnnotationStorage:r=null}={}){var l;function i(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(a))}const s=this._transport.getRenderingIntent(e,t,r,!0);let o=this._intentStates.get(s.cacheKey);o||(o=Object.create(null),this._intentStates.set(s.cacheKey,o));let a;return o.opListReadCapability||(a=Object.create(null),a.operatorListChanged=i,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(a),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(l=this._stats)==null||l.time("Page Request"),this._pumpOperatorList(s)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>Gu.textContent(r));const t=this.streamTextContent(e);return new Promise(function(r,i){function s(){o.read().then(function({value:l,done:c}){if(c){r(a);return}a.lang??(a.lang=l.lang),Object.assign(a.styles,l.styles),a.items.push(...l.items),s()},i)}const o=t.getReader(),a={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const r of t.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),E(this,Ri,!1),A(this,or,Nf).call(this),Promise.all(e)}cleanup(e=!1){E(this,Ri,!0);const t=A(this,or,Ya).call(this,!1);return e&&t&&this._stats&&(this._stats=new O_),t}_startRenderPage(e,t){var i,s;const r=this._intentStates.get(t);r&&((i=this._stats)==null||i.timeEnd("Page Request"),(s=r.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,t){for(let r=0,i=e.length;r<i;r++)t.operatorList.fnArray.push(e.fnArray[r]),t.operatorList.argsArray.push(e.argsArray[r]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const r of t.renderTasks)r.operatorListChanged();e.lastChunk&&A(this,or,Ya).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:r}){const{map:i,transfer:s}=r,a=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:i},s).getReader(),l=this._intentStates.get(t);l.streamReader=a;const c=()=>{a.read().then(({value:h,done:d})=>{if(d){l.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(h,l),c())},h=>{if(l.streamReader=null,!this._transport.destroyed){if(l.operatorList){l.operatorList.lastChunk=!0;for(const d of l.renderTasks)d.operatorListChanged();A(this,or,Ya).call(this,!0)}if(l.displayReadyCapability)l.displayReadyCapability.reject(h);else if(l.opListReadCapability)l.opListReadCapability.reject(h);else throw h}})};c()}_abortOperatorList({intentState:e,reason:t,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(t instanceof N0){let i=HR;t.extraDelay>0&&t.extraDelay<1e3&&(i+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},i);return}}if(e.streamReader.cancel(new ja(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,s]of this._intentStates)if(s===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}ks=new WeakMap,Ri=new WeakMap,or=new WeakSet,Ya=function(e=!1){if(A(this,or,Nf).call(this),!u(this,Ri)||this.destroyed)return!1;if(e)return E(this,ks,setTimeout(()=>{E(this,ks,null),A(this,or,Ya).call(this,!1)},BR)),!1;for(const{renderTasks:t,operatorList:r}of this._intentStates.values())if(t.size>0||!r.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),E(this,Ri,!1),!0},Nf=function(){u(this,ks)&&(clearTimeout(u(this,ks)),E(this,ks,null))};var Xo,Xp;class QR{constructor(){b(this,Xo,new Set);b(this,Xp,Promise.resolve())}postMessage(e,t){const r={data:structuredClone(e,t?{transfer:t}:null)};u(this,Xp).then(()=>{for(const i of u(this,Xo))i.call(this,r)})}addEventListener(e,t){u(this,Xo).add(t)}removeEventListener(e,t){u(this,Xo).delete(t)}terminate(){u(this,Xo).clear()}}Xo=new WeakMap,Xp=new WeakMap;const _i={isWorkerDisabled:!1,fakeWorkerId:0};tn&&(_i.isWorkerDisabled=!0,Yi.workerSrc||(Yi.workerSrc="./pdf.worker.mjs")),_i.isSameOrigin=function(n,e){let t;try{if(t=new URL(n),!t.origin||t.origin==="null")return!1}catch{return!1}const r=new URL(e,t);return t.origin===r.origin},_i.createCDNWrapper=function(n){const e=`await import("${n}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};var Ko,$l,Ff,Vl,Of;const Mn=class Mn{constructor({name:e=null,port:t=null,verbosity:r=PP()}={}){b(this,$l);var i;if(this.name=e,this.destroyed=!1,this.verbosity=r,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if((i=u(Mn,Ko))!=null&&i.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(u(Mn,Ko)||E(Mn,Ko,new WeakMap)).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return tn?Promise.all([ci.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new su("main","worker",e),this._messageHandler.on("ready",function(){}),A(this,$l,Ff).call(this)}_initialize(){if(_i.isWorkerDisabled||u(Mn,Vl,Of)){this._setupFakeWorker();return}let{workerSrc:e}=Mn;try{_i.isSameOrigin(window.location.href,e)||(e=_i.createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),r=new su("main","worker",t),i=()=>{s.abort(),r.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},s=new AbortController;t.addEventListener("error",()=>{this._webWorker||i()},{signal:s.signal}),r.on("test",a=>{if(s.abort(),this.destroyed||!a){i();return}this._messageHandler=r,this._port=t,this._webWorker=t,A(this,$l,Ff).call(this)}),r.on("ready",a=>{if(s.abort(),this.destroyed){i();return}try{o()}catch{this._setupFakeWorker()}});const o=()=>{const a=new Uint8Array;r.send("test",a,[a.buffer])};o();return}catch{Ag("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){_i.isWorkerDisabled||(Ee("Setting up fake worker."),_i.isWorkerDisabled=!0),Mn._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const t=new QR;this._port=t;const r=`fake${_i.fakeWorkerId++}`,i=new su(r+"_worker",r,t);e.setup(i,t),this._messageHandler=new su(r,r+"_worker",t),A(this,$l,Ff).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=u(Mn,Ko))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var r;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const t=(r=u(this,Ko))==null?void 0:r.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new Mn(e)}static get workerSrc(){if(Yi.workerSrc)return Yi.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Te(this,"_setupFakeWorkerGlobal",(async()=>u(this,Vl,Of)?u(this,Vl,Of):(await import(this.workerSrc)).WorkerMessageHandler)())}};Ko=new WeakMap,$l=new WeakSet,Ff=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},Vl=new WeakSet,Of=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},b(Mn,Vl),b(Mn,Ko);let wl=Mn;var Li,Kr,Wl,Gl,Yr,Yo,ou;class JR{constructor(e,t,r,i,s){b(this,Yo);b(this,Li,new Map);b(this,Kr,new Map);b(this,Wl,new Map);b(this,Gl,new Map);b(this,Yr,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new jS,this.fontLoader=new qP({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Te(this,"annotationStorage",new z0)}getRenderingIntent(e,t=vs.ENABLE,r=null,i=!1){let s=rr.DISPLAY,o=jv;switch(e){case"any":s=rr.ANY;break;case"display":break;case"print":s=rr.PRINT;break;default:Ee(`getRenderingIntent - invalid intent: ${e}`)}switch(t){case vs.DISABLE:s+=rr.ANNOTATIONS_DISABLE;break;case vs.ENABLE:break;case vs.ENABLE_FORMS:s+=rr.ANNOTATIONS_FORMS;break;case vs.ENABLE_STORAGE:s+=rr.ANNOTATIONS_STORAGE,o=(s&rr.PRINT&&r instanceof AS?r:this.annotationStorage).serializable;break;default:Ee(`getRenderingIntent - invalid annotationMode: ${t}`)}return i&&(s+=rr.OPLIST),{renderingIntent:s,cacheKey:`${s}_${o.hash}`,annotationStorageSerializable:o}}destroy(){var r;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(r=u(this,Yr))==null||r.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of u(this,Kr).values())e.push(i._destroy());u(this,Kr).clear(),u(this,Wl).clear(),u(this,Gl).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var i;this.commonObjs.clear(),this.fontLoader.clear(),u(this,Li).clear(),this.filterFactory.destroy(),Rp.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new ja("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(r,i)=>{kt(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},i.onPull=()=>{this._fullReader.read().then(function({value:s,done:o}){if(o){i.close();return}kt(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{this._fullReader.cancel(s),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("ReaderHeadersReady",r=>{const i=Promise.withResolvers(),s=this._fullReader;return s.headersReady.then(()=>{var o;(!s.isStreamingSupported||!s.isRangeSupported)&&(this._lastProgress&&((o=t.onProgress)==null||o.call(t,this._lastProgress)),s.onProgress=a=>{var l;(l=t.onProgress)==null||l.call(t,{loaded:a.loaded,total:a.total})}),i.resolve({isStreamingSupported:s.isStreamingSupported,isRangeSupported:s.isRangeSupported,contentLength:s.contentLength})},i.reject),i.promise}),e.on("GetRangeReader",(r,i)=>{kt(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(r.begin,r.end);if(!s){i.close();return}i.onPull=()=>{s.read().then(function({value:o,done:a}){if(a){i.close();return}kt(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{i.error(o)})},i.onCancel=o=>{s.cancel(o),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,t._capability.resolve(new YR(r,this))}),e.on("DocException",function(r){let i;switch(r.name){case"PasswordException":i=new gv(r.message,r.code);break;case"InvalidPDFException":i=new Ub(r.message);break;case"MissingPDFException":i=new Oa(r.message);break;case"UnexpectedResponseException":i=new bg(r.message,r.status);break;case"UnknownErrorException":i=new mv(r.message,r.details);break;default:Be("DocException - expected a valid Error.")}t._capability.reject(i)}),e.on("PasswordRequest",r=>{if(E(this,Yr,Promise.withResolvers()),t.onPassword){const i=s=>{s instanceof Error?u(this,Yr).reject(s):u(this,Yr).resolve({password:s})};try{t.onPassword(i,r.code)}catch(s){u(this,Yr).reject(s)}}else u(this,Yr).reject(new gv(r.message,r.code));return u(this,Yr).promise}),e.on("DataLoaded",r=>{var i;(i=t.onProgress)==null||i.call(t,{loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;u(this,Kr).get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,i,s])=>{var o;if(this.destroyed||this.commonObjs.has(r))return null;switch(i){case"Font":const{disableFontFace:a,fontExtraProperties:l,pdfBug:c}=this._params;if("error"in s){const p=s.error;Ee(`Error during font loading: ${p}`),this.commonObjs.resolve(r,p);break}const h=c&&((o=globalThis.FontInspector)!=null&&o.enabled)?(p,g)=>globalThis.FontInspector.fontAdded(p,g):null,d=new QP(s,{disableFontFace:a,inspectFont:h});this.fontLoader.bind(d).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!l&&d.data&&(d.data=null),this.commonObjs.resolve(r,d)});break;case"CopyLocalImage":const{imageRef:f}=s;kt(f,"The imageRef must be defined.");for(const p of u(this,Kr).values())for(const[,g]of p.objs)if((g==null?void 0:g.ref)===f)return g.dataLen?(this.commonObjs.resolve(r,structuredClone(g)),g.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(r,s);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([r,i,s,o])=>{var l;if(this.destroyed)return;const a=u(this,Kr).get(i);if(!a.objs.has(r)){if(a._intentStates.size===0){(l=o==null?void 0:o.bitmap)==null||l.close();return}switch(s){case"Image":a.objs.resolve(r,o),(o==null?void 0:o.dataLen)>SP&&(a._maybeCleanupAfterRender=!0);break;case"Pattern":a.objs.resolve(r,o);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",r=>{var i;this.destroyed||(i=t.onProgress)==null||i.call(t,{loaded:r.loaded,total:r.total})}),e.on("FetchBuiltInCMap",r=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(r):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),e.on("FetchStandardFontData",r=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(r):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var r;this.annotationStorage.size<=0&&Ee("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((r=this._fullReader)==null?void 0:r.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,r=u(this,Wl).get(t);if(r)return r;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&u(this,Gl).set(s.refStr,e);const o=new qR(t,s,this,this._params.pdfBug);return u(this,Kr).set(t,o),o});return u(this,Wl).set(t,i),i}getPageIndex(e){return Q_(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return A(this,Yo,ou).call(this,"GetFieldObjects")}hasJSActions(){return A(this,Yo,ou).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return A(this,Yo,ou).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return A(this,Yo,ou).call(this,"GetOptionalContentConfig").then(t=>new vR(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=u(this,Li).get(e);if(t)return t;const r=this.messageHandler.sendWithPromise(e,null).then(i=>{var s,o;return{info:i[0],metadata:i[1]?new gR(i[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((o=this._fullReader)==null?void 0:o.contentLength)??null}});return u(this,Li).set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of u(this,Kr).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),u(this,Li).clear(),this.filterFactory.destroy(!0),Rp.cleanup()}}cachedPageNumber(e){if(!Q_(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return u(this,Gl).get(t)??null}}Li=new WeakMap,Kr=new WeakMap,Wl=new WeakMap,Gl=new WeakMap,Yr=new WeakMap,Yo=new WeakSet,ou=function(e,t=null){const r=u(this,Li).get(e);if(r)return r;const i=this.messageHandler.sendWithPromise(e,t);return u(this,Li).set(e,i),i};const df=Symbol("INITIAL_DATA");var Ar,Fh,Xv;class jS{constructor(){b(this,Fh);b(this,Ar,Object.create(null))}get(e,t=null){if(t){const i=A(this,Fh,Xv).call(this,e);return i.promise.then(()=>t(i.data)),null}const r=u(this,Ar)[e];if(!r||r.data===df)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const t=u(this,Ar)[e];return!!t&&t.data!==df}resolve(e,t=null){const r=A(this,Fh,Xv).call(this,e);r.data=t,r.resolve()}clear(){var e;for(const t in u(this,Ar)){const{data:r}=u(this,Ar)[t];(e=r==null?void 0:r.bitmap)==null||e.close()}E(this,Ar,Object.create(null))}*[Symbol.iterator](){for(const e in u(this,Ar)){const{data:t}=u(this,Ar)[e];t!==df&&(yield[e,t])}}}Ar=new WeakMap,Fh=new WeakSet,Xv=function(e){var t;return(t=u(this,Ar))[e]||(t[e]={...Promise.withResolvers(),data:df})};var Ts;class ZR{constructor(e){b(this,Ts,null);E(this,Ts,e),this.onContinue=null}get promise(){return u(this,Ts).capability.promise}cancel(e=0){u(this,Ts).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=u(this,Ts).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=u(this,Ts);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}Ts=new WeakMap;var Ps,qo;const yo=class yo{constructor({callback:e,params:t,objs:r,commonObjs:i,annotationCanvasMap:s,operatorList:o,pageIndex:a,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:h=!1,pdfBug:d=!1,pageColors:f=null}){b(this,Ps,null);this.callback=e,this.params=t,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=a,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=d,this.pageColors=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=h===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new ZR(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var a,l;if(this.cancelled)return;if(this._canvas){if(u(yo,qo).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");u(yo,qo).add(this._canvas)}this._pdfBug&&((a=globalThis.StepperManager)!=null&&a.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:r,viewport:i,transform:s,background:o}=this.params;this.gfx=new yl(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:i,transparency:e,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,(l=this.graphicsReadyCallback)==null||l.call(this)}cancel(e=null,t=0){var r;this.running=!1,this.cancelled=!0,(r=this.gfx)==null||r.endDrawing(),u(this,Ps)&&(window.cancelAnimationFrame(u(this,Ps)),E(this,Ps,null)),u(yo,qo).delete(this._canvas),this.callback(e||new N0(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?E(this,Ps,window.requestAnimationFrame(()=>{E(this,Ps,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),u(yo,qo).delete(this._canvas),this.callback())))}};Ps=new WeakMap,qo=new WeakMap,b(yo,qo,new WeakSet);let Kv=yo;const eL="4.4.168",tL="19fbc8998";function J_(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function Xc(n){return Math.max(0,Math.min(255,255*n))}class Z_{static CMYK_G([e,t,r,i]){return["G",1-Math.min(1,.3*e+.59*r+.11*t+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Xc(e),[e,e,e]}static G_HTML([e]){const t=J_(e);return`#${t}${t}${t}`}static RGB_G([e,t,r]){return["G",.3*e+.59*t+.11*r]}static RGB_rgb(e){return e.map(Xc)}static RGB_HTML(e){return`#${e.map(J_).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,r,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,r+i),1-Math.min(1,t+i)]}static CMYK_rgb([e,t,r,i]){return[Xc(1-Math.min(1,e+i)),Xc(1-Math.min(1,r+i)),Xc(1-Math.min(1,t+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,r]){const i=1-e,s=1-t,o=1-r,a=Math.min(i,s,o);return["CMYK",i,s,o,a]}}class zS{static setupStorage(e,t,r,i,s){const o=i.getValue(t,{value:null});switch(r.name){case"textarea":if(o.value!==null&&(e.textContent=o.value),s==="print")break;e.addEventListener("input",a=>{i.setValue(t,{value:a.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(o.value===r.attributes.xfaOn?e.setAttribute("checked",!0):o.value===r.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",a=>{i.setValue(t,{value:a.target.checked?a.target.getAttribute("xfaOn"):a.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&e.setAttribute("value",o.value),s==="print")break;e.addEventListener("input",a=>{i.setValue(t,{value:a.target.value})})}break;case"select":if(o.value!==null){e.setAttribute("value",o.value);for(const a of r.children)a.attributes.value===o.value?a.attributes.selected=!0:a.attributes.hasOwnProperty("selected")&&delete a.attributes.selected}e.addEventListener("input",a=>{const l=a.target.options,c=l.selectedIndex===-1?"":l[l.selectedIndex].value;i.setValue(t,{value:c})});break}}static setAttributes({html:e,element:t,storage:r=null,intent:i,linkService:s}){const{attributes:o}=t,a=e instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${i}`);for(const[l,c]of Object.entries(o))if(c!=null)switch(l){case"class":c.length&&e.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",c);break;case"style":Object.assign(e.style,c);break;case"textContent":e.textContent=c;break;default:(!a||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,c)}a&&s.addLinkAttributes(e,o.href,o.newWindow),r&&o.dataId&&this.setupStorage(e,o.dataId,t,r)}static render(e){var d,f;const t=e.annotationStorage,r=e.linkService,i=e.xfaHtml,s=e.intent||"display",o=document.createElement(i.name);i.attributes&&this.setAttributes({html:o,element:i,intent:s,linkService:r});const a=s!=="richText",l=e.div;if(l.append(o),e.viewport){const p=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=p}a&&l.setAttribute("class","xfaLayer xfaFont");const c=[];if(i.children.length===0){if(i.value){const p=document.createTextNode(i.value);o.append(p),a&&Gu.shouldBuildText(i.name)&&c.push(p)}return{textDivs:c}}const h=[[i,-1,o]];for(;h.length>0;){const[p,g,v]=h.at(-1);if(g+1===p.children.length){h.pop();continue}const _=p.children[++h.at(-1)[1]];if(_===null)continue;const{name:m}=_;if(m==="#text"){const w=document.createTextNode(_.value);c.push(w),v.append(w);continue}const y=(d=_==null?void 0:_.attributes)!=null&&d.xmlns?document.createElementNS(_.attributes.xmlns,m):document.createElement(m);if(v.append(y),_.attributes&&this.setAttributes({html:y,element:_,storage:t,intent:s,linkService:r}),((f=_.children)==null?void 0:f.length)>0)h.push([_,-1,y]);else if(_.value){const w=document.createTextNode(_.value);a&&Gu.shouldBuildText(m)&&c.push(w),y.append(w)}}for(const p of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:c}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const Id=1e3,nL=9,Pa=new WeakSet;function qi(n){return{width:n[2]-n[0],height:n[3]-n[1]}}class rL{static create(e){switch(e.data.annotationType){case _t.LINK:return new HS(e);case _t.TEXT:return new iL(e);case _t.WIDGET:switch(e.data.fieldType){case"Tx":return new sL(e);case"Btn":return e.data.radioButton?new $S(e):e.data.checkBox?new aL(e):new lL(e);case"Ch":return new cL(e);case"Sig":return new oL(e)}return new za(e);case _t.POPUP:return new qv(e);case _t.FREETEXT:return new KS(e);case _t.LINE:return new hL(e);case _t.SQUARE:return new dL(e);case _t.CIRCLE:return new fL(e);case _t.POLYLINE:return new YS(e);case _t.CARET:return new gL(e);case _t.INK:return new qS(e);case _t.POLYGON:return new pL(e);case _t.HIGHLIGHT:return new mL(e);case _t.UNDERLINE:return new vL(e);case _t.SQUIGGLY:return new yL(e);case _t.STRIKEOUT:return new wL(e);case _t.STAMP:return new QS(e);case _t.FILEATTACHMENT:return new _L(e);default:return new ft(e)}}}var Qo,Xl,Kl,Oh,Yv;const G0=class G0{constructor(e,{isRenderable:t=!1,ignoreBorder:r=!1,createQuadrilaterals:i=!1}={}){b(this,Oh);b(this,Qo,null);b(this,Xl,!1);b(this,Kl,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(r)),i&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:r}){return!!(e!=null&&e.str||t!=null&&t.str||r!=null&&r.str)}get hasPopupData(){return G0._hasPopupData(this.data)}updateEdited(e){var r;if(!this.container)return;u(this,Qo)||E(this,Qo,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&A(this,Oh,Yv).call(this,t),(r=u(this,Kl))==null||r.popup.updateEdited(e)}resetEdited(){var e;u(this,Qo)&&(A(this,Oh,Yv).call(this,u(this,Qo).rect),(e=u(this,Kl))==null||e.popup.resetEdited(),E(this,Qo,null))}_createContainer(e){const{data:t,parent:{page:r,viewport:i}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),this instanceof za||(s.tabIndex=Id);const{style:o}=s;if(o.zIndex=this.parent.zIndex++,t.popupRef&&s.setAttribute("aria-haspopup","dialog"),t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof qv){const{rotation:v}=t;return!t.hasOwnCanvas&&v!==0&&this.setRotation(v,s),s}const{width:a,height:l}=qi(t.rect);if(!e&&t.borderStyle.width>0){o.borderWidth=`${t.borderStyle.width}px`;const v=t.borderStyle.horizontalCornerRadius,_=t.borderStyle.verticalCornerRadius;if(v>0||_>0){const y=`calc(${v}px * var(--scale-factor)) / calc(${_}px * var(--scale-factor))`;o.borderRadius=y}else if(this instanceof $S){const y=`calc(${a}px * var(--scale-factor)) / calc(${l}px * var(--scale-factor))`;o.borderRadius=y}switch(t.borderStyle.style){case Wc.SOLID:o.borderStyle="solid";break;case Wc.DASHED:o.borderStyle="dashed";break;case Wc.BEVELED:Ee("Unimplemented border style: beveled");break;case Wc.INSET:Ee("Unimplemented border style: inset");break;case Wc.UNDERLINE:o.borderBottomStyle="solid";break}const m=t.borderColor||null;m?(E(this,Xl,!0),o.borderColor=oe.makeHexColor(m[0]|0,m[1]|0,m[2]|0)):o.borderWidth=0}const c=oe.normalizeRect([t.rect[0],r.view[3]-t.rect[1]+r.view[1],t.rect[2],r.view[3]-t.rect[3]+r.view[1]]),{pageWidth:h,pageHeight:d,pageX:f,pageY:p}=i.rawDims;o.left=`${100*(c[0]-f)/h}%`,o.top=`${100*(c[1]-p)/d}%`;const{rotation:g}=t;return t.hasOwnCanvas||g===0?(o.width=`${100*a/h}%`,o.height=`${100*l/d}%`):this.setRotation(g,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:i}=this.parent.viewport.rawDims,{width:s,height:o}=qi(this.data.rect);let a,l;e%180===0?(a=100*s/r,l=100*o/i):(a=100*o/r,l=100*s/i),t.style.width=`${a}%`,t.style.height=`${l}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,r,i)=>{const s=i.detail[t],o=s[0],a=s.slice(1);i.target.style[r]=Z_[`${o}_HTML`](a),this.annotationStorage.setValue(this.data.id,{[r]:Z_[`${o}_rgb`](a)})};return Te(this,"_commonActions",{display:t=>{const{display:r}=t.detail,i=r%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:r===1||r===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:r}=t.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const r=t.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,t){const r=this._commonActions;for(const i of Object.keys(t.detail)){const s=e[i]||r[i];s==null||s(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const r=this._commonActions;for(const[i,s]of Object.entries(t)){const o=r[i];if(o){const a={detail:{[i]:s},target:e};o(a),delete t[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,r,i,s]=this.data.rect.map(v=>Math.fround(v));if(e.length===8){const[v,_,m,y]=e.subarray(2,6);if(i===v&&s===_&&t===m&&r===y)return}const{style:o}=this.container;let a;if(u(this,Xl)){const{borderColor:v,borderWidth:_}=o;o.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${v}" stroke-width="${_}">`],this.container.classList.add("hasBorder")}const l=i-t,c=s-r,{svgFactory:h}=this,d=h.createElement("svg");d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0);const f=h.createElement("defs");d.append(f);const p=h.createElement("clipPath"),g=`clippath_${this.data.id}`;p.setAttribute("id",g),p.setAttribute("clipPathUnits","objectBoundingBox"),f.append(p);for(let v=2,_=e.length;v<_;v+=8){const m=e[v],y=e[v+1],w=e[v+2],S=e[v+3],C=h.createElement("rect"),k=(w-t)/l,P=(s-y)/c,x=(m-w)/l,D=(y-S)/c;C.setAttribute("x",k),C.setAttribute("y",P),C.setAttribute("width",x),C.setAttribute("height",D),p.append(C),a==null||a.push(`<rect vector-effect="non-scaling-stroke" x="${k}" y="${P}" width="${x}" height="${D}"/>`)}u(this,Xl)&&(a.push("</g></svg>')"),o.backgroundImage=a.join("")),this.container.append(d),this.container.style.clipPath=`url(#${g})`}_createPopup(){const{container:e,data:t}=this;e.setAttribute("aria-haspopup","dialog");const r=E(this,Kl,new qv({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(r.render())}render(){Be("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const r=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:s,id:o,exportValues:a}of i){if(s===-1||o===t)continue;const l=typeof a=="string"?a:null,c=document.querySelector(`[data-element-id="${o}"]`);if(c&&!Pa.has(c)){Ee(`_getElementsByName - element not allowed: ${o}`);continue}r.push({id:o,exportValue:l,domElement:c})}return r}for(const i of document.getElementsByName(e)){const{exportValue:s}=i,o=i.getAttribute("data-element-id");o!==t&&Pa.has(i)&&r.push({id:o,exportValue:s,domElement:i})}return r}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var r;(r=this.linkService.eventBus)==null||r.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}};Qo=new WeakMap,Xl=new WeakMap,Kl=new WeakMap,Oh=new WeakSet,Yv=function(e){const{container:{style:t},data:{rect:r,rotation:i},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:o,pageX:a,pageY:l}}}}=this;r==null||r.splice(0,4,...e);const{width:c,height:h}=qi(e);t.left=`${100*(e[0]-a)/s}%`,t.top=`${100*(o-e[3]+l)/o}%`,i===0?(t.width=`${100*c/s}%`,t.height=`${100*h/o}%`):this.setRotation(i)};let ft=G0;var $n,fo,BS,US;class HS extends ft{constructor(t,r=null){super(t,{isRenderable:!0,ignoreBorder:!!(r!=null&&r.ignoreBorder),createQuadrilaterals:!0});b(this,$n);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:r}=this,i=document.createElement("a");i.setAttribute("data-element-id",t.id);let s=!1;return t.url?(r.addLinkAttributes(i,t.url,t.newWindow),s=!0):t.action?(this._bindNamedAction(i,t.action),s=!0):t.attachment?(A(this,$n,BS).call(this,i,t.attachment,t.attachmentDest),s=!0):t.setOCGState?(A(this,$n,US).call(this,i,t.setOCGState),s=!0):t.dest?(this._bindLink(i,t.dest),s=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,t),s=!0),t.resetForm?(this._bindResetFormAction(i,t.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(i,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(i),this.container}_bindLink(t,r){t.href=this.linkService.getDestinationHash(r),t.onclick=()=>(r&&this.linkService.goToDestination(r),!1),(r||r==="")&&A(this,$n,fo).call(this)}_bindNamedAction(t,r){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(r),!1),A(this,$n,fo).call(this)}_bindJSAction(t,r){t.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(r.actions)){const o=i.get(s);o&&(t[o]=()=>{var a;return(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r.id,name:s}}),!1})}t.onclick||(t.onclick=()=>!1),A(this,$n,fo).call(this)}_bindResetFormAction(t,r){const i=t.onclick;if(i||(t.href=this.linkService.getAnchorUrl("")),A(this,$n,fo).call(this),!this._fieldObjects){Ee('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(t.onclick=()=>!1);return}t.onclick=()=>{var d;i==null||i();const{fields:s,refs:o,include:a}=r,l=[];if(s.length!==0||o.length!==0){const f=new Set(o);for(const p of s){const g=this._fieldObjects[p]||[];for(const{id:v}of g)f.add(v)}for(const p of Object.values(this._fieldObjects))for(const g of p)f.has(g.id)===a&&l.push(g)}else for(const f of Object.values(this._fieldObjects))l.push(...f);const c=this.annotationStorage,h=[];for(const f of l){const{id:p}=f;switch(h.push(p),f.type){case"text":{const v=f.defaultValue||"";c.setValue(p,{value:v});break}case"checkbox":case"radiobutton":{const v=f.defaultValue===f.exportValues;c.setValue(p,{value:v});break}case"combobox":case"listbox":{const v=f.defaultValue||"";c.setValue(p,{value:v});break}default:continue}const g=document.querySelector(`[data-element-id="${p}"]`);if(g){if(!Pa.has(g)){Ee(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;g.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:h,name:"ResetForm"}})),!1}}}$n=new WeakSet,fo=function(){this.container.setAttribute("data-internal-link","")},BS=function(t,r,i=null){t.href=this.linkService.getAnchorUrl(""),r.description&&(t.title=r.description),t.onclick=()=>{var s;return(s=this.downloadManager)==null||s.openOrDownloadData(r.content,r.filename,i),!1},A(this,$n,fo).call(this)},US=function(t,r){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(r),!1),A(this,$n,fo).call(this)};class iL extends ft{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class za extends ft{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return bn.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,r,i,s){r.includes("mouse")?e.addEventListener(r,o=>{var a;(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):e.addEventListener(r,o=>{var a;if(r==="blur"){if(!t.focused||!o.relatedTarget)return;t.focused=!1}else if(r==="focus"){if(t.focused)return;t.focused=!0}s&&((a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(o)}}))})}_setEventListeners(e,t,r,i){var s,o,a;for(const[l,c]of r)(c==="Action"||(s=this.data.actions)!=null&&s[c])&&((c==="Focus"||c==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,l,c,i),c==="Focus"&&!((o=this.data.actions)!=null&&o.Blur)?this._setEventListener(e,t,"blur","Blur",null):c==="Blur"&&!((a=this.data.actions)!=null&&a.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":oe.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||nL,s=e.style;let o;const a=2,l=c=>Math.round(10*c)/10;if(this.data.multiLine){const c=Math.abs(this.data.rect[3]-this.data.rect[1]-a),h=Math.round(c/(dm*i))||1,d=c/h;o=Math.min(i,l(d/dm))}else{const c=Math.abs(this.data.rect[3]-this.data.rect[1]-a);o=Math.min(i,l(c/dm))}s.fontSize=`calc(${o}px * var(--scale-factor))`,s.color=oe.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class sL extends za{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,r,i){const s=this.annotationStorage;for(const o of this._getElementsByName(e.name,e.id))o.domElement&&(o.domElement[t]=r),s.setValue(o.id,{[i]:r})}render(){var i,s;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const o=e.getValue(t,{value:this.data.fieldValue});let a=o.value||"";const l=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;l&&a.length>l&&(a=a.slice(0,l));let c=o.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const h={userValue:a,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=c??a,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type="text",r.setAttribute("value",c??a),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),Pa.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=Id,this._setRequired(r,this.data.required),l&&(r.maxLength=l),r.addEventListener("input",f=>{e.setValue(t,{value:f.target.value}),this.setPropertyOnSiblings(r,"value",f.target.value,"value"),h.formattedValue=null}),r.addEventListener("resetform",f=>{const p=this.data.defaultFieldValue??"";r.value=h.userValue=p,h.formattedValue=null});let d=f=>{const{formattedValue:p}=h;p!=null&&(f.target.value=p),f.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",p=>{var v;if(h.focused)return;const{target:g}=p;h.userValue&&(g.value=h.userValue),h.lastCommittedValue=g.value,h.commitKey=1,(v=this.data.actions)!=null&&v.Focus||(h.focused=!0)}),r.addEventListener("updatefromsandbox",p=>{this.showElementAndHideCanvas(p.target);const g={value(v){h.userValue=v.detail.value??"",e.setValue(t,{value:h.userValue.toString()}),v.target.value=h.userValue},formattedValue(v){const{formattedValue:_}=v.detail;h.formattedValue=_,_!=null&&v.target!==document.activeElement&&(v.target.value=_),e.setValue(t,{formattedValue:_})},selRange(v){v.target.setSelectionRange(...v.detail.selRange)},charLimit:v=>{var w;const{charLimit:_}=v.detail,{target:m}=v;if(_===0){m.removeAttribute("maxLength");return}m.setAttribute("maxLength",_);let y=h.userValue;!y||y.length<=_||(y=y.slice(0,_),m.value=h.userValue=y,e.setValue(t,{value:y}),(w=this.linkService.eventBus)==null||w.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:y,willCommit:!0,commitKey:1,selStart:m.selectionStart,selEnd:m.selectionEnd}}))}};this._dispatchEventFromSandbox(g,p)}),r.addEventListener("keydown",p=>{var _;h.commitKey=1;let g=-1;if(p.key==="Escape"?g=0:p.key==="Enter"&&!this.data.multiLine?g=2:p.key==="Tab"&&(h.commitKey=3),g===-1)return;const{value:v}=p.target;h.lastCommittedValue!==v&&(h.lastCommittedValue=v,h.userValue=v,(_=this.linkService.eventBus)==null||_.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:v,willCommit:!0,commitKey:g,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}}))});const f=d;d=null,r.addEventListener("blur",p=>{var v,_;if(!h.focused||!p.relatedTarget)return;(v=this.data.actions)!=null&&v.Blur||(h.focused=!1);const{value:g}=p.target;h.userValue=g,h.lastCommittedValue!==g&&((_=this.linkService.eventBus)==null||_.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:g,willCommit:!0,commitKey:h.commitKey,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}})),f(p)}),(s=this.data.actions)!=null&&s.Keystroke&&r.addEventListener("beforeinput",p=>{var C;h.lastCommittedValue=null;const{data:g,target:v}=p,{value:_,selectionStart:m,selectionEnd:y}=v;let w=m,S=y;switch(p.inputType){case"deleteWordBackward":{const k=_.substring(0,m).match(/\w*[^\w]*$/);k&&(w-=k[0].length);break}case"deleteWordForward":{const k=_.substring(m).match(/^[^\w]*\w*/);k&&(S+=k[0].length);break}case"deleteContentBackward":m===y&&(w-=1);break;case"deleteContentForward":m===y&&(S+=1);break}p.preventDefault(),(C=this.linkService.eventBus)==null||C.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:_,change:g||"",willCommit:!1,selStart:w,selEnd:S}})}),this._setEventListeners(r,h,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],p=>p.target.value)}if(d&&r.addEventListener("blur",d),this.data.comb){const p=(this.data.rect[2]-this.data.rect[0])/l;r.classList.add("comb"),r.style.letterSpacing=`calc(${p}px * var(--scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class oL extends za{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class aL extends za{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,r=t.id;let i=e.getValue(r,{value:t.exportValue===t.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(r,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return Pa.add(s),s.setAttribute("data-element-id",r),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=Id,s.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const c of this._getElementsByName(a,r)){const h=l&&c.exportValue===t.exportValue;c.domElement&&(c.domElement.checked=h),e.setValue(c.id,{value:h})}e.setValue(r,{value:l})}),s.addEventListener("resetform",o=>{const a=t.defaultFieldValue||"Off";o.target.checked=a===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",o=>{const a={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(r,{value:l.target.checked})}};this._dispatchEventFromSandbox(a,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class $S extends za{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,r=t.id;let i=e.getValue(r,{value:t.fieldValue===t.buttonValue}).value;if(typeof i=="string"&&(i=i!==t.buttonValue,e.setValue(r,{value:i})),i)for(const o of this._getElementsByName(t.fieldName,r))e.setValue(o.id,{value:!1});const s=document.createElement("input");if(Pa.add(s),s.setAttribute("data-element-id",r),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.tabIndex=Id,s.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const c of this._getElementsByName(a,r))e.setValue(c.id,{value:!1});e.setValue(r,{value:l})}),s.addEventListener("resetform",o=>{const a=t.defaultFieldValue;o.target.checked=a!=null&&a===t.buttonValue}),this.enableScripting&&this.hasJSActions){const o=t.buttonValue;s.addEventListener("updatefromsandbox",a=>{const l={value:c=>{const h=o===c.detail.value;for(const d of this._getElementsByName(c.target.name)){const f=h&&d.id===r;d.domElement&&(d.domElement.checked=f),e.setValue(d.id,{value:f})}}};this._dispatchEventFromSandbox(l,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class lL extends HS{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class cL extends za{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,r=e.getValue(t,{value:this.data.fieldValue}),i=document.createElement("select");Pa.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=Id;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",h=>{const d=this.data.defaultFieldValue;for(const f of i.options)f.selected=f.value===d});for(const h of this.data.options){const d=document.createElement("option");d.textContent=h.displayValue,d.value=h.exportValue,r.value.includes(h.exportValue)&&(d.setAttribute("selected",!0),s=!1),i.append(d)}let o=null;if(s){const h=document.createElement("option");h.value=" ",h.setAttribute("hidden",!0),h.setAttribute("selected",!0),i.prepend(h),o=()=>{h.remove(),i.removeEventListener("input",o),o=null},i.addEventListener("input",o)}const a=h=>{const d=h?"value":"textContent",{options:f,multiple:p}=i;return p?Array.prototype.filter.call(f,g=>g.selected).map(g=>g[d]):f.selectedIndex===-1?null:f[f.selectedIndex][d]};let l=a(!1);const c=h=>{const d=h.target.options;return Array.prototype.map.call(d,f=>({displayValue:f.textContent,exportValue:f.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",h=>{const d={value(f){o==null||o();const p=f.detail.value,g=new Set(Array.isArray(p)?p:[p]);for(const v of i.options)v.selected=g.has(v.value);e.setValue(t,{value:a(!0)}),l=a(!1)},multipleSelection(f){i.multiple=!0},remove(f){const p=i.options,g=f.detail.remove;p[g].selected=!1,i.remove(g),p.length>0&&Array.prototype.findIndex.call(p,_=>_.selected)===-1&&(p[0].selected=!0),e.setValue(t,{value:a(!0),items:c(f)}),l=a(!1)},clear(f){for(;i.length!==0;)i.remove(0);e.setValue(t,{value:null,items:[]}),l=a(!1)},insert(f){const{index:p,displayValue:g,exportValue:v}=f.detail.insert,_=i.children[p],m=document.createElement("option");m.textContent=g,m.value=v,_?_.before(m):i.append(m),e.setValue(t,{value:a(!0),items:c(f)}),l=a(!1)},items(f){const{items:p}=f.detail;for(;i.length!==0;)i.remove(0);for(const g of p){const{displayValue:v,exportValue:_}=g,m=document.createElement("option");m.textContent=v,m.value=_,i.append(m)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(t,{value:a(!0),items:c(f)}),l=a(!1)},indices(f){const p=new Set(f.detail.indices);for(const g of f.target.options)g.selected=p.has(g.index);e.setValue(t,{value:a(!0)}),l=a(!1)},editable(f){f.target.disabled=!f.detail.editable}};this._dispatchEventFromSandbox(d,h)}),i.addEventListener("input",h=>{var p;const d=a(!0),f=a(!1);e.setValue(t,{value:d}),h.preventDefault(),(p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:l,change:f,changeEx:d,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],h=>h.target.value)):i.addEventListener("input",function(h){e.setValue(t,{value:a(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class qv extends ft{constructor(e){const{data:t,elements:r}=e;super(e,{isRenderable:ft._hasPopupData(t)}),this.elements=r,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new uL({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const r of this.elements)r.popup=e,t.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(r=>`${Vb}${r}`).join(",")),this.container}}var Yl,Kp,Yp,ql,Jo,ct,Mi,Zo,jh,zh,Ql,Di,br,Ii,Hh,Ni,Bh,ea,ta,Ue,jf,Qv,VS,WS,GS,XS,zf,Hf,Jv;class uL{constructor({container:e,color:t,elements:r,titleObj:i,modificationDate:s,contentsObj:o,richText:a,parent:l,rect:c,parentRect:h,open:d}){b(this,Ue);b(this,Yl,A(this,Ue,GS).bind(this));b(this,Kp,A(this,Ue,Jv).bind(this));b(this,Yp,A(this,Ue,Hf).bind(this));b(this,ql,A(this,Ue,zf).bind(this));b(this,Jo,null);b(this,ct,null);b(this,Mi,null);b(this,Zo,null);b(this,jh,null);b(this,zh,null);b(this,Ql,null);b(this,Di,!1);b(this,br,null);b(this,Ii,null);b(this,Hh,null);b(this,Ni,null);b(this,Bh,null);b(this,ea,null);b(this,ta,!1);var f;E(this,ct,e),E(this,Bh,i),E(this,Mi,o),E(this,Ni,a),E(this,zh,l),E(this,Jo,t),E(this,Hh,c),E(this,Ql,h),E(this,jh,r),E(this,Zo,Yb.toDateObject(s)),this.trigger=r.flatMap(p=>p.getElementsToTriggerPopup());for(const p of this.trigger)p.addEventListener("click",u(this,ql)),p.addEventListener("mouseenter",u(this,Yp)),p.addEventListener("mouseleave",u(this,Kp)),p.classList.add("popupTriggerArea");for(const p of r)(f=p.container)==null||f.addEventListener("keydown",u(this,Yl));u(this,ct).hidden=!0,d&&A(this,Ue,zf).call(this)}render(){if(u(this,br))return;const e=E(this,br,document.createElement("div"));if(e.className="popup",u(this,Jo)){const s=e.style.outlineColor=oe.makeHexColor(...u(this,Jo));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`:e.style.backgroundColor=oe.makeHexColor(...u(this,Jo).map(a=>Math.floor(.7*(255-a)+a)))}const t=document.createElement("span");t.className="header";const r=document.createElement("h1");if(t.append(r),{dir:r.dir,str:r.textContent}=u(this,Bh),e.append(t),u(this,Zo)){const s=document.createElement("span");s.classList.add("popupDate"),s.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),s.setAttribute("data-l10n-args",JSON.stringify({date:u(this,Zo).toLocaleDateString(),time:u(this,Zo).toLocaleTimeString()})),t.append(s)}const i=u(this,Ue,jf);if(i)zS.render({xfaHtml:i,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const s=this._formatContents(u(this,Mi));e.append(s)}u(this,ct).append(e)}_formatContents({str:e,dir:t}){const r=document.createElement("p");r.classList.add("popupContent"),r.dir=t;const i=e.split(/(?:\r\n?|\n)/);for(let s=0,o=i.length;s<o;++s){const a=i[s];r.append(document.createTextNode(a)),s<o-1&&r.append(document.createElement("br"))}return r}updateEdited({rect:e,popupContent:t}){var r;u(this,ea)||E(this,ea,{contentsObj:u(this,Mi),richText:u(this,Ni)}),e&&E(this,Ii,null),t&&(E(this,Ni,A(this,Ue,WS).call(this,t)),E(this,Mi,null)),(r=u(this,br))==null||r.remove(),E(this,br,null)}resetEdited(){var e;u(this,ea)&&({contentsObj:Rn(this,Mi)._,richText:Rn(this,Ni)._}=u(this,ea),E(this,ea,null),(e=u(this,br))==null||e.remove(),E(this,br,null),E(this,Ii,null))}forceHide(){E(this,ta,this.isVisible),u(this,ta)&&(u(this,ct).hidden=!0)}maybeShow(){u(this,ta)&&(u(this,br)||A(this,Ue,Hf).call(this),E(this,ta,!1),u(this,ct).hidden=!1)}get isVisible(){return u(this,ct).hidden===!1}}Yl=new WeakMap,Kp=new WeakMap,Yp=new WeakMap,ql=new WeakMap,Jo=new WeakMap,ct=new WeakMap,Mi=new WeakMap,Zo=new WeakMap,jh=new WeakMap,zh=new WeakMap,Ql=new WeakMap,Di=new WeakMap,br=new WeakMap,Ii=new WeakMap,Hh=new WeakMap,Ni=new WeakMap,Bh=new WeakMap,ea=new WeakMap,ta=new WeakMap,Ue=new WeakSet,jf=function(){const e=u(this,Ni),t=u(this,Mi);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&u(this,Ni).html||null},Qv=function(){var e,t,r;return((r=(t=(e=u(this,Ue,jf))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.fontSize)||0},VS=function(){var e,t,r;return((r=(t=(e=u(this,Ue,jf))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.color)||null},WS=function(e){const t=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},i={style:{color:u(this,Ue,VS),fontSize:u(this,Ue,Qv)?`calc(${u(this,Ue,Qv)}px * var(--scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:i});return r},GS=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&u(this,Di))&&A(this,Ue,zf).call(this)},XS=function(){if(u(this,Ii)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:r,pageX:i,pageY:s}}}=u(this,zh);let o=!!u(this,Ql),a=o?u(this,Ql):u(this,Hh);for(const g of u(this,jh))if(!a||oe.intersect(g.data.rect,a)!==null){a=g.data.rect,o=!0;break}const l=oe.normalizeRect([a[0],e[3]-a[1]+e[1],a[2],e[3]-a[3]+e[1]]),h=o?a[2]-a[0]+5:0,d=l[0]+h,f=l[1];E(this,Ii,[100*(d-i)/t,100*(f-s)/r]);const{style:p}=u(this,ct);p.left=`${u(this,Ii)[0]}%`,p.top=`${u(this,Ii)[1]}%`},zf=function(){E(this,Di,!u(this,Di)),u(this,Di)?(A(this,Ue,Hf).call(this),u(this,ct).addEventListener("click",u(this,ql)),u(this,ct).addEventListener("keydown",u(this,Yl))):(A(this,Ue,Jv).call(this),u(this,ct).removeEventListener("click",u(this,ql)),u(this,ct).removeEventListener("keydown",u(this,Yl)))},Hf=function(){u(this,br)||this.render(),this.isVisible?u(this,Di)&&u(this,ct).classList.add("focused"):(A(this,Ue,XS).call(this),u(this,ct).hidden=!1,u(this,ct).style.zIndex=parseInt(u(this,ct).style.zIndex)+1e3)},Jv=function(){u(this,ct).classList.remove("focused"),!(u(this,Di)||!this.isVisible)&&(u(this,ct).hidden=!0,u(this,ct).style.zIndex=parseInt(u(this,ct).style.zIndex)-1e3)};class KS extends ft{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=ke.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const r=document.createElement("span");r.textContent=t,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}var Uh;class hL extends ft{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});b(this,Uh,null)}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:r,height:i}=qi(t.rect),s=this.svgFactory.create(r,i,!0),o=E(this,Uh,this.svgFactory.createElement("svg:line"));return o.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),o.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),o.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),o.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,Uh)}addHighlightArea(){this.container.classList.add("highlightArea")}}Uh=new WeakMap;var $h;class dL extends ft{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});b(this,$h,null)}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:r,height:i}=qi(t.rect),s=this.svgFactory.create(r,i,!0),o=t.borderStyle.width,a=E(this,$h,this.svgFactory.createElement("svg:rect"));return a.setAttribute("x",o/2),a.setAttribute("y",o/2),a.setAttribute("width",r-o),a.setAttribute("height",i-o),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,$h)}addHighlightArea(){this.container.classList.add("highlightArea")}}$h=new WeakMap;var Vh;class fL extends ft{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});b(this,Vh,null)}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:r,height:i}=qi(t.rect),s=this.svgFactory.create(r,i,!0),o=t.borderStyle.width,a=E(this,Vh,this.svgFactory.createElement("svg:ellipse"));return a.setAttribute("cx",r/2),a.setAttribute("cy",i/2),a.setAttribute("rx",r/2-o/2),a.setAttribute("ry",i/2-o/2),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,Vh)}addHighlightArea(){this.container.classList.add("highlightArea")}}Vh=new WeakMap;var Wh;class YS extends ft{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});b(this,Wh,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:r,borderStyle:i,popupRef:s}}=this;if(!r)return this.container;const{width:o,height:a}=qi(t),l=this.svgFactory.create(o,a,!0);let c=[];for(let d=0,f=r.length;d<f;d+=2){const p=r[d]-t[0],g=t[3]-r[d+1];c.push(`${p},${g}`)}c=c.join(" ");const h=E(this,Wh,this.svgFactory.createElement(this.svgElementName));return h.setAttribute("points",c),h.setAttribute("stroke-width",i.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),l.append(h),this.container.append(l),!s&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,Wh)}addHighlightArea(){this.container.classList.add("highlightArea")}}Wh=new WeakMap;class pL extends YS{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class gL extends ft{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Gh;class qS extends ft{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});b(this,Gh,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=ke.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,inkLists:r,borderStyle:i,popupRef:s}}=this,{width:o,height:a}=qi(t),l=this.svgFactory.create(o,a,!0);for(const c of r){let h=[];for(let f=0,p=c.length;f<p;f+=2){const g=c[f]-t[0],v=t[3]-c[f+1];h.push(`${g},${v}`)}h=h.join(" ");const d=this.svgFactory.createElement(this.svgElementName);u(this,Gh).push(d),d.setAttribute("points",h),d.setAttribute("stroke-width",i.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),!s&&this.hasPopupData&&this._createPopup(),l.append(d)}return this.container.append(l),this.container}getElementsToTriggerPopup(){return u(this,Gh)}addHighlightArea(){this.container.classList.add("highlightArea")}}Gh=new WeakMap;class mL extends ft{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class vL extends ft{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class yL extends ft{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class wL extends ft{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class QS extends ft{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Xh,Kh,Zv;class _L extends ft{constructor(t){var i;super(t,{isRenderable:!0});b(this,Kh);b(this,Xh,null);const{file:r}=this.data;this.filename=r.filename,this.content=r.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...r})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:r}=this;let i;r.hasAppearance||r.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(r.name)?"paperclip":"pushpin"}.svg`,r.fillAlpha&&r.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(r.fillAlpha*100)}%);`)),i.addEventListener("dblclick",A(this,Kh,Zv).bind(this)),E(this,Xh,i);const{isMac:s}=bn.platform;return t.addEventListener("keydown",o=>{o.key==="Enter"&&(s?o.metaKey:o.ctrlKey)&&A(this,Kh,Zv).call(this)}),!r.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),t.append(i),t}getElementsToTriggerPopup(){return u(this,Xh)}addHighlightArea(){this.container.classList.add("highlightArea")}}Xh=new WeakMap,Kh=new WeakSet,Zv=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var Yh,na,Jl,La,JS,ey,uE;let EL=(uE=class{constructor({div:e,accessibilityManager:t,annotationCanvasMap:r,annotationEditorUIManager:i,page:s,viewport:o}){b(this,La);b(this,Yh,null);b(this,na,null);b(this,Jl,new Map);this.div=e,E(this,Yh,t),E(this,na,r),this.page=s,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=i}async render(e){var o;const{annotations:t}=e,r=this.div;ka(r,this.viewport);const i=new Map,s={data:null,layer:r,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new I0,annotationStorage:e.annotationStorage||new z0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const a of t){if(a.noHTML)continue;const l=a.annotationType===_t.POPUP;if(l){const d=i.get(a.id);if(!d)continue;s.elements=d}else{const{width:d,height:f}=qi(a.rect);if(d<=0||f<=0)continue}s.data=a;const c=rL.create(s);if(!c.isRenderable)continue;if(!l&&a.popupRef){const d=i.get(a.popupRef);d?d.push(c):i.set(a.popupRef,[c])}const h=c.render();a.hidden&&(h.style.visibility="hidden"),A(this,La,JS).call(this,h,a.id),c.annotationEditorType>0&&(u(this,Jl).set(c.data.id,c),(o=this._annotationEditorUIManager)==null||o.renderAnnotationElement(c))}A(this,La,ey).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,ka(t,{rotation:e.rotation}),A(this,La,ey).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(u(this,Jl).values())}getEditableAnnotation(e){return u(this,Jl).get(e)}},Yh=new WeakMap,na=new WeakMap,Jl=new WeakMap,La=new WeakSet,JS=function(e,t){var i;const r=e.firstChild||e;r.id=`${Vb}${t}`,this.div.append(e),(i=u(this,Yh))==null||i.moveElementInDOM(this.div,e,r,!1)},ey=function(){if(!u(this,na))return;const e=this.div;for(const[t,r]of u(this,na)){const i=e.querySelector(`[data-annotation-id="${t}"]`);if(!i)continue;r.className="annotationContent";const{firstChild:s}=i;s?s.nodeName==="CANVAS"?s.replaceWith(r):s.classList.contains("annotationContent")?s.after(r):s.before(r):i.append(r)}u(this,na).clear()},uE);const ff=/\r\n?|\n/g;var qh,Qh,Jh,Zh,ed,Sr,Fn,td,On,Zl,wt,ZS,e1,t1,Bf,Ji,Uf,$f,n1,ny,r1;const qe=class qe extends Fe{constructor(t){super({...t,name:"freeTextEditor"});b(this,wt);b(this,qh,this.editorDivBlur.bind(this));b(this,Qh,this.editorDivFocus.bind(this));b(this,Jh,this.editorDivInput.bind(this));b(this,Zh,this.editorDivKeydown.bind(this));b(this,ed,this.editorDivPaste.bind(this));b(this,Sr);b(this,Fn,"");b(this,td,`${this.id}-editor`);b(this,On);b(this,Zl,null);E(this,Sr,t.color||qe._defaultColor||Fe._defaultLineColor),E(this,On,t.fontSize||qe._defaultFontSize)}static get _keyboardManager(){const t=qe.prototype,r=o=>o.isEmpty(),i=Ta.TRANSLATE_SMALL,s=Ta.TRANSLATE_BIG;return Te(this,"_keyboardManager",new Md([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:r}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[i,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[s,0],checker:r}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:r}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,i],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,s],checker:r}]]))}static initialize(t,r){Fe.initialize(t,r,{strings:["pdfjs-free-text-default-content"]});const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,r){switch(t){case fe.FREETEXT_SIZE:qe._defaultFontSize=r;break;case fe.FREETEXT_COLOR:qe._defaultColor=r;break}}updateParams(t,r){switch(t){case fe.FREETEXT_SIZE:A(this,wt,ZS).call(this,r);break;case fe.FREETEXT_COLOR:A(this,wt,e1).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[fe.FREETEXT_SIZE,qe._defaultFontSize],[fe.FREETEXT_COLOR,qe._defaultColor||Fe._defaultLineColor]]}get propertiesToUpdate(){return[[fe.FREETEXT_SIZE,u(this,On)],[fe.FREETEXT_COLOR,u(this,Sr)]]}_translateEmpty(t,r){this._uiManager.translateSelectedEditors(t,r,!0)}getInitialTranslation(){const t=this.parentScale;return[-qe._internalPadding*t,-(qe._internalPadding+u(this,On))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(ke.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant");const t=this._uiManager._signal;this.editorDiv.addEventListener("keydown",u(this,Zh),{signal:t}),this.editorDiv.addEventListener("focus",u(this,Qh),{signal:t}),this.editorDiv.addEventListener("blur",u(this,qh),{signal:t}),this.editorDiv.addEventListener("input",u(this,Jh),{signal:t}),this.editorDiv.addEventListener("paste",u(this,ed),{signal:t})}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",u(this,td)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",u(this,Zh)),this.editorDiv.removeEventListener("focus",u(this,Qh)),this.editorDiv.removeEventListener("blur",u(this,qh)),this.editorDiv.removeEventListener("input",u(this,Jh)),this.editorDiv.removeEventListener("paste",u(this,ed)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var t;this.width||(this.enableEditMode(),this.editorDiv.focus(),(t=this._initialOptions)!=null&&t.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=u(this,Fn),r=E(this,Fn,A(this,wt,t1).call(this).trimEnd());if(t===r)return;const i=s=>{if(E(this,Fn,s),!s){this.remove();return}A(this,wt,$f).call(this),this._uiManager.rebuild(this),A(this,wt,Bf).call(this)};this.addCommands({cmd:()=>{i(r)},undo:()=>{i(t)},mustExec:!1}),A(this,wt,Bf).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){qe._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,r;this.width&&(t=this.x,r=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",u(this,td)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),Fe._l10nPromise.get("pdfjs-free-text-default-content").then(s=>{var o;return(o=this.editorDiv)==null?void 0:o.setAttribute("default-content",s)}),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${u(this,On)}px * var(--scale-factor))`,i.color=u(this,Sr),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),kp(this,this.div,["dblclick","keydown"]),this.width){const[s,o]=this.parentDimensions;if(this.annotationElementId){const{position:a}=u(this,Zl);let[l,c]=this.getInitialTranslation();[l,c]=this.pageTranslationToScreen(l,c);const[h,d]=this.pageDimensions,[f,p]=this.pageTranslation;let g,v;switch(this.rotation){case 0:g=t+(a[0]-f)/h,v=r+this.height-(a[1]-p)/d;break;case 90:g=t+(a[0]-f)/h,v=r-(a[1]-p)/d,[l,c]=[c,-l];break;case 180:g=t-this.width+(a[0]-f)/h,v=r-(a[1]-p)/d,[l,c]=[-l,-c];break;case 270:g=t+(a[0]-f-this.height*d)/h,v=r+(a[1]-p-this.width*h)/d,[l,c]=[-c,l];break}this.setAt(g*s,v*o,l,c)}else this.setAt(t*s,r*o,this.width*s,this.height*o);A(this,wt,$f).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var g,v,_;const r=t.clipboardData||window.clipboardData,{types:i}=r;if(i.length===1&&i[0]==="text/plain")return;t.preventDefault();const s=A(g=qe,Ji,ny).call(g,r.getData("text")||"").replaceAll(ff,`
`);if(!s)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const a=o.getRangeAt(0);if(!s.includes(`
`)){a.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:l,startOffset:c}=a,h=[],d=[];if(l.nodeType===Node.TEXT_NODE){const m=l.parentElement;if(d.push(l.nodeValue.slice(c).replaceAll(ff,"")),m!==this.editorDiv){let y=h;for(const w of this.editorDiv.childNodes){if(w===m){y=d;continue}y.push(A(v=qe,Ji,Uf).call(v,w))}}h.push(l.nodeValue.slice(0,c).replaceAll(ff,""))}else if(l===this.editorDiv){let m=h,y=0;for(const w of this.editorDiv.childNodes)y++===c&&(m=d),m.push(A(_=qe,Ji,Uf).call(_,w))}E(this,Fn,`${h.join(`
`)}${s}${d.join(`
`)}`),A(this,wt,$f).call(this);const f=new Range;let p=h.reduce((m,y)=>m+y.length,0);for(const{firstChild:m}of this.editorDiv.childNodes)if(m.nodeType===Node.TEXT_NODE){const y=m.nodeValue.length;if(p<=y){f.setStart(m,p),f.setEnd(m,p);break}p-=y}o.removeAllRanges(),o.addRange(f)}get contentDiv(){return this.editorDiv}static deserialize(t,r,i){var a;let s=null;if(t instanceof KS){const{data:{defaultAppearanceData:{fontSize:l,fontColor:c},rect:h,rotation:d,id:f},textContent:p,textPosition:g,parent:{page:{pageNumber:v}}}=t;if(!p||p.length===0)return null;s=t={annotationType:ke.FREETEXT,color:Array.from(c),fontSize:l,value:p.join(`
`),position:g,pageIndex:v-1,rect:h.slice(0),rotation:d,id:f,deleted:!1}}const o=super.deserialize(t,r,i);return E(o,On,t.fontSize),E(o,Sr,oe.makeHexColor(...t.color)),E(o,Fn,A(a=qe,Ji,ny).call(a,t.value)),o.annotationElementId=t.id||null,E(o,Zl,s),o}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const r=qe._internalPadding*this.parentScale,i=this.getRect(r,r),s=Fe._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:u(this,Sr)),o={annotationType:ke.FREETEXT,color:s,fontSize:u(this,On),value:A(this,wt,n1).call(this),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?o:this.annotationElementId&&!A(this,wt,r1).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(t){const r=super.renderAnnotationElement(t);if(this.deleted)return r;const{style:i}=r;i.fontSize=`calc(${u(this,On)}px * var(--scale-factor))`,i.color=u(this,Sr),r.replaceChildren();for(const o of u(this,Fn).split(`
`)){const a=document.createElement("div");a.append(o?document.createTextNode(o):document.createElement("br")),r.append(a)}const s=qe._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(s,s),popupContent:u(this,Fn)}),r}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};qh=new WeakMap,Qh=new WeakMap,Jh=new WeakMap,Zh=new WeakMap,ed=new WeakMap,Sr=new WeakMap,Fn=new WeakMap,td=new WeakMap,On=new WeakMap,Zl=new WeakMap,wt=new WeakSet,ZS=function(t){const r=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--scale-factor))`,this.translate(0,-(s-u(this,On))*this.parentScale),E(this,On,s),A(this,wt,Bf).call(this)},i=u(this,On);this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:fe.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},e1=function(t){const r=s=>{E(this,Sr,this.editorDiv.style.color=s)},i=u(this,Sr);this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:fe.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},t1=function(){var r;const t=[];this.editorDiv.normalize();for(const i of this.editorDiv.childNodes)t.push(A(r=qe,Ji,Uf).call(r,i));return t.join(`
`)},Bf=function(){const[t,r]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:s,div:o}=this,a=o.style.display,l=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",s.div.append(this.div),i=o.getBoundingClientRect(),o.remove(),o.style.display=a,o.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=i.width/t,this.height=i.height/r):(this.width=i.height/t,this.height=i.width/r),this.fixAndSetPosition()},Ji=new WeakSet,Uf=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(ff,"")},$f=function(){if(this.editorDiv.replaceChildren(),!!u(this,Fn))for(const t of u(this,Fn).split(`
`)){const r=document.createElement("div");r.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(r)}},n1=function(){return u(this,Fn).replaceAll(" "," ")},ny=function(t){return t.replaceAll(" "," ")},r1=function(t){const{value:r,fontSize:i,color:s,pageIndex:o}=u(this,Zl);return this._hasBeenMoved||t.value!==r||t.fontSize!==i||t.color.some((a,l)=>a!==s[l])||t.pageIndex!==o},b(qe,Ji),pe(qe,"_freeTextDefaultContent",""),pe(qe,"_internalPadding",0),pe(qe,"_defaultColor",null),pe(qe,"_defaultFontSize",10),pe(qe,"_type","freetext"),pe(qe,"_editorType",ke.FREETEXT);let ty=qe;var nd,Rs,xr,fn,i1,Vf,s1,o1,iy;class ry{constructor(e,t=0,r=0,i=!0){b(this,fn);b(this,nd);b(this,Rs,[]);b(this,xr,[]);let s=1/0,o=-1/0,a=1/0,l=-1/0;const h=10**-4;for(const{x:m,y,width:w,height:S}of e){const C=Math.floor((m-t)/h)*h,k=Math.ceil((m+w+t)/h)*h,P=Math.floor((y-t)/h)*h,x=Math.ceil((y+S+t)/h)*h,D=[C,P,x,!0],I=[k,P,x,!1];u(this,Rs).push(D,I),s=Math.min(s,C),o=Math.max(o,k),a=Math.min(a,P),l=Math.max(l,x)}const d=o-s+2*r,f=l-a+2*r,p=s-r,g=a-r,v=u(this,Rs).at(i?-1:-2),_=[v[0],v[2]];for(const m of u(this,Rs)){const[y,w,S]=m;m[0]=(y-p)/d,m[1]=(w-g)/f,m[2]=(S-g)/f}E(this,nd,{x:p,y:g,width:d,height:f,lastPoint:_})}getOutlines(){u(this,Rs).sort((t,r)=>t[0]-r[0]||t[1]-r[1]||t[2]-r[2]);const e=[];for(const t of u(this,Rs))t[3]?(e.push(...A(this,fn,iy).call(this,t)),A(this,fn,s1).call(this,t)):(A(this,fn,o1).call(this,t),e.push(...A(this,fn,iy).call(this,t)));return A(this,fn,i1).call(this,e)}}nd=new WeakMap,Rs=new WeakMap,xr=new WeakMap,fn=new WeakSet,i1=function(e){const t=[],r=new Set;for(const o of e){const[a,l,c]=o;t.push([a,l,o],[a,c,o])}t.sort((o,a)=>o[1]-a[1]||o[0]-a[0]);for(let o=0,a=t.length;o<a;o+=2){const l=t[o][2],c=t[o+1][2];l.push(c),c.push(l),r.add(l),r.add(c)}const i=[];let s;for(;r.size>0;){const o=r.values().next().value;let[a,l,c,h,d]=o;r.delete(o);let f=a,p=l;for(s=[a,c],i.push(s);;){let g;if(r.has(h))g=h;else if(r.has(d))g=d;else break;r.delete(g),[a,l,c,h,d]=g,f!==a&&(s.push(f,p,a,p===l?l:c),f=a),p=p===l?c:l}s.push(f,p)}return new AL(i,u(this,nd))},Vf=function(e){const t=u(this,xr);let r=0,i=t.length-1;for(;r<=i;){const s=r+i>>1,o=t[s][0];if(o===e)return s;o<e?r=s+1:i=s-1}return i+1},s1=function([,e,t]){const r=A(this,fn,Vf).call(this,e);u(this,xr).splice(r,0,[e,t])},o1=function([,e,t]){const r=A(this,fn,Vf).call(this,e);for(let i=r;i<u(this,xr).length;i++){const[s,o]=u(this,xr)[i];if(s!==e)break;if(s===e&&o===t){u(this,xr).splice(i,1);return}}for(let i=r-1;i>=0;i--){const[s,o]=u(this,xr)[i];if(s!==e)break;if(s===e&&o===t){u(this,xr).splice(i,1);return}}},iy=function(e){const[t,r,i]=e,s=[[t,r,i]],o=A(this,fn,Vf).call(this,i);for(let a=0;a<o;a++){const[l,c]=u(this,xr)[a];for(let h=0,d=s.length;h<d;h++){const[,f,p]=s[h];if(!(c<=f||p<=l)){if(f>=l){if(p>c)s[h][1]=c;else{if(d===1)return[];s.splice(h,1),h--,d--}continue}s[h][2]=l,p>c&&s.push([t,c,p])}}}return s};class a1{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize(e,t){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof oy}}var rd,ec;class AL extends a1{constructor(t,r){super();b(this,rd);b(this,ec);E(this,ec,t),E(this,rd,r)}toSVGPath(){const t=[];for(const r of u(this,ec)){let[i,s]=r;t.push(`M${i} ${s}`);for(let o=2;o<r.length;o+=2){const a=r[o],l=r[o+1];a===i?(t.push(`V${l}`),s=l):l===s&&(t.push(`H${a}`),i=a)}t.push("Z")}return t.join(" ")}serialize([t,r,i,s],o){const a=[],l=i-t,c=s-r;for(const h of u(this,ec)){const d=new Array(h.length);for(let f=0;f<h.length;f+=2)d[f]=t+h[f]*l,d[f+1]=s-h[f+1]*c;a.push(d)}return a}get box(){return u(this,rd)}}rd=new WeakMap,ec=new WeakMap;var qr,Fi,tc,nc,Qr,xe,ra,ia,id,sd,rc,ic,Ls,od,qp,Qp,ad,sy;const vi=class vi{constructor({x:e,y:t},r,i,s,o,a=0){b(this,ad);b(this,qr);b(this,Fi,[]);b(this,tc);b(this,nc);b(this,Qr,[]);b(this,xe,new Float64Array(18));b(this,ra);b(this,ia);b(this,id);b(this,sd);b(this,rc);b(this,ic);b(this,Ls,[]);E(this,qr,r),E(this,ic,s*i),E(this,nc,o),u(this,xe).set([NaN,NaN,NaN,NaN,e,t],6),E(this,tc,a),E(this,sd,u(vi,od)*i),E(this,id,u(vi,Qp)*i),E(this,rc,i),u(this,Ls).push(e,t)}get free(){return!0}isEmpty(){return isNaN(u(this,xe)[8])}add({x:e,y:t}){var D;E(this,ra,e),E(this,ia,t);const[r,i,s,o]=u(this,qr);let[a,l,c,h]=u(this,xe).subarray(8,12);const d=e-c,f=t-h,p=Math.hypot(d,f);if(p<u(this,id))return!1;const g=p-u(this,sd),v=g/p,_=v*d,m=v*f;let y=a,w=l;a=c,l=h,c+=_,h+=m,(D=u(this,Ls))==null||D.push(e,t);const S=-m/g,C=_/g,k=S*u(this,ic),P=C*u(this,ic);return u(this,xe).set(u(this,xe).subarray(2,8),0),u(this,xe).set([c+k,h+P],4),u(this,xe).set(u(this,xe).subarray(14,18),12),u(this,xe).set([c-k,h-P],16),isNaN(u(this,xe)[6])?(u(this,Qr).length===0&&(u(this,xe).set([a+k,l+P],2),u(this,Qr).push(NaN,NaN,NaN,NaN,(a+k-r)/s,(l+P-i)/o),u(this,xe).set([a-k,l-P],14),u(this,Fi).push(NaN,NaN,NaN,NaN,(a-k-r)/s,(l-P-i)/o)),u(this,xe).set([y,w,a,l,c,h],6),!this.isEmpty()):(u(this,xe).set([y,w,a,l,c,h],6),Math.abs(Math.atan2(w-l,y-a)-Math.atan2(m,_))<Math.PI/2?([a,l,c,h]=u(this,xe).subarray(2,6),u(this,Qr).push(NaN,NaN,NaN,NaN,((a+c)/2-r)/s,((l+h)/2-i)/o),[a,l,y,w]=u(this,xe).subarray(14,18),u(this,Fi).push(NaN,NaN,NaN,NaN,((y+a)/2-r)/s,((w+l)/2-i)/o),!0):([y,w,a,l,c,h]=u(this,xe).subarray(0,6),u(this,Qr).push(((y+5*a)/6-r)/s,((w+5*l)/6-i)/o,((5*a+c)/6-r)/s,((5*l+h)/6-i)/o,((a+c)/2-r)/s,((l+h)/2-i)/o),[c,h,a,l,y,w]=u(this,xe).subarray(12,18),u(this,Fi).push(((y+5*a)/6-r)/s,((w+5*l)/6-i)/o,((5*a+c)/6-r)/s,((5*l+h)/6-i)/o,((a+c)/2-r)/s,((l+h)/2-i)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const e=u(this,Qr),t=u(this,Fi),r=u(this,xe).subarray(4,6),i=u(this,xe).subarray(16,18),[s,o,a,l]=u(this,qr),[c,h,d,f]=A(this,ad,sy).call(this);if(isNaN(u(this,xe)[6])&&!this.isEmpty())return`M${(u(this,xe)[2]-s)/a} ${(u(this,xe)[3]-o)/l} L${(u(this,xe)[4]-s)/a} ${(u(this,xe)[5]-o)/l} L${c} ${h} L${d} ${f} L${(u(this,xe)[16]-s)/a} ${(u(this,xe)[17]-o)/l} L${(u(this,xe)[14]-s)/a} ${(u(this,xe)[15]-o)/l} Z`;const p=[];p.push(`M${e[4]} ${e[5]}`);for(let g=6;g<e.length;g+=6)isNaN(e[g])?p.push(`L${e[g+4]} ${e[g+5]}`):p.push(`C${e[g]} ${e[g+1]} ${e[g+2]} ${e[g+3]} ${e[g+4]} ${e[g+5]}`);p.push(`L${(r[0]-s)/a} ${(r[1]-o)/l} L${c} ${h} L${d} ${f} L${(i[0]-s)/a} ${(i[1]-o)/l}`);for(let g=t.length-6;g>=6;g-=6)isNaN(t[g])?p.push(`L${t[g+4]} ${t[g+5]}`):p.push(`C${t[g]} ${t[g+1]} ${t[g+2]} ${t[g+3]} ${t[g+4]} ${t[g+5]}`);return p.push(`L${t[4]} ${t[5]} Z`),p.join(" ")}getOutlines(){var m;const e=u(this,Qr),t=u(this,Fi),r=u(this,xe),i=r.subarray(4,6),s=r.subarray(16,18),[o,a,l,c]=u(this,qr),h=new Float64Array((((m=u(this,Ls))==null?void 0:m.length)??0)+2);for(let y=0,w=h.length-2;y<w;y+=2)h[y]=(u(this,Ls)[y]-o)/l,h[y+1]=(u(this,Ls)[y+1]-a)/c;h[h.length-2]=(u(this,ra)-o)/l,h[h.length-1]=(u(this,ia)-a)/c;const[d,f,p,g]=A(this,ad,sy).call(this);if(isNaN(r[6])&&!this.isEmpty()){const y=new Float64Array(36);return y.set([NaN,NaN,NaN,NaN,(r[2]-o)/l,(r[3]-a)/c,NaN,NaN,NaN,NaN,(r[4]-o)/l,(r[5]-a)/c,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,(r[16]-o)/l,(r[17]-a)/c,NaN,NaN,NaN,NaN,(r[14]-o)/l,(r[15]-a)/c],0),new oy(y,h,u(this,qr),u(this,rc),u(this,tc),u(this,nc))}const v=new Float64Array(u(this,Qr).length+24+u(this,Fi).length);let _=e.length;for(let y=0;y<_;y+=2){if(isNaN(e[y])){v[y]=v[y+1]=NaN;continue}v[y]=e[y],v[y+1]=e[y+1]}v.set([NaN,NaN,NaN,NaN,(i[0]-o)/l,(i[1]-a)/c,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,(s[0]-o)/l,(s[1]-a)/c],_),_+=24;for(let y=t.length-6;y>=6;y-=6)for(let w=0;w<6;w+=2){if(isNaN(t[y+w])){v[_]=v[_+1]=NaN,_+=2;continue}v[_]=t[y+w],v[_+1]=t[y+w+1],_+=2}return v.set([NaN,NaN,NaN,NaN,t[4],t[5]],_),new oy(v,h,u(this,qr),u(this,rc),u(this,tc),u(this,nc))}};qr=new WeakMap,Fi=new WeakMap,tc=new WeakMap,nc=new WeakMap,Qr=new WeakMap,xe=new WeakMap,ra=new WeakMap,ia=new WeakMap,id=new WeakMap,sd=new WeakMap,rc=new WeakMap,ic=new WeakMap,Ls=new WeakMap,od=new WeakMap,qp=new WeakMap,Qp=new WeakMap,ad=new WeakSet,sy=function(){const e=u(this,xe).subarray(4,6),t=u(this,xe).subarray(16,18),[r,i,s,o]=u(this,qr);return[(u(this,ra)+(e[0]-t[0])/2-r)/s,(u(this,ia)+(e[1]-t[1])/2-i)/o,(u(this,ra)+(t[0]-e[0])/2-r)/s,(u(this,ia)+(t[1]-e[1])/2-i)/o]},b(vi,od,8),b(vi,qp,2),b(vi,Qp,u(vi,od)+u(vi,qp));let Lp=vi;var sc,sa,Oi,ld,jn,cd,ht,Sn,au,lu,l1;class oy extends a1{constructor(t,r,i,s,o,a){super();b(this,Sn);b(this,sc);b(this,sa,null);b(this,Oi);b(this,ld);b(this,jn);b(this,cd);b(this,ht);E(this,ht,t),E(this,jn,r),E(this,sc,i),E(this,cd,s),E(this,Oi,o),E(this,ld,a),A(this,Sn,l1).call(this,a);const{x:l,y:c,width:h,height:d}=u(this,sa);for(let f=0,p=t.length;f<p;f+=2)t[f]=(t[f]-l)/h,t[f+1]=(t[f+1]-c)/d;for(let f=0,p=r.length;f<p;f+=2)r[f]=(r[f]-l)/h,r[f+1]=(r[f+1]-c)/d}toSVGPath(){const t=[`M${u(this,ht)[4]} ${u(this,ht)[5]}`];for(let r=6,i=u(this,ht).length;r<i;r+=6){if(isNaN(u(this,ht)[r])){t.push(`L${u(this,ht)[r+4]} ${u(this,ht)[r+5]}`);continue}t.push(`C${u(this,ht)[r]} ${u(this,ht)[r+1]} ${u(this,ht)[r+2]} ${u(this,ht)[r+3]} ${u(this,ht)[r+4]} ${u(this,ht)[r+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,r,i,s],o){const a=i-t,l=s-r;let c,h;switch(o){case 0:c=A(this,Sn,au).call(this,u(this,ht),t,s,a,-l),h=A(this,Sn,au).call(this,u(this,jn),t,s,a,-l);break;case 90:c=A(this,Sn,lu).call(this,u(this,ht),t,r,a,l),h=A(this,Sn,lu).call(this,u(this,jn),t,r,a,l);break;case 180:c=A(this,Sn,au).call(this,u(this,ht),i,r,-a,l),h=A(this,Sn,au).call(this,u(this,jn),i,r,-a,l);break;case 270:c=A(this,Sn,lu).call(this,u(this,ht),i,s,-a,-l),h=A(this,Sn,lu).call(this,u(this,jn),i,s,-a,-l);break}return{outline:Array.from(c),points:[Array.from(h)]}}get box(){return u(this,sa)}getNewOutline(t,r){const{x:i,y:s,width:o,height:a}=u(this,sa),[l,c,h,d]=u(this,sc),f=o*h,p=a*d,g=i*h+l,v=s*d+c,_=new Lp({x:u(this,jn)[0]*f+g,y:u(this,jn)[1]*p+v},u(this,sc),u(this,cd),t,u(this,ld),r??u(this,Oi));for(let m=2;m<u(this,jn).length;m+=2)_.add({x:u(this,jn)[m]*f+g,y:u(this,jn)[m+1]*p+v});return _.getOutlines()}}sc=new WeakMap,sa=new WeakMap,Oi=new WeakMap,ld=new WeakMap,jn=new WeakMap,cd=new WeakMap,ht=new WeakMap,Sn=new WeakSet,au=function(t,r,i,s,o){const a=new Float64Array(t.length);for(let l=0,c=t.length;l<c;l+=2)a[l]=r+t[l]*s,a[l+1]=i+t[l+1]*o;return a},lu=function(t,r,i,s,o){const a=new Float64Array(t.length);for(let l=0,c=t.length;l<c;l+=2)a[l]=r+t[l+1]*s,a[l+1]=i+t[l]*o;return a},l1=function(t){const r=u(this,ht);let i=r[4],s=r[5],o=i,a=s,l=i,c=s,h=i,d=s;const f=t?Math.max:Math.min;for(let m=6,y=r.length;m<y;m+=6){if(isNaN(r[m]))o=Math.min(o,r[m+4]),a=Math.min(a,r[m+5]),l=Math.max(l,r[m+4]),c=Math.max(c,r[m+5]),d<r[m+5]?(h=r[m+4],d=r[m+5]):d===r[m+5]&&(h=f(h,r[m+4]));else{const w=oe.bezierBoundingBox(i,s,...r.slice(m,m+6));o=Math.min(o,w[0]),a=Math.min(a,w[1]),l=Math.max(l,w[2]),c=Math.max(c,w[3]),d<w[3]?(h=w[2],d=w[3]):d===w[3]&&(h=f(h,w[2]))}i=r[m+4],s=r[m+5]}const p=o-u(this,Oi),g=a-u(this,Oi),v=l-o+2*u(this,Oi),_=c-a+2*u(this,Oi);E(this,sa,{x:p,y:g,width:v,height:_,lastPoint:[h,d]})};var ud,hd,Cr,oa,oc,At,dd,ac,fd,pd,kr,lc,Xe,ay,ly,c1,po,u1,ds;const yi=class yi{constructor({editor:e=null,uiManager:t=null}){b(this,Xe);b(this,ud,A(this,Xe,c1).bind(this));b(this,hd,A(this,Xe,u1).bind(this));b(this,Cr,null);b(this,oa,null);b(this,oc);b(this,At,null);b(this,dd,!1);b(this,ac,!1);b(this,fd,null);b(this,pd);b(this,kr,null);b(this,lc);var r;e?(E(this,ac,!1),E(this,lc,fe.HIGHLIGHT_COLOR),E(this,fd,e)):(E(this,ac,!0),E(this,lc,fe.HIGHLIGHT_DEFAULT_COLOR)),E(this,kr,(e==null?void 0:e._uiManager)||t),E(this,pd,u(this,kr)._eventBus),E(this,oc,(e==null?void 0:e.color)||((r=u(this,kr))==null?void 0:r.highlightColors.values().next().value)||"#FFFF98")}static get _keyboardManager(){return Te(this,"_keyboardManager",new Md([[["Escape","mac+Escape"],yi.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],yi.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],yi.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],yi.prototype._moveToPrevious],[["Home","mac+Home"],yi.prototype._moveToBeginning],[["End","mac+End"],yi.prototype._moveToEnd]]))}renderButton(){const e=E(this,Cr,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const t=u(this,kr)._signal;e.addEventListener("click",A(this,Xe,po).bind(this),{signal:t}),e.addEventListener("keydown",u(this,ud),{signal:t});const r=E(this,oa,document.createElement("span"));return r.className="swatch",r.setAttribute("aria-hidden",!0),r.style.backgroundColor=u(this,oc),e.append(r),e}renderMainDropdown(){const e=E(this,At,A(this,Xe,ay).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===u(this,Cr)){A(this,Xe,po).call(this,e);return}const t=e.target.getAttribute("data-color");t&&A(this,Xe,ly).call(this,t,e)}_moveToNext(e){var t,r;if(!u(this,Xe,ds)){A(this,Xe,po).call(this,e);return}if(e.target===u(this,Cr)){(t=u(this,At).firstChild)==null||t.focus();return}(r=e.target.nextSibling)==null||r.focus()}_moveToPrevious(e){var t,r;if(e.target===((t=u(this,At))==null?void 0:t.firstChild)||e.target===u(this,Cr)){u(this,Xe,ds)&&this._hideDropdownFromKeyboard();return}u(this,Xe,ds)||A(this,Xe,po).call(this,e),(r=e.target.previousSibling)==null||r.focus()}_moveToBeginning(e){var t;if(!u(this,Xe,ds)){A(this,Xe,po).call(this,e);return}(t=u(this,At).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!u(this,Xe,ds)){A(this,Xe,po).call(this,e);return}(t=u(this,At).lastChild)==null||t.focus()}hideDropdown(){var e;(e=u(this,At))==null||e.classList.add("hidden"),window.removeEventListener("pointerdown",u(this,hd))}_hideDropdownFromKeyboard(){var e;if(!u(this,ac)){if(!u(this,Xe,ds)){(e=u(this,fd))==null||e.unselect();return}this.hideDropdown(),u(this,Cr).focus({preventScroll:!0,focusVisible:u(this,dd)})}}updateColor(e){if(u(this,oa)&&(u(this,oa).style.backgroundColor=e),!u(this,At))return;const t=u(this,kr).highlightColors.values();for(const r of u(this,At).children)r.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;(e=u(this,Cr))==null||e.remove(),E(this,Cr,null),E(this,oa,null),(t=u(this,At))==null||t.remove(),E(this,At,null)}};ud=new WeakMap,hd=new WeakMap,Cr=new WeakMap,oa=new WeakMap,oc=new WeakMap,At=new WeakMap,dd=new WeakMap,ac=new WeakMap,fd=new WeakMap,pd=new WeakMap,kr=new WeakMap,lc=new WeakMap,Xe=new WeakSet,ay=function(){const e=document.createElement("div"),t=u(this,kr)._signal;e.addEventListener("contextmenu",Tn,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[r,i]of u(this,kr).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",i),s.title=r,s.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${r}`);const o=document.createElement("span");s.append(o),o.className="swatch",o.style.backgroundColor=i,s.setAttribute("aria-selected",i===u(this,oc)),s.addEventListener("click",A(this,Xe,ly).bind(this,i),{signal:t}),e.append(s)}return e.addEventListener("keydown",u(this,ud),{signal:t}),e},ly=function(e,t){t.stopPropagation(),u(this,pd).dispatch("switchannotationeditorparams",{source:this,type:u(this,lc),value:e})},c1=function(e){yi._keyboardManager.exec(this,e)},po=function(e){if(u(this,Xe,ds)){this.hideDropdown();return}if(E(this,dd,e.detail===0),window.addEventListener("pointerdown",u(this,hd),{signal:u(this,kr)._signal}),u(this,At)){u(this,At).classList.remove("hidden");return}const t=E(this,At,A(this,Xe,ay).call(this));u(this,Cr).append(t)},u1=function(e){var t;(t=u(this,At))!=null&&t.contains(e.target)||this.hideDropdown()},ds=function(){return u(this,At)&&!u(this,At).classList.contains("hidden")};let Mp=yi;var cc,gd,Ms,aa,uc,tr,md,vd,la,Tr,on,zn,Jp,hc,ca,bt,dc,Jr,yd,be,cy,uy,h1,d1,f1,hy,cu,ar,qa,p1,Wf,uu,g1,m1,v1,y1;const Le=class Le extends Fe{constructor(t){super({...t,name:"highlightEditor"});b(this,be);b(this,cc,null);b(this,gd,0);b(this,Ms);b(this,aa,null);b(this,uc,null);b(this,tr,null);b(this,md,null);b(this,vd,0);b(this,la,null);b(this,Tr,null);b(this,on,null);b(this,zn,!1);b(this,Jp,A(this,be,p1).bind(this));b(this,hc,null);b(this,ca);b(this,bt,null);b(this,dc,"");b(this,Jr);b(this,yd,"");this.color=t.color||Le._defaultColor,E(this,Jr,t.thickness||Le._defaultThickness),E(this,ca,t.opacity||Le._defaultOpacity),E(this,Ms,t.boxes||null),E(this,yd,t.methodOfCreation||""),E(this,dc,t.text||""),this._isDraggable=!1,t.highlightId>-1?(E(this,zn,!0),A(this,be,uy).call(this,t),A(this,be,cu).call(this)):(E(this,cc,t.anchorNode),E(this,gd,t.anchorOffset),E(this,md,t.focusNode),E(this,vd,t.focusOffset),A(this,be,cy).call(this),A(this,be,cu).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const t=Le.prototype;return Te(this,"_keyboardManager",new Md([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:u(this,zn)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:u(this,Jr),methodOfCreation:u(this,yd)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,r){var i;Fe.initialize(t,r),Le._defaultColor||(Le._defaultColor=((i=r.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(t,r){switch(t){case fe.HIGHLIGHT_DEFAULT_COLOR:Le._defaultColor=r;break;case fe.HIGHLIGHT_THICKNESS:Le._defaultThickness=r;break}}translateInPage(t,r){}get toolbarPosition(){return u(this,hc)}updateParams(t,r){switch(t){case fe.HIGHLIGHT_COLOR:A(this,be,h1).call(this,r);break;case fe.HIGHLIGHT_THICKNESS:A(this,be,d1).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[fe.HIGHLIGHT_DEFAULT_COLOR,Le._defaultColor],[fe.HIGHLIGHT_THICKNESS,Le._defaultThickness]]}get propertiesToUpdate(){return[[fe.HIGHLIGHT_COLOR,this.color||Le._defaultColor],[fe.HIGHLIGHT_THICKNESS,u(this,Jr)||Le._defaultThickness],[fe.HIGHLIGHT_FREE,u(this,zn)]]}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(E(this,uc,new Mp({editor:this})),t.addColorPicker(u(this,uc))),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(A(this,be,uu).call(this))}getBaseTranslation(){return[0,0]}getRect(t,r){return super.getRect(t,r,A(this,be,uu).call(this))}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){A(this,be,hy).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(A(this,be,cu).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let r=!1;this.parent&&!t?A(this,be,hy).call(this):t&&(A(this,be,cu).call(this,t),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),r&&this.select()}rotate(t){var s,o,a;const{drawLayer:r}=this.parent;let i;u(this,zn)?(t=(t-this.rotation+360)%360,i=A(s=Le,ar,qa).call(s,u(this,Tr).box,t)):i=A(o=Le,ar,qa).call(o,this,t),r.rotate(u(this,on),t),r.rotate(u(this,bt),t),r.updateBox(u(this,on),i),r.updateBox(u(this,bt),A(a=Le,ar,qa).call(a,u(this,tr).box,t))}render(){if(this.div)return this.div;const t=super.render();u(this,dc)&&(t.setAttribute("aria-label",u(this,dc)),t.setAttribute("role","mark")),u(this,zn)?t.classList.add("free"):this.div.addEventListener("keydown",u(this,Jp),{signal:this._uiManager._signal});const r=E(this,la,document.createElement("div"));t.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",r.style.clipPath=u(this,aa);const[i,s]=this.parentDimensions;return this.setDims(this.width*i,this.height*s),kp(this,u(this,la),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.parent.drawLayer.addClass(u(this,bt),"hovered")}pointerleave(){this.parent.drawLayer.removeClass(u(this,bt),"hovered")}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:A(this,be,Wf).call(this,!0);break;case 1:case 3:A(this,be,Wf).call(this,!1);break}}select(){var t,r;super.select(),u(this,bt)&&((t=this.parent)==null||t.drawLayer.removeClass(u(this,bt),"hovered"),(r=this.parent)==null||r.drawLayer.addClass(u(this,bt),"selected"))}unselect(){var t;super.unselect(),u(this,bt)&&((t=this.parent)==null||t.drawLayer.removeClass(u(this,bt),"selected"),u(this,zn)||A(this,be,Wf).call(this,!1))}get _mustFixPosition(){return!u(this,zn)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.show(u(this,on),t),this.parent.drawLayer.show(u(this,bt),t))}static startHighlighting(t,r,{target:i,x:s,y:o}){const{x:a,y:l,width:c,height:h}=i.getBoundingClientRect(),d=_=>{A(this,ar,v1).call(this,t,_)},f=t._signal,p={capture:!0,passive:!1,signal:f},g=_=>{_.preventDefault(),_.stopPropagation()},v=_=>{i.removeEventListener("pointermove",d),window.removeEventListener("blur",v),window.removeEventListener("pointerup",v),window.removeEventListener("pointerdown",g,p),window.removeEventListener("contextmenu",Tn),A(this,ar,y1).call(this,t,_)};window.addEventListener("blur",v,{signal:f}),window.addEventListener("pointerup",v,{signal:f}),window.addEventListener("pointerdown",g,p),window.addEventListener("contextmenu",Tn,{signal:f}),i.addEventListener("pointermove",d,{signal:f}),this._freeHighlight=new Lp({x:s,y:o},[a,l,c,h],t.scale,this._defaultThickness/2,r,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static deserialize(t,r,i){var v;const s=super.deserialize(t,r,i),{rect:[o,a,l,c],color:h,quadPoints:d}=t;s.color=oe.makeHexColor(...h),E(s,ca,t.opacity);const[f,p]=s.pageDimensions;s.width=(l-o)/f,s.height=(c-a)/p;const g=E(s,Ms,[]);for(let _=0;_<d.length;_+=8)g.push({x:(d[4]-l)/f,y:(c-(1-d[_+5]))/p,width:(d[_+2]-d[_])/f,height:(d[_+5]-d[_+1])/p});return A(v=s,be,cy).call(v),s}serialize(t=!1){if(this.isEmpty()||t)return null;const r=this.getRect(0,0),i=Fe._colorManager.convert(this.color);return{annotationType:ke.HIGHLIGHT,color:i,opacity:u(this,ca),thickness:u(this,Jr),quadPoints:A(this,be,g1).call(this),outlines:A(this,be,m1).call(this,r),pageIndex:this.pageIndex,rect:r,rotation:A(this,be,uu).call(this),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}};cc=new WeakMap,gd=new WeakMap,Ms=new WeakMap,aa=new WeakMap,uc=new WeakMap,tr=new WeakMap,md=new WeakMap,vd=new WeakMap,la=new WeakMap,Tr=new WeakMap,on=new WeakMap,zn=new WeakMap,Jp=new WeakMap,hc=new WeakMap,ca=new WeakMap,bt=new WeakMap,dc=new WeakMap,Jr=new WeakMap,yd=new WeakMap,be=new WeakSet,cy=function(){const t=new ry(u(this,Ms),.001);E(this,Tr,t.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=u(this,Tr).box;const r=new ry(u(this,Ms),.0025,.001,this._uiManager.direction==="ltr");E(this,tr,r.getOutlines());const{lastPoint:i}=u(this,tr).box;E(this,hc,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height])},uy=function({highlightOutlines:t,highlightId:r,clipPathId:i}){var d,f;if(E(this,Tr,t),E(this,tr,t.getNewOutline(u(this,Jr)/2+1.5,.0025)),r>=0)E(this,on,r),E(this,aa,i),this.parent.drawLayer.finalizeLine(r,t),E(this,bt,this.parent.drawLayer.highlightOutline(u(this,tr)));else if(this.parent){const p=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(u(this,on),t),this.parent.drawLayer.updateBox(u(this,on),A(d=Le,ar,qa).call(d,u(this,Tr).box,(p-this.rotation+360)%360)),this.parent.drawLayer.updateLine(u(this,bt),u(this,tr)),this.parent.drawLayer.updateBox(u(this,bt),A(f=Le,ar,qa).call(f,u(this,tr).box,p))}const{x:o,y:a,width:l,height:c}=t.box;switch(this.rotation){case 0:this.x=o,this.y=a,this.width=l,this.height=c;break;case 90:{const[p,g]=this.parentDimensions;this.x=a,this.y=1-o,this.width=l*g/p,this.height=c*p/g;break}case 180:this.x=1-o,this.y=1-a,this.width=l,this.height=c;break;case 270:{const[p,g]=this.parentDimensions;this.x=1-a,this.y=o,this.width=l*g/p,this.height=c*p/g;break}}const{lastPoint:h}=u(this,tr).box;E(this,hc,[(h[0]-o)/l,(h[1]-a)/c])},h1=function(t){const r=s=>{var o,a;this.color=s,(o=this.parent)==null||o.drawLayer.changeColor(u(this,on),s),(a=u(this,uc))==null||a.updateColor(s)},i=this.color;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:fe.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},d1=function(t){const r=u(this,Jr),i=s=>{E(this,Jr,s),A(this,be,f1).call(this,s)};this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:fe.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},f1=function(t){if(!u(this,zn))return;A(this,be,uy).call(this,{highlightOutlines:u(this,Tr).getNewOutline(t/2)}),this.fixAndSetPosition();const[r,i]=this.parentDimensions;this.setDims(this.width*r,this.height*i)},hy=function(){u(this,on)===null||!this.parent||(this.parent.drawLayer.remove(u(this,on)),E(this,on,null),this.parent.drawLayer.remove(u(this,bt)),E(this,bt,null))},cu=function(t=this.parent){u(this,on)===null&&({id:Rn(this,on)._,clipPathId:Rn(this,aa)._}=t.drawLayer.highlight(u(this,Tr),this.color,u(this,ca)),E(this,bt,t.drawLayer.highlightOutline(u(this,tr))),u(this,la)&&(u(this,la).style.clipPath=u(this,aa)))},ar=new WeakSet,qa=function({x:t,y:r,width:i,height:s},o){switch(o){case 90:return{x:1-r-s,y:t,width:s,height:i};case 180:return{x:1-t-i,y:1-r-s,width:i,height:s};case 270:return{x:r,y:1-t-i,width:s,height:i}}return{x:t,y:r,width:i,height:s}},p1=function(t){Le._keyboardManager.exec(this,t)},Wf=function(t){if(!u(this,cc))return;const r=window.getSelection();t?r.setPosition(u(this,cc),u(this,gd)):r.setPosition(u(this,md),u(this,vd))},uu=function(){return u(this,zn)?this.rotation:0},g1=function(){if(u(this,zn))return null;const[t,r]=this.pageDimensions,i=u(this,Ms),s=new Float32Array(i.length*8);let o=0;for(const{x:a,y:l,width:c,height:h}of i){const d=a*t,f=(1-l-h)*r;s[o]=s[o+4]=d,s[o+1]=s[o+3]=f,s[o+2]=s[o+6]=d+c*t,s[o+5]=s[o+7]=f+h*r,o+=8}return s},m1=function(t){return u(this,Tr).serialize(t,A(this,be,uu).call(this))},v1=function(t,r){this._freeHighlight.add(r)&&t.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},y1=function(t,r){this._freeHighlight.isEmpty()?t.drawLayer.removeFreeHighlight(this._freeHighlightId):t.createAndAddNewEditor(r,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},b(Le,ar),pe(Le,"_defaultColor",null),pe(Le,"_defaultOpacity",1),pe(Le,"_defaultThickness",12),pe(Le,"_l10nPromise"),pe(Le,"_type","highlight"),pe(Le,"_editorType",ke.HIGHLIGHT),pe(Le,"_freeHighlightId",-1),pe(Le,"_freeHighlight",null),pe(Le,"_freeHighlightClipId","");let Dp=Le;var ua,ha,wd,_d,Ed,da,Zr,ji,nr,fa,pa,zi,ga,ma,Ds,ee,w1,_1,E1,A1,fy,b1,py,S1,x1,C1,k1,T1,go,gy,Gf,Xf,Qa,my,Kf,is,P1,vy,R1,L1,yy,Yf,hu;const nt=class nt extends Fe{constructor(t){super({...t,name:"inkEditor"});b(this,ee);b(this,ua,0);b(this,ha,0);b(this,wd,this.canvasPointermove.bind(this));b(this,_d,this.canvasPointerleave.bind(this));b(this,Ed,this.canvasPointerup.bind(this));b(this,da,this.canvasPointerdown.bind(this));b(this,Zr,null);b(this,ji,new Path2D);b(this,nr,!1);b(this,fa,!1);b(this,pa,!1);b(this,zi,null);b(this,ga,0);b(this,ma,0);b(this,Ds,null);this.color=t.color||null,this.thickness=t.thickness||null,this.opacity=t.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(t,r){Fe.initialize(t,r)}static updateDefaultParams(t,r){switch(t){case fe.INK_THICKNESS:nt._defaultThickness=r;break;case fe.INK_COLOR:nt._defaultColor=r;break;case fe.INK_OPACITY:nt._defaultOpacity=r/100;break}}updateParams(t,r){switch(t){case fe.INK_THICKNESS:A(this,ee,w1).call(this,r);break;case fe.INK_COLOR:A(this,ee,_1).call(this,r);break;case fe.INK_OPACITY:A(this,ee,E1).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[fe.INK_THICKNESS,nt._defaultThickness],[fe.INK_COLOR,nt._defaultColor||Fe._defaultLineColor],[fe.INK_OPACITY,Math.round(nt._defaultOpacity*100)]]}get propertiesToUpdate(){return[[fe.INK_THICKNESS,this.thickness||nt._defaultThickness],[fe.INK_COLOR,this.color||nt._defaultColor||Fe._defaultLineColor],[fe.INK_OPACITY,Math.round(100*(this.opacity??nt._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(A(this,ee,Gf).call(this),A(this,ee,Xf).call(this)),this.isAttachedToDOM||(this.parent.add(this),A(this,ee,Qa).call(this)),A(this,ee,hu).call(this)))}remove(){var t;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,u(this,Zr)&&(clearTimeout(u(this,Zr)),E(this,Zr,null)),(t=u(this,zi))==null||t.disconnect(),E(this,zi,null),super.remove())}setParent(t){!this.parent&&t?this._uiManager.removeShouldRescale(this):this.parent&&t===null&&this._uiManager.addShouldRescale(this),super.setParent(t)}onScaleChanging(){const[t,r]=this.parentDimensions,i=this.width*t,s=this.height*r;this.setDimensions(i,s)}enableEditMode(){u(this,nr)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",u(this,da),{signal:this._uiManager._signal}))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",u(this,da)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){u(this,nr)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),E(this,nr,!0),this.div.classList.add("disabled"),A(this,ee,hu).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),this.enableEditMode())}canvasPointerdown(t){t.button!==0||!this.isInEditMode()||u(this,nr)||(this.setInForeground(),t.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),A(this,ee,b1).call(this,t.offsetX,t.offsetY))}canvasPointermove(t){t.preventDefault(),A(this,ee,py).call(this,t.offsetX,t.offsetY)}canvasPointerup(t){t.preventDefault(),A(this,ee,gy).call(this,t)}canvasPointerleave(t){A(this,ee,gy).call(this,t)}get isResizable(){return!this.isEmpty()&&u(this,nr)}render(){if(this.div)return this.div;let t,r;this.width&&(t=this.x,r=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[i,s,o,a]=A(this,ee,A1).call(this);if(this.setAt(i,s,0,0),this.setDims(o,a),A(this,ee,Gf).call(this),this.width){const[l,c]=this.parentDimensions;this.setAspectRatio(this.width*l,this.height*c),this.setAt(t*l,r*c,this.width*l,this.height*c),E(this,pa,!0),A(this,ee,Qa).call(this),this.setDims(this.width*l,this.height*c),A(this,ee,go).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return A(this,ee,Xf).call(this),this.div}setDimensions(t,r){const i=Math.round(t),s=Math.round(r);if(u(this,ga)===i&&u(this,ma)===s)return;E(this,ga,i),E(this,ma,s),this.canvas.style.visibility="hidden";const[o,a]=this.parentDimensions;this.width=t/o,this.height=r/a,this.fixAndSetPosition(),u(this,nr)&&A(this,ee,my).call(this,t,r),A(this,ee,Qa).call(this),A(this,ee,go).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(t,r,i){var _,m,y;if(t instanceof qS)return null;const s=super.deserialize(t,r,i);s.thickness=t.thickness,s.color=oe.makeHexColor(...t.color),s.opacity=t.opacity;const[o,a]=s.pageDimensions,l=s.width*o,c=s.height*a,h=s.parentScale,d=t.thickness/2;E(s,nr,!0),E(s,ga,Math.round(l)),E(s,ma,Math.round(c));const{paths:f,rect:p,rotation:g}=t;for(let{bezier:w}of f){w=A(_=nt,is,R1).call(_,w,p,g);const S=[];s.paths.push(S);let C=h*(w[0]-d),k=h*(w[1]-d);for(let x=2,D=w.length;x<D;x+=6){const I=h*(w[x]-d),M=h*(w[x+1]-d),U=h*(w[x+2]-d),W=h*(w[x+3]-d),$=h*(w[x+4]-d),Q=h*(w[x+5]-d);S.push([[C,k],[I,M],[U,W],[$,Q]]),C=$,k=Q}const P=A(this,is,P1).call(this,S);s.bezierPath2D.push(P)}const v=A(m=s,ee,yy).call(m);return E(s,ha,Math.max(Fe.MIN_SIZE,v[2]-v[0])),E(s,ua,Math.max(Fe.MIN_SIZE,v[3]-v[1])),A(y=s,ee,my).call(y,l,c),s}serialize(){if(this.isEmpty())return null;const t=this.getRect(0,0),r=Fe._colorManager.convert(this.ctx.strokeStyle);return{annotationType:ke.INK,color:r,thickness:this.thickness,opacity:this.opacity,paths:A(this,ee,L1).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};ua=new WeakMap,ha=new WeakMap,wd=new WeakMap,_d=new WeakMap,Ed=new WeakMap,da=new WeakMap,Zr=new WeakMap,ji=new WeakMap,nr=new WeakMap,fa=new WeakMap,pa=new WeakMap,zi=new WeakMap,ga=new WeakMap,ma=new WeakMap,Ds=new WeakMap,ee=new WeakSet,w1=function(t){const r=s=>{this.thickness=s,A(this,ee,hu).call(this)},i=this.thickness;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:fe.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},_1=function(t){const r=s=>{this.color=s,A(this,ee,go).call(this)},i=this.color;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:fe.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},E1=function(t){const r=s=>{this.opacity=s,A(this,ee,go).call(this)};t/=100;const i=this.opacity;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:fe.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},A1=function(){const{parentRotation:t,parentDimensions:[r,i]}=this;switch(t){case 90:return[0,i,i,r];case 180:return[r,i,r,i];case 270:return[r,0,i,r];default:return[0,0,r,i]}},fy=function(){const{ctx:t,color:r,opacity:i,thickness:s,parentScale:o,scaleFactor:a}=this;t.lineWidth=s*o/a,t.lineCap="round",t.lineJoin="round",t.miterLimit=10,t.strokeStyle=`${r}${GP(i)}`},b1=function(t,r){const i=this._uiManager._signal;this.canvas.addEventListener("contextmenu",Tn,{signal:i}),this.canvas.addEventListener("pointerleave",u(this,_d),{signal:i}),this.canvas.addEventListener("pointermove",u(this,wd),{signal:i}),this.canvas.addEventListener("pointerup",u(this,Ed),{signal:i}),this.canvas.removeEventListener("pointerdown",u(this,da)),this.isEditing=!0,u(this,pa)||(E(this,pa,!0),A(this,ee,Qa).call(this),this.thickness||(this.thickness=nt._defaultThickness),this.color||(this.color=nt._defaultColor||Fe._defaultLineColor),this.opacity??(this.opacity=nt._defaultOpacity)),this.currentPath.push([t,r]),E(this,fa,!1),A(this,ee,fy).call(this),E(this,Ds,()=>{A(this,ee,C1).call(this),u(this,Ds)&&window.requestAnimationFrame(u(this,Ds))}),window.requestAnimationFrame(u(this,Ds))},py=function(t,r){const[i,s]=this.currentPath.at(-1);if(this.currentPath.length>1&&t===i&&r===s)return;const o=this.currentPath;let a=u(this,ji);if(o.push([t,r]),E(this,fa,!0),o.length<=2){a.moveTo(...o[0]),a.lineTo(t,r);return}o.length===3&&(E(this,ji,a=new Path2D),a.moveTo(...o[0])),A(this,ee,k1).call(this,a,...o.at(-3),...o.at(-2),t,r)},S1=function(){if(this.currentPath.length===0)return;const t=this.currentPath.at(-1);u(this,ji).lineTo(...t)},x1=function(t,r){E(this,Ds,null),t=Math.min(Math.max(t,0),this.canvas.width),r=Math.min(Math.max(r,0),this.canvas.height),A(this,ee,py).call(this,t,r),A(this,ee,S1).call(this);let i;if(this.currentPath.length!==1)i=A(this,ee,T1).call(this);else{const c=[t,r];i=[[c,c.slice(),c.slice(),c]]}const s=u(this,ji),o=this.currentPath;this.currentPath=[],E(this,ji,new Path2D);const a=()=>{this.allRawPaths.push(o),this.paths.push(i),this.bezierPath2D.push(s),this._uiManager.rebuild(this)},l=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(A(this,ee,Gf).call(this),A(this,ee,Xf).call(this)),A(this,ee,hu).call(this))};this.addCommands({cmd:a,undo:l,mustExec:!0})},C1=function(){if(!u(this,fa))return;E(this,fa,!1);const t=Math.ceil(this.thickness*this.parentScale),r=this.currentPath.slice(-3),i=r.map(a=>a[0]),s=r.map(a=>a[1]);Math.min(...i)-t,Math.max(...i)+t,Math.min(...s)-t,Math.max(...s)+t;const{ctx:o}=this;o.save(),o.clearRect(0,0,this.canvas.width,this.canvas.height);for(const a of this.bezierPath2D)o.stroke(a);o.stroke(u(this,ji)),o.restore()},k1=function(t,r,i,s,o,a,l){const c=(r+s)/2,h=(i+o)/2,d=(s+a)/2,f=(o+l)/2;t.bezierCurveTo(c+2*(s-c)/3,h+2*(o-h)/3,d+2*(s-d)/3,f+2*(o-f)/3,d,f)},T1=function(){const t=this.currentPath;if(t.length<=2)return[[t[0],t[0],t.at(-1),t.at(-1)]];const r=[];let i,[s,o]=t[0];for(i=1;i<t.length-2;i++){const[p,g]=t[i],[v,_]=t[i+1],m=(p+v)/2,y=(g+_)/2,w=[s+2*(p-s)/3,o+2*(g-o)/3],S=[m+2*(p-m)/3,y+2*(g-y)/3];r.push([[s,o],w,S,[m,y]]),[s,o]=[m,y]}const[a,l]=t[i],[c,h]=t[i+1],d=[s+2*(a-s)/3,o+2*(l-o)/3],f=[c+2*(a-c)/3,h+2*(l-h)/3];return r.push([[s,o],d,f,[c,h]]),r},go=function(){if(this.isEmpty()){A(this,ee,Kf).call(this);return}A(this,ee,fy).call(this);const{canvas:t,ctx:r}=this;r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,t.width,t.height),A(this,ee,Kf).call(this);for(const i of this.bezierPath2D)r.stroke(i)},gy=function(t){this.canvas.removeEventListener("pointerleave",u(this,_d)),this.canvas.removeEventListener("pointermove",u(this,wd)),this.canvas.removeEventListener("pointerup",u(this,Ed)),this.canvas.addEventListener("pointerdown",u(this,da),{signal:this._uiManager._signal}),u(this,Zr)&&clearTimeout(u(this,Zr)),E(this,Zr,setTimeout(()=>{E(this,Zr,null),this.canvas.removeEventListener("contextmenu",Tn)},10)),A(this,ee,x1).call(this,t.offsetX,t.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Gf=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Xf=function(){E(this,zi,new ResizeObserver(t=>{const r=t[0].contentRect;r.width&&r.height&&this.setDimensions(r.width,r.height)})),u(this,zi).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=u(this,zi))==null||t.disconnect(),E(this,zi,null)},{once:!0})},Qa=function(){if(!u(this,pa))return;const[t,r]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*t),this.canvas.height=Math.ceil(this.height*r),A(this,ee,Kf).call(this)},my=function(t,r){const i=A(this,ee,Yf).call(this),s=(t-i)/u(this,ha),o=(r-i)/u(this,ua);this.scaleFactor=Math.min(s,o)},Kf=function(){const t=A(this,ee,Yf).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+t,this.translationY*this.scaleFactor+t)},is=new WeakSet,P1=function(t){const r=new Path2D;for(let i=0,s=t.length;i<s;i++){const[o,a,l,c]=t[i];i===0&&r.moveTo(...o),r.bezierCurveTo(a[0],a[1],l[0],l[1],c[0],c[1])}return r},vy=function(t,r,i){const[s,o,a,l]=r;switch(i){case 0:for(let c=0,h=t.length;c<h;c+=2)t[c]+=s,t[c+1]=l-t[c+1];break;case 90:for(let c=0,h=t.length;c<h;c+=2){const d=t[c];t[c]=t[c+1]+s,t[c+1]=d+o}break;case 180:for(let c=0,h=t.length;c<h;c+=2)t[c]=a-t[c],t[c+1]+=o;break;case 270:for(let c=0,h=t.length;c<h;c+=2){const d=t[c];t[c]=a-t[c+1],t[c+1]=l-d}break;default:throw new Error("Invalid rotation")}return t},R1=function(t,r,i){const[s,o,a,l]=r;switch(i){case 0:for(let c=0,h=t.length;c<h;c+=2)t[c]-=s,t[c+1]=l-t[c+1];break;case 90:for(let c=0,h=t.length;c<h;c+=2){const d=t[c];t[c]=t[c+1]-o,t[c+1]=d-s}break;case 180:for(let c=0,h=t.length;c<h;c+=2)t[c]=a-t[c],t[c+1]-=o;break;case 270:for(let c=0,h=t.length;c<h;c+=2){const d=t[c];t[c]=l-t[c+1],t[c+1]=a-d}break;default:throw new Error("Invalid rotation")}return t},L1=function(t,r,i,s){var h,d;const o=[],a=this.thickness/2,l=t*r+a,c=t*i+a;for(const f of this.paths){const p=[],g=[];for(let v=0,_=f.length;v<_;v++){const[m,y,w,S]=f[v];if(m[0]===S[0]&&m[1]===S[1]&&_===1){const W=t*m[0]+l,$=t*m[1]+c;p.push(W,$),g.push(W,$);break}const C=t*m[0]+l,k=t*m[1]+c,P=t*y[0]+l,x=t*y[1]+c,D=t*w[0]+l,I=t*w[1]+c,M=t*S[0]+l,U=t*S[1]+c;v===0&&(p.push(C,k),g.push(C,k)),p.push(P,x,D,I,M,U),g.push(P,x),v===_-1&&g.push(M,U)}o.push({bezier:A(h=nt,is,vy).call(h,p,s,this.rotation),points:A(d=nt,is,vy).call(d,g,s,this.rotation)})}return o},yy=function(){let t=1/0,r=-1/0,i=1/0,s=-1/0;for(const o of this.paths)for(const[a,l,c,h]of o){const d=oe.bezierBoundingBox(...a,...l,...c,...h);t=Math.min(t,d[0]),i=Math.min(i,d[1]),r=Math.max(r,d[2]),s=Math.max(s,d[3])}return[t,i,r,s]},Yf=function(){return u(this,nr)?Math.ceil(this.thickness*this.parentScale):0},hu=function(t=!1){if(this.isEmpty())return;if(!u(this,nr)){A(this,ee,go).call(this);return}const r=A(this,ee,yy).call(this),i=A(this,ee,Yf).call(this);E(this,ha,Math.max(Fe.MIN_SIZE,r[2]-r[0])),E(this,ua,Math.max(Fe.MIN_SIZE,r[3]-r[1]));const s=Math.ceil(i+u(this,ha)*this.scaleFactor),o=Math.ceil(i+u(this,ua)*this.scaleFactor),[a,l]=this.parentDimensions;this.width=s/a,this.height=o/l,this.setAspectRatio(s,o);const c=this.translationX,h=this.translationY;this.translationX=-r[0],this.translationY=-r[1],A(this,ee,Qa).call(this),A(this,ee,go).call(this),E(this,ga,s),E(this,ma,o),this.setDims(s,o);const d=t?i/this.scaleFactor/2:0;this.translate(c-this.translationX-d,h-this.translationY-d)},b(nt,is),pe(nt,"_defaultColor",null),pe(nt,"_defaultOpacity",1),pe(nt,"_defaultThickness",1),pe(nt,"_type","ink"),pe(nt,"_editorType",ke.INK);let dy=nt;var Ht,Bt,Is,Hi,Ns,fc,ei,Bi,ti,Pr,Ad,Re,du,fu,qf,_y,M1,D1,Ey,Qf,I1;const xu=class xu extends Fe{constructor(t){super({...t,name:"stampEditor"});b(this,Re);b(this,Ht,null);b(this,Bt,null);b(this,Is,null);b(this,Hi,null);b(this,Ns,null);b(this,fc,"");b(this,ei,null);b(this,Bi,null);b(this,ti,null);b(this,Pr,!1);b(this,Ad,!1);E(this,Hi,t.bitmapUrl),E(this,Ns,t.bitmapFile)}static initialize(t,r){Fe.initialize(t,r)}static get supportedTypes(){return Te(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(r=>`image/${r}`))}static get supportedTypesStr(){return Te(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,r){r.pasteEditor(ke.STAMP,{bitmapFile:t.getAsFile()})}remove(){var t,r;u(this,Bt)&&(E(this,Ht,null),this._uiManager.imageManager.deleteId(u(this,Bt)),(t=u(this,ei))==null||t.remove(),E(this,ei,null),(r=u(this,Bi))==null||r.disconnect(),E(this,Bi,null),u(this,ti)&&(clearTimeout(u(this,ti)),E(this,ti,null))),super.remove()}rebuild(){if(!this.parent){u(this,Bt)&&A(this,Re,qf).call(this);return}super.rebuild(),this.div!==null&&(u(this,Bt)&&u(this,ei)===null&&A(this,Re,qf).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(u(this,Is)||u(this,Ht)||u(this,Hi)||u(this,Ns)||u(this,Bt))}get isResizable(){return!0}render(){if(this.div)return this.div;let t,r;if(this.width&&(t=this.x,r=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),u(this,Ht)?A(this,Re,_y).call(this):A(this,Re,qf).call(this),this.width){const[i,s]=this.parentDimensions;this.setAt(t*i,r*s,this.width*i,this.height*s)}return this.div}getImageForAltText(){return u(this,ei)}static deserialize(t,r,i){if(t instanceof QS)return null;const s=super.deserialize(t,r,i),{rect:o,bitmapUrl:a,bitmapId:l,isSvg:c,accessibilityData:h}=t;l&&i.imageManager.isValidId(l)?E(s,Bt,l):E(s,Hi,a),E(s,Pr,c);const[d,f]=s.pageDimensions;return s.width=(o[2]-o[0])/d,s.height=(o[3]-o[1])/f,h&&(s.altTextData=h),s}serialize(t=!1,r=null){if(this.isEmpty())return null;const i={annotationType:ke.STAMP,bitmapId:u(this,Bt),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:u(this,Pr),structTreeParentId:this._structTreeParentId};if(t)return i.bitmapUrl=A(this,Re,Qf).call(this,!0),i.accessibilityData=this.altTextData,i;const{decorative:s,altText:o}=this.altTextData;if(!s&&o&&(i.accessibilityData={type:"Figure",alt:o}),r===null)return i;r.stamps||(r.stamps=new Map);const a=u(this,Pr)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!r.stamps.has(u(this,Bt)))r.stamps.set(u(this,Bt),{area:a,serialized:i}),i.bitmap=A(this,Re,Qf).call(this,!1);else if(u(this,Pr)){const l=r.stamps.get(u(this,Bt));a>l.area&&(l.area=a,l.serialized.bitmap.close(),l.serialized.bitmap=A(this,Re,Qf).call(this,!1))}return i}};Ht=new WeakMap,Bt=new WeakMap,Is=new WeakMap,Hi=new WeakMap,Ns=new WeakMap,fc=new WeakMap,ei=new WeakMap,Bi=new WeakMap,ti=new WeakMap,Pr=new WeakMap,Ad=new WeakMap,Re=new WeakSet,du=function(t,r=!1){if(!t){this.remove();return}E(this,Ht,t.bitmap),r||(E(this,Bt,t.id),E(this,Pr,t.isSvg)),t.file&&E(this,fc,t.file.name),A(this,Re,_y).call(this)},fu=function(){E(this,Is,null),this._uiManager.enableWaiting(!1),u(this,ei)&&this.div.focus()},qf=function(){if(u(this,Bt)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(u(this,Bt)).then(i=>A(this,Re,du).call(this,i,!0)).finally(()=>A(this,Re,fu).call(this));return}if(u(this,Hi)){const i=u(this,Hi);E(this,Hi,null),this._uiManager.enableWaiting(!0),E(this,Is,this._uiManager.imageManager.getFromUrl(i).then(s=>A(this,Re,du).call(this,s)).finally(()=>A(this,Re,fu).call(this)));return}if(u(this,Ns)){const i=u(this,Ns);E(this,Ns,null),this._uiManager.enableWaiting(!0),E(this,Is,this._uiManager.imageManager.getFromFile(i).then(s=>A(this,Re,du).call(this,s)).finally(()=>A(this,Re,fu).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=xu.supportedTypesStr;const r=this._uiManager._signal;E(this,Is,new Promise(i=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(t.files[0]);A(this,Re,du).call(this,s)}i()},{signal:r}),t.addEventListener("cancel",()=>{this.remove(),i()},{signal:r})}).finally(()=>A(this,Re,fu).call(this))),t.click()},_y=function(){const{div:t}=this;let{width:r,height:i}=u(this,Ht);const[s,o]=this.pageDimensions,a=.75;if(this.width)r=this.width*s,i=this.height*o;else if(r>a*s||i>a*o){const d=Math.min(a*s/r,a*o/i);r*=d,i*=d}const[l,c]=this.parentDimensions;this.setDims(r*l/s,i*c/o),this._uiManager.enableWaiting(!1);const h=E(this,ei,document.createElement("canvas"));t.append(h),t.hidden=!1,A(this,Re,Ey).call(this,r,i),A(this,Re,I1).call(this),u(this,Ad)||(this.parent.addUndoableEditor(this),E(this,Ad,!0)),this._reportTelemetry({action:"inserted_image"}),u(this,fc)&&h.setAttribute("aria-label",u(this,fc))},M1=function(t,r){var a;const[i,s]=this.parentDimensions;this.width=t/i,this.height=r/s,this.setDims(t,r),(a=this._initialOptions)!=null&&a.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,u(this,ti)!==null&&clearTimeout(u(this,ti)),E(this,ti,setTimeout(()=>{E(this,ti,null),A(this,Re,Ey).call(this,t,r)},200))},D1=function(t,r){const{width:i,height:s}=u(this,Ht);let o=i,a=s,l=u(this,Ht);for(;o>2*t||a>2*r;){const c=o,h=a;o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),a>2*r&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const d=new OffscreenCanvas(o,a);d.getContext("2d").drawImage(l,0,0,c,h,0,0,o,a),l=d.transferToImageBitmap()}return l},Ey=function(t,r){t=Math.ceil(t),r=Math.ceil(r);const i=u(this,ei);if(!i||i.width===t&&i.height===r)return;i.width=t,i.height=r;const s=u(this,Pr)?u(this,Ht):A(this,Re,D1).call(this,t,r);if(this._uiManager.hasMLManager&&!this.hasAltText()){const l=new OffscreenCanvas(t,r).getContext("2d");l.drawImage(s,0,0,s.width,s.height,0,0,t,r),this._uiManager.mlGuess({service:"image-to-text",request:{data:l.getImageData(0,0,t,r).data,width:t,height:r,channels:4}}).then(c=>{const h=(c==null?void 0:c.output)||"";this.parent&&h&&!this.hasAltText()&&(this.altTextData={altText:h,decorative:!1})})}const o=i.getContext("2d");o.filter=this._uiManager.hcmFilter,o.drawImage(s,0,0,s.width,s.height,0,0,t,r)},Qf=function(t){if(t){if(u(this,Pr)){const s=this._uiManager.imageManager.getSvgUrl(u(this,Bt));if(s)return s}const r=document.createElement("canvas");return{width:r.width,height:r.height}=u(this,Ht),r.getContext("2d").drawImage(u(this,Ht),0,0),r.toDataURL()}if(u(this,Pr)){const[r,i]=this.pageDimensions,s=Math.round(this.width*r*Qs.PDF_TO_CSS_UNITS),o=Math.round(this.height*i*Qs.PDF_TO_CSS_UNITS),a=new OffscreenCanvas(s,o);return a.getContext("2d").drawImage(u(this,Ht),0,0,u(this,Ht).width,u(this,Ht).height,0,0,s,o),a.transferToImageBitmap()}return structuredClone(u(this,Ht))},I1=function(){this._uiManager._signal&&(E(this,Bi,new ResizeObserver(t=>{const r=t[0].contentRect;r.width&&r.height&&A(this,Re,M1).call(this,r.width,r.height)})),u(this,Bi).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=u(this,Bi))==null||t.disconnect(),E(this,Bi,null)},{once:!0}))},pe(xu,"_type","stamp"),pe(xu,"_editorType",ke.STAMP);let wy=xu;var va,pc,ni,ya,Ui,$i,Vi,Hn,Fs,gc,mc,an,ae,Os,Vt,N1,by,Sy,xy,Jf;const pr=class pr{constructor({uiManager:e,pageIndex:t,div:r,accessibilityManager:i,annotationLayer:s,drawLayer:o,textLayer:a,viewport:l,l10n:c}){b(this,Vt);b(this,va);b(this,pc,!1);b(this,ni,null);b(this,ya,null);b(this,Ui,null);b(this,$i,null);b(this,Vi,null);b(this,Hn,new Map);b(this,Fs,!1);b(this,gc,!1);b(this,mc,!1);b(this,an,null);b(this,ae);const h=[...u(pr,Os).values()];if(!pr._initialized){pr._initialized=!0;for(const d of h)d.initialize(c,e)}e.registerEditorTypes(h),E(this,ae,e),this.pageIndex=t,this.div=r,E(this,va,i),E(this,ni,s),this.viewport=l,E(this,an,a),this.drawLayer=o,u(this,ae).addLayer(this)}get isEmpty(){return u(this,Hn).size===0}get isInvisible(){return this.isEmpty&&u(this,ae).getMode()===ke.NONE}updateToolbar(e){u(this,ae).updateToolbar(e)}updateMode(e=u(this,ae).getMode()){switch(A(this,Vt,Jf).call(this),e){case ke.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case ke.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case ke.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const r of u(pr,Os).values())t.toggle(`${r._type}Editing`,e===r._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=u(this,an))==null?void 0:t.div)}addInkEditorIfNeeded(e){if(u(this,ae).getMode()!==ke.INK)return;if(!e){for(const r of u(this,Hn).values())if(r.isEmpty()){r.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){u(this,ae).setEditingState(e)}addCommands(e){u(this,ae).addCommands(e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=u(this,ni))==null||t.div.classList.toggle("disabled",!e)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const r of u(this,Hn).values())r.enableEditing(),r.show(!0),r.annotationElementId&&(u(this,ae).removeChangedExistingAnnotation(r),e.add(r.annotationElementId));if(!u(this,ni))return;const t=u(this,ni).getEditableAnnotations();for(const r of t){if(r.hide(),u(this,ae).isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;const i=this.deserialize(r);i&&(this.addOrRebuild(i),i.enableEditing())}}disable(){var i;E(this,mc,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const s of u(this,Hn).values())if(s.disableEditing(),!!s.annotationElementId){if(s.serialize()!==null){e.set(s.annotationElementId,s);continue}else t.set(s.annotationElementId,s);(i=this.getEditableAnnotation(s.annotationElementId))==null||i.show(),s.remove()}if(u(this,ni)){const s=u(this,ni).getEditableAnnotations();for(const o of s){const{id:a}=o.data;if(u(this,ae).isDeletedAnnotationElement(a))continue;let l=t.get(a);if(l){l.resetAnnotationElement(o),l.show(!1),o.show();continue}l=e.get(a),l&&(u(this,ae).addChangedExistingAnnotation(l),l.renderAnnotationElement(o),l.show(!1)),o.show()}}A(this,Vt,Jf).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const s of u(pr,Os).values())r.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),E(this,mc,!1)}getEditableAnnotation(e){var t;return((t=u(this,ni))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){u(this,ae).getActive()!==e&&u(this,ae).setActiveEditor(e)}enableTextSelection(){var e;this.div.tabIndex=-1,(e=u(this,an))!=null&&e.div&&!u(this,$i)&&(E(this,$i,A(this,Vt,N1).bind(this)),u(this,an).div.addEventListener("pointerdown",u(this,$i),{signal:u(this,ae)._signal}),u(this,an).div.classList.add("highlighting"))}disableTextSelection(){var e;this.div.tabIndex=0,(e=u(this,an))!=null&&e.div&&u(this,$i)&&(u(this,an).div.removeEventListener("pointerdown",u(this,$i)),E(this,$i,null),u(this,an).div.classList.remove("highlighting"))}enableClick(){if(u(this,Ui))return;const e=u(this,ae)._signal;E(this,Ui,this.pointerdown.bind(this)),E(this,ya,this.pointerup.bind(this)),this.div.addEventListener("pointerdown",u(this,Ui),{signal:e}),this.div.addEventListener("pointerup",u(this,ya),{signal:e})}disableClick(){u(this,Ui)&&(this.div.removeEventListener("pointerdown",u(this,Ui)),this.div.removeEventListener("pointerup",u(this,ya)),E(this,Ui,null),E(this,ya,null))}attach(e){u(this,Hn).set(e.id,e);const{annotationElementId:t}=e;t&&u(this,ae).isDeletedAnnotationElement(t)&&u(this,ae).removeDeletedAnnotationElement(e)}detach(e){var t;u(this,Hn).delete(e.id),(t=u(this,va))==null||t.removePointerInTextLayer(e.contentDiv),!u(this,mc)&&e.annotationElementId&&u(this,ae).addDeletedAnnotationElement(e)}remove(e){this.detach(e),u(this,ae).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,u(this,gc)||this.addInkEditorIfNeeded(!1)}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(u(this,ae).addDeletedAnnotationElement(e.annotationElementId),Fe.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),u(this,ae).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),u(this,ae).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var r;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!u(this,Vi)&&(e._focusEventsAllowed=!1,E(this,Vi,setTimeout(()=>{E(this,Vi,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:u(this,ae)._signal}),t.focus())},0))),e._structTreeParentId=(r=u(this,va))==null?void 0:r.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:t,undo:r,mustExec:!1})}getNextId(){return u(this,ae).getId()}get _signal(){return u(this,ae)._signal}canCreateNewEmptyEditor(){var e;return(e=u(this,Vt,by))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,t){u(this,ae).updateToolbar(e),u(this,ae).updateMode(e);const{offsetX:r,offsetY:i}=A(this,Vt,xy).call(this),s=this.getNextId(),o=A(this,Vt,Sy).call(this,{parent:this,id:s,x:r,y:i,uiManager:u(this,ae),isCentered:!0,...t});o&&this.add(o)}deserialize(e){var t;return((t=u(pr,Os).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,u(this,ae)))||null}createAndAddNewEditor(e,t,r={}){const i=this.getNextId(),s=A(this,Vt,Sy).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:u(this,ae),isCentered:t,...r});return s&&this.add(s),s}addNewEditor(){this.createAndAddNewEditor(A(this,Vt,xy).call(this),!0)}setSelected(e){u(this,ae).setSelected(e)}toggleSelected(e){u(this,ae).toggleSelected(e)}isSelected(e){return u(this,ae).isSelected(e)}unselect(e){u(this,ae).unselect(e)}pointerup(e){const{isMac:t}=bn.platform;if(!(e.button!==0||e.ctrlKey&&t)&&e.target===this.div&&u(this,Fs)){if(E(this,Fs,!1),!u(this,pc)){E(this,pc,!0);return}if(u(this,ae).getMode()===ke.STAMP){u(this,ae).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(u(this,ae).getMode()===ke.HIGHLIGHT&&this.enableTextSelection(),u(this,Fs)){E(this,Fs,!1);return}const{isMac:t}=bn.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;E(this,Fs,!0);const r=u(this,ae).getActive();E(this,pc,!r||r.isEmpty())}findNewParent(e,t,r){const i=u(this,ae).findParent(t,r);return i===null||i===this?!1:(i.changeParent(e),!0)}destroy(){var e,t;((e=u(this,ae).getActive())==null?void 0:e.parent)===this&&(u(this,ae).commitOrRemove(),u(this,ae).setActiveEditor(null)),u(this,Vi)&&(clearTimeout(u(this,Vi)),E(this,Vi,null));for(const r of u(this,Hn).values())(t=u(this,va))==null||t.removePointerInTextLayer(r.contentDiv),r.setParent(null),r.isAttachedToDOM=!1,r.div.remove();this.div=null,u(this,Hn).clear(),u(this,ae).removeLayer(this)}render({viewport:e}){this.viewport=e,ka(this.div,e);for(const t of u(this,ae).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){u(this,ae).commitOrRemove(),A(this,Vt,Jf).call(this);const t=this.viewport.rotation,r=e.rotation;if(this.viewport=e,ka(this.div,{rotation:r}),t!==r)for(const i of u(this,Hn).values())i.rotate(r);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return u(this,ae).viewParameters.realScale}};va=new WeakMap,pc=new WeakMap,ni=new WeakMap,ya=new WeakMap,Ui=new WeakMap,$i=new WeakMap,Vi=new WeakMap,Hn=new WeakMap,Fs=new WeakMap,gc=new WeakMap,mc=new WeakMap,an=new WeakMap,ae=new WeakMap,Os=new WeakMap,Vt=new WeakSet,N1=function(e){if(u(this,ae).unselectAll(),e.target===u(this,an).div){const{isMac:t}=bn.platform;if(e.button!==0||e.ctrlKey&&t)return;u(this,ae).showAllEditors("highlight",!0,!0),u(this,an).div.classList.add("free"),Dp.startHighlighting(this,u(this,ae).direction==="ltr",e),u(this,an).div.addEventListener("pointerup",()=>{u(this,an).div.classList.remove("free")},{once:!0,signal:u(this,ae)._signal}),e.preventDefault()}},by=function(){return u(pr,Os).get(u(this,ae).getMode())},Sy=function(e){const t=u(this,Vt,by);return t?new t.prototype.constructor(e):null},xy=function(){const{x:e,y:t,width:r,height:i}=this.div.getBoundingClientRect(),s=Math.max(0,e),o=Math.max(0,t),a=Math.min(window.innerWidth,e+r),l=Math.min(window.innerHeight,t+i),c=(s+a)/2-e,h=(o+l)/2-t,[d,f]=this.viewport.rotation%180===0?[c,h]:[h,c];return{offsetX:d,offsetY:f}},Jf=function(){E(this,gc,!0);for(const e of u(this,Hn).values())e.isEmpty()&&e.remove();E(this,gc,!1)},pe(pr,"_initialized",!1),b(pr,Os,new Map([ty,dy,wy,Dp].map(e=>[e._editorType,e])));let Ay=pr;var ri,bd,St,js,Sd,ky,Ma,Ty,F1;const Nt=class Nt{constructor({pageIndex:e}){b(this,Ma);b(this,ri,null);b(this,bd,0);b(this,St,new Map);b(this,js,new Map);this.pageIndex=e}setParent(e){if(!u(this,ri)){E(this,ri,e);return}if(u(this,ri)!==e){if(u(this,St).size>0)for(const t of u(this,St).values())t.remove(),e.append(t);E(this,ri,e)}}static get _svgFactory(){return Te(this,"_svgFactory",new I0)}highlight(e,t,r,i=!1){const s=Rn(this,bd)._++,o=A(this,Ma,Ty).call(this,e.box);o.classList.add("highlight"),e.free&&o.classList.add("free");const a=Nt._svgFactory.createElement("defs");o.append(a);const l=Nt._svgFactory.createElement("path");a.append(l);const c=`path_p${this.pageIndex}_${s}`;l.setAttribute("id",c),l.setAttribute("d",e.toSVGPath()),i&&u(this,js).set(s,l);const h=A(this,Ma,F1).call(this,a,c),d=Nt._svgFactory.createElement("use");return o.append(d),o.setAttribute("fill",t),o.setAttribute("fill-opacity",r),d.setAttribute("href",`#${c}`),u(this,St).set(s,o),{id:s,clipPathId:`url(#${h})`}}highlightOutline(e){const t=Rn(this,bd)._++,r=A(this,Ma,Ty).call(this,e.box);r.classList.add("highlightOutline");const i=Nt._svgFactory.createElement("defs");r.append(i);const s=Nt._svgFactory.createElement("path");i.append(s);const o=`path_p${this.pageIndex}_${t}`;s.setAttribute("id",o),s.setAttribute("d",e.toSVGPath()),s.setAttribute("vector-effect","non-scaling-stroke");let a;if(e.free){r.classList.add("free");const h=Nt._svgFactory.createElement("mask");i.append(h),a=`mask_p${this.pageIndex}_${t}`,h.setAttribute("id",a),h.setAttribute("maskUnits","objectBoundingBox");const d=Nt._svgFactory.createElement("rect");h.append(d),d.setAttribute("width","1"),d.setAttribute("height","1"),d.setAttribute("fill","white");const f=Nt._svgFactory.createElement("use");h.append(f),f.setAttribute("href",`#${o}`),f.setAttribute("stroke","none"),f.setAttribute("fill","black"),f.setAttribute("fill-rule","nonzero"),f.classList.add("mask")}const l=Nt._svgFactory.createElement("use");r.append(l),l.setAttribute("href",`#${o}`),a&&l.setAttribute("mask",`url(#${a})`);const c=l.cloneNode();return r.append(c),l.classList.add("mainOutline"),c.classList.add("secondaryOutline"),u(this,St).set(t,r),t}finalizeLine(e,t){const r=u(this,js).get(e);u(this,js).delete(e),this.updateBox(e,t.box),r.setAttribute("d",t.toSVGPath())}updateLine(e,t){u(this,St).get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}removeFreeHighlight(e){this.remove(e),u(this,js).delete(e)}updatePath(e,t){u(this,js).get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){var r;A(r=Nt,Sd,ky).call(r,u(this,St).get(e),t)}show(e,t){u(this,St).get(e).classList.toggle("hidden",!t)}rotate(e,t){u(this,St).get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){u(this,St).get(e).setAttribute("fill",t)}changeOpacity(e,t){u(this,St).get(e).setAttribute("fill-opacity",t)}addClass(e,t){u(this,St).get(e).classList.add(t)}removeClass(e,t){u(this,St).get(e).classList.remove(t)}remove(e){u(this,ri)!==null&&(u(this,St).get(e).remove(),u(this,St).delete(e))}destroy(){E(this,ri,null);for(const e of u(this,St).values())e.remove();u(this,St).clear()}};ri=new WeakMap,bd=new WeakMap,St=new WeakMap,js=new WeakMap,Sd=new WeakSet,ky=function(e,{x:t=0,y:r=0,width:i=1,height:s=1}={}){const{style:o}=e;o.top=`${100*r}%`,o.left=`${100*t}%`,o.width=`${100*i}%`,o.height=`${100*s}%`},Ma=new WeakSet,Ty=function(e){var r;const t=Nt._svgFactory.create(1,1,!0);return u(this,ri).append(t),t.setAttribute("aria-hidden",!0),A(r=Nt,Sd,ky).call(r,t,e),t},F1=function(e,t){const r=Nt._svgFactory.createElement("clipPath");e.append(r);const i=`clip_${t}`;r.setAttribute("id",i),r.setAttribute("clipPathUnits","objectBoundingBox");const s=Nt._svgFactory.createElement("use");return r.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),i},b(Nt,Sd);let Cy=Nt;var bL=de.AbortException,SL=de.AnnotationEditorLayer,xL=de.AnnotationEditorParamsType,CL=de.AnnotationEditorType,kL=de.AnnotationEditorUIManager,O1=de.AnnotationLayer,j1=de.AnnotationMode,TL=de.CMapCompressionType,PL=de.ColorPicker,RL=de.DOMSVGFactory,LL=de.DrawLayer,ML=de.FeatureTest,U0=de.GlobalWorkerOptions,DL=de.ImageKind,IL=de.InvalidPDFException,NL=de.MissingPDFException,FL=de.OPS,OL=de.Outliner,jL=de.PDFDataRangeTransport,zL=de.PDFDateString,HL=de.PDFWorker,BL=de.PasswordResponses,UL=de.PermissionFlag,$L=de.PixelsPerInch,VL=de.RenderingCancelledException,z1=de.TextLayer,WL=de.UnexpectedResponseException,GL=de.Util,XL=de.VerbosityLevel,KL=de.XfaLayer,YL=de.build,qL=de.createValidAbsoluteUrl,QL=de.fetchData,H1=de.getDocument,JL=de.getFilenameFromUrl,ZL=de.getPdfFilenameFromUrl,eM=de.getXfaPageViewport,tM=de.isDataScheme,nM=de.isPdfFile,rM=de.noContextMenu,iM=de.normalizeUnicode,sM=de.renderTextLayer,oM=de.setLayerDimensions,aM=de.shadow,lM=de.updateTextLayer,B1=de.version;const cM=Object.freeze(Object.defineProperty({__proto__:null,AbortException:bL,AnnotationEditorLayer:SL,AnnotationEditorParamsType:xL,AnnotationEditorType:CL,AnnotationEditorUIManager:kL,AnnotationLayer:O1,AnnotationMode:j1,CMapCompressionType:TL,ColorPicker:PL,DOMSVGFactory:RL,DrawLayer:LL,FeatureTest:ML,GlobalWorkerOptions:U0,ImageKind:DL,InvalidPDFException:IL,MissingPDFException:NL,OPS:FL,Outliner:OL,PDFDataRangeTransport:jL,PDFDateString:zL,PDFWorker:HL,PasswordResponses:BL,PermissionFlag:UL,PixelsPerInch:$L,RenderingCancelledException:VL,TextLayer:z1,UnexpectedResponseException:WL,Util:GL,VerbosityLevel:XL,XfaLayer:KL,build:YL,createValidAbsoluteUrl:qL,fetchData:QL,getDocument:H1,getFilenameFromUrl:JL,getPdfFilenameFromUrl:ZL,getXfaPageViewport:eM,isDataScheme:tM,isPdfFile:nM,noContextMenu:rM,normalizeUnicode:iM,renderTextLayer:sM,setLayerDimensions:oM,shadow:aM,updateTextLayer:lM,version:B1},Symbol.toStringTag,{value:"Module"}));var Pt=function(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))},uM=["onCopy","onCut","onPaste"],hM=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],dM=["onFocus","onBlur"],fM=["onInput","onInvalid","onReset","onSubmit"],pM=["onLoad","onError"],gM=["onKeyDown","onKeyPress","onKeyUp"],mM=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],vM=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],yM=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],wM=["onSelect"],_M=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],EM=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],AM=["onScroll"],bM=["onWheel"],SM=["onAnimationStart","onAnimationEnd","onAnimationIteration"],xM=["onTransitionEnd"],CM=["onToggle"],kM=["onChange"],TM=Pt(Pt(Pt(Pt(Pt(Pt(Pt(Pt(Pt(Pt(Pt(Pt(Pt(Pt(Pt(Pt(Pt(Pt([],uM,!0),hM,!0),dM,!0),fM,!0),pM,!0),gM,!0),mM,!0),vM,!0),yM,!0),wM,!0),_M,!0),EM,!0),AM,!0),bM,!0),SM,!0),xM,!0),kM,!0),CM,!0);function U1(n,e){var t={};return TM.forEach(function(r){var i=n[r];i&&(e?t[r]=function(s){return i(s,e(r))}:t[r]=i)}),t}function Nd(n){var e=!1,t=new Promise(function(r,i){n.then(function(s){return!e&&r(s)}).catch(function(s){return!e&&i(s)})});return{promise:t,cancel:function(){e=!0}}}function $1(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=$1(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Rg(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=$1(n))&&(r&&(r+=" "),r+=e);return r}var PM="Invariant failed";function Ge(n,e){if(!n)throw new Error(PM)}var RM=function(){},LM=RM;const en=Ly(LM);var eE=Object.prototype.hasOwnProperty;function tE(n,e,t){for(t of n.keys())if(_l(t,e))return t}function _l(n,e){var t,r,i;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((r=n.length)===e.length)for(;r--&&_l(n[r],e[r]););return r===-1}if(t===Set){if(n.size!==e.size)return!1;for(r of n)if(i=r,i&&typeof i=="object"&&(i=tE(e,i),!i)||!e.has(i))return!1;return!0}if(t===Map){if(n.size!==e.size)return!1;for(r of n)if(i=r[0],i&&typeof i=="object"&&(i=tE(e,i),!i)||!_l(r[1],e.get(i)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(t===DataView){if((r=n.byteLength)===e.byteLength)for(;r--&&n.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(n)){if((r=n.byteLength)===e.byteLength)for(;r--&&n[r]===e[r];);return r===-1}if(!t||typeof n=="object"){r=0;for(t in n)if(eE.call(n,t)&&++r&&!eE.call(e,t)||!(t in e)||!_l(n[t],e[t]))return!1;return Object.keys(e).length===r}}return n!==n&&e!==e}const V1=O.createContext(null);function El({children:n,type:e}){return L.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:n})}const MM="noopener noreferrer nofollow";class DM{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Ge(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){Ge(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(t=>{Ge(this.pdfDocument),Ge(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{Ge(Array.isArray(t));const r=t[0];new Promise(i=>{Ge(this.pdfDocument),r instanceof Object?this.pdfDocument.getPageIndex(r).then(s=>{i(s)}).catch(()=>{Ge(!1)}):typeof r=="number"?i(r):Ge(!1)}).then(i=>{const s=i+1;Ge(this.pdfViewer),Ge(s>=1&&s<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:i,pageNumber:s})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const t=e-1;Ge(this.pdfViewer),Ge(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}addLinkAttributes(e,t,r){e.href=t,e.rel=this.externalLinkRel||MM,e.target=r?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const nE={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},Lg=typeof document<"u",W1=Lg&&window.location.protocol==="file:";function IM(n){return typeof n<"u"}function co(n){return IM(n)&&n!==null}function NM(n){return typeof n=="string"}function FM(n){return n instanceof ArrayBuffer}function OM(n){return Ge(Lg),n instanceof Blob}function Py(n){return NM(n)&&/^data:/.test(n)}function rE(n){Ge(Py(n));const[e="",t=""]=n.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function jM(){return Lg&&window.devicePixelRatio||1}const G1="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function iE(){en(!W1,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${G1}`)}function zM(){en(!W1,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${G1}`)}function Ra(n){n!=null&&n.cancel&&n.cancel()}function Ry(n,e){return Object.defineProperty(n,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(n,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(n,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(n,"originalHeight",{get(){return this.view[3]},configurable:!0}),n}function HM(n){return n.name==="RenderingCancelledException"}function BM(n){return new Promise((e,t)=>{const r=new FileReader;r.onload=()=>{if(!r.result)return t(new Error("Error while reading a file."));e(r.result)},r.onerror=i=>{if(!i.target)return t(new Error("Error while reading a file."));const{error:s}=i.target;if(!s)return t(new Error("Error while reading a file."));switch(s.code){case s.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case s.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case s.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},r.readAsArrayBuffer(n)})}function UM(n,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return n}}function xc(){return O.useReducer(UM,{value:void 0,error:void 0})}var $M=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(r.next(h))}catch(d){o(d)}}function l(h){try{c(r.throw(h))}catch(d){o(d)}}function c(h){h.done?s(h.value):i(h.value).then(a,l)}c((r=r.apply(n,e||[])).next())})},sE=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const{PDFDataRangeTransport:VM}=cM,WM=(n,e)=>{switch(e){case nE.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");n(t);break}case nE.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");n(t);break}}};function oE(n){return typeof n=="object"&&n!==null&&("data"in n||"range"in n||"url"in n)}const GM=O.forwardRef(function(e,t){var{children:r,className:i,error:s="Failed to load PDF file.",externalLinkRel:o,externalLinkTarget:a,file:l,inputRef:c,imageResourcesPath:h,loading:d="Loading PDF…",noData:f="No PDF file specified.",onItemClick:p,onLoadError:g,onLoadProgress:v,onLoadSuccess:_,onPassword:m=WM,onSourceError:y,onSourceSuccess:w,options:S,renderMode:C,rotate:k}=e,P=sE(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[x,D]=xc(),{value:I,error:M}=x,[U,W]=xc(),{value:$,error:Q}=U,q=O.useRef(new DM),K=O.useRef([]),j=O.useRef(void 0),z=O.useRef(void 0);l&&l!==j.current&&oE(l)&&(en(!_l(l,j.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),j.current=l),S&&S!==z.current&&(en(!_l(S,z.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),z.current=S);const H=O.useRef({scrollPageIntoView:Ce=>{const{dest:ge,pageNumber:Ye,pageIndex:$e=Ye-1}=Ce;if(p){p({dest:ge,pageIndex:$e,pageNumber:Ye});return}const Yn=K.current[$e];if(Yn){Yn.scrollIntoView();return}en(!1,`An internal link leading to page ${Ye} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});O.useImperativeHandle(t,()=>({linkService:q,pages:K,viewer:H}),[]);function J(){w&&w()}function G(){M&&(en(!1,M.toString()),y&&y(M))}function ue(){D({type:"RESET"})}O.useEffect(ue,[l,D]);const N=O.useCallback(()=>$M(this,void 0,void 0,function*(){if(!l)return null;if(typeof l=="string")return Py(l)?{data:rE(l)}:(iE(),{url:l});if(l instanceof VM)return{range:l};if(FM(l))return{data:l};if(Lg&&OM(l))return{data:yield BM(l)};if(Ge(typeof l=="object"),Ge(oE(l)),"url"in l&&typeof l.url=="string"){if(Py(l.url)){const{url:Ce}=l,ge=sE(l,["url"]),Ye=rE(Ce);return Object.assign({data:Ye},ge)}iE()}return l}),[l]);O.useEffect(()=>{const Ce=Nd(N());return Ce.promise.then(ge=>{D({type:"RESOLVE",value:ge})}).catch(ge=>{D({type:"REJECT",error:ge})}),()=>{Ra(Ce)}},[N,D]),O.useEffect(()=>{if(!(typeof I>"u")){if(I===!1){G();return}J()}},[I]);function Ke(){$&&(_&&_($),K.current=new Array($.numPages),q.current.setDocument($))}function X(){Q&&(en(!1,Q.toString()),g&&g(Q))}O.useEffect(function(){W({type:"RESET"})},[W,I]),O.useEffect(function(){if(!I)return;const ge=Object.assign(Object.assign({},I),S),Ye=H1(ge);v&&(Ye.onProgress=v),m&&(Ye.onPassword=m);const $e=Ye;return $e.promise.then(Yn=>{W({type:"RESOLVE",value:Yn})}).catch(Yn=>{$e.destroyed||W({type:"REJECT",error:Yn})}),()=>{$e.destroy()}},[S,W,I]),O.useEffect(()=>{if(!(typeof $>"u")){if($===!1){X();return}Ke()}},[$]),O.useEffect(function(){q.current.setViewer(H.current),q.current.setExternalLinkRel(o),q.current.setExternalLinkTarget(a)},[o,a]);const re=O.useCallback((Ce,ge)=>{K.current[Ce]=ge},[]),we=O.useCallback(Ce=>{delete K.current[Ce]},[]),De=O.useMemo(()=>({imageResourcesPath:h,linkService:q.current,onItemClick:p,pdf:$,registerPage:re,renderMode:C,rotate:k,unregisterPage:we}),[h,p,$,re,C,k,we]),le=O.useMemo(()=>U1(P,()=>$),[P,$]);function pt(){return L.jsx(V1.Provider,{value:De,children:r})}function mn(){return l?$==null?L.jsx(El,{type:"loading",children:typeof d=="function"?d():d}):$===!1?L.jsx(El,{type:"error",children:typeof s=="function"?s():s}):pt():L.jsx(El,{type:"no-data",children:typeof f=="function"?f():f})}return L.jsx("div",Object.assign({className:Rg("react-pdf__Document",i),ref:c,style:{"--scale-factor":"1"}},le,{children:mn()}))});function X1(){return O.useContext(V1)}function K1(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=n.filter(Boolean);if(t.length<=1){var r=t[0];return r||null}return function(s){t.forEach(function(o){typeof o=="function"?o(s):o&&(o.current=s)})}}const Y1=O.createContext(null),q1={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},XM=/^H(\d+)$/;function KM(n){return n in q1}function Mg(n){return"children"in n}function Q1(n){return Mg(n)?n.children.length===1&&0 in n.children&&"id"in n.children[0]:!1}function YM(n){const e={};if(Mg(n)){const{role:t}=n,r=t.match(XM);if(r)e.role="heading",e["aria-level"]=Number(r[1]);else if(KM(t)){const i=q1[t];i&&(e.role=i)}}return e}function J1(n){const e={};if(Mg(n)){if(n.alt!==void 0&&(e["aria-label"]=n.alt),n.lang!==void 0&&(e.lang=n.lang),Q1(n)){const[t]=n.children;if(t){const r=J1(t);return Object.assign(Object.assign({},e),r)}}}else"id"in n&&(e["aria-owns"]=n.id);return e}function qM(n){return n?Object.assign(Object.assign({},YM(n)),J1(n)):null}function Z1({className:n,node:e}){const t=O.useMemo(()=>qM(e),[e]),r=O.useMemo(()=>!Mg(e)||Q1(e)?null:e.children.map((i,s)=>L.jsx(Z1,{node:i},s)),[e]);return L.jsx("span",Object.assign({className:n},t,{children:r}))}function Dg(){return O.useContext(Y1)}function QM(){const n=Dg();Ge(n);const{onGetStructTreeError:e,onGetStructTreeSuccess:t}=n,[r,i]=xc(),{value:s,error:o}=r,{customTextRenderer:a,page:l}=n;function c(){s&&t&&t(s)}function h(){o&&(en(!1,o.toString()),e&&e(o))}return O.useEffect(function(){i({type:"RESET"})},[i,l]),O.useEffect(function(){if(a||!l)return;const f=Nd(l.getStructTree()),p=f;return f.promise.then(g=>{i({type:"RESOLVE",value:g})}).catch(g=>{i({type:"REJECT",error:g})}),()=>Ra(p)},[a,l,i]),O.useEffect(()=>{if(s!==void 0){if(s===!1){h();return}c()}},[s]),s?L.jsx(Z1,{className:"react-pdf__Page__structTree structTree",node:s}):null}const aE=j1;function JM(n){const e=Dg();Ge(e);const t=Object.assign(Object.assign({},e),n),{_className:r,canvasBackground:i,devicePixelRatio:s=jM(),onRenderError:o,onRenderSuccess:a,page:l,renderForms:c,renderTextLayer:h,rotate:d,scale:f}=t,{canvasRef:p}=n;Ge(l);const g=O.useRef(null);function v(){l&&a&&a(Ry(l,f))}function _(S){HM(S)||(en(!1,S.toString()),o&&o(S))}const m=O.useMemo(()=>l.getViewport({scale:f*s,rotation:d}),[s,l,d,f]),y=O.useMemo(()=>l.getViewport({scale:f,rotation:d}),[l,d,f]);O.useEffect(function(){if(!l)return;l.cleanup();const{current:C}=g;if(!C)return;C.width=m.width,C.height=m.height,C.style.width=`${Math.floor(y.width)}px`,C.style.height=`${Math.floor(y.height)}px`,C.style.visibility="hidden";const k={annotationMode:c?aE.ENABLE_FORMS:aE.ENABLE,canvasContext:C.getContext("2d",{alpha:!1}),viewport:m};i&&(k.background=i);const P=l.render(k),x=P;return P.promise.then(()=>{C.style.visibility="",v()}).catch(_),()=>Ra(x)},[i,l,c,m,y]);const w=O.useCallback(()=>{const{current:S}=g;S&&(S.width=0,S.height=0)},[]);return O.useEffect(()=>w,[w]),L.jsx("canvas",{className:`${r}__canvas`,dir:"ltr",ref:K1(p,g),style:{display:"block",userSelect:"none"},children:h?L.jsx(QM,{}):null})}function ZM(n){return"str"in n}function eD(){const n=Dg();Ge(n);const{customTextRenderer:e,onGetTextError:t,onGetTextSuccess:r,onRenderTextLayerError:i,onRenderTextLayerSuccess:s,page:o,pageIndex:a,pageNumber:l,rotate:c,scale:h}=n;Ge(o);const[d,f]=xc(),{value:p,error:g}=d,v=O.useRef(null),_=O.useRef(void 0);en(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function m(){p&&r&&r(p)}function y(){g&&(en(!1,g.toString()),t&&t(g))}O.useEffect(function(){f({type:"RESET"})},[o,f]),O.useEffect(function(){if(!o)return;const D=Nd(o.getTextContent()),I=D;return D.promise.then(M=>{f({type:"RESOLVE",value:M})}).catch(M=>{f({type:"REJECT",error:M})}),()=>Ra(I)},[o,f]),O.useEffect(()=>{if(p!==void 0){if(p===!1){y();return}m()}},[p]);const w=O.useCallback(()=>{s&&s()},[s]),S=O.useCallback(x=>{en(!1,x.toString()),i&&i(x)},[i]);function C(){const x=_.current;x&&x.classList.add("active")}function k(){const x=_.current;x&&x.classList.remove("active")}const P=O.useMemo(()=>o.getViewport({scale:h,rotation:c}),[o,c,h]);return O.useLayoutEffect(function(){if(!o||!p)return;const{current:D}=v;if(!D)return;D.innerHTML="";const I=o.streamTextContent({includeMarkedContent:!0}),M={container:D,textContentSource:I,viewport:P},U=new z1(M),W=U;return U.render().then(()=>{const $=document.createElement("div");$.className="endOfContent",D.append($),_.current=$;const Q=D.querySelectorAll('[role="presentation"]');if(e){let q=0;p.items.forEach((K,j)=>{if(!ZM(K))return;const z=Q[q];if(!z)return;const H=e(Object.assign({pageIndex:a,pageNumber:l,itemIndex:j},K));z.innerHTML=H,q+=K.str&&K.hasEOL?2:1})}w()}).catch(S),()=>Ra(W)},[e,S,w,o,a,l,p,P]),L.jsx("div",{className:Rg("react-pdf__Page__textContent","textLayer"),onMouseUp:k,onMouseDown:C,ref:v})}function tD(){const n=X1(),e=Dg();Ge(e);const t=Object.assign(Object.assign({},n),e),{imageResourcesPath:r,linkService:i,onGetAnnotationsError:s,onGetAnnotationsSuccess:o,onRenderAnnotationLayerError:a,onRenderAnnotationLayerSuccess:l,page:c,pdf:h,renderForms:d,rotate:f,scale:p=1}=t;Ge(h),Ge(c),Ge(i);const[g,v]=xc(),{value:_,error:m}=g,y=O.useRef(null);en(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function w(){_&&o&&o(_)}function S(){m&&(en(!1,m.toString()),s&&s(m))}O.useEffect(function(){v({type:"RESET"})},[v,c]),O.useEffect(function(){if(!c)return;const D=Nd(c.getAnnotations()),I=D;return D.promise.then(M=>{v({type:"RESOLVE",value:M})}).catch(M=>{v({type:"REJECT",error:M})}),()=>{Ra(I)}},[v,c]),O.useEffect(()=>{if(_!==void 0){if(_===!1){S();return}w()}},[_]);function C(){l&&l()}function k(x){en(!1,`${x}`),a&&a(x)}const P=O.useMemo(()=>c.getViewport({scale:p,rotation:f}),[c,f,p]);return O.useEffect(function(){if(!h||!c||!i||!_)return;const{current:D}=y;if(!D)return;const I=P.clone({dontFlip:!0}),M={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:D,l10n:null,page:c,viewport:I},U={annotations:_,annotationStorage:h.annotationStorage,div:D,imageResourcesPath:r,linkService:i,page:c,renderForms:d,viewport:I};D.innerHTML="";try{new O1(M).render(U),C()}catch(W){k(W)}return()=>{}},[_,r,i,c,h,d,P]),L.jsx("div",{className:Rg("react-pdf__Page__annotations","annotationLayer"),ref:y})}var nD=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const lE=1;function rD(n){const e=X1(),t=Object.assign(Object.assign({},e),n),{_className:r="react-pdf__Page",_enableRegisterUnregisterPage:i=!0,canvasBackground:s,canvasRef:o,children:a,className:l,customRenderer:c,customTextRenderer:h,devicePixelRatio:d,error:f="Failed to load the page.",height:p,inputRef:g,loading:v="Loading page…",noData:_="No page specified.",onGetAnnotationsError:m,onGetAnnotationsSuccess:y,onGetStructTreeError:w,onGetStructTreeSuccess:S,onGetTextError:C,onGetTextSuccess:k,onLoadError:P,onLoadSuccess:x,onRenderAnnotationLayerError:D,onRenderAnnotationLayerSuccess:I,onRenderError:M,onRenderSuccess:U,onRenderTextLayerError:W,onRenderTextLayerSuccess:$,pageIndex:Q,pageNumber:q,pdf:K,registerPage:j,renderAnnotationLayer:z=!0,renderForms:H=!1,renderMode:J="canvas",renderTextLayer:G=!0,rotate:ue,scale:N=lE,unregisterPage:Ke,width:X}=t,re=nD(t,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[we,De]=xc(),{value:le,error:pt}=we,mn=O.useRef(null);Ge(K);const Ce=co(q)?q-1:Q??null,ge=q??(co(Q)?Q+1:null),Ye=ue??(le?le.rotate:null),$e=O.useMemo(()=>{if(!le)return null;let rn=1;const ui=N??lE;if(X||p){const Or=le.getViewport({scale:1,rotation:Ye});X?rn=X/Or.width:p&&(rn=p/Or.height)}return ui*rn},[p,le,Ye,N,X]);O.useEffect(function(){return()=>{co(Ce)&&i&&Ke&&Ke(Ce)}},[i,K,Ce,Ke]);function Yn(){if(x){if(!le||!$e)return;x(Ry(le,$e))}if(i&&j){if(!co(Ce)||!mn.current)return;j(Ce,mn.current)}}function qn(){pt&&(en(!1,pt.toString()),P&&P(pt))}O.useEffect(function(){De({type:"RESET"})},[De,K,Ce]),O.useEffect(function(){if(!K||!ge)return;const ui=Nd(K.getPage(ge)),Or=ui;return ui.promise.then(Gt=>{De({type:"RESOLVE",value:Gt})}).catch(Gt=>{De({type:"REJECT",error:Gt})}),()=>Ra(Or)},[De,K,ge]),O.useEffect(()=>{if(le!==void 0){if(le===!1){qn();return}Yn()}},[le,$e]);const Rc=O.useMemo(()=>le&&co(Ce)&&ge&&co(Ye)&&co($e)?{_className:r,canvasBackground:s,customTextRenderer:h,devicePixelRatio:d,onGetAnnotationsError:m,onGetAnnotationsSuccess:y,onGetStructTreeError:w,onGetStructTreeSuccess:S,onGetTextError:C,onGetTextSuccess:k,onRenderAnnotationLayerError:D,onRenderAnnotationLayerSuccess:I,onRenderError:M,onRenderSuccess:U,onRenderTextLayerError:W,onRenderTextLayerSuccess:$,page:le,pageIndex:Ce,pageNumber:ge,renderForms:H,renderTextLayer:G,rotate:Ye,scale:$e}:null,[r,s,h,d,m,y,w,S,C,k,D,I,M,U,W,$,le,Ce,ge,H,G,Ye,$e]),Lc=O.useMemo(()=>U1(re,()=>le&&($e?Ry(le,$e):void 0)),[re,le,$e]),Fr=`${Ce}@${$e}/${Ye}`;function so(){switch(J){case"custom":return Ge(c),L.jsx(c,{},`${Fr}_custom`);case"none":return null;case"canvas":default:return L.jsx(JM,{canvasRef:o},`${Fr}_canvas`)}}function oo(){return G?L.jsx(eD,{},`${Fr}_text`):null}function Mc(){return z?L.jsx(tD,{},`${Fr}_annotations`):null}function ao(){return L.jsxs(Y1.Provider,{value:Rc,children:[so(),oo(),Mc(),a]})}function Qn(){return ge?K===null||le===void 0||le===null?L.jsx(El,{type:"loading",children:typeof v=="function"?v():v}):K===!1||le===!1?L.jsx(El,{type:"error",children:typeof f=="function"?f():f}):ao():L.jsx(El,{type:"no-data",children:typeof _=="function"?_():_})}return L.jsx("div",Object.assign({className:Rg(r,l),"data-page-number":ge,ref:K1(g,mn),style:{"--scale-factor":`${$e}`,backgroundColor:s||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},Lc,{children:Qn()}))}zM();U0.workerSrc="pdf.worker.mjs";U0.workerSrc=`//unpkg.com/pdfjs-dist@${B1}/build/pdf.worker.min.mjs`;const iD=()=>L.jsx(GM,{file:"src/assets/BinhLeResume.pdf",children:L.jsx(rD,{pageNumber:1})}),sD=nP([{path:"/",element:L.jsx(yP,{})},{path:"/experience",element:L.jsx(wP,{})},{path:"/projects",element:L.jsx(_P,{})},{path:"/about",element:L.jsx(EP,{})},{path:"/resume",element:L.jsx(iD,{})}]);ym.createRoot(document.getElementById("root")).render(L.jsx(AE.StrictMode,{children:L.jsx(hP,{router:sD})}));
