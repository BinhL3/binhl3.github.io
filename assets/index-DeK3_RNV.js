var dx=Object.defineProperty;var nw=n=>{throw TypeError(n)};var fx=(n,e,t)=>e in n?dx(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var de=(n,e,t)=>fx(n,typeof e!="symbol"?e+"":e,t),Ng=(n,e,t)=>e.has(n)||nw("Cannot "+t);var c=(n,e,t)=>(Ng(n,e,"read from private field"),t?t.call(n):e.get(n)),E=(n,e,t)=>e.has(n)?nw("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),w=(n,e,t,i)=>(Ng(n,e,"write to private field"),i?i.call(n,t):e.set(n,t),t),_=(n,e,t)=>(Ng(n,e,"access private method"),t);var xn=(n,e,t,i)=>({set _(r){w(n,e,r,t)},get _(){return c(n,e,i)}});function hA(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function Xp(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var dA={exports:{}},Kp={},fA={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vd=Symbol.for("react.element"),px=Symbol.for("react.portal"),gx=Symbol.for("react.fragment"),mx=Symbol.for("react.strict_mode"),vx=Symbol.for("react.profiler"),yx=Symbol.for("react.provider"),wx=Symbol.for("react.context"),_x=Symbol.for("react.forward_ref"),Ax=Symbol.for("react.suspense"),Ex=Symbol.for("react.memo"),Sx=Symbol.for("react.lazy"),iw=Symbol.iterator;function bx(n){return n===null||typeof n!="object"?null:(n=iw&&n[iw]||n["@@iterator"],typeof n=="function"?n:null)}var pA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gA=Object.assign,mA={};function Ac(n,e,t){this.props=n,this.context=e,this.refs=mA,this.updater=t||pA}Ac.prototype.isReactComponent={};Ac.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Ac.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function vA(){}vA.prototype=Ac.prototype;function Ly(n,e,t){this.props=n,this.context=e,this.refs=mA,this.updater=t||pA}var My=Ly.prototype=new vA;My.constructor=Ly;gA(My,Ac.prototype);My.isPureReactComponent=!0;var rw=Array.isArray,yA=Object.prototype.hasOwnProperty,Dy={current:null},wA={key:!0,ref:!0,__self:!0,__source:!0};function _A(n,e,t){var i,r={},s=null,a=null;if(e!=null)for(i in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)yA.call(e,i)&&!wA.hasOwnProperty(i)&&(r[i]=e[i]);var o=arguments.length-2;if(o===1)r.children=t;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];r.children=l}if(n&&n.defaultProps)for(i in o=n.defaultProps,o)r[i]===void 0&&(r[i]=o[i]);return{$$typeof:vd,type:n,key:s,ref:a,props:r,_owner:Dy.current}}function xx(n,e){return{$$typeof:vd,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function Iy(n){return typeof n=="object"&&n!==null&&n.$$typeof===vd}function Cx(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var sw=/\/+/g;function Og(n,e){return typeof n=="object"&&n!==null&&n.key!=null?Cx(""+n.key):e.toString(36)}function lf(n,e,t,i,r){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var a=!1;if(n===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(n.$$typeof){case vd:case px:a=!0}}if(a)return a=n,r=r(a),n=i===""?"."+Og(a,0):i,rw(r)?(t="",n!=null&&(t=n.replace(sw,"$&/")+"/"),lf(r,e,t,"",function(u){return u})):r!=null&&(Iy(r)&&(r=xx(r,t+(!r.key||a&&a.key===r.key?"":(""+r.key).replace(sw,"$&/")+"/")+n)),e.push(r)),1;if(a=0,i=i===""?".":i+":",rw(n))for(var o=0;o<n.length;o++){s=n[o];var l=i+Og(s,o);a+=lf(s,e,t,l,r)}else if(l=bx(n),typeof l=="function")for(n=l.call(n),o=0;!(s=n.next()).done;)s=s.value,l=i+Og(s,o++),a+=lf(s,e,t,l,r);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Od(n,e,t){if(n==null)return n;var i=[],r=0;return lf(n,i,"","",function(s){return e.call(t,s,r++)}),i}function kx(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var un={current:null},cf={transition:null},Tx={ReactCurrentDispatcher:un,ReactCurrentBatchConfig:cf,ReactCurrentOwner:Dy};function AA(){throw Error("act(...) is not supported in production builds of React.")}_e.Children={map:Od,forEach:function(n,e,t){Od(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Od(n,function(){e++}),e},toArray:function(n){return Od(n,function(e){return e})||[]},only:function(n){if(!Iy(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};_e.Component=Ac;_e.Fragment=gx;_e.Profiler=vx;_e.PureComponent=Ly;_e.StrictMode=mx;_e.Suspense=Ax;_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tx;_e.act=AA;_e.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=gA({},n.props),r=n.key,s=n.ref,a=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=Dy.current),e.key!==void 0&&(r=""+e.key),n.type&&n.type.defaultProps)var o=n.type.defaultProps;for(l in e)yA.call(e,l)&&!wA.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=t;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];i.children=o}return{$$typeof:vd,type:n.type,key:r,ref:s,props:i,_owner:a}};_e.createContext=function(n){return n={$$typeof:wx,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:yx,_context:n},n.Consumer=n};_e.createElement=_A;_e.createFactory=function(n){var e=_A.bind(null,n);return e.type=n,e};_e.createRef=function(){return{current:null}};_e.forwardRef=function(n){return{$$typeof:_x,render:n}};_e.isValidElement=Iy;_e.lazy=function(n){return{$$typeof:Sx,_payload:{_status:-1,_result:n},_init:kx}};_e.memo=function(n,e){return{$$typeof:Ex,type:n,compare:e===void 0?null:e}};_e.startTransition=function(n){var e=cf.transition;cf.transition={};try{n()}finally{cf.transition=e}};_e.unstable_act=AA;_e.useCallback=function(n,e){return un.current.useCallback(n,e)};_e.useContext=function(n){return un.current.useContext(n)};_e.useDebugValue=function(){};_e.useDeferredValue=function(n){return un.current.useDeferredValue(n)};_e.useEffect=function(n,e){return un.current.useEffect(n,e)};_e.useId=function(){return un.current.useId()};_e.useImperativeHandle=function(n,e,t){return un.current.useImperativeHandle(n,e,t)};_e.useInsertionEffect=function(n,e){return un.current.useInsertionEffect(n,e)};_e.useLayoutEffect=function(n,e){return un.current.useLayoutEffect(n,e)};_e.useMemo=function(n,e){return un.current.useMemo(n,e)};_e.useReducer=function(n,e,t){return un.current.useReducer(n,e,t)};_e.useRef=function(n){return un.current.useRef(n)};_e.useState=function(n){return un.current.useState(n)};_e.useSyncExternalStore=function(n,e,t){return un.current.useSyncExternalStore(n,e,t)};_e.useTransition=function(){return un.current.useTransition()};_e.version="18.3.1";fA.exports=_e;var z=fA.exports;const EA=Xp(z),Px=hA({__proto__:null,default:EA},[z]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rx=z,Lx=Symbol.for("react.element"),Mx=Symbol.for("react.fragment"),Dx=Object.prototype.hasOwnProperty,Ix=Rx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Fx={key:!0,ref:!0,__self:!0,__source:!0};function SA(n,e,t){var i,r={},s=null,a=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(i in e)Dx.call(e,i)&&!Fx.hasOwnProperty(i)&&(r[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:Lx,type:n,key:s,ref:a,props:r,_owner:Ix.current}}Kp.Fragment=Mx;Kp.jsx=SA;Kp.jsxs=SA;dA.exports=Kp;var C=dA.exports,ym={},bA={exports:{}},Un={},xA={exports:{}},CA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(P,H){var W=P.length;P.push(H);e:for(;0<W;){var ie=W-1>>>1,Y=P[ie];if(0<r(Y,H))P[ie]=H,P[W]=Y,W=ie;else break e}}function t(P){return P.length===0?null:P[0]}function i(P){if(P.length===0)return null;var H=P[0],W=P.pop();if(W!==H){P[0]=W;e:for(var ie=0,Y=P.length,re=Y>>>1;ie<re;){var ue=2*(ie+1)-1,Ve=P[ue],Ae=ue+1,he=P[Ae];if(0>r(Ve,W))Ae<Y&&0>r(he,Ve)?(P[ie]=he,P[Ae]=W,ie=Ae):(P[ie]=Ve,P[ue]=W,ie=ue);else if(Ae<Y&&0>r(he,W))P[ie]=he,P[Ae]=W,ie=Ae;else break e}}return H}function r(P,H){var W=P.sortIndex-H.sortIndex;return W!==0?W:P.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();n.unstable_now=function(){return a.now()-o}}var l=[],u=[],h=1,d=null,f=3,p=!1,g=!1,v=!1,S=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(P){for(var H=t(u);H!==null;){if(H.callback===null)i(u);else if(H.startTime<=P)i(u),H.sortIndex=H.expirationTime,e(l,H);else break;H=t(u)}}function x(P){if(v=!1,A(P),!g)if(t(l)!==null)g=!0,N(T);else{var H=t(u);H!==null&&D(x,H.startTime-P)}}function T(P,H){g=!1,v&&(v=!1,m(b),b=-1),p=!0;var W=f;try{for(A(H),d=t(l);d!==null&&(!(d.expirationTime>H)||P&&!U());){var ie=d.callback;if(typeof ie=="function"){d.callback=null,f=d.priorityLevel;var Y=ie(d.expirationTime<=H);H=n.unstable_now(),typeof Y=="function"?d.callback=Y:d===t(l)&&i(l),A(H)}else i(l);d=t(l)}if(d!==null)var re=!0;else{var ue=t(u);ue!==null&&D(x,ue.startTime-H),re=!1}return re}finally{d=null,f=W,p=!1}}var L=!1,F=null,b=-1,O=5,B=-1;function U(){return!(n.unstable_now()-B<O)}function ee(){if(F!==null){var P=n.unstable_now();B=P;var H=!0;try{H=F(!0,P)}finally{H?Z():(L=!1,F=null)}}else L=!1}var Z;if(typeof y=="function")Z=function(){y(ee)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,M=I.port2;I.port1.onmessage=ee,Z=function(){M.postMessage(null)}}else Z=function(){S(ee,0)};function N(P){F=P,L||(L=!0,Z())}function D(P,H){b=S(function(){P(n.unstable_now())},H)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(P){P.callback=null},n.unstable_continueExecution=function(){g||p||(g=!0,N(T))},n.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<P?Math.floor(1e3/P):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(P){switch(f){case 1:case 2:case 3:var H=3;break;default:H=f}var W=f;f=H;try{return P()}finally{f=W}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(P,H){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var W=f;f=P;try{return H()}finally{f=W}},n.unstable_scheduleCallback=function(P,H,W){var ie=n.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ie+W:ie):W=ie,P){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=W+Y,P={id:h++,callback:H,priorityLevel:P,startTime:W,expirationTime:Y,sortIndex:-1},W>ie?(P.sortIndex=W,e(u,P),t(l)===null&&P===t(u)&&(v?(m(b),b=-1):v=!0,D(x,W-ie))):(P.sortIndex=Y,e(l,P),g||p||(g=!0,N(T))),P},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(P){var H=f;return function(){var W=f;f=H;try{return P.apply(this,arguments)}finally{f=W}}}})(CA);xA.exports=CA;var Nx=xA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ox=z,Bn=Nx;function V(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var kA=new Set,yu={};function Ro(n,e){fc(n,e),fc(n+"Capture",e)}function fc(n,e){for(yu[n]=e,n=0;n<e.length;n++)kA.add(e[n])}var Xr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wm=Object.prototype.hasOwnProperty,jx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,aw={},ow={};function zx(n){return wm.call(ow,n)?!0:wm.call(aw,n)?!1:jx.test(n)?ow[n]=!0:(aw[n]=!0,!1)}function Hx(n,e,t,i){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function Bx(n,e,t,i){if(e===null||typeof e>"u"||Hx(n,e,t,i))return!0;if(i)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function hn(n,e,t,i,r,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var $t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){$t[n]=new hn(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];$t[e]=new hn(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){$t[n]=new hn(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){$t[n]=new hn(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){$t[n]=new hn(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){$t[n]=new hn(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){$t[n]=new hn(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){$t[n]=new hn(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){$t[n]=new hn(n,5,!1,n.toLowerCase(),null,!1,!1)});var Fy=/[\-:]([a-z])/g;function Ny(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(Fy,Ny);$t[e]=new hn(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(Fy,Ny);$t[e]=new hn(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(Fy,Ny);$t[e]=new hn(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){$t[n]=new hn(n,1,!1,n.toLowerCase(),null,!1,!1)});$t.xlinkHref=new hn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){$t[n]=new hn(n,1,!1,n.toLowerCase(),null,!0,!0)});function Oy(n,e,t,i){var r=$t.hasOwnProperty(e)?$t[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Bx(e,t,r,i)&&(t=null),i||r===null?zx(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):r.mustUseProperty?n[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,i=r.attributeNamespace,t===null?n.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,i?n.setAttributeNS(i,e,t):n.setAttribute(e,t))))}var Zr=Ox.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,jd=Symbol.for("react.element"),Ko=Symbol.for("react.portal"),qo=Symbol.for("react.fragment"),jy=Symbol.for("react.strict_mode"),_m=Symbol.for("react.profiler"),TA=Symbol.for("react.provider"),PA=Symbol.for("react.context"),zy=Symbol.for("react.forward_ref"),Am=Symbol.for("react.suspense"),Em=Symbol.for("react.suspense_list"),Hy=Symbol.for("react.memo"),cs=Symbol.for("react.lazy"),RA=Symbol.for("react.offscreen"),lw=Symbol.iterator;function Cc(n){return n===null||typeof n!="object"?null:(n=lw&&n[lw]||n["@@iterator"],typeof n=="function"?n:null)}var st=Object.assign,jg;function Hc(n){if(jg===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);jg=e&&e[1]||""}return`
`+jg+n}var zg=!1;function Hg(n,e){if(!n||zg)return"";zg=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var i=u}Reflect.construct(n,[],e)}else{try{e.call()}catch(u){i=u}n.call(e.prototype)}else{try{throw Error()}catch(u){i=u}n()}}catch(u){if(u&&i&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),s=i.stack.split(`
`),a=r.length-1,o=s.length-1;1<=a&&0<=o&&r[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(r[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||r[a]!==s[o]){var l=`
`+r[a].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=a&&0<=o);break}}}finally{zg=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Hc(n):""}function Ux(n){switch(n.tag){case 5:return Hc(n.type);case 16:return Hc("Lazy");case 13:return Hc("Suspense");case 19:return Hc("SuspenseList");case 0:case 2:case 15:return n=Hg(n.type,!1),n;case 11:return n=Hg(n.type.render,!1),n;case 1:return n=Hg(n.type,!0),n;default:return""}}function Sm(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case qo:return"Fragment";case Ko:return"Portal";case _m:return"Profiler";case jy:return"StrictMode";case Am:return"Suspense";case Em:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case PA:return(n.displayName||"Context")+".Consumer";case TA:return(n._context.displayName||"Context")+".Provider";case zy:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Hy:return e=n.displayName||null,e!==null?e:Sm(n.type)||"Memo";case cs:e=n._payload,n=n._init;try{return Sm(n(e))}catch{}}return null}function $x(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Sm(e);case 8:return e===jy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ws(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function LA(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Vx(n){var e=LA(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return r.call(this)},set:function(a){i=""+a,s.call(this,a)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function zd(n){n._valueTracker||(n._valueTracker=Vx(n))}function MA(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return n&&(i=LA(n)?n.checked?"true":"false":n.value),n=i,n!==t?(e.setValue(n),!0):!1}function Xf(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function bm(n,e){var t=e.checked;return st({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function cw(n,e){var t=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;t=Ws(e.value!=null?e.value:t),n._wrapperState={initialChecked:i,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function DA(n,e){e=e.checked,e!=null&&Oy(n,"checked",e,!1)}function xm(n,e){DA(n,e);var t=Ws(e.value),i=e.type;if(t!=null)i==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?Cm(n,e.type,t):e.hasOwnProperty("defaultValue")&&Cm(n,e.type,Ws(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function uw(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function Cm(n,e,t){(e!=="number"||Xf(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Bc=Array.isArray;function ll(n,e,t,i){if(n=n.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<n.length;t++)r=e.hasOwnProperty("$"+n[t].value),n[t].selected!==r&&(n[t].selected=r),r&&i&&(n[t].defaultSelected=!0)}else{for(t=""+Ws(t),e=null,r=0;r<n.length;r++){if(n[r].value===t){n[r].selected=!0,i&&(n[r].defaultSelected=!0);return}e!==null||n[r].disabled||(e=n[r])}e!==null&&(e.selected=!0)}}function km(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(V(91));return st({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function hw(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(V(92));if(Bc(t)){if(1<t.length)throw Error(V(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Ws(t)}}function IA(n,e){var t=Ws(e.value),i=Ws(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),i!=null&&(n.defaultValue=""+i)}function dw(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function FA(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tm(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?FA(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Hd,NA=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,i,r){MSApp.execUnsafeLocalFunction(function(){return n(e,t,i,r)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Hd=Hd||document.createElement("div"),Hd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Hd.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function wu(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var au={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Wx=["Webkit","ms","Moz","O"];Object.keys(au).forEach(function(n){Wx.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),au[e]=au[n]})});function OA(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||au.hasOwnProperty(n)&&au[n]?(""+e).trim():e+"px"}function jA(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var i=t.indexOf("--")===0,r=OA(t,e[t],i);t==="float"&&(t="cssFloat"),i?n.setProperty(t,r):n[t]=r}}var Gx=st({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pm(n,e){if(e){if(Gx[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(V(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(V(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(V(61))}if(e.style!=null&&typeof e.style!="object")throw Error(V(62))}}function Rm(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lm=null;function By(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Mm=null,cl=null,ul=null;function fw(n){if(n=_d(n)){if(typeof Mm!="function")throw Error(V(280));var e=n.stateNode;e&&(e=Zp(e),Mm(n.stateNode,n.type,e))}}function zA(n){cl?ul?ul.push(n):ul=[n]:cl=n}function HA(){if(cl){var n=cl,e=ul;if(ul=cl=null,fw(n),e)for(n=0;n<e.length;n++)fw(e[n])}}function BA(n,e){return n(e)}function UA(){}var Bg=!1;function $A(n,e,t){if(Bg)return n(e,t);Bg=!0;try{return BA(n,e,t)}finally{Bg=!1,(cl!==null||ul!==null)&&(UA(),HA())}}function _u(n,e){var t=n.stateNode;if(t===null)return null;var i=Zp(t);if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(V(231,e,typeof t));return t}var Dm=!1;if(Xr)try{var kc={};Object.defineProperty(kc,"passive",{get:function(){Dm=!0}}),window.addEventListener("test",kc,kc),window.removeEventListener("test",kc,kc)}catch{Dm=!1}function Xx(n,e,t,i,r,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(t,u)}catch(h){this.onError(h)}}var ou=!1,Kf=null,qf=!1,Im=null,Kx={onError:function(n){ou=!0,Kf=n}};function qx(n,e,t,i,r,s,a,o,l){ou=!1,Kf=null,Xx.apply(Kx,arguments)}function Yx(n,e,t,i,r,s,a,o,l){if(qx.apply(this,arguments),ou){if(ou){var u=Kf;ou=!1,Kf=null}else throw Error(V(198));qf||(qf=!0,Im=u)}}function Lo(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function VA(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function pw(n){if(Lo(n)!==n)throw Error(V(188))}function Qx(n){var e=n.alternate;if(!e){if(e=Lo(n),e===null)throw Error(V(188));return e!==n?null:n}for(var t=n,i=e;;){var r=t.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){t=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===t)return pw(r),n;if(s===i)return pw(r),e;s=s.sibling}throw Error(V(188))}if(t.return!==i.return)t=r,i=s;else{for(var a=!1,o=r.child;o;){if(o===t){a=!0,t=r,i=s;break}if(o===i){a=!0,i=r,t=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===t){a=!0,t=s,i=r;break}if(o===i){a=!0,i=s,t=r;break}o=o.sibling}if(!a)throw Error(V(189))}}if(t.alternate!==i)throw Error(V(190))}if(t.tag!==3)throw Error(V(188));return t.stateNode.current===t?n:e}function WA(n){return n=Qx(n),n!==null?GA(n):null}function GA(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=GA(n);if(e!==null)return e;n=n.sibling}return null}var XA=Bn.unstable_scheduleCallback,gw=Bn.unstable_cancelCallback,Jx=Bn.unstable_shouldYield,Zx=Bn.unstable_requestPaint,ht=Bn.unstable_now,eC=Bn.unstable_getCurrentPriorityLevel,Uy=Bn.unstable_ImmediatePriority,KA=Bn.unstable_UserBlockingPriority,Yf=Bn.unstable_NormalPriority,tC=Bn.unstable_LowPriority,qA=Bn.unstable_IdlePriority,qp=null,Ji=null;function nC(n){if(Ji&&typeof Ji.onCommitFiberRoot=="function")try{Ji.onCommitFiberRoot(qp,n,void 0,(n.current.flags&128)===128)}catch{}}var ki=Math.clz32?Math.clz32:sC,iC=Math.log,rC=Math.LN2;function sC(n){return n>>>=0,n===0?32:31-(iC(n)/rC|0)|0}var Bd=64,Ud=4194304;function Uc(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Qf(n,e){var t=n.pendingLanes;if(t===0)return 0;var i=0,r=n.suspendedLanes,s=n.pingedLanes,a=t&268435455;if(a!==0){var o=a&~r;o!==0?i=Uc(o):(s&=a,s!==0&&(i=Uc(s)))}else a=t&~r,a!==0?i=Uc(a):s!==0&&(i=Uc(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)t=31-ki(e),r=1<<t,i|=n[t],e&=~r;return i}function aC(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oC(n,e){for(var t=n.suspendedLanes,i=n.pingedLanes,r=n.expirationTimes,s=n.pendingLanes;0<s;){var a=31-ki(s),o=1<<a,l=r[a];l===-1?(!(o&t)||o&i)&&(r[a]=aC(o,e)):l<=e&&(n.expiredLanes|=o),s&=~o}}function Fm(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function YA(){var n=Bd;return Bd<<=1,!(Bd&4194240)&&(Bd=64),n}function Ug(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function yd(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-ki(e),n[e]=t}function lC(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<t;){var r=31-ki(t),s=1<<r;e[r]=0,i[r]=-1,n[r]=-1,t&=~s}}function $y(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var i=31-ki(t),r=1<<i;r&e|n[i]&e&&(n[i]|=e),t&=~r}}var De=0;function QA(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var JA,Vy,ZA,eE,tE,Nm=!1,$d=[],Os=null,js=null,zs=null,Au=new Map,Eu=new Map,hs=[],cC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mw(n,e){switch(n){case"focusin":case"focusout":Os=null;break;case"dragenter":case"dragleave":js=null;break;case"mouseover":case"mouseout":zs=null;break;case"pointerover":case"pointerout":Au.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Eu.delete(e.pointerId)}}function Tc(n,e,t,i,r,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=_d(e),e!==null&&Vy(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),n)}function uC(n,e,t,i,r){switch(e){case"focusin":return Os=Tc(Os,n,e,t,i,r),!0;case"dragenter":return js=Tc(js,n,e,t,i,r),!0;case"mouseover":return zs=Tc(zs,n,e,t,i,r),!0;case"pointerover":var s=r.pointerId;return Au.set(s,Tc(Au.get(s)||null,n,e,t,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Eu.set(s,Tc(Eu.get(s)||null,n,e,t,i,r)),!0}return!1}function nE(n){var e=pa(n.target);if(e!==null){var t=Lo(e);if(t!==null){if(e=t.tag,e===13){if(e=VA(t),e!==null){n.blockedOn=e,tE(n.priority,function(){ZA(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function uf(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=Om(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var i=new t.constructor(t.type,t);Lm=i,t.target.dispatchEvent(i),Lm=null}else return e=_d(t),e!==null&&Vy(e),n.blockedOn=t,!1;e.shift()}return!0}function vw(n,e,t){uf(n)&&t.delete(e)}function hC(){Nm=!1,Os!==null&&uf(Os)&&(Os=null),js!==null&&uf(js)&&(js=null),zs!==null&&uf(zs)&&(zs=null),Au.forEach(vw),Eu.forEach(vw)}function Pc(n,e){n.blockedOn===e&&(n.blockedOn=null,Nm||(Nm=!0,Bn.unstable_scheduleCallback(Bn.unstable_NormalPriority,hC)))}function Su(n){function e(r){return Pc(r,n)}if(0<$d.length){Pc($d[0],n);for(var t=1;t<$d.length;t++){var i=$d[t];i.blockedOn===n&&(i.blockedOn=null)}}for(Os!==null&&Pc(Os,n),js!==null&&Pc(js,n),zs!==null&&Pc(zs,n),Au.forEach(e),Eu.forEach(e),t=0;t<hs.length;t++)i=hs[t],i.blockedOn===n&&(i.blockedOn=null);for(;0<hs.length&&(t=hs[0],t.blockedOn===null);)nE(t),t.blockedOn===null&&hs.shift()}var hl=Zr.ReactCurrentBatchConfig,Jf=!0;function dC(n,e,t,i){var r=De,s=hl.transition;hl.transition=null;try{De=1,Wy(n,e,t,i)}finally{De=r,hl.transition=s}}function fC(n,e,t,i){var r=De,s=hl.transition;hl.transition=null;try{De=4,Wy(n,e,t,i)}finally{De=r,hl.transition=s}}function Wy(n,e,t,i){if(Jf){var r=Om(n,e,t,i);if(r===null)Jg(n,e,i,Zf,t),mw(n,i);else if(uC(r,n,e,t,i))i.stopPropagation();else if(mw(n,i),e&4&&-1<cC.indexOf(n)){for(;r!==null;){var s=_d(r);if(s!==null&&JA(s),s=Om(n,e,t,i),s===null&&Jg(n,e,i,Zf,t),s===r)break;r=s}r!==null&&i.stopPropagation()}else Jg(n,e,i,null,t)}}var Zf=null;function Om(n,e,t,i){if(Zf=null,n=By(i),n=pa(n),n!==null)if(e=Lo(n),e===null)n=null;else if(t=e.tag,t===13){if(n=VA(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Zf=n,null}function iE(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(eC()){case Uy:return 1;case KA:return 4;case Yf:case tC:return 16;case qA:return 536870912;default:return 16}default:return 16}}var Fs=null,Gy=null,hf=null;function rE(){if(hf)return hf;var n,e=Gy,t=e.length,i,r="value"in Fs?Fs.value:Fs.textContent,s=r.length;for(n=0;n<t&&e[n]===r[n];n++);var a=t-n;for(i=1;i<=a&&e[t-i]===r[s-i];i++);return hf=r.slice(n,1<i?1-i:void 0)}function df(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Vd(){return!0}function yw(){return!1}function $n(n){function e(t,i,r,s,a){this._reactName=t,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in n)n.hasOwnProperty(o)&&(t=n[o],this[o]=t?t(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Vd:yw,this.isPropagationStopped=yw,this}return st(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Vd)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Vd)},persist:function(){},isPersistent:Vd}),e}var Ec={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xy=$n(Ec),wd=st({},Ec,{view:0,detail:0}),pC=$n(wd),$g,Vg,Rc,Yp=st({},wd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ky,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Rc&&(Rc&&n.type==="mousemove"?($g=n.screenX-Rc.screenX,Vg=n.screenY-Rc.screenY):Vg=$g=0,Rc=n),$g)},movementY:function(n){return"movementY"in n?n.movementY:Vg}}),ww=$n(Yp),gC=st({},Yp,{dataTransfer:0}),mC=$n(gC),vC=st({},wd,{relatedTarget:0}),Wg=$n(vC),yC=st({},Ec,{animationName:0,elapsedTime:0,pseudoElement:0}),wC=$n(yC),_C=st({},Ec,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),AC=$n(_C),EC=st({},Ec,{data:0}),_w=$n(EC),SC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function CC(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=xC[n])?!!e[n]:!1}function Ky(){return CC}var kC=st({},wd,{key:function(n){if(n.key){var e=SC[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=df(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?bC[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ky,charCode:function(n){return n.type==="keypress"?df(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?df(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),TC=$n(kC),PC=st({},Yp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Aw=$n(PC),RC=st({},wd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ky}),LC=$n(RC),MC=st({},Ec,{propertyName:0,elapsedTime:0,pseudoElement:0}),DC=$n(MC),IC=st({},Yp,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),FC=$n(IC),NC=[9,13,27,32],qy=Xr&&"CompositionEvent"in window,lu=null;Xr&&"documentMode"in document&&(lu=document.documentMode);var OC=Xr&&"TextEvent"in window&&!lu,sE=Xr&&(!qy||lu&&8<lu&&11>=lu),Ew=" ",Sw=!1;function aE(n,e){switch(n){case"keyup":return NC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oE(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Yo=!1;function jC(n,e){switch(n){case"compositionend":return oE(e);case"keypress":return e.which!==32?null:(Sw=!0,Ew);case"textInput":return n=e.data,n===Ew&&Sw?null:n;default:return null}}function zC(n,e){if(Yo)return n==="compositionend"||!qy&&aE(n,e)?(n=rE(),hf=Gy=Fs=null,Yo=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return sE&&e.locale!=="ko"?null:e.data;default:return null}}var HC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bw(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!HC[n.type]:e==="textarea"}function lE(n,e,t,i){zA(i),e=ep(e,"onChange"),0<e.length&&(t=new Xy("onChange","change",null,t,i),n.push({event:t,listeners:e}))}var cu=null,bu=null;function BC(n){wE(n,0)}function Qp(n){var e=Zo(n);if(MA(e))return n}function UC(n,e){if(n==="change")return e}var cE=!1;if(Xr){var Gg;if(Xr){var Xg="oninput"in document;if(!Xg){var xw=document.createElement("div");xw.setAttribute("oninput","return;"),Xg=typeof xw.oninput=="function"}Gg=Xg}else Gg=!1;cE=Gg&&(!document.documentMode||9<document.documentMode)}function Cw(){cu&&(cu.detachEvent("onpropertychange",uE),bu=cu=null)}function uE(n){if(n.propertyName==="value"&&Qp(bu)){var e=[];lE(e,bu,n,By(n)),$A(BC,e)}}function $C(n,e,t){n==="focusin"?(Cw(),cu=e,bu=t,cu.attachEvent("onpropertychange",uE)):n==="focusout"&&Cw()}function VC(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Qp(bu)}function WC(n,e){if(n==="click")return Qp(e)}function GC(n,e){if(n==="input"||n==="change")return Qp(e)}function XC(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Pi=typeof Object.is=="function"?Object.is:XC;function xu(n,e){if(Pi(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var r=t[i];if(!wm.call(e,r)||!Pi(n[r],e[r]))return!1}return!0}function kw(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Tw(n,e){var t=kw(n);n=0;for(var i;t;){if(t.nodeType===3){if(i=n+t.textContent.length,n<=e&&i>=e)return{node:t,offset:e-n};n=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=kw(t)}}function hE(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?hE(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function dE(){for(var n=window,e=Xf();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Xf(n.document)}return e}function Yy(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function KC(n){var e=dE(),t=n.focusedElem,i=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&hE(t.ownerDocument.documentElement,t)){if(i!==null&&Yy(t)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var r=t.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!n.extend&&s>i&&(r=i,i=s,s=r),r=Tw(t,s);var a=Tw(t,i);r&&a&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==a.node||n.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),n.removeAllRanges(),s>i?(n.addRange(e),n.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var qC=Xr&&"documentMode"in document&&11>=document.documentMode,Qo=null,jm=null,uu=null,zm=!1;function Pw(n,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;zm||Qo==null||Qo!==Xf(i)||(i=Qo,"selectionStart"in i&&Yy(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),uu&&xu(uu,i)||(uu=i,i=ep(jm,"onSelect"),0<i.length&&(e=new Xy("onSelect","select",null,e,t),n.push({event:e,listeners:i}),e.target=Qo)))}function Wd(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Jo={animationend:Wd("Animation","AnimationEnd"),animationiteration:Wd("Animation","AnimationIteration"),animationstart:Wd("Animation","AnimationStart"),transitionend:Wd("Transition","TransitionEnd")},Kg={},fE={};Xr&&(fE=document.createElement("div").style,"AnimationEvent"in window||(delete Jo.animationend.animation,delete Jo.animationiteration.animation,delete Jo.animationstart.animation),"TransitionEvent"in window||delete Jo.transitionend.transition);function Jp(n){if(Kg[n])return Kg[n];if(!Jo[n])return n;var e=Jo[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in fE)return Kg[n]=e[t];return n}var pE=Jp("animationend"),gE=Jp("animationiteration"),mE=Jp("animationstart"),vE=Jp("transitionend"),yE=new Map,Rw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ys(n,e){yE.set(n,e),Ro(e,[n])}for(var qg=0;qg<Rw.length;qg++){var Yg=Rw[qg],YC=Yg.toLowerCase(),QC=Yg[0].toUpperCase()+Yg.slice(1);Ys(YC,"on"+QC)}Ys(pE,"onAnimationEnd");Ys(gE,"onAnimationIteration");Ys(mE,"onAnimationStart");Ys("dblclick","onDoubleClick");Ys("focusin","onFocus");Ys("focusout","onBlur");Ys(vE,"onTransitionEnd");fc("onMouseEnter",["mouseout","mouseover"]);fc("onMouseLeave",["mouseout","mouseover"]);fc("onPointerEnter",["pointerout","pointerover"]);fc("onPointerLeave",["pointerout","pointerover"]);Ro("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ro("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ro("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ro("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ro("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ro("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $c="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JC=new Set("cancel close invalid load scroll toggle".split(" ").concat($c));function Lw(n,e,t){var i=n.type||"unknown-event";n.currentTarget=t,Yx(i,e,void 0,n),n.currentTarget=null}function wE(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var i=n[t],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var a=i.length-1;0<=a;a--){var o=i[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&r.isPropagationStopped())break e;Lw(r,o,u),s=l}else for(a=0;a<i.length;a++){if(o=i[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&r.isPropagationStopped())break e;Lw(r,o,u),s=l}}}if(qf)throw n=Im,qf=!1,Im=null,n}function qe(n,e){var t=e[Vm];t===void 0&&(t=e[Vm]=new Set);var i=n+"__bubble";t.has(i)||(_E(e,n,2,!1),t.add(i))}function Qg(n,e,t){var i=0;e&&(i|=4),_E(t,n,i,e)}var Gd="_reactListening"+Math.random().toString(36).slice(2);function Cu(n){if(!n[Gd]){n[Gd]=!0,kA.forEach(function(t){t!=="selectionchange"&&(JC.has(t)||Qg(t,!1,n),Qg(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Gd]||(e[Gd]=!0,Qg("selectionchange",!1,e))}}function _E(n,e,t,i){switch(iE(e)){case 1:var r=dC;break;case 4:r=fC;break;default:r=Wy}t=r.bind(null,e,t,n),r=void 0,!Dm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?n.addEventListener(e,t,{capture:!0,passive:r}):n.addEventListener(e,t,!0):r!==void 0?n.addEventListener(e,t,{passive:r}):n.addEventListener(e,t,!1)}function Jg(n,e,t,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var o=i.stateNode.containerInfo;if(o===r||o.nodeType===8&&o.parentNode===r)break;if(a===4)for(a=i.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;a=a.return}for(;o!==null;){if(a=pa(o),a===null)return;if(l=a.tag,l===5||l===6){i=s=a;continue e}o=o.parentNode}}i=i.return}$A(function(){var u=s,h=By(t),d=[];e:{var f=yE.get(n);if(f!==void 0){var p=Xy,g=n;switch(n){case"keypress":if(df(t)===0)break e;case"keydown":case"keyup":p=TC;break;case"focusin":g="focus",p=Wg;break;case"focusout":g="blur",p=Wg;break;case"beforeblur":case"afterblur":p=Wg;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=ww;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=mC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=LC;break;case pE:case gE:case mE:p=wC;break;case vE:p=DC;break;case"scroll":p=pC;break;case"wheel":p=FC;break;case"copy":case"cut":case"paste":p=AC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Aw}var v=(e&4)!==0,S=!v&&n==="scroll",m=v?f!==null?f+"Capture":null:f;v=[];for(var y=u,A;y!==null;){A=y;var x=A.stateNode;if(A.tag===5&&x!==null&&(A=x,m!==null&&(x=_u(y,m),x!=null&&v.push(ku(y,x,A)))),S)break;y=y.return}0<v.length&&(f=new p(f,g,null,t,h),d.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=n==="mouseover"||n==="pointerover",p=n==="mouseout"||n==="pointerout",f&&t!==Lm&&(g=t.relatedTarget||t.fromElement)&&(pa(g)||g[Kr]))break e;if((p||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=t.relatedTarget||t.toElement,p=u,g=g?pa(g):null,g!==null&&(S=Lo(g),g!==S||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(v=ww,x="onMouseLeave",m="onMouseEnter",y="mouse",(n==="pointerout"||n==="pointerover")&&(v=Aw,x="onPointerLeave",m="onPointerEnter",y="pointer"),S=p==null?f:Zo(p),A=g==null?f:Zo(g),f=new v(x,y+"leave",p,t,h),f.target=S,f.relatedTarget=A,x=null,pa(h)===u&&(v=new v(m,y+"enter",g,t,h),v.target=A,v.relatedTarget=S,x=v),S=x,p&&g)t:{for(v=p,m=g,y=0,A=v;A;A=Ho(A))y++;for(A=0,x=m;x;x=Ho(x))A++;for(;0<y-A;)v=Ho(v),y--;for(;0<A-y;)m=Ho(m),A--;for(;y--;){if(v===m||m!==null&&v===m.alternate)break t;v=Ho(v),m=Ho(m)}v=null}else v=null;p!==null&&Mw(d,f,p,v,!1),g!==null&&S!==null&&Mw(d,S,g,v,!0)}}e:{if(f=u?Zo(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var T=UC;else if(bw(f))if(cE)T=GC;else{T=VC;var L=$C}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(T=WC);if(T&&(T=T(n,u))){lE(d,T,t,h);break e}L&&L(n,f,u),n==="focusout"&&(L=f._wrapperState)&&L.controlled&&f.type==="number"&&Cm(f,"number",f.value)}switch(L=u?Zo(u):window,n){case"focusin":(bw(L)||L.contentEditable==="true")&&(Qo=L,jm=u,uu=null);break;case"focusout":uu=jm=Qo=null;break;case"mousedown":zm=!0;break;case"contextmenu":case"mouseup":case"dragend":zm=!1,Pw(d,t,h);break;case"selectionchange":if(qC)break;case"keydown":case"keyup":Pw(d,t,h)}var F;if(qy)e:{switch(n){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Yo?aE(n,t)&&(b="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(b="onCompositionStart");b&&(sE&&t.locale!=="ko"&&(Yo||b!=="onCompositionStart"?b==="onCompositionEnd"&&Yo&&(F=rE()):(Fs=h,Gy="value"in Fs?Fs.value:Fs.textContent,Yo=!0)),L=ep(u,b),0<L.length&&(b=new _w(b,n,null,t,h),d.push({event:b,listeners:L}),F?b.data=F:(F=oE(t),F!==null&&(b.data=F)))),(F=OC?jC(n,t):zC(n,t))&&(u=ep(u,"onBeforeInput"),0<u.length&&(h=new _w("onBeforeInput","beforeinput",null,t,h),d.push({event:h,listeners:u}),h.data=F))}wE(d,e)})}function ku(n,e,t){return{instance:n,listener:e,currentTarget:t}}function ep(n,e){for(var t=e+"Capture",i=[];n!==null;){var r=n,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=_u(n,t),s!=null&&i.unshift(ku(n,s,r)),s=_u(n,e),s!=null&&i.push(ku(n,s,r))),n=n.return}return i}function Ho(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Mw(n,e,t,i,r){for(var s=e._reactName,a=[];t!==null&&t!==i;){var o=t,l=o.alternate,u=o.stateNode;if(l!==null&&l===i)break;o.tag===5&&u!==null&&(o=u,r?(l=_u(t,s),l!=null&&a.unshift(ku(t,l,o))):r||(l=_u(t,s),l!=null&&a.push(ku(t,l,o)))),t=t.return}a.length!==0&&n.push({event:e,listeners:a})}var ZC=/\r\n?/g,ek=/\u0000|\uFFFD/g;function Dw(n){return(typeof n=="string"?n:""+n).replace(ZC,`
`).replace(ek,"")}function Xd(n,e,t){if(e=Dw(e),Dw(n)!==e&&t)throw Error(V(425))}function tp(){}var Hm=null,Bm=null;function Um(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var $m=typeof setTimeout=="function"?setTimeout:void 0,tk=typeof clearTimeout=="function"?clearTimeout:void 0,Iw=typeof Promise=="function"?Promise:void 0,nk=typeof queueMicrotask=="function"?queueMicrotask:typeof Iw<"u"?function(n){return Iw.resolve(null).then(n).catch(ik)}:$m;function ik(n){setTimeout(function(){throw n})}function Zg(n,e){var t=e,i=0;do{var r=t.nextSibling;if(n.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(i===0){n.removeChild(r),Su(e);return}i--}else t!=="$"&&t!=="$?"&&t!=="$!"||i++;t=r}while(t);Su(e)}function Hs(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function Fw(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Sc=Math.random().toString(36).slice(2),Qi="__reactFiber$"+Sc,Tu="__reactProps$"+Sc,Kr="__reactContainer$"+Sc,Vm="__reactEvents$"+Sc,rk="__reactListeners$"+Sc,sk="__reactHandles$"+Sc;function pa(n){var e=n[Qi];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Kr]||t[Qi]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=Fw(n);n!==null;){if(t=n[Qi])return t;n=Fw(n)}return e}n=t,t=n.parentNode}return null}function _d(n){return n=n[Qi]||n[Kr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Zo(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(V(33))}function Zp(n){return n[Tu]||null}var Wm=[],el=-1;function Qs(n){return{current:n}}function Ye(n){0>el||(n.current=Wm[el],Wm[el]=null,el--)}function Xe(n,e){el++,Wm[el]=n.current,n.current=e}var Gs={},Zt=Qs(Gs),_n=Qs(!1),vo=Gs;function pc(n,e){var t=n.type.contextTypes;if(!t)return Gs;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in t)r[s]=e[s];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=r),r}function An(n){return n=n.childContextTypes,n!=null}function np(){Ye(_n),Ye(Zt)}function Nw(n,e,t){if(Zt.current!==Gs)throw Error(V(168));Xe(Zt,e),Xe(_n,t)}function AE(n,e,t){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return t;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(V(108,$x(n)||"Unknown",r));return st({},t,i)}function ip(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Gs,vo=Zt.current,Xe(Zt,n),Xe(_n,_n.current),!0}function Ow(n,e,t){var i=n.stateNode;if(!i)throw Error(V(169));t?(n=AE(n,e,vo),i.__reactInternalMemoizedMergedChildContext=n,Ye(_n),Ye(Zt),Xe(Zt,n)):Ye(_n),Xe(_n,t)}var fr=null,eg=!1,em=!1;function EE(n){fr===null?fr=[n]:fr.push(n)}function ak(n){eg=!0,EE(n)}function Js(){if(!em&&fr!==null){em=!0;var n=0,e=De;try{var t=fr;for(De=1;n<t.length;n++){var i=t[n];do i=i(!0);while(i!==null)}fr=null,eg=!1}catch(r){throw fr!==null&&(fr=fr.slice(n+1)),XA(Uy,Js),r}finally{De=e,em=!1}}return null}var tl=[],nl=0,rp=null,sp=0,Zn=[],ei=0,yo=null,zr=1,Hr="";function aa(n,e){tl[nl++]=sp,tl[nl++]=rp,rp=n,sp=e}function SE(n,e,t){Zn[ei++]=zr,Zn[ei++]=Hr,Zn[ei++]=yo,yo=n;var i=zr;n=Hr;var r=32-ki(i)-1;i&=~(1<<r),t+=1;var s=32-ki(e)+r;if(30<s){var a=r-r%5;s=(i&(1<<a)-1).toString(32),i>>=a,r-=a,zr=1<<32-ki(e)+r|t<<r|i,Hr=s+n}else zr=1<<s|t<<r|i,Hr=n}function Qy(n){n.return!==null&&(aa(n,1),SE(n,1,0))}function Jy(n){for(;n===rp;)rp=tl[--nl],tl[nl]=null,sp=tl[--nl],tl[nl]=null;for(;n===yo;)yo=Zn[--ei],Zn[ei]=null,Hr=Zn[--ei],Zn[ei]=null,zr=Zn[--ei],Zn[ei]=null}var Hn=null,zn=null,Je=!1,Ci=null;function bE(n,e){var t=ii(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function jw(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Hn=n,zn=Hs(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Hn=n,zn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=yo!==null?{id:zr,overflow:Hr}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=ii(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Hn=n,zn=null,!0):!1;default:return!1}}function Gm(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Xm(n){if(Je){var e=zn;if(e){var t=e;if(!jw(n,e)){if(Gm(n))throw Error(V(418));e=Hs(t.nextSibling);var i=Hn;e&&jw(n,e)?bE(i,t):(n.flags=n.flags&-4097|2,Je=!1,Hn=n)}}else{if(Gm(n))throw Error(V(418));n.flags=n.flags&-4097|2,Je=!1,Hn=n}}}function zw(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Hn=n}function Kd(n){if(n!==Hn)return!1;if(!Je)return zw(n),Je=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!Um(n.type,n.memoizedProps)),e&&(e=zn)){if(Gm(n))throw xE(),Error(V(418));for(;e;)bE(n,e),e=Hs(e.nextSibling)}if(zw(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(V(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){zn=Hs(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}zn=null}}else zn=Hn?Hs(n.stateNode.nextSibling):null;return!0}function xE(){for(var n=zn;n;)n=Hs(n.nextSibling)}function gc(){zn=Hn=null,Je=!1}function Zy(n){Ci===null?Ci=[n]:Ci.push(n)}var ok=Zr.ReactCurrentBatchConfig;function Lc(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(V(309));var i=t.stateNode}if(!i)throw Error(V(147,n));var r=i,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=r.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof n!="string")throw Error(V(284));if(!t._owner)throw Error(V(290,n))}return n}function qd(n,e){throw n=Object.prototype.toString.call(e),Error(V(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function Hw(n){var e=n._init;return e(n._payload)}function CE(n){function e(m,y){if(n){var A=m.deletions;A===null?(m.deletions=[y],m.flags|=16):A.push(y)}}function t(m,y){if(!n)return null;for(;y!==null;)e(m,y),y=y.sibling;return null}function i(m,y){for(m=new Map;y!==null;)y.key!==null?m.set(y.key,y):m.set(y.index,y),y=y.sibling;return m}function r(m,y){return m=Vs(m,y),m.index=0,m.sibling=null,m}function s(m,y,A){return m.index=A,n?(A=m.alternate,A!==null?(A=A.index,A<y?(m.flags|=2,y):A):(m.flags|=2,y)):(m.flags|=1048576,y)}function a(m){return n&&m.alternate===null&&(m.flags|=2),m}function o(m,y,A,x){return y===null||y.tag!==6?(y=om(A,m.mode,x),y.return=m,y):(y=r(y,A),y.return=m,y)}function l(m,y,A,x){var T=A.type;return T===qo?h(m,y,A.props.children,x,A.key):y!==null&&(y.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===cs&&Hw(T)===y.type)?(x=r(y,A.props),x.ref=Lc(m,y,A),x.return=m,x):(x=wf(A.type,A.key,A.props,null,m.mode,x),x.ref=Lc(m,y,A),x.return=m,x)}function u(m,y,A,x){return y===null||y.tag!==4||y.stateNode.containerInfo!==A.containerInfo||y.stateNode.implementation!==A.implementation?(y=lm(A,m.mode,x),y.return=m,y):(y=r(y,A.children||[]),y.return=m,y)}function h(m,y,A,x,T){return y===null||y.tag!==7?(y=mo(A,m.mode,x,T),y.return=m,y):(y=r(y,A),y.return=m,y)}function d(m,y,A){if(typeof y=="string"&&y!==""||typeof y=="number")return y=om(""+y,m.mode,A),y.return=m,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case jd:return A=wf(y.type,y.key,y.props,null,m.mode,A),A.ref=Lc(m,null,y),A.return=m,A;case Ko:return y=lm(y,m.mode,A),y.return=m,y;case cs:var x=y._init;return d(m,x(y._payload),A)}if(Bc(y)||Cc(y))return y=mo(y,m.mode,A,null),y.return=m,y;qd(m,y)}return null}function f(m,y,A,x){var T=y!==null?y.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return T!==null?null:o(m,y,""+A,x);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case jd:return A.key===T?l(m,y,A,x):null;case Ko:return A.key===T?u(m,y,A,x):null;case cs:return T=A._init,f(m,y,T(A._payload),x)}if(Bc(A)||Cc(A))return T!==null?null:h(m,y,A,x,null);qd(m,A)}return null}function p(m,y,A,x,T){if(typeof x=="string"&&x!==""||typeof x=="number")return m=m.get(A)||null,o(y,m,""+x,T);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case jd:return m=m.get(x.key===null?A:x.key)||null,l(y,m,x,T);case Ko:return m=m.get(x.key===null?A:x.key)||null,u(y,m,x,T);case cs:var L=x._init;return p(m,y,A,L(x._payload),T)}if(Bc(x)||Cc(x))return m=m.get(A)||null,h(y,m,x,T,null);qd(y,x)}return null}function g(m,y,A,x){for(var T=null,L=null,F=y,b=y=0,O=null;F!==null&&b<A.length;b++){F.index>b?(O=F,F=null):O=F.sibling;var B=f(m,F,A[b],x);if(B===null){F===null&&(F=O);break}n&&F&&B.alternate===null&&e(m,F),y=s(B,y,b),L===null?T=B:L.sibling=B,L=B,F=O}if(b===A.length)return t(m,F),Je&&aa(m,b),T;if(F===null){for(;b<A.length;b++)F=d(m,A[b],x),F!==null&&(y=s(F,y,b),L===null?T=F:L.sibling=F,L=F);return Je&&aa(m,b),T}for(F=i(m,F);b<A.length;b++)O=p(F,m,b,A[b],x),O!==null&&(n&&O.alternate!==null&&F.delete(O.key===null?b:O.key),y=s(O,y,b),L===null?T=O:L.sibling=O,L=O);return n&&F.forEach(function(U){return e(m,U)}),Je&&aa(m,b),T}function v(m,y,A,x){var T=Cc(A);if(typeof T!="function")throw Error(V(150));if(A=T.call(A),A==null)throw Error(V(151));for(var L=T=null,F=y,b=y=0,O=null,B=A.next();F!==null&&!B.done;b++,B=A.next()){F.index>b?(O=F,F=null):O=F.sibling;var U=f(m,F,B.value,x);if(U===null){F===null&&(F=O);break}n&&F&&U.alternate===null&&e(m,F),y=s(U,y,b),L===null?T=U:L.sibling=U,L=U,F=O}if(B.done)return t(m,F),Je&&aa(m,b),T;if(F===null){for(;!B.done;b++,B=A.next())B=d(m,B.value,x),B!==null&&(y=s(B,y,b),L===null?T=B:L.sibling=B,L=B);return Je&&aa(m,b),T}for(F=i(m,F);!B.done;b++,B=A.next())B=p(F,m,b,B.value,x),B!==null&&(n&&B.alternate!==null&&F.delete(B.key===null?b:B.key),y=s(B,y,b),L===null?T=B:L.sibling=B,L=B);return n&&F.forEach(function(ee){return e(m,ee)}),Je&&aa(m,b),T}function S(m,y,A,x){if(typeof A=="object"&&A!==null&&A.type===qo&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case jd:e:{for(var T=A.key,L=y;L!==null;){if(L.key===T){if(T=A.type,T===qo){if(L.tag===7){t(m,L.sibling),y=r(L,A.props.children),y.return=m,m=y;break e}}else if(L.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===cs&&Hw(T)===L.type){t(m,L.sibling),y=r(L,A.props),y.ref=Lc(m,L,A),y.return=m,m=y;break e}t(m,L);break}else e(m,L);L=L.sibling}A.type===qo?(y=mo(A.props.children,m.mode,x,A.key),y.return=m,m=y):(x=wf(A.type,A.key,A.props,null,m.mode,x),x.ref=Lc(m,y,A),x.return=m,m=x)}return a(m);case Ko:e:{for(L=A.key;y!==null;){if(y.key===L)if(y.tag===4&&y.stateNode.containerInfo===A.containerInfo&&y.stateNode.implementation===A.implementation){t(m,y.sibling),y=r(y,A.children||[]),y.return=m,m=y;break e}else{t(m,y);break}else e(m,y);y=y.sibling}y=lm(A,m.mode,x),y.return=m,m=y}return a(m);case cs:return L=A._init,S(m,y,L(A._payload),x)}if(Bc(A))return g(m,y,A,x);if(Cc(A))return v(m,y,A,x);qd(m,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,y!==null&&y.tag===6?(t(m,y.sibling),y=r(y,A),y.return=m,m=y):(t(m,y),y=om(A,m.mode,x),y.return=m,m=y),a(m)):t(m,y)}return S}var mc=CE(!0),kE=CE(!1),ap=Qs(null),op=null,il=null,e0=null;function t0(){e0=il=op=null}function n0(n){var e=ap.current;Ye(ap),n._currentValue=e}function Km(n,e,t){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===t)break;n=n.return}}function dl(n,e){op=n,e0=il=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(vn=!0),n.firstContext=null)}function si(n){var e=n._currentValue;if(e0!==n)if(n={context:n,memoizedValue:e,next:null},il===null){if(op===null)throw Error(V(308));il=n,op.dependencies={lanes:0,firstContext:n}}else il=il.next=n;return e}var ga=null;function i0(n){ga===null?ga=[n]:ga.push(n)}function TE(n,e,t,i){var r=e.interleaved;return r===null?(t.next=t,i0(e)):(t.next=r.next,r.next=t),e.interleaved=t,qr(n,i)}function qr(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var us=!1;function r0(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function PE(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Br(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Bs(n,e,t){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,Ce&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,qr(n,t)}return r=i.interleaved,r===null?(e.next=e,i0(i)):(e.next=r.next,r.next=e),i.interleaved=e,qr(n,t)}function ff(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,$y(n,t)}}function Bw(n,e){var t=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var r=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var a={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?r=s=a:s=s.next=a,t=t.next}while(t!==null);s===null?r=s=e:s=s.next=e}else r=s=e;t={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function lp(n,e,t,i){var r=n.updateQueue;us=!1;var s=r.firstBaseUpdate,a=r.lastBaseUpdate,o=r.shared.pending;if(o!==null){r.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?s=u:a.next=u,a=l;var h=n.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==a&&(o===null?h.firstBaseUpdate=u:o.next=u,h.lastBaseUpdate=l))}if(s!==null){var d=r.baseState;a=0,h=u=l=null,o=s;do{var f=o.lane,p=o.eventTime;if((i&f)===f){h!==null&&(h=h.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=n,v=o;switch(f=e,p=t,v.tag){case 1:if(g=v.payload,typeof g=="function"){d=g.call(p,d,f);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,f=typeof g=="function"?g.call(p,d,f):g,f==null)break e;d=st({},d,f);break e;case 2:us=!0}}o.callback!==null&&o.lane!==0&&(n.flags|=64,f=r.effects,f===null?r.effects=[o]:f.push(o))}else p={eventTime:p,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(u=h=p,l=d):h=h.next=p,a|=f;if(o=o.next,o===null){if(o=r.shared.pending,o===null)break;f=o,o=f.next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}while(!0);if(h===null&&(l=d),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=h,e=r.shared.interleaved,e!==null){r=e;do a|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);_o|=a,n.lanes=a,n.memoizedState=d}}function Uw(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],r=i.callback;if(r!==null){if(i.callback=null,i=t,typeof r!="function")throw Error(V(191,r));r.call(i)}}}var Ad={},Zi=Qs(Ad),Pu=Qs(Ad),Ru=Qs(Ad);function ma(n){if(n===Ad)throw Error(V(174));return n}function s0(n,e){switch(Xe(Ru,e),Xe(Pu,n),Xe(Zi,Ad),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Tm(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=Tm(e,n)}Ye(Zi),Xe(Zi,e)}function vc(){Ye(Zi),Ye(Pu),Ye(Ru)}function RE(n){ma(Ru.current);var e=ma(Zi.current),t=Tm(e,n.type);e!==t&&(Xe(Pu,n),Xe(Zi,t))}function a0(n){Pu.current===n&&(Ye(Zi),Ye(Pu))}var it=Qs(0);function cp(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var tm=[];function o0(){for(var n=0;n<tm.length;n++)tm[n]._workInProgressVersionPrimary=null;tm.length=0}var pf=Zr.ReactCurrentDispatcher,nm=Zr.ReactCurrentBatchConfig,wo=0,rt=null,bt=null,Rt=null,up=!1,hu=!1,Lu=0,lk=0;function Vt(){throw Error(V(321))}function l0(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Pi(n[t],e[t]))return!1;return!0}function c0(n,e,t,i,r,s){if(wo=s,rt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,pf.current=n===null||n.memoizedState===null?dk:fk,n=t(i,r),hu){s=0;do{if(hu=!1,Lu=0,25<=s)throw Error(V(301));s+=1,Rt=bt=null,e.updateQueue=null,pf.current=pk,n=t(i,r)}while(hu)}if(pf.current=hp,e=bt!==null&&bt.next!==null,wo=0,Rt=bt=rt=null,up=!1,e)throw Error(V(300));return n}function u0(){var n=Lu!==0;return Lu=0,n}function Ii(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?rt.memoizedState=Rt=n:Rt=Rt.next=n,Rt}function ai(){if(bt===null){var n=rt.alternate;n=n!==null?n.memoizedState:null}else n=bt.next;var e=Rt===null?rt.memoizedState:Rt.next;if(e!==null)Rt=e,bt=n;else{if(n===null)throw Error(V(310));bt=n,n={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},Rt===null?rt.memoizedState=Rt=n:Rt=Rt.next=n}return Rt}function Mu(n,e){return typeof e=="function"?e(n):e}function im(n){var e=ai(),t=e.queue;if(t===null)throw Error(V(311));t.lastRenderedReducer=n;var i=bt,r=i.baseQueue,s=t.pending;if(s!==null){if(r!==null){var a=r.next;r.next=s.next,s.next=a}i.baseQueue=r=s,t.pending=null}if(r!==null){s=r.next,i=i.baseState;var o=a=null,l=null,u=s;do{var h=u.lane;if((wo&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:n(i,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=d,a=i):l=l.next=d,rt.lanes|=h,_o|=h}u=u.next}while(u!==null&&u!==s);l===null?a=i:l.next=o,Pi(i,e.memoizedState)||(vn=!0),e.memoizedState=i,e.baseState=a,e.baseQueue=l,t.lastRenderedState=i}if(n=t.interleaved,n!==null){r=n;do s=r.lane,rt.lanes|=s,_o|=s,r=r.next;while(r!==n)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function rm(n){var e=ai(),t=e.queue;if(t===null)throw Error(V(311));t.lastRenderedReducer=n;var i=t.dispatch,r=t.pending,s=e.memoizedState;if(r!==null){t.pending=null;var a=r=r.next;do s=n(s,a.action),a=a.next;while(a!==r);Pi(s,e.memoizedState)||(vn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,i]}function LE(){}function ME(n,e){var t=rt,i=ai(),r=e(),s=!Pi(i.memoizedState,r);if(s&&(i.memoizedState=r,vn=!0),i=i.queue,h0(FE.bind(null,t,i,n),[n]),i.getSnapshot!==e||s||Rt!==null&&Rt.memoizedState.tag&1){if(t.flags|=2048,Du(9,IE.bind(null,t,i,r,e),void 0,null),Lt===null)throw Error(V(349));wo&30||DE(t,e,r)}return r}function DE(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=rt.updateQueue,e===null?(e={lastEffect:null,stores:null},rt.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function IE(n,e,t,i){e.value=t,e.getSnapshot=i,NE(e)&&OE(n)}function FE(n,e,t){return t(function(){NE(e)&&OE(n)})}function NE(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Pi(n,t)}catch{return!0}}function OE(n){var e=qr(n,1);e!==null&&Ti(e,n,1,-1)}function $w(n){var e=Ii();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mu,lastRenderedState:n},e.queue=n,n=n.dispatch=hk.bind(null,rt,n),[e.memoizedState,n]}function Du(n,e,t,i){return n={tag:n,create:e,destroy:t,deps:i,next:null},e=rt.updateQueue,e===null?(e={lastEffect:null,stores:null},rt.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(i=t.next,t.next=n,n.next=i,e.lastEffect=n)),n}function jE(){return ai().memoizedState}function gf(n,e,t,i){var r=Ii();rt.flags|=n,r.memoizedState=Du(1|e,t,void 0,i===void 0?null:i)}function tg(n,e,t,i){var r=ai();i=i===void 0?null:i;var s=void 0;if(bt!==null){var a=bt.memoizedState;if(s=a.destroy,i!==null&&l0(i,a.deps)){r.memoizedState=Du(e,t,s,i);return}}rt.flags|=n,r.memoizedState=Du(1|e,t,s,i)}function Vw(n,e){return gf(8390656,8,n,e)}function h0(n,e){return tg(2048,8,n,e)}function zE(n,e){return tg(4,2,n,e)}function HE(n,e){return tg(4,4,n,e)}function BE(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function UE(n,e,t){return t=t!=null?t.concat([n]):null,tg(4,4,BE.bind(null,e,n),t)}function d0(){}function $E(n,e){var t=ai();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&l0(e,i[1])?i[0]:(t.memoizedState=[n,e],n)}function VE(n,e){var t=ai();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&l0(e,i[1])?i[0]:(n=n(),t.memoizedState=[n,e],n)}function WE(n,e,t){return wo&21?(Pi(t,e)||(t=YA(),rt.lanes|=t,_o|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,vn=!0),n.memoizedState=t)}function ck(n,e){var t=De;De=t!==0&&4>t?t:4,n(!0);var i=nm.transition;nm.transition={};try{n(!1),e()}finally{De=t,nm.transition=i}}function GE(){return ai().memoizedState}function uk(n,e,t){var i=$s(n);if(t={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null},XE(n))KE(e,t);else if(t=TE(n,e,t,i),t!==null){var r=on();Ti(t,n,i,r),qE(t,e,i)}}function hk(n,e,t){var i=$s(n),r={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null};if(XE(n))KE(e,r);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,t);if(r.hasEagerState=!0,r.eagerState=o,Pi(o,a)){var l=e.interleaved;l===null?(r.next=r,i0(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}t=TE(n,e,r,i),t!==null&&(r=on(),Ti(t,n,i,r),qE(t,e,i))}}function XE(n){var e=n.alternate;return n===rt||e!==null&&e===rt}function KE(n,e){hu=up=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function qE(n,e,t){if(t&4194240){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,$y(n,t)}}var hp={readContext:si,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},dk={readContext:si,useCallback:function(n,e){return Ii().memoizedState=[n,e===void 0?null:e],n},useContext:si,useEffect:Vw,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,gf(4194308,4,BE.bind(null,e,n),t)},useLayoutEffect:function(n,e){return gf(4194308,4,n,e)},useInsertionEffect:function(n,e){return gf(4,2,n,e)},useMemo:function(n,e){var t=Ii();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var i=Ii();return e=t!==void 0?t(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=uk.bind(null,rt,n),[i.memoizedState,n]},useRef:function(n){var e=Ii();return n={current:n},e.memoizedState=n},useState:$w,useDebugValue:d0,useDeferredValue:function(n){return Ii().memoizedState=n},useTransition:function(){var n=$w(!1),e=n[0];return n=ck.bind(null,n[1]),Ii().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var i=rt,r=Ii();if(Je){if(t===void 0)throw Error(V(407));t=t()}else{if(t=e(),Lt===null)throw Error(V(349));wo&30||DE(i,e,t)}r.memoizedState=t;var s={value:t,getSnapshot:e};return r.queue=s,Vw(FE.bind(null,i,s,n),[n]),i.flags|=2048,Du(9,IE.bind(null,i,s,t,e),void 0,null),t},useId:function(){var n=Ii(),e=Lt.identifierPrefix;if(Je){var t=Hr,i=zr;t=(i&~(1<<32-ki(i)-1)).toString(32)+t,e=":"+e+"R"+t,t=Lu++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=lk++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},fk={readContext:si,useCallback:$E,useContext:si,useEffect:h0,useImperativeHandle:UE,useInsertionEffect:zE,useLayoutEffect:HE,useMemo:VE,useReducer:im,useRef:jE,useState:function(){return im(Mu)},useDebugValue:d0,useDeferredValue:function(n){var e=ai();return WE(e,bt.memoizedState,n)},useTransition:function(){var n=im(Mu)[0],e=ai().memoizedState;return[n,e]},useMutableSource:LE,useSyncExternalStore:ME,useId:GE,unstable_isNewReconciler:!1},pk={readContext:si,useCallback:$E,useContext:si,useEffect:h0,useImperativeHandle:UE,useInsertionEffect:zE,useLayoutEffect:HE,useMemo:VE,useReducer:rm,useRef:jE,useState:function(){return rm(Mu)},useDebugValue:d0,useDeferredValue:function(n){var e=ai();return bt===null?e.memoizedState=n:WE(e,bt.memoizedState,n)},useTransition:function(){var n=rm(Mu)[0],e=ai().memoizedState;return[n,e]},useMutableSource:LE,useSyncExternalStore:ME,useId:GE,unstable_isNewReconciler:!1};function ci(n,e){if(n&&n.defaultProps){e=st({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function qm(n,e,t,i){e=n.memoizedState,t=t(i,e),t=t==null?e:st({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var ng={isMounted:function(n){return(n=n._reactInternals)?Lo(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var i=on(),r=$s(n),s=Br(i,r);s.payload=e,t!=null&&(s.callback=t),e=Bs(n,s,r),e!==null&&(Ti(e,n,r,i),ff(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var i=on(),r=$s(n),s=Br(i,r);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=Bs(n,s,r),e!==null&&(Ti(e,n,r,i),ff(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=on(),i=$s(n),r=Br(t,i);r.tag=2,e!=null&&(r.callback=e),e=Bs(n,r,i),e!==null&&(Ti(e,n,i,t),ff(e,n,i))}};function Ww(n,e,t,i,r,s,a){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,s,a):e.prototype&&e.prototype.isPureReactComponent?!xu(t,i)||!xu(r,s):!0}function YE(n,e,t){var i=!1,r=Gs,s=e.contextType;return typeof s=="object"&&s!==null?s=si(s):(r=An(e)?vo:Zt.current,i=e.contextTypes,s=(i=i!=null)?pc(n,r):Gs),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ng,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=s),e}function Gw(n,e,t,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==n&&ng.enqueueReplaceState(e,e.state,null)}function Ym(n,e,t,i){var r=n.stateNode;r.props=t,r.state=n.memoizedState,r.refs={},r0(n);var s=e.contextType;typeof s=="object"&&s!==null?r.context=si(s):(s=An(e)?vo:Zt.current,r.context=pc(n,s)),r.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(qm(n,e,s,t),r.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&ng.enqueueReplaceState(r,r.state,null),lp(n,t,r,i),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function yc(n,e){try{var t="",i=e;do t+=Ux(i),i=i.return;while(i);var r=t}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:r,digest:null}}function sm(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function Qm(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var gk=typeof WeakMap=="function"?WeakMap:Map;function QE(n,e,t){t=Br(-1,t),t.tag=3,t.payload={element:null};var i=e.value;return t.callback=function(){fp||(fp=!0,ov=i),Qm(n,e)},t}function JE(n,e,t){t=Br(-1,t),t.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;t.payload=function(){return i(r)},t.callback=function(){Qm(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){Qm(n,e),typeof i!="function"&&(Us===null?Us=new Set([this]):Us.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),t}function Xw(n,e,t){var i=n.pingCache;if(i===null){i=n.pingCache=new gk;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(t)||(r.add(t),n=Pk.bind(null,n,e,t),e.then(n,n))}function Kw(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function qw(n,e,t,i,r){return n.mode&1?(n.flags|=65536,n.lanes=r,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Br(-1,1),e.tag=2,Bs(t,e,1))),t.lanes|=1),n)}var mk=Zr.ReactCurrentOwner,vn=!1;function sn(n,e,t,i){e.child=n===null?kE(e,null,t,i):mc(e,n.child,t,i)}function Yw(n,e,t,i,r){t=t.render;var s=e.ref;return dl(e,r),i=c0(n,e,t,i,s,r),t=u0(),n!==null&&!vn?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,Yr(n,e,r)):(Je&&t&&Qy(e),e.flags|=1,sn(n,e,i,r),e.child)}function Qw(n,e,t,i,r){if(n===null){var s=t.type;return typeof s=="function"&&!_0(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,ZE(n,e,s,i,r)):(n=wf(t.type,null,i,e,e.mode,r),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&r)){var a=s.memoizedProps;if(t=t.compare,t=t!==null?t:xu,t(a,i)&&n.ref===e.ref)return Yr(n,e,r)}return e.flags|=1,n=Vs(s,i),n.ref=e.ref,n.return=e,e.child=n}function ZE(n,e,t,i,r){if(n!==null){var s=n.memoizedProps;if(xu(s,i)&&n.ref===e.ref)if(vn=!1,e.pendingProps=i=s,(n.lanes&r)!==0)n.flags&131072&&(vn=!0);else return e.lanes=n.lanes,Yr(n,e,r)}return Jm(n,e,t,i,r)}function eS(n,e,t){var i=e.pendingProps,r=i.children,s=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xe(sl,Nn),Nn|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Xe(sl,Nn),Nn|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:t,Xe(sl,Nn),Nn|=i}else s!==null?(i=s.baseLanes|t,e.memoizedState=null):i=t,Xe(sl,Nn),Nn|=i;return sn(n,e,r,t),e.child}function tS(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function Jm(n,e,t,i,r){var s=An(t)?vo:Zt.current;return s=pc(e,s),dl(e,r),t=c0(n,e,t,i,s,r),i=u0(),n!==null&&!vn?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,Yr(n,e,r)):(Je&&i&&Qy(e),e.flags|=1,sn(n,e,t,r),e.child)}function Jw(n,e,t,i,r){if(An(t)){var s=!0;ip(e)}else s=!1;if(dl(e,r),e.stateNode===null)mf(n,e),YE(e,t,i),Ym(e,t,i,r),i=!0;else if(n===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=t.contextType;typeof u=="object"&&u!==null?u=si(u):(u=An(t)?vo:Zt.current,u=pc(e,u));var h=t.getDerivedStateFromProps,d=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==i||l!==u)&&Gw(e,a,i,u),us=!1;var f=e.memoizedState;a.state=f,lp(e,i,a,r),l=e.memoizedState,o!==i||f!==l||_n.current||us?(typeof h=="function"&&(qm(e,t,h,i),l=e.memoizedState),(o=us||Ww(e,t,o,i,f,l,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),a.props=i,a.state=l,a.context=u,i=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{a=e.stateNode,PE(n,e),o=e.memoizedProps,u=e.type===e.elementType?o:ci(e.type,o),a.props=u,d=e.pendingProps,f=a.context,l=t.contextType,typeof l=="object"&&l!==null?l=si(l):(l=An(t)?vo:Zt.current,l=pc(e,l));var p=t.getDerivedStateFromProps;(h=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||f!==l)&&Gw(e,a,i,l),us=!1,f=e.memoizedState,a.state=f,lp(e,i,a,r);var g=e.memoizedState;o!==d||f!==g||_n.current||us?(typeof p=="function"&&(qm(e,t,p,i),g=e.memoizedState),(u=us||Ww(e,t,u,i,f,g,l)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,g,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,g,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=g),a.props=i,a.state=g,a.context=l,i=u):(typeof a.componentDidUpdate!="function"||o===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),i=!1)}return Zm(n,e,t,i,s,r)}function Zm(n,e,t,i,r,s){tS(n,e);var a=(e.flags&128)!==0;if(!i&&!a)return r&&Ow(e,t,!1),Yr(n,e,s);i=e.stateNode,mk.current=e;var o=a&&typeof t.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&a?(e.child=mc(e,n.child,null,s),e.child=mc(e,null,o,s)):sn(n,e,o,s),e.memoizedState=i.state,r&&Ow(e,t,!0),e.child}function nS(n){var e=n.stateNode;e.pendingContext?Nw(n,e.pendingContext,e.pendingContext!==e.context):e.context&&Nw(n,e.context,!1),s0(n,e.containerInfo)}function Zw(n,e,t,i,r){return gc(),Zy(r),e.flags|=256,sn(n,e,t,i),e.child}var ev={dehydrated:null,treeContext:null,retryLane:0};function tv(n){return{baseLanes:n,cachePool:null,transitions:null}}function iS(n,e,t){var i=e.pendingProps,r=it.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=n!==null&&n.memoizedState===null?!1:(r&2)!==0),o?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),Xe(it,r&1),n===null)return Xm(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=i.children,n=i.fallback,s?(i=e.mode,s=e.child,a={mode:"hidden",children:a},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=sg(a,i,0,null),n=mo(n,i,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=tv(t),e.memoizedState=ev,n):f0(e,a));if(r=n.memoizedState,r!==null&&(o=r.dehydrated,o!==null))return vk(n,e,a,i,o,r,t);if(s){s=i.fallback,a=e.mode,r=n.child,o=r.sibling;var l={mode:"hidden",children:i.children};return!(a&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=Vs(r,l),i.subtreeFlags=r.subtreeFlags&14680064),o!==null?s=Vs(o,s):(s=mo(s,a,t,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,a=n.child.memoizedState,a=a===null?tv(t):{baseLanes:a.baseLanes|t,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=n.childLanes&~t,e.memoizedState=ev,i}return s=n.child,n=s.sibling,i=Vs(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=t),i.return=e,i.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=i,e.memoizedState=null,i}function f0(n,e){return e=sg({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Yd(n,e,t,i){return i!==null&&Zy(i),mc(e,n.child,null,t),n=f0(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function vk(n,e,t,i,r,s,a){if(t)return e.flags&256?(e.flags&=-257,i=sm(Error(V(422))),Yd(n,e,a,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=sg({mode:"visible",children:i.children},r,0,null),s=mo(s,r,a,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&mc(e,n.child,null,a),e.child.memoizedState=tv(a),e.memoizedState=ev,s);if(!(e.mode&1))return Yd(n,e,a,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var o=i.dgst;return i=o,s=Error(V(419)),i=sm(s,i,void 0),Yd(n,e,a,i)}if(o=(a&n.childLanes)!==0,vn||o){if(i=Lt,i!==null){switch(a&-a){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|a)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,qr(n,r),Ti(i,n,r,-1))}return w0(),i=sm(Error(V(421))),Yd(n,e,a,i)}return r.data==="$?"?(e.flags|=128,e.child=n.child,e=Rk.bind(null,n),r._reactRetry=e,null):(n=s.treeContext,zn=Hs(r.nextSibling),Hn=e,Je=!0,Ci=null,n!==null&&(Zn[ei++]=zr,Zn[ei++]=Hr,Zn[ei++]=yo,zr=n.id,Hr=n.overflow,yo=e),e=f0(e,i.children),e.flags|=4096,e)}function e_(n,e,t){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),Km(n.return,e,t)}function am(n,e,t,i,r){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=t,s.tailMode=r)}function rS(n,e,t){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(sn(n,e,i.children,t),i=it.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&e_(n,t,e);else if(n.tag===19)e_(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(Xe(it,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)n=t.alternate,n!==null&&cp(n)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),am(e,!1,r,t,s);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(n=r.alternate,n!==null&&cp(n)===null){e.child=r;break}n=r.sibling,r.sibling=t,t=r,r=n}am(e,!0,t,null,s);break;case"together":am(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function mf(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Yr(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),_o|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(V(153));if(e.child!==null){for(n=e.child,t=Vs(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Vs(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function yk(n,e,t){switch(e.tag){case 3:nS(e),gc();break;case 5:RE(e);break;case 1:An(e.type)&&ip(e);break;case 4:s0(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Xe(ap,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Xe(it,it.current&1),e.flags|=128,null):t&e.child.childLanes?iS(n,e,t):(Xe(it,it.current&1),n=Yr(n,e,t),n!==null?n.sibling:null);Xe(it,it.current&1);break;case 19:if(i=(t&e.childLanes)!==0,n.flags&128){if(i)return rS(n,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Xe(it,it.current),i)break;return null;case 22:case 23:return e.lanes=0,eS(n,e,t)}return Yr(n,e,t)}var sS,nv,aS,oS;sS=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};nv=function(){};aS=function(n,e,t,i){var r=n.memoizedProps;if(r!==i){n=e.stateNode,ma(Zi.current);var s=null;switch(t){case"input":r=bm(n,r),i=bm(n,i),s=[];break;case"select":r=st({},r,{value:void 0}),i=st({},i,{value:void 0}),s=[];break;case"textarea":r=km(n,r),i=km(n,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=tp)}Pm(t,i);var a;t=null;for(u in r)if(!i.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var o=r[u];for(a in o)o.hasOwnProperty(a)&&(t||(t={}),t[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(yu.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in i){var l=i[u];if(o=r!=null?r[u]:void 0,i.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(t||(t={}),t[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(t||(t={}),t[a]=l[a])}else t||(s||(s=[]),s.push(u,t)),t=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(yu.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&qe("scroll",n),s||o===l||(s=[])):(s=s||[]).push(u,l))}t&&(s=s||[]).push("style",t);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};oS=function(n,e,t,i){t!==i&&(e.flags|=4)};function Mc(n,e){if(!Je)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function Wt(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,i=0;if(e)for(var r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=i,n.childLanes=t,e}function wk(n,e,t){var i=e.pendingProps;switch(Jy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(e),null;case 1:return An(e.type)&&np(),Wt(e),null;case 3:return i=e.stateNode,vc(),Ye(_n),Ye(Zt),o0(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(Kd(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ci!==null&&(uv(Ci),Ci=null))),nv(n,e),Wt(e),null;case 5:a0(e);var r=ma(Ru.current);if(t=e.type,n!==null&&e.stateNode!=null)aS(n,e,t,i,r),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(V(166));return Wt(e),null}if(n=ma(Zi.current),Kd(e)){i=e.stateNode,t=e.type;var s=e.memoizedProps;switch(i[Qi]=e,i[Tu]=s,n=(e.mode&1)!==0,t){case"dialog":qe("cancel",i),qe("close",i);break;case"iframe":case"object":case"embed":qe("load",i);break;case"video":case"audio":for(r=0;r<$c.length;r++)qe($c[r],i);break;case"source":qe("error",i);break;case"img":case"image":case"link":qe("error",i),qe("load",i);break;case"details":qe("toggle",i);break;case"input":cw(i,s),qe("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},qe("invalid",i);break;case"textarea":hw(i,s),qe("invalid",i)}Pm(t,s),r=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?i.textContent!==o&&(s.suppressHydrationWarning!==!0&&Xd(i.textContent,o,n),r=["children",o]):typeof o=="number"&&i.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&Xd(i.textContent,o,n),r=["children",""+o]):yu.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&qe("scroll",i)}switch(t){case"input":zd(i),uw(i,s,!0);break;case"textarea":zd(i),dw(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=tp)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{a=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=FA(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=a.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=a.createElement(t,{is:i.is}):(n=a.createElement(t),t==="select"&&(a=n,i.multiple?a.multiple=!0:i.size&&(a.size=i.size))):n=a.createElementNS(n,t),n[Qi]=e,n[Tu]=i,sS(n,e,!1,!1),e.stateNode=n;e:{switch(a=Rm(t,i),t){case"dialog":qe("cancel",n),qe("close",n),r=i;break;case"iframe":case"object":case"embed":qe("load",n),r=i;break;case"video":case"audio":for(r=0;r<$c.length;r++)qe($c[r],n);r=i;break;case"source":qe("error",n),r=i;break;case"img":case"image":case"link":qe("error",n),qe("load",n),r=i;break;case"details":qe("toggle",n),r=i;break;case"input":cw(n,i),r=bm(n,i),qe("invalid",n);break;case"option":r=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},r=st({},i,{value:void 0}),qe("invalid",n);break;case"textarea":hw(n,i),r=km(n,i),qe("invalid",n);break;default:r=i}Pm(t,r),o=r;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?jA(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&NA(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&wu(n,l):typeof l=="number"&&wu(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(yu.hasOwnProperty(s)?l!=null&&s==="onScroll"&&qe("scroll",n):l!=null&&Oy(n,s,l,a))}switch(t){case"input":zd(n),uw(n,i,!1);break;case"textarea":zd(n),dw(n);break;case"option":i.value!=null&&n.setAttribute("value",""+Ws(i.value));break;case"select":n.multiple=!!i.multiple,s=i.value,s!=null?ll(n,!!i.multiple,s,!1):i.defaultValue!=null&&ll(n,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=tp)}switch(t){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Wt(e),null;case 6:if(n&&e.stateNode!=null)oS(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(V(166));if(t=ma(Ru.current),ma(Zi.current),Kd(e)){if(i=e.stateNode,t=e.memoizedProps,i[Qi]=e,(s=i.nodeValue!==t)&&(n=Hn,n!==null))switch(n.tag){case 3:Xd(i.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Xd(i.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else i=(t.nodeType===9?t:t.ownerDocument).createTextNode(i),i[Qi]=e,e.stateNode=i}return Wt(e),null;case 13:if(Ye(it),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Je&&zn!==null&&e.mode&1&&!(e.flags&128))xE(),gc(),e.flags|=98560,s=!1;else if(s=Kd(e),i!==null&&i.dehydrated!==null){if(n===null){if(!s)throw Error(V(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(V(317));s[Qi]=e}else gc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Wt(e),s=!1}else Ci!==null&&(uv(Ci),Ci=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(n===null||it.current&1?Ct===0&&(Ct=3):w0())),e.updateQueue!==null&&(e.flags|=4),Wt(e),null);case 4:return vc(),nv(n,e),n===null&&Cu(e.stateNode.containerInfo),Wt(e),null;case 10:return n0(e.type._context),Wt(e),null;case 17:return An(e.type)&&np(),Wt(e),null;case 19:if(Ye(it),s=e.memoizedState,s===null)return Wt(e),null;if(i=(e.flags&128)!==0,a=s.rendering,a===null)if(i)Mc(s,!1);else{if(Ct!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(a=cp(n),a!==null){for(e.flags|=128,Mc(s,!1),i=a.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=t,t=e.child;t!==null;)s=t,n=i,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,n=a.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Xe(it,it.current&1|2),e.child}n=n.sibling}s.tail!==null&&ht()>wc&&(e.flags|=128,i=!0,Mc(s,!1),e.lanes=4194304)}else{if(!i)if(n=cp(a),n!==null){if(e.flags|=128,i=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Mc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Je)return Wt(e),null}else 2*ht()-s.renderingStartTime>wc&&t!==1073741824&&(e.flags|=128,i=!0,Mc(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(t=s.last,t!==null?t.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ht(),e.sibling=null,t=it.current,Xe(it,i?t&1|2:t&1),e):(Wt(e),null);case 22:case 23:return y0(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Nn&1073741824&&(Wt(e),e.subtreeFlags&6&&(e.flags|=8192)):Wt(e),null;case 24:return null;case 25:return null}throw Error(V(156,e.tag))}function _k(n,e){switch(Jy(e),e.tag){case 1:return An(e.type)&&np(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return vc(),Ye(_n),Ye(Zt),o0(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return a0(e),null;case 13:if(Ye(it),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(V(340));gc()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Ye(it),null;case 4:return vc(),null;case 10:return n0(e.type._context),null;case 22:case 23:return y0(),null;case 24:return null;default:return null}}var Qd=!1,Yt=!1,Ak=typeof WeakSet=="function"?WeakSet:Set,Q=null;function rl(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(i){lt(n,e,i)}else t.current=null}function iv(n,e,t){try{t()}catch(i){lt(n,e,i)}}var t_=!1;function Ek(n,e){if(Hm=Jf,n=dE(),Yy(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var a=0,o=-1,l=-1,u=0,h=0,d=n,f=null;t:for(;;){for(var p;d!==t||r!==0&&d.nodeType!==3||(o=a+r),d!==s||i!==0&&d.nodeType!==3||(l=a+i),d.nodeType===3&&(a+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===n)break t;if(f===t&&++u===r&&(o=a),f===s&&++h===i&&(l=a),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}t=o===-1||l===-1?null:{start:o,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(Bm={focusedElem:n,selectionRange:t},Jf=!1,Q=e;Q!==null;)if(e=Q,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,Q=n;else for(;Q!==null;){e=Q;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,S=g.memoizedState,m=e.stateNode,y=m.getSnapshotBeforeUpdate(e.elementType===e.type?v:ci(e.type,v),S);m.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var A=e.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(V(163))}}catch(x){lt(e,e.return,x)}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}return g=t_,t_=!1,g}function du(n,e,t){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&n)===n){var s=r.destroy;r.destroy=void 0,s!==void 0&&iv(e,t,s)}r=r.next}while(r!==i)}}function ig(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}}function rv(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function lS(n){var e=n.alternate;e!==null&&(n.alternate=null,lS(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Qi],delete e[Tu],delete e[Vm],delete e[rk],delete e[sk])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function cS(n){return n.tag===5||n.tag===3||n.tag===4}function n_(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||cS(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function sv(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=tp));else if(i!==4&&(n=n.child,n!==null))for(sv(n,e,t),n=n.sibling;n!==null;)sv(n,e,t),n=n.sibling}function av(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(av(n,e,t),n=n.sibling;n!==null;)av(n,e,t),n=n.sibling}var Ht=null,bi=!1;function rs(n,e,t){for(t=t.child;t!==null;)uS(n,e,t),t=t.sibling}function uS(n,e,t){if(Ji&&typeof Ji.onCommitFiberUnmount=="function")try{Ji.onCommitFiberUnmount(qp,t)}catch{}switch(t.tag){case 5:Yt||rl(t,e);case 6:var i=Ht,r=bi;Ht=null,rs(n,e,t),Ht=i,bi=r,Ht!==null&&(bi?(n=Ht,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Ht.removeChild(t.stateNode));break;case 18:Ht!==null&&(bi?(n=Ht,t=t.stateNode,n.nodeType===8?Zg(n.parentNode,t):n.nodeType===1&&Zg(n,t),Su(n)):Zg(Ht,t.stateNode));break;case 4:i=Ht,r=bi,Ht=t.stateNode.containerInfo,bi=!0,rs(n,e,t),Ht=i,bi=r;break;case 0:case 11:case 14:case 15:if(!Yt&&(i=t.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&iv(t,e,a),r=r.next}while(r!==i)}rs(n,e,t);break;case 1:if(!Yt&&(rl(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(o){lt(t,e,o)}rs(n,e,t);break;case 21:rs(n,e,t);break;case 22:t.mode&1?(Yt=(i=Yt)||t.memoizedState!==null,rs(n,e,t),Yt=i):rs(n,e,t);break;default:rs(n,e,t)}}function i_(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new Ak),e.forEach(function(i){var r=Lk.bind(null,n,i);t.has(i)||(t.add(i),i.then(r,r))})}}function oi(n,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];try{var s=n,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Ht=o.stateNode,bi=!1;break e;case 3:Ht=o.stateNode.containerInfo,bi=!0;break e;case 4:Ht=o.stateNode.containerInfo,bi=!0;break e}o=o.return}if(Ht===null)throw Error(V(160));uS(s,a,r),Ht=null,bi=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(u){lt(r,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)hS(e,n),e=e.sibling}function hS(n,e){var t=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(oi(e,n),Mi(n),i&4){try{du(3,n,n.return),ig(3,n)}catch(v){lt(n,n.return,v)}try{du(5,n,n.return)}catch(v){lt(n,n.return,v)}}break;case 1:oi(e,n),Mi(n),i&512&&t!==null&&rl(t,t.return);break;case 5:if(oi(e,n),Mi(n),i&512&&t!==null&&rl(t,t.return),n.flags&32){var r=n.stateNode;try{wu(r,"")}catch(v){lt(n,n.return,v)}}if(i&4&&(r=n.stateNode,r!=null)){var s=n.memoizedProps,a=t!==null?t.memoizedProps:s,o=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&DA(r,s),Rm(o,a);var u=Rm(o,s);for(a=0;a<l.length;a+=2){var h=l[a],d=l[a+1];h==="style"?jA(r,d):h==="dangerouslySetInnerHTML"?NA(r,d):h==="children"?wu(r,d):Oy(r,h,d,u)}switch(o){case"input":xm(r,s);break;case"textarea":IA(r,s);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?ll(r,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?ll(r,!!s.multiple,s.defaultValue,!0):ll(r,!!s.multiple,s.multiple?[]:"",!1))}r[Tu]=s}catch(v){lt(n,n.return,v)}}break;case 6:if(oi(e,n),Mi(n),i&4){if(n.stateNode===null)throw Error(V(162));r=n.stateNode,s=n.memoizedProps;try{r.nodeValue=s}catch(v){lt(n,n.return,v)}}break;case 3:if(oi(e,n),Mi(n),i&4&&t!==null&&t.memoizedState.isDehydrated)try{Su(e.containerInfo)}catch(v){lt(n,n.return,v)}break;case 4:oi(e,n),Mi(n);break;case 13:oi(e,n),Mi(n),r=n.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(m0=ht())),i&4&&i_(n);break;case 22:if(h=t!==null&&t.memoizedState!==null,n.mode&1?(Yt=(u=Yt)||h,oi(e,n),Yt=u):oi(e,n),Mi(n),i&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!h&&n.mode&1)for(Q=n,h=n.child;h!==null;){for(d=Q=h;Q!==null;){switch(f=Q,p=f.child,f.tag){case 0:case 11:case 14:case 15:du(4,f,f.return);break;case 1:rl(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){i=f,t=f.return;try{e=i,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){lt(i,t,v)}}break;case 5:rl(f,f.return);break;case 22:if(f.memoizedState!==null){s_(d);continue}}p!==null?(p.return=f,Q=p):s_(d)}h=h.sibling}e:for(h=null,d=n;;){if(d.tag===5){if(h===null){h=d;try{r=d.stateNode,u?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=OA("display",a))}catch(v){lt(n,n.return,v)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){lt(n,n.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===n)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:oi(e,n),Mi(n),i&4&&i_(n);break;case 21:break;default:oi(e,n),Mi(n)}}function Mi(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(cS(t)){var i=t;break e}t=t.return}throw Error(V(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(wu(r,""),i.flags&=-33);var s=n_(n);av(n,s,r);break;case 3:case 4:var a=i.stateNode.containerInfo,o=n_(n);sv(n,o,a);break;default:throw Error(V(161))}}catch(l){lt(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function Sk(n,e,t){Q=n,dS(n)}function dS(n,e,t){for(var i=(n.mode&1)!==0;Q!==null;){var r=Q,s=r.child;if(r.tag===22&&i){var a=r.memoizedState!==null||Qd;if(!a){var o=r.alternate,l=o!==null&&o.memoizedState!==null||Yt;o=Qd;var u=Yt;if(Qd=a,(Yt=l)&&!u)for(Q=r;Q!==null;)a=Q,l=a.child,a.tag===22&&a.memoizedState!==null?a_(r):l!==null?(l.return=a,Q=l):a_(r);for(;s!==null;)Q=s,dS(s),s=s.sibling;Q=r,Qd=o,Yt=u}r_(n)}else r.subtreeFlags&8772&&s!==null?(s.return=r,Q=s):r_(n)}}function r_(n){for(;Q!==null;){var e=Q;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Yt||ig(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Yt)if(t===null)i.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:ci(e.type,t.memoizedProps);i.componentDidUpdate(r,t.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Uw(e,s,i);break;case 3:var a=e.updateQueue;if(a!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}Uw(e,a,t)}break;case 5:var o=e.stateNode;if(t===null&&e.flags&4){t=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&Su(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(V(163))}Yt||e.flags&512&&rv(e)}catch(f){lt(e,e.return,f)}}if(e===n){Q=null;break}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}}function s_(n){for(;Q!==null;){var e=Q;if(e===n){Q=null;break}var t=e.sibling;if(t!==null){t.return=e.return,Q=t;break}Q=e.return}}function a_(n){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{ig(4,e)}catch(l){lt(e,t,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){lt(e,r,l)}}var s=e.return;try{rv(e)}catch(l){lt(e,s,l)}break;case 5:var a=e.return;try{rv(e)}catch(l){lt(e,a,l)}}}catch(l){lt(e,e.return,l)}if(e===n){Q=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Q=o;break}Q=e.return}}var bk=Math.ceil,dp=Zr.ReactCurrentDispatcher,p0=Zr.ReactCurrentOwner,ri=Zr.ReactCurrentBatchConfig,Ce=0,Lt=null,mt=null,Bt=0,Nn=0,sl=Qs(0),Ct=0,Iu=null,_o=0,rg=0,g0=0,fu=null,mn=null,m0=0,wc=1/0,cr=null,fp=!1,ov=null,Us=null,Jd=!1,Ns=null,pp=0,pu=0,lv=null,vf=-1,yf=0;function on(){return Ce&6?ht():vf!==-1?vf:vf=ht()}function $s(n){return n.mode&1?Ce&2&&Bt!==0?Bt&-Bt:ok.transition!==null?(yf===0&&(yf=YA()),yf):(n=De,n!==0||(n=window.event,n=n===void 0?16:iE(n.type)),n):1}function Ti(n,e,t,i){if(50<pu)throw pu=0,lv=null,Error(V(185));yd(n,t,i),(!(Ce&2)||n!==Lt)&&(n===Lt&&(!(Ce&2)&&(rg|=t),Ct===4&&ds(n,Bt)),En(n,i),t===1&&Ce===0&&!(e.mode&1)&&(wc=ht()+500,eg&&Js()))}function En(n,e){var t=n.callbackNode;oC(n,e);var i=Qf(n,n===Lt?Bt:0);if(i===0)t!==null&&gw(t),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(t!=null&&gw(t),e===1)n.tag===0?ak(o_.bind(null,n)):EE(o_.bind(null,n)),nk(function(){!(Ce&6)&&Js()}),t=null;else{switch(QA(i)){case 1:t=Uy;break;case 4:t=KA;break;case 16:t=Yf;break;case 536870912:t=qA;break;default:t=Yf}t=_S(t,fS.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function fS(n,e){if(vf=-1,yf=0,Ce&6)throw Error(V(327));var t=n.callbackNode;if(fl()&&n.callbackNode!==t)return null;var i=Qf(n,n===Lt?Bt:0);if(i===0)return null;if(i&30||i&n.expiredLanes||e)e=gp(n,i);else{e=i;var r=Ce;Ce|=2;var s=gS();(Lt!==n||Bt!==e)&&(cr=null,wc=ht()+500,go(n,e));do try{kk();break}catch(o){pS(n,o)}while(!0);t0(),dp.current=s,Ce=r,mt!==null?e=0:(Lt=null,Bt=0,e=Ct)}if(e!==0){if(e===2&&(r=Fm(n),r!==0&&(i=r,e=cv(n,r))),e===1)throw t=Iu,go(n,0),ds(n,i),En(n,ht()),t;if(e===6)ds(n,i);else{if(r=n.current.alternate,!(i&30)&&!xk(r)&&(e=gp(n,i),e===2&&(s=Fm(n),s!==0&&(i=s,e=cv(n,s))),e===1))throw t=Iu,go(n,0),ds(n,i),En(n,ht()),t;switch(n.finishedWork=r,n.finishedLanes=i,e){case 0:case 1:throw Error(V(345));case 2:oa(n,mn,cr);break;case 3:if(ds(n,i),(i&130023424)===i&&(e=m0+500-ht(),10<e)){if(Qf(n,0)!==0)break;if(r=n.suspendedLanes,(r&i)!==i){on(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=$m(oa.bind(null,n,mn,cr),e);break}oa(n,mn,cr);break;case 4:if(ds(n,i),(i&4194240)===i)break;for(e=n.eventTimes,r=-1;0<i;){var a=31-ki(i);s=1<<a,a=e[a],a>r&&(r=a),i&=~s}if(i=r,i=ht()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*bk(i/1960))-i,10<i){n.timeoutHandle=$m(oa.bind(null,n,mn,cr),i);break}oa(n,mn,cr);break;case 5:oa(n,mn,cr);break;default:throw Error(V(329))}}}return En(n,ht()),n.callbackNode===t?fS.bind(null,n):null}function cv(n,e){var t=fu;return n.current.memoizedState.isDehydrated&&(go(n,e).flags|=256),n=gp(n,e),n!==2&&(e=mn,mn=t,e!==null&&uv(e)),n}function uv(n){mn===null?mn=n:mn.push.apply(mn,n)}function xk(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var i=0;i<t.length;i++){var r=t[i],s=r.getSnapshot;r=r.value;try{if(!Pi(s(),r))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ds(n,e){for(e&=~g0,e&=~rg,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-ki(e),i=1<<t;n[t]=-1,e&=~i}}function o_(n){if(Ce&6)throw Error(V(327));fl();var e=Qf(n,0);if(!(e&1))return En(n,ht()),null;var t=gp(n,e);if(n.tag!==0&&t===2){var i=Fm(n);i!==0&&(e=i,t=cv(n,i))}if(t===1)throw t=Iu,go(n,0),ds(n,e),En(n,ht()),t;if(t===6)throw Error(V(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,oa(n,mn,cr),En(n,ht()),null}function v0(n,e){var t=Ce;Ce|=1;try{return n(e)}finally{Ce=t,Ce===0&&(wc=ht()+500,eg&&Js())}}function Ao(n){Ns!==null&&Ns.tag===0&&!(Ce&6)&&fl();var e=Ce;Ce|=1;var t=ri.transition,i=De;try{if(ri.transition=null,De=1,n)return n()}finally{De=i,ri.transition=t,Ce=e,!(Ce&6)&&Js()}}function y0(){Nn=sl.current,Ye(sl)}function go(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,tk(t)),mt!==null)for(t=mt.return;t!==null;){var i=t;switch(Jy(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&np();break;case 3:vc(),Ye(_n),Ye(Zt),o0();break;case 5:a0(i);break;case 4:vc();break;case 13:Ye(it);break;case 19:Ye(it);break;case 10:n0(i.type._context);break;case 22:case 23:y0()}t=t.return}if(Lt=n,mt=n=Vs(n.current,null),Bt=Nn=e,Ct=0,Iu=null,g0=rg=_o=0,mn=fu=null,ga!==null){for(e=0;e<ga.length;e++)if(t=ga[e],i=t.interleaved,i!==null){t.interleaved=null;var r=i.next,s=t.pending;if(s!==null){var a=s.next;s.next=r,i.next=a}t.pending=i}ga=null}return n}function pS(n,e){do{var t=mt;try{if(t0(),pf.current=hp,up){for(var i=rt.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}up=!1}if(wo=0,Rt=bt=rt=null,hu=!1,Lu=0,p0.current=null,t===null||t.return===null){Ct=1,Iu=e,mt=null;break}e:{var s=n,a=t.return,o=t,l=e;if(e=Bt,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=o,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=Kw(a);if(p!==null){p.flags&=-257,qw(p,a,o,s,e),p.mode&1&&Xw(s,u,e),e=p,l=u;var g=e.updateQueue;if(g===null){var v=new Set;v.add(l),e.updateQueue=v}else g.add(l);break e}else{if(!(e&1)){Xw(s,u,e),w0();break e}l=Error(V(426))}}else if(Je&&o.mode&1){var S=Kw(a);if(S!==null){!(S.flags&65536)&&(S.flags|=256),qw(S,a,o,s,e),Zy(yc(l,o));break e}}s=l=yc(l,o),Ct!==4&&(Ct=2),fu===null?fu=[s]:fu.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=QE(s,l,e);Bw(s,m);break e;case 1:o=l;var y=s.type,A=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Us===null||!Us.has(A)))){s.flags|=65536,e&=-e,s.lanes|=e;var x=JE(s,o,e);Bw(s,x);break e}}s=s.return}while(s!==null)}vS(t)}catch(T){e=T,mt===t&&t!==null&&(mt=t=t.return);continue}break}while(!0)}function gS(){var n=dp.current;return dp.current=hp,n===null?hp:n}function w0(){(Ct===0||Ct===3||Ct===2)&&(Ct=4),Lt===null||!(_o&268435455)&&!(rg&268435455)||ds(Lt,Bt)}function gp(n,e){var t=Ce;Ce|=2;var i=gS();(Lt!==n||Bt!==e)&&(cr=null,go(n,e));do try{Ck();break}catch(r){pS(n,r)}while(!0);if(t0(),Ce=t,dp.current=i,mt!==null)throw Error(V(261));return Lt=null,Bt=0,Ct}function Ck(){for(;mt!==null;)mS(mt)}function kk(){for(;mt!==null&&!Jx();)mS(mt)}function mS(n){var e=wS(n.alternate,n,Nn);n.memoizedProps=n.pendingProps,e===null?vS(n):mt=e,p0.current=null}function vS(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=_k(t,e),t!==null){t.flags&=32767,mt=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Ct=6,mt=null;return}}else if(t=wk(t,e,Nn),t!==null){mt=t;return}if(e=e.sibling,e!==null){mt=e;return}mt=e=n}while(e!==null);Ct===0&&(Ct=5)}function oa(n,e,t){var i=De,r=ri.transition;try{ri.transition=null,De=1,Tk(n,e,t,i)}finally{ri.transition=r,De=i}return null}function Tk(n,e,t,i){do fl();while(Ns!==null);if(Ce&6)throw Error(V(327));t=n.finishedWork;var r=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(V(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(lC(n,s),n===Lt&&(mt=Lt=null,Bt=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Jd||(Jd=!0,_S(Yf,function(){return fl(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=ri.transition,ri.transition=null;var a=De;De=1;var o=Ce;Ce|=4,p0.current=null,Ek(n,t),hS(t,n),KC(Bm),Jf=!!Hm,Bm=Hm=null,n.current=t,Sk(t),Zx(),Ce=o,De=a,ri.transition=s}else n.current=t;if(Jd&&(Jd=!1,Ns=n,pp=r),s=n.pendingLanes,s===0&&(Us=null),nC(t.stateNode),En(n,ht()),e!==null)for(i=n.onRecoverableError,t=0;t<e.length;t++)r=e[t],i(r.value,{componentStack:r.stack,digest:r.digest});if(fp)throw fp=!1,n=ov,ov=null,n;return pp&1&&n.tag!==0&&fl(),s=n.pendingLanes,s&1?n===lv?pu++:(pu=0,lv=n):pu=0,Js(),null}function fl(){if(Ns!==null){var n=QA(pp),e=ri.transition,t=De;try{if(ri.transition=null,De=16>n?16:n,Ns===null)var i=!1;else{if(n=Ns,Ns=null,pp=0,Ce&6)throw Error(V(331));var r=Ce;for(Ce|=4,Q=n.current;Q!==null;){var s=Q,a=s.child;if(Q.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(Q=u;Q!==null;){var h=Q;switch(h.tag){case 0:case 11:case 15:du(8,h,s)}var d=h.child;if(d!==null)d.return=h,Q=d;else for(;Q!==null;){h=Q;var f=h.sibling,p=h.return;if(lS(h),h===u){Q=null;break}if(f!==null){f.return=p,Q=f;break}Q=p}}}var g=s.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var S=v.sibling;v.sibling=null,v=S}while(v!==null)}}Q=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,Q=a;else e:for(;Q!==null;){if(s=Q,s.flags&2048)switch(s.tag){case 0:case 11:case 15:du(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,Q=m;break e}Q=s.return}}var y=n.current;for(Q=y;Q!==null;){a=Q;var A=a.child;if(a.subtreeFlags&2064&&A!==null)A.return=a,Q=A;else e:for(a=y;Q!==null;){if(o=Q,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:ig(9,o)}}catch(T){lt(o,o.return,T)}if(o===a){Q=null;break e}var x=o.sibling;if(x!==null){x.return=o.return,Q=x;break e}Q=o.return}}if(Ce=r,Js(),Ji&&typeof Ji.onPostCommitFiberRoot=="function")try{Ji.onPostCommitFiberRoot(qp,n)}catch{}i=!0}return i}finally{De=t,ri.transition=e}}return!1}function l_(n,e,t){e=yc(t,e),e=QE(n,e,1),n=Bs(n,e,1),e=on(),n!==null&&(yd(n,1,e),En(n,e))}function lt(n,e,t){if(n.tag===3)l_(n,n,t);else for(;e!==null;){if(e.tag===3){l_(e,n,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Us===null||!Us.has(i))){n=yc(t,n),n=JE(e,n,1),e=Bs(e,n,1),n=on(),e!==null&&(yd(e,1,n),En(e,n));break}}e=e.return}}function Pk(n,e,t){var i=n.pingCache;i!==null&&i.delete(e),e=on(),n.pingedLanes|=n.suspendedLanes&t,Lt===n&&(Bt&t)===t&&(Ct===4||Ct===3&&(Bt&130023424)===Bt&&500>ht()-m0?go(n,0):g0|=t),En(n,e)}function yS(n,e){e===0&&(n.mode&1?(e=Ud,Ud<<=1,!(Ud&130023424)&&(Ud=4194304)):e=1);var t=on();n=qr(n,e),n!==null&&(yd(n,e,t),En(n,t))}function Rk(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),yS(n,t)}function Lk(n,e){var t=0;switch(n.tag){case 13:var i=n.stateNode,r=n.memoizedState;r!==null&&(t=r.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(V(314))}i!==null&&i.delete(e),yS(n,t)}var wS;wS=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||_n.current)vn=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return vn=!1,yk(n,e,t);vn=!!(n.flags&131072)}else vn=!1,Je&&e.flags&1048576&&SE(e,sp,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;mf(n,e),n=e.pendingProps;var r=pc(e,Zt.current);dl(e,t),r=c0(null,e,i,n,r,t);var s=u0();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,An(i)?(s=!0,ip(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r0(e),r.updater=ng,e.stateNode=r,r._reactInternals=e,Ym(e,i,n,t),e=Zm(null,e,i,!0,s,t)):(e.tag=0,Je&&s&&Qy(e),sn(null,e,r,t),e=e.child),e;case 16:i=e.elementType;e:{switch(mf(n,e),n=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=Dk(i),n=ci(i,n),r){case 0:e=Jm(null,e,i,n,t);break e;case 1:e=Jw(null,e,i,n,t);break e;case 11:e=Yw(null,e,i,n,t);break e;case 14:e=Qw(null,e,i,ci(i.type,n),t);break e}throw Error(V(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:ci(i,r),Jm(n,e,i,r,t);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:ci(i,r),Jw(n,e,i,r,t);case 3:e:{if(nS(e),n===null)throw Error(V(387));i=e.pendingProps,s=e.memoizedState,r=s.element,PE(n,e),lp(e,i,null,t);var a=e.memoizedState;if(i=a.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=yc(Error(V(423)),e),e=Zw(n,e,i,t,r);break e}else if(i!==r){r=yc(Error(V(424)),e),e=Zw(n,e,i,t,r);break e}else for(zn=Hs(e.stateNode.containerInfo.firstChild),Hn=e,Je=!0,Ci=null,t=kE(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(gc(),i===r){e=Yr(n,e,t);break e}sn(n,e,i,t)}e=e.child}return e;case 5:return RE(e),n===null&&Xm(e),i=e.type,r=e.pendingProps,s=n!==null?n.memoizedProps:null,a=r.children,Um(i,r)?a=null:s!==null&&Um(i,s)&&(e.flags|=32),tS(n,e),sn(n,e,a,t),e.child;case 6:return n===null&&Xm(e),null;case 13:return iS(n,e,t);case 4:return s0(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=mc(e,null,i,t):sn(n,e,i,t),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:ci(i,r),Yw(n,e,i,r,t);case 7:return sn(n,e,e.pendingProps,t),e.child;case 8:return sn(n,e,e.pendingProps.children,t),e.child;case 12:return sn(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,a=r.value,Xe(ap,i._currentValue),i._currentValue=a,s!==null)if(Pi(s.value,a)){if(s.children===r.children&&!_n.current){e=Yr(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=Br(-1,t&-t),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),Km(s.return,t,e),o.lanes|=t;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(V(341));a.lanes|=t,o=a.alternate,o!==null&&(o.lanes|=t),Km(a,t,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}sn(n,e,r.children,t),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,dl(e,t),r=si(r),i=i(r),e.flags|=1,sn(n,e,i,t),e.child;case 14:return i=e.type,r=ci(i,e.pendingProps),r=ci(i.type,r),Qw(n,e,i,r,t);case 15:return ZE(n,e,e.type,e.pendingProps,t);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:ci(i,r),mf(n,e),e.tag=1,An(i)?(n=!0,ip(e)):n=!1,dl(e,t),YE(e,i,r),Ym(e,i,r,t),Zm(null,e,i,!0,n,t);case 19:return rS(n,e,t);case 22:return eS(n,e,t)}throw Error(V(156,e.tag))};function _S(n,e){return XA(n,e)}function Mk(n,e,t,i){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ii(n,e,t,i){return new Mk(n,e,t,i)}function _0(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Dk(n){if(typeof n=="function")return _0(n)?1:0;if(n!=null){if(n=n.$$typeof,n===zy)return 11;if(n===Hy)return 14}return 2}function Vs(n,e){var t=n.alternate;return t===null?(t=ii(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function wf(n,e,t,i,r,s){var a=2;if(i=n,typeof n=="function")_0(n)&&(a=1);else if(typeof n=="string")a=5;else e:switch(n){case qo:return mo(t.children,r,s,e);case jy:a=8,r|=8;break;case _m:return n=ii(12,t,e,r|2),n.elementType=_m,n.lanes=s,n;case Am:return n=ii(13,t,e,r),n.elementType=Am,n.lanes=s,n;case Em:return n=ii(19,t,e,r),n.elementType=Em,n.lanes=s,n;case RA:return sg(t,r,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case TA:a=10;break e;case PA:a=9;break e;case zy:a=11;break e;case Hy:a=14;break e;case cs:a=16,i=null;break e}throw Error(V(130,n==null?n:typeof n,""))}return e=ii(a,t,e,r),e.elementType=n,e.type=i,e.lanes=s,e}function mo(n,e,t,i){return n=ii(7,n,i,e),n.lanes=t,n}function sg(n,e,t,i){return n=ii(22,n,i,e),n.elementType=RA,n.lanes=t,n.stateNode={isHidden:!1},n}function om(n,e,t){return n=ii(6,n,null,e),n.lanes=t,n}function lm(n,e,t){return e=ii(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function Ik(n,e,t,i,r){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ug(0),this.expirationTimes=Ug(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ug(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function A0(n,e,t,i,r,s,a,o,l){return n=new Ik(n,e,t,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ii(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:i,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},r0(s),n}function Fk(n,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ko,key:i==null?null:""+i,children:n,containerInfo:e,implementation:t}}function AS(n){if(!n)return Gs;n=n._reactInternals;e:{if(Lo(n)!==n||n.tag!==1)throw Error(V(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(An(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(V(171))}if(n.tag===1){var t=n.type;if(An(t))return AE(n,t,e)}return e}function ES(n,e,t,i,r,s,a,o,l){return n=A0(t,i,!0,n,r,s,a,o,l),n.context=AS(null),t=n.current,i=on(),r=$s(t),s=Br(i,r),s.callback=e??null,Bs(t,s,r),n.current.lanes=r,yd(n,r,i),En(n,i),n}function ag(n,e,t,i){var r=e.current,s=on(),a=$s(r);return t=AS(t),e.context===null?e.context=t:e.pendingContext=t,e=Br(s,a),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=Bs(r,e,a),n!==null&&(Ti(n,r,a,s),ff(n,r,a)),a}function mp(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function c_(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function E0(n,e){c_(n,e),(n=n.alternate)&&c_(n,e)}function Nk(){return null}var SS=typeof reportError=="function"?reportError:function(n){console.error(n)};function S0(n){this._internalRoot=n}og.prototype.render=S0.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(V(409));ag(n,e,null,null)};og.prototype.unmount=S0.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Ao(function(){ag(null,n,null,null)}),e[Kr]=null}};function og(n){this._internalRoot=n}og.prototype.unstable_scheduleHydration=function(n){if(n){var e=eE();n={blockedOn:null,target:n,priority:e};for(var t=0;t<hs.length&&e!==0&&e<hs[t].priority;t++);hs.splice(t,0,n),t===0&&nE(n)}};function b0(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function lg(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function u_(){}function Ok(n,e,t,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var u=mp(a);s.call(u)}}var a=ES(e,i,n,0,null,!1,!1,"",u_);return n._reactRootContainer=a,n[Kr]=a.current,Cu(n.nodeType===8?n.parentNode:n),Ao(),a}for(;r=n.lastChild;)n.removeChild(r);if(typeof i=="function"){var o=i;i=function(){var u=mp(l);o.call(u)}}var l=A0(n,0,!1,null,null,!1,!1,"",u_);return n._reactRootContainer=l,n[Kr]=l.current,Cu(n.nodeType===8?n.parentNode:n),Ao(function(){ag(e,l,t,i)}),l}function cg(n,e,t,i,r){var s=t._reactRootContainer;if(s){var a=s;if(typeof r=="function"){var o=r;r=function(){var l=mp(a);o.call(l)}}ag(e,a,n,r)}else a=Ok(t,e,n,r,i);return mp(a)}JA=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Uc(e.pendingLanes);t!==0&&($y(e,t|1),En(e,ht()),!(Ce&6)&&(wc=ht()+500,Js()))}break;case 13:Ao(function(){var i=qr(n,1);if(i!==null){var r=on();Ti(i,n,1,r)}}),E0(n,1)}};Vy=function(n){if(n.tag===13){var e=qr(n,134217728);if(e!==null){var t=on();Ti(e,n,134217728,t)}E0(n,134217728)}};ZA=function(n){if(n.tag===13){var e=$s(n),t=qr(n,e);if(t!==null){var i=on();Ti(t,n,e,i)}E0(n,e)}};eE=function(){return De};tE=function(n,e){var t=De;try{return De=n,e()}finally{De=t}};Mm=function(n,e,t){switch(e){case"input":if(xm(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==n&&i.form===n.form){var r=Zp(i);if(!r)throw Error(V(90));MA(i),xm(i,r)}}}break;case"textarea":IA(n,t);break;case"select":e=t.value,e!=null&&ll(n,!!t.multiple,e,!1)}};BA=v0;UA=Ao;var jk={usingClientEntryPoint:!1,Events:[_d,Zo,Zp,zA,HA,v0]},Dc={findFiberByHostInstance:pa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},zk={bundleType:Dc.bundleType,version:Dc.version,rendererPackageName:Dc.rendererPackageName,rendererConfig:Dc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Zr.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=WA(n),n===null?null:n.stateNode},findFiberByHostInstance:Dc.findFiberByHostInstance||Nk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zd.isDisabled&&Zd.supportsFiber)try{qp=Zd.inject(zk),Ji=Zd}catch{}}Un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jk;Un.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!b0(e))throw Error(V(200));return Fk(n,e,null,t)};Un.createRoot=function(n,e){if(!b0(n))throw Error(V(299));var t=!1,i="",r=SS;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=A0(n,1,!1,null,null,t,!1,i,r),n[Kr]=e.current,Cu(n.nodeType===8?n.parentNode:n),new S0(e)};Un.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(V(188)):(n=Object.keys(n).join(","),Error(V(268,n)));return n=WA(e),n=n===null?null:n.stateNode,n};Un.flushSync=function(n){return Ao(n)};Un.hydrate=function(n,e,t){if(!lg(e))throw Error(V(200));return cg(null,n,e,!0,t)};Un.hydrateRoot=function(n,e,t){if(!b0(n))throw Error(V(405));var i=t!=null&&t.hydratedSources||null,r=!1,s="",a=SS;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),e=ES(e,null,n,1,t??null,r,!1,s,a),n[Kr]=e.current,Cu(n),i)for(n=0;n<i.length;n++)t=i[n],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new og(e)};Un.render=function(n,e,t){if(!lg(e))throw Error(V(200));return cg(null,n,e,!1,t)};Un.unmountComponentAtNode=function(n){if(!lg(n))throw Error(V(40));return n._reactRootContainer?(Ao(function(){cg(null,null,n,!1,function(){n._reactRootContainer=null,n[Kr]=null})}),!0):!1};Un.unstable_batchedUpdates=v0;Un.unstable_renderSubtreeIntoContainer=function(n,e,t,i){if(!lg(t))throw Error(V(200));if(n==null||n._reactInternals===void 0)throw Error(V(38));return cg(n,e,t,!1,i)};Un.version="18.3.1-next-f1338f8080-20240426";function bS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bS)}catch(n){console.error(n)}}bS(),bA.exports=Un;var x0=bA.exports;const Hk=Xp(x0),Bk=hA({__proto__:null,default:Hk},[x0]);var h_=x0;ym.createRoot=h_.createRoot,ym.hydrateRoot=h_.hydrateRoot;/**
 * @remix-run/router v1.19.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nt(){return nt=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},nt.apply(this,arguments)}var gt;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(gt||(gt={}));const d_="popstate";function Uk(n){n===void 0&&(n={});function e(r,s){let{pathname:a="/",search:o="",hash:l=""}=es(r.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),Fu("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){let a=r.document.querySelector("base"),o="";if(a&&a.getAttribute("href")){let l=r.location.href,u=l.indexOf("#");o=u===-1?l:l.slice(0,u)}return o+"#"+(typeof s=="string"?s:So(s))}function i(r,s){Eo(r.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return Vk(e,t,i,n)}function me(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Eo(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $k(){return Math.random().toString(36).substr(2,8)}function f_(n,e){return{usr:n.state,key:n.key,idx:e}}function Fu(n,e,t,i){return t===void 0&&(t=null),nt({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?es(e):e,{state:t,key:e&&e.key||i||$k()})}function So(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function es(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function Vk(n,e,t,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,a=r.history,o=gt.Pop,l=null,u=h();u==null&&(u=0,a.replaceState(nt({},a.state,{idx:u}),""));function h(){return(a.state||{idx:null}).idx}function d(){o=gt.Pop;let S=h(),m=S==null?null:S-u;u=S,l&&l({action:o,location:v.location,delta:m})}function f(S,m){o=gt.Push;let y=Fu(v.location,S,m);t&&t(y,S),u=h()+1;let A=f_(y,u),x=v.createHref(y);try{a.pushState(A,"",x)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;r.location.assign(x)}s&&l&&l({action:o,location:v.location,delta:1})}function p(S,m){o=gt.Replace;let y=Fu(v.location,S,m);t&&t(y,S),u=h();let A=f_(y,u),x=v.createHref(y);a.replaceState(A,"",x),s&&l&&l({action:o,location:v.location,delta:0})}function g(S){let m=r.location.origin!=="null"?r.location.origin:r.location.href,y=typeof S=="string"?S:So(S);return y=y.replace(/ $/,"%20"),me(m,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,m)}let v={get action(){return o},get location(){return n(r,a)},listen(S){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(d_,d),l=S,()=>{r.removeEventListener(d_,d),l=null}},createHref(S){return e(r,S)},createURL:g,encodeLocation(S){let m=g(S);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:p,go(S){return a.go(S)}};return v}var Oe;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Oe||(Oe={}));const Wk=new Set(["lazy","caseSensitive","path","id","index","children"]);function Gk(n){return n.index===!0}function Nu(n,e,t,i){return t===void 0&&(t=[]),i===void 0&&(i={}),n.map((r,s)=>{let a=[...t,String(s)],o=typeof r.id=="string"?r.id:a.join("-");if(me(r.index!==!0||!r.children,"Cannot specify children on an index route"),me(!i[o],'Found a route id collision on id "'+o+`".  Route id's must be globally unique within Data Router usages`),Gk(r)){let l=nt({},r,e(r),{id:o});return i[o]=l,l}else{let l=nt({},r,e(r),{id:o,children:void 0});return i[o]=l,r.children&&(l.children=Nu(r.children,e,a,i)),l}})}function ha(n,e,t){return t===void 0&&(t="/"),_f(n,e,t,!1)}function _f(n,e,t,i){let r=typeof e=="string"?es(e):e,s=bc(r.pathname||"/",t);if(s==null)return null;let a=xS(n);Kk(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=sT(s);o=iT(a[l],u,i)}return o}function Xk(n,e){let{route:t,pathname:i,params:r}=n;return{id:t.id,pathname:i,params:r,data:e[t.id],handle:t.handle}}function xS(n,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let r=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(me(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let u=Ur([i,l.relativePath]),h=t.concat(l);s.children&&s.children.length>0&&(me(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),xS(s.children,e,h,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:tT(u,s.index),routesMeta:h})};return n.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))r(s,a);else for(let l of CS(s.path))r(s,a,l)}),e}function CS(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),s=t.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let a=CS(i.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),r&&o.push(...a),o.map(l=>n.startsWith("/")&&l===""?"/":l)}function Kk(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:nT(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const qk=/^:[\w-]+$/,Yk=3,Qk=2,Jk=1,Zk=10,eT=-2,p_=n=>n==="*";function tT(n,e){let t=n.split("/"),i=t.length;return t.some(p_)&&(i+=eT),e&&(i+=Qk),t.filter(r=>!p_(r)).reduce((r,s)=>r+(qk.test(s)?Yk:s===""?Jk:Zk),i)}function nT(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function iT(n,e,t){t===void 0&&(t=!1);let{routesMeta:i}=n,r={},s="/",a=[];for(let o=0;o<i.length;++o){let l=i[o],u=o===i.length-1,h=s==="/"?e:e.slice(s.length)||"/",d=g_({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},h),f=l.route;if(!d&&u&&t&&!i[i.length-1].route.index&&(d=g_({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!d)return null;Object.assign(r,d.params),a.push({params:r,pathname:Ur([s,d.pathname]),pathnameBase:lT(Ur([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=Ur([s,d.pathnameBase]))}return a}function g_(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=rT(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let s=r[0],a=s.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:i.reduce((u,h,d)=>{let{paramName:f,isOptional:p}=h;if(f==="*"){let v=o[d]||"";a=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const g=o[d];return p&&!g?u[f]=void 0:u[f]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:n}}function rT(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),Eo(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(i.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function sT(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Eo(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function bc(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function aT(n,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?es(n):n;return{pathname:t?t.startsWith("/")?t:oT(t,e):e,search:cT(i),hash:uT(r)}}function oT(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function cm(n,e,t,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function kS(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function C0(n,e){let t=kS(n);return e?t.map((i,r)=>r===t.length-1?i.pathname:i.pathnameBase):t.map(i=>i.pathnameBase)}function k0(n,e,t,i){i===void 0&&(i=!1);let r;typeof n=="string"?r=es(n):(r=nt({},n),me(!r.pathname||!r.pathname.includes("?"),cm("?","pathname","search",r)),me(!r.pathname||!r.pathname.includes("#"),cm("#","pathname","hash",r)),me(!r.search||!r.search.includes("#"),cm("#","search","hash",r)));let s=n===""||r.pathname==="",a=s?"/":r.pathname,o;if(a==null)o=t;else{let d=e.length-1;if(!i&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),d-=1;r.pathname=f.join("/")}o=d>=0?e[d]:"/"}let l=aT(r,o),u=a&&a!=="/"&&a.endsWith("/"),h=(s||a===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(u||h)&&(l.pathname+="/"),l}const Ur=n=>n.join("/").replace(/\/\/+/g,"/"),lT=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),cT=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,uT=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;class vp{constructor(e,t,i,r){r===void 0&&(r=!1),this.status=e,this.statusText=t||"",this.internal=r,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}}function ug(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const TS=["post","put","patch","delete"],hT=new Set(TS),dT=["get",...TS],fT=new Set(dT),pT=new Set([301,302,303,307,308]),gT=new Set([307,308]),um={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},mT={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ic={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},T0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vT=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),PS="remix-router-transitions";function yT(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",i=!t;me(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let r;if(n.mapRouteProperties)r=n.mapRouteProperties;else if(n.detectErrorBoundary){let k=n.detectErrorBoundary;r=R=>({hasErrorBoundary:k(R)})}else r=vT;let s={},a=Nu(n.routes,r,void 0,s),o,l=n.basename||"/",u=n.unstable_dataStrategy||ST,h=n.unstable_patchRoutesOnNavigation,d=nt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},n.future),f=null,p=new Set,g=1e3,v=new Set,S=null,m=null,y=null,A=n.hydrationData!=null,x=ha(a,n.history.location,l),T=null;if(x==null&&!h){let k=rn(404,{pathname:n.history.location.pathname}),{matches:R,route:j}=x_(a);x=R,T={[j.id]:k}}x&&!n.hydrationData&&Md(x,a,n.history.location.pathname).active&&(x=null);let L;if(x)if(x.some(k=>k.route.lazy))L=!1;else if(!x.some(k=>k.route.loader))L=!0;else if(d.v7_partialHydration){let k=n.hydrationData?n.hydrationData.loaderData:null,R=n.hydrationData?n.hydrationData.errors:null,j=$=>$.route.loader?typeof $.route.loader=="function"&&$.route.loader.hydrate===!0?!1:k&&k[$.route.id]!==void 0||R&&R[$.route.id]!==void 0:!0;if(R){let $=x.findIndex(q=>R[q.route.id]!==void 0);L=x.slice(0,$+1).every(j)}else L=x.every(j)}else L=n.hydrationData!=null;else if(L=!1,x=[],d.v7_partialHydration){let k=Md(null,a,n.history.location.pathname);k.active&&k.matches&&(x=k.matches)}let F,b={historyAction:n.history.action,location:n.history.location,matches:x,initialized:L,navigation:um,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||T,fetchers:new Map,blockers:new Map},O=gt.Pop,B=!1,U,ee=!1,Z=new Map,I=null,M=!1,N=!1,D=[],P=new Set,H=new Map,W=0,ie=-1,Y=new Map,re=new Set,ue=new Map,Ve=new Map,Ae=new Set,he=new Map,Ke=new Map,Vn=new Map,We=!1;function ea(){if(f=n.history.listen(k=>{let{action:R,location:j,delta:$}=k;if(We){We=!1;return}Eo(Ke.size===0||$!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let q=Q0({currentLocation:b.location,nextLocation:j,historyAction:R});if(q&&$!=null){We=!0,n.history.go($*-1),Rd(q,{state:"blocked",location:j,proceed(){Rd(q,{state:"proceeding",proceed:void 0,reset:void 0,location:j}),n.history.go($)},reset(){let te=new Map(b.blockers);te.set(q,Ic),Ee({blockers:te})}});return}return ir(R,j)}),t){NT(e,Z);let k=()=>OT(e,Z);e.addEventListener("pagehide",k),I=()=>e.removeEventListener("pagehide",k)}return b.initialized||ir(gt.Pop,b.location,{initialHydration:!0}),F}function ta(){f&&f(),I&&I(),p.clear(),U&&U.abort(),b.fetchers.forEach((k,R)=>Pd(R)),b.blockers.forEach((k,R)=>Y0(R))}function Ie(k){return p.add(k),()=>p.delete(k)}function Ee(k,R){R===void 0&&(R={}),b=nt({},b,k);let j=[],$=[];d.v7_fetcherPersist&&b.fetchers.forEach((q,te)=>{q.state==="idle"&&(Ae.has(te)?$.push(te):j.push(te))}),[...p].forEach(q=>q(b,{deletedFetchers:$,unstable_viewTransitionOpts:R.viewTransitionOpts,unstable_flushSync:R.flushSync===!0})),d.v7_fetcherPersist&&(j.forEach(q=>b.fetchers.delete(q)),$.forEach(q=>Pd(q)))}function Ze(k,R,j){var $,q;let{flushSync:te}=j===void 0?{}:j,oe=b.actionData!=null&&b.navigation.formMethod!=null&&xi(b.navigation.formMethod)&&b.navigation.state==="loading"&&(($=k.state)==null?void 0:$._isRedirect)!==!0,G;R.actionData?Object.keys(R.actionData).length>0?G=R.actionData:G=null:oe?G=b.actionData:G=null;let fe=R.loaderData?S_(b.loaderData,R.loaderData,R.matches||[],R.errors):b.loaderData,ae=b.blockers;ae.size>0&&(ae=new Map(ae),ae.forEach((Re,He)=>ae.set(He,Ic)));let pe=B===!0||b.navigation.formMethod!=null&&xi(b.navigation.formMethod)&&((q=k.state)==null?void 0:q._isRedirect)!==!0;o&&(a=o,o=void 0),M||O===gt.Pop||(O===gt.Push?n.history.push(k,k.state):O===gt.Replace&&n.history.replace(k,k.state));let Fe;if(O===gt.Pop){let Re=Z.get(b.location.pathname);Re&&Re.has(k.pathname)?Fe={currentLocation:b.location,nextLocation:k}:Z.has(k.pathname)&&(Fe={currentLocation:k,nextLocation:b.location})}else if(ee){let Re=Z.get(b.location.pathname);Re?Re.add(k.pathname):(Re=new Set([k.pathname]),Z.set(b.location.pathname,Re)),Fe={currentLocation:b.location,nextLocation:k}}Ee(nt({},R,{actionData:G,loaderData:fe,historyAction:O,location:k,initialized:!0,navigation:um,revalidation:"idle",restoreScrollPosition:Z0(k,R.matches||b.matches),preventScrollReset:pe,blockers:ae}),{viewTransitionOpts:Fe,flushSync:te===!0}),O=gt.Pop,B=!1,ee=!1,M=!1,N=!1,D=[]}async function ct(k,R){if(typeof k=="number"){n.history.go(k);return}let j=hv(b.location,b.matches,l,d.v7_prependBasename,k,d.v7_relativeSplatPath,R==null?void 0:R.fromRouteId,R==null?void 0:R.relative),{path:$,submission:q,error:te}=m_(d.v7_normalizeFormMethod,!1,j,R),oe=b.location,G=Fu(b.location,$,R&&R.state);G=nt({},G,n.history.encodeLocation(G));let fe=R&&R.replace!=null?R.replace:void 0,ae=gt.Push;fe===!0?ae=gt.Replace:fe===!1||q!=null&&xi(q.formMethod)&&q.formAction===b.location.pathname+b.location.search&&(ae=gt.Replace);let pe=R&&"preventScrollReset"in R?R.preventScrollReset===!0:void 0,Fe=(R&&R.unstable_flushSync)===!0,Re=Q0({currentLocation:oe,nextLocation:G,historyAction:ae});if(Re){Rd(Re,{state:"blocked",location:G,proceed(){Rd(Re,{state:"proceeding",proceed:void 0,reset:void 0,location:G}),ct(k,R)},reset(){let He=new Map(b.blockers);He.set(Re,Ic),Ee({blockers:He})}});return}return await ir(ae,G,{submission:q,pendingError:te,preventScrollReset:pe,replace:R&&R.replace,enableViewTransition:R&&R.unstable_viewTransition,flushSync:Fe})}function Ri(){if(ts(),Ee({revalidation:"loading"}),b.navigation.state!=="submitting"){if(b.navigation.state==="idle"){ir(b.historyAction,b.location,{startUninterruptedRevalidation:!0});return}ir(O||b.historyAction,b.navigation.location,{overrideNavigation:b.navigation})}}async function ir(k,R,j){U&&U.abort(),U=null,O=k,M=(j&&j.startUninterruptedRevalidation)===!0,lx(b.location,b.matches),B=(j&&j.preventScrollReset)===!0,ee=(j&&j.enableViewTransition)===!0;let $=o||a,q=j&&j.overrideNavigation,te=ha($,R,l),oe=(j&&j.flushSync)===!0,G=Md(te,$,R.pathname);if(G.active&&G.matches&&(te=G.matches),!te){let{error:Pe,notFoundMatches:Mt,route:ft}=Ig(R.pathname);Ze(R,{matches:Mt,loaderData:{},errors:{[ft.id]:Pe}},{flushSync:oe});return}if(b.initialized&&!N&&PT(b.location,R)&&!(j&&j.submission&&xi(j.submission.formMethod))){Ze(R,{matches:te},{flushSync:oe});return}U=new AbortController;let fe=Bo(n.history,R,U.signal,j&&j.submission),ae;if(j&&j.pendingError)ae=[al(te).route.id,{type:Oe.error,error:j.pendingError}];else if(j&&j.submission&&xi(j.submission.formMethod)){let Pe=await Tg(fe,R,j.submission,te,G.active,{replace:j.replace,flushSync:oe});if(Pe.shortCircuited)return;if(Pe.pendingActionResult){let[Mt,ft]=Pe.pendingActionResult;if(On(ft)&&ug(ft.error)&&ft.error.status===404){U=null,Ze(R,{matches:Pe.matches,loaderData:{},errors:{[Mt]:ft.error}});return}}te=Pe.matches||te,ae=Pe.pendingActionResult,q=hm(R,j.submission),oe=!1,G.active=!1,fe=Bo(n.history,fe.url,fe.signal)}let{shortCircuited:pe,matches:Fe,loaderData:Re,errors:He}=await Pg(fe,R,te,G.active,q,j&&j.submission,j&&j.fetcherSubmission,j&&j.replace,j&&j.initialHydration===!0,oe,ae);pe||(U=null,Ze(R,nt({matches:Fe||te},b_(ae),{loaderData:Re,errors:He})))}async function Tg(k,R,j,$,q,te){te===void 0&&(te={}),ts();let oe=IT(R,j);if(Ee({navigation:oe},{flushSync:te.flushSync===!0}),q){let ae=await Dd($,R.pathname,k.signal);if(ae.type==="aborted")return{shortCircuited:!0};if(ae.type==="error"){let{boundaryId:pe,error:Fe}=Ld(R.pathname,ae);return{matches:ae.partialMatches,pendingActionResult:[pe,{type:Oe.error,error:Fe}]}}else if(ae.matches)$=ae.matches;else{let{notFoundMatches:pe,error:Fe,route:Re}=Ig(R.pathname);return{matches:pe,pendingActionResult:[Re.id,{type:Oe.error,error:Fe}]}}}let G,fe=Vc($,R);if(!fe.route.action&&!fe.route.lazy)G={type:Oe.error,error:rn(405,{method:k.method,pathname:R.pathname,routeId:fe.route.id})};else if(G=(await Wn("action",k,[fe],$))[0],k.signal.aborted)return{shortCircuited:!0};if(ya(G)){let ae;return te&&te.replace!=null?ae=te.replace:ae=__(G.response.headers.get("Location"),new URL(k.url),l)===b.location.pathname+b.location.search,await ia(k,G,{submission:j,replace:ae}),{shortCircuited:!0}}if(va(G))throw rn(400,{type:"defer-action"});if(On(G)){let ae=al($,fe.route.id);return(te&&te.replace)!==!0&&(O=gt.Push),{matches:$,pendingActionResult:[ae.route.id,G]}}return{matches:$,pendingActionResult:[fe.route.id,G]}}async function Pg(k,R,j,$,q,te,oe,G,fe,ae,pe){let Fe=q||hm(R,te),Re=te||oe||P_(Fe),He=!M&&(!d.v7_partialHydration||!fe);if($){if(He){let at=na(pe);Ee(nt({navigation:Fe},at!==void 0?{actionData:at}:{}),{flushSync:ae})}let ge=await Dd(j,R.pathname,k.signal);if(ge.type==="aborted")return{shortCircuited:!0};if(ge.type==="error"){let{boundaryId:at,error:bn}=Ld(R.pathname,ge);return{matches:ge.partialMatches,loaderData:{},errors:{[at]:bn}}}else if(ge.matches)j=ge.matches;else{let{error:at,notFoundMatches:bn,route:Qe}=Ig(R.pathname);return{matches:bn,loaderData:{},errors:{[Qe.id]:at}}}}let Pe=o||a,[Mt,ft]=v_(n.history,b,j,Re,R,d.v7_partialHydration&&fe===!0,d.v7_skipActionErrorRevalidation,N,D,P,Ae,ue,re,Pe,l,pe);if(Fg(ge=>!(j&&j.some(at=>at.route.id===ge))||Mt&&Mt.some(at=>at.route.id===ge)),ie=++W,Mt.length===0&&ft.length===0){let ge=K0();return Ze(R,nt({matches:j,loaderData:{},errors:pe&&On(pe[1])?{[pe[0]]:pe[1].error}:null},b_(pe),ge?{fetchers:new Map(b.fetchers)}:{}),{flushSync:ae}),{shortCircuited:!0}}if(He){let ge={};if(!$){ge.navigation=Fe;let at=na(pe);at!==void 0&&(ge.actionData=at)}ft.length>0&&(ge.fetchers=Rg(ft)),Ee(ge,{flushSync:ae})}ft.forEach(ge=>{H.has(ge.key)&&ns(ge.key),ge.controller&&H.set(ge.key,ge.controller)});let xc=()=>ft.forEach(ge=>ns(ge.key));U&&U.signal.addEventListener("abort",xc);let{loaderResults:is,fetcherResults:Oo}=await ra(b.matches,j,Mt,ft,k);if(k.signal.aborted)return{shortCircuited:!0};U&&U.signal.removeEventListener("abort",xc),ft.forEach(ge=>H.delete(ge.key));let jo=C_([...is,...Oo]);if(jo){if(jo.idx>=Mt.length){let ge=ft[jo.idx-Mt.length].key;re.add(ge)}return await ia(k,jo.result,{replace:G}),{shortCircuited:!0}}let{loaderData:zo,errors:Li}=E_(b,j,Mt,is,pe,ft,Oo,he);he.forEach((ge,at)=>{ge.subscribe(bn=>{(bn||ge.done)&&he.delete(at)})}),d.v7_partialHydration&&fe&&b.errors&&Object.entries(b.errors).filter(ge=>{let[at]=ge;return!Mt.some(bn=>bn.route.id===at)}).forEach(ge=>{let[at,bn]=ge;Li=Object.assign(Li||{},{[at]:bn})});let Id=K0(),Fd=q0(ie),Nd=Id||Fd||ft.length>0;return nt({matches:j,loaderData:zo,errors:Li},Nd?{fetchers:new Map(b.fetchers)}:{})}function na(k){if(k&&!On(k[1]))return{[k[0]]:k[1].data};if(b.actionData)return Object.keys(b.actionData).length===0?null:b.actionData}function Rg(k){return k.forEach(R=>{let j=b.fetchers.get(R.key),$=Fc(void 0,j?j.data:void 0);b.fetchers.set(R.key,$)}),new Map(b.fetchers)}function Lg(k,R,j,$){if(i)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");H.has(k)&&ns(k);let q=($&&$.unstable_flushSync)===!0,te=o||a,oe=hv(b.location,b.matches,l,d.v7_prependBasename,j,d.v7_relativeSplatPath,R,$==null?void 0:$.relative),G=ha(te,oe,l),fe=Md(G,te,oe);if(fe.active&&fe.matches&&(G=fe.matches),!G){rr(k,R,rn(404,{pathname:oe}),{flushSync:q});return}let{path:ae,submission:pe,error:Fe}=m_(d.v7_normalizeFormMethod,!0,oe,$);if(Fe){rr(k,R,Fe,{flushSync:q});return}let Re=Vc(G,ae);if(B=($&&$.preventScrollReset)===!0,pe&&xi(pe.formMethod)){Mg(k,R,ae,Re,G,fe.active,q,pe);return}ue.set(k,{routeId:R,path:ae}),Dg(k,R,ae,Re,G,fe.active,q,pe)}async function Mg(k,R,j,$,q,te,oe,G){ts(),ue.delete(k);function fe(Qe){if(!Qe.route.action&&!Qe.route.lazy){let sr=rn(405,{method:G.formMethod,pathname:j,routeId:R});return rr(k,R,sr,{flushSync:oe}),!0}return!1}if(!te&&fe($))return;let ae=b.fetchers.get(k);Gn(k,FT(G,ae),{flushSync:oe});let pe=new AbortController,Fe=Bo(n.history,j,pe.signal,G);if(te){let Qe=await Dd(q,j,Fe.signal);if(Qe.type==="aborted")return;if(Qe.type==="error"){let{error:sr}=Ld(j,Qe);rr(k,R,sr,{flushSync:oe});return}else if(Qe.matches){if(q=Qe.matches,$=Vc(q,j),fe($))return}else{rr(k,R,rn(404,{pathname:j}),{flushSync:oe});return}}H.set(k,pe);let Re=W,Pe=(await Wn("action",Fe,[$],q))[0];if(Fe.signal.aborted){H.get(k)===pe&&H.delete(k);return}if(d.v7_fetcherPersist&&Ae.has(k)){if(ya(Pe)||On(Pe)){Gn(k,ss(void 0));return}}else{if(ya(Pe))if(H.delete(k),ie>Re){Gn(k,ss(void 0));return}else return re.add(k),Gn(k,Fc(G)),ia(Fe,Pe,{fetcherSubmission:G});if(On(Pe)){rr(k,R,Pe.error);return}}if(va(Pe))throw rn(400,{type:"defer-action"});let Mt=b.navigation.location||b.location,ft=Bo(n.history,Mt,pe.signal),xc=o||a,is=b.navigation.state!=="idle"?ha(xc,b.navigation.location,l):b.matches;me(is,"Didn't find any matches after fetcher action");let Oo=++W;Y.set(k,Oo);let jo=Fc(G,Pe.data);b.fetchers.set(k,jo);let[zo,Li]=v_(n.history,b,is,G,Mt,!1,d.v7_skipActionErrorRevalidation,N,D,P,Ae,ue,re,xc,l,[$.route.id,Pe]);Li.filter(Qe=>Qe.key!==k).forEach(Qe=>{let sr=Qe.key,tw=b.fetchers.get(sr),hx=Fc(void 0,tw?tw.data:void 0);b.fetchers.set(sr,hx),H.has(sr)&&ns(sr),Qe.controller&&H.set(sr,Qe.controller)}),Ee({fetchers:new Map(b.fetchers)});let Id=()=>Li.forEach(Qe=>ns(Qe.key));pe.signal.addEventListener("abort",Id);let{loaderResults:Fd,fetcherResults:Nd}=await ra(b.matches,is,zo,Li,ft);if(pe.signal.aborted)return;pe.signal.removeEventListener("abort",Id),Y.delete(k),H.delete(k),Li.forEach(Qe=>H.delete(Qe.key));let ge=C_([...Fd,...Nd]);if(ge){if(ge.idx>=zo.length){let Qe=Li[ge.idx-zo.length].key;re.add(Qe)}return ia(ft,ge.result)}let{loaderData:at,errors:bn}=E_(b,b.matches,zo,Fd,void 0,Li,Nd,he);if(b.fetchers.has(k)){let Qe=ss(Pe.data);b.fetchers.set(k,Qe)}q0(Oo),b.navigation.state==="loading"&&Oo>ie?(me(O,"Expected pending action"),U&&U.abort(),Ze(b.navigation.location,{matches:is,loaderData:at,errors:bn,fetchers:new Map(b.fetchers)})):(Ee({errors:bn,loaderData:S_(b.loaderData,at,is,bn),fetchers:new Map(b.fetchers)}),N=!1)}async function Dg(k,R,j,$,q,te,oe,G){let fe=b.fetchers.get(k);Gn(k,Fc(G,fe?fe.data:void 0),{flushSync:oe});let ae=new AbortController,pe=Bo(n.history,j,ae.signal);if(te){let Pe=await Dd(q,j,pe.signal);if(Pe.type==="aborted")return;if(Pe.type==="error"){let{error:Mt}=Ld(j,Pe);rr(k,R,Mt,{flushSync:oe});return}else if(Pe.matches)q=Pe.matches,$=Vc(q,j);else{rr(k,R,rn(404,{pathname:j}),{flushSync:oe});return}}H.set(k,ae);let Fe=W,He=(await Wn("loader",pe,[$],q))[0];if(va(He)&&(He=await IS(He,pe.signal,!0)||He),H.get(k)===ae&&H.delete(k),!pe.signal.aborted){if(Ae.has(k)){Gn(k,ss(void 0));return}if(ya(He))if(ie>Fe){Gn(k,ss(void 0));return}else{re.add(k),await ia(pe,He);return}if(On(He)){rr(k,R,He.error);return}me(!va(He),"Unhandled fetcher deferred data"),Gn(k,ss(He.data))}}async function ia(k,R,j){let{submission:$,fetcherSubmission:q,replace:te}=j===void 0?{}:j;R.response.headers.has("X-Remix-Revalidate")&&(N=!0);let oe=R.response.headers.get("Location");me(oe,"Expected a Location header on the redirect Response"),oe=__(oe,new URL(k.url),l);let G=Fu(b.location,oe,{_isRedirect:!0});if(t){let He=!1;if(R.response.headers.has("X-Remix-Reload-Document"))He=!0;else if(T0.test(oe)){const Pe=n.history.createURL(oe);He=Pe.origin!==e.location.origin||bc(Pe.pathname,l)==null}if(He){te?e.location.replace(oe):e.location.assign(oe);return}}U=null;let fe=te===!0||R.response.headers.has("X-Remix-Replace")?gt.Replace:gt.Push,{formMethod:ae,formAction:pe,formEncType:Fe}=b.navigation;!$&&!q&&ae&&pe&&Fe&&($=P_(b.navigation));let Re=$||q;if(gT.has(R.response.status)&&Re&&xi(Re.formMethod))await ir(fe,G,{submission:nt({},Re,{formAction:oe}),preventScrollReset:B});else{let He=hm(G,$);await ir(fe,G,{overrideNavigation:He,fetcherSubmission:q,preventScrollReset:B})}}async function Wn(k,R,j,$){try{let q=await bT(u,k,R,j,$,s,r);return await Promise.all(q.map((te,oe)=>{if(LT(te)){let G=te.result;return{type:Oe.redirect,response:kT(G,R,j[oe].route.id,$,l,d.v7_relativeSplatPath)}}return CT(te)}))}catch(q){return j.map(()=>({type:Oe.error,error:q}))}}async function ra(k,R,j,$,q){let[te,...oe]=await Promise.all([j.length?Wn("loader",q,j,R):[],...$.map(G=>{if(G.matches&&G.match&&G.controller){let fe=Bo(n.history,G.path,G.controller.signal);return Wn("loader",fe,[G.match],G.matches).then(ae=>ae[0])}else return Promise.resolve({type:Oe.error,error:rn(404,{pathname:G.path})})})]);return await Promise.all([T_(k,j,te,te.map(()=>q.signal),!1,b.loaderData),T_(k,$.map(G=>G.match),oe,$.map(G=>G.controller?G.controller.signal:null),!0)]),{loaderResults:te,fetcherResults:oe}}function ts(){N=!0,D.push(...Fg()),ue.forEach((k,R)=>{H.has(R)&&(P.add(R),ns(R))})}function Gn(k,R,j){j===void 0&&(j={}),b.fetchers.set(k,R),Ee({fetchers:new Map(b.fetchers)},{flushSync:(j&&j.flushSync)===!0})}function rr(k,R,j,$){$===void 0&&($={});let q=al(b.matches,R);Pd(k),Ee({errors:{[q.route.id]:j},fetchers:new Map(b.fetchers)},{flushSync:($&&$.flushSync)===!0})}function G0(k){return d.v7_fetcherPersist&&(Ve.set(k,(Ve.get(k)||0)+1),Ae.has(k)&&Ae.delete(k)),b.fetchers.get(k)||mT}function Pd(k){let R=b.fetchers.get(k);H.has(k)&&!(R&&R.state==="loading"&&Y.has(k))&&ns(k),ue.delete(k),Y.delete(k),re.delete(k),Ae.delete(k),P.delete(k),b.fetchers.delete(k)}function sx(k){if(d.v7_fetcherPersist){let R=(Ve.get(k)||0)-1;R<=0?(Ve.delete(k),Ae.add(k)):Ve.set(k,R)}else Pd(k);Ee({fetchers:new Map(b.fetchers)})}function ns(k){let R=H.get(k);me(R,"Expected fetch controller: "+k),R.abort(),H.delete(k)}function X0(k){for(let R of k){let j=G0(R),$=ss(j.data);b.fetchers.set(R,$)}}function K0(){let k=[],R=!1;for(let j of re){let $=b.fetchers.get(j);me($,"Expected fetcher: "+j),$.state==="loading"&&(re.delete(j),k.push(j),R=!0)}return X0(k),R}function q0(k){let R=[];for(let[j,$]of Y)if($<k){let q=b.fetchers.get(j);me(q,"Expected fetcher: "+j),q.state==="loading"&&(ns(j),Y.delete(j),R.push(j))}return X0(R),R.length>0}function ax(k,R){let j=b.blockers.get(k)||Ic;return Ke.get(k)!==R&&Ke.set(k,R),j}function Y0(k){b.blockers.delete(k),Ke.delete(k)}function Rd(k,R){let j=b.blockers.get(k)||Ic;me(j.state==="unblocked"&&R.state==="blocked"||j.state==="blocked"&&R.state==="blocked"||j.state==="blocked"&&R.state==="proceeding"||j.state==="blocked"&&R.state==="unblocked"||j.state==="proceeding"&&R.state==="unblocked","Invalid blocker state transition: "+j.state+" -> "+R.state);let $=new Map(b.blockers);$.set(k,R),Ee({blockers:$})}function Q0(k){let{currentLocation:R,nextLocation:j,historyAction:$}=k;if(Ke.size===0)return;Ke.size>1&&Eo(!1,"A router only supports one blocker at a time");let q=Array.from(Ke.entries()),[te,oe]=q[q.length-1],G=b.blockers.get(te);if(!(G&&G.state==="proceeding")&&oe({currentLocation:R,nextLocation:j,historyAction:$}))return te}function Ig(k){let R=rn(404,{pathname:k}),j=o||a,{matches:$,route:q}=x_(j);return Fg(),{notFoundMatches:$,route:q,error:R}}function Ld(k,R){return{boundaryId:al(R.partialMatches).route.id,error:rn(400,{type:"route-discovery",pathname:k,message:R.error!=null&&"message"in R.error?R.error:String(R.error)})}}function Fg(k){let R=[];return he.forEach((j,$)=>{(!k||k($))&&(j.cancel(),R.push($),he.delete($))}),R}function ox(k,R,j){if(S=k,y=R,m=j||null,!A&&b.navigation===um){A=!0;let $=Z0(b.location,b.matches);$!=null&&Ee({restoreScrollPosition:$})}return()=>{S=null,y=null,m=null}}function J0(k,R){return m&&m(k,R.map($=>Xk($,b.loaderData)))||k.key}function lx(k,R){if(S&&y){let j=J0(k,R);S[j]=y()}}function Z0(k,R){if(S){let j=J0(k,R),$=S[j];if(typeof $=="number")return $}return null}function Md(k,R,j){if(h){if(v.has(j))return{active:!1,matches:k};if(k){if(Object.keys(k[0].params).length>0)return{active:!0,matches:_f(R,j,l,!0)}}else return{active:!0,matches:_f(R,j,l,!0)||[]}}return{active:!1,matches:null}}async function Dd(k,R,j){let $=k;for(;;){let q=o==null,te=o||a;try{await ET(h,R,$,te,s,r,Vn,j)}catch(fe){return{type:"error",error:fe,partialMatches:$}}finally{q&&(a=[...a])}if(j.aborted)return{type:"aborted"};let oe=ha(te,R,l);if(oe)return ew(R,v),{type:"success",matches:oe};let G=_f(te,R,l,!0);if(!G||$.length===G.length&&$.every((fe,ae)=>fe.route.id===G[ae].route.id))return ew(R,v),{type:"success",matches:null};$=G}}function ew(k,R){if(R.size>=g){let j=R.values().next().value;R.delete(j)}R.add(k)}function cx(k){s={},o=Nu(k,r,void 0,s)}function ux(k,R){let j=o==null;LS(k,R,o||a,s,r),j&&(a=[...a],Ee({}))}return F={get basename(){return l},get future(){return d},get state(){return b},get routes(){return a},get window(){return e},initialize:ea,subscribe:Ie,enableScrollRestoration:ox,navigate:ct,fetch:Lg,revalidate:Ri,createHref:k=>n.history.createHref(k),encodeLocation:k=>n.history.encodeLocation(k),getFetcher:G0,deleteFetcher:sx,dispose:ta,getBlocker:ax,deleteBlocker:Y0,patchRoutes:ux,_internalFetchControllers:H,_internalActiveDeferreds:he,_internalSetRoutes:cx},F}function wT(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function hv(n,e,t,i,r,s,a,o){let l,u;if(a){l=[];for(let d of e)if(l.push(d),d.route.id===a){u=d;break}}else l=e,u=e[e.length-1];let h=k0(r||".",C0(l,s),bc(n.pathname,t)||n.pathname,o==="path");return r==null&&(h.search=n.search,h.hash=n.hash),(r==null||r===""||r===".")&&u&&u.route.index&&!P0(h.search)&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),i&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Ur([t,h.pathname])),So(h)}function m_(n,e,t,i){if(!i||!wT(i))return{path:t};if(i.formMethod&&!DT(i.formMethod))return{path:t,error:rn(405,{method:i.formMethod})};let r=()=>({path:t,error:rn(400,{type:"invalid-body"})}),s=i.formMethod||"get",a=n?s.toUpperCase():s.toLowerCase(),o=MS(t);if(i.body!==void 0){if(i.formEncType==="text/plain"){if(!xi(a))return r();let f=typeof i.body=="string"?i.body:i.body instanceof FormData||i.body instanceof URLSearchParams?Array.from(i.body.entries()).reduce((p,g)=>{let[v,S]=g;return""+p+v+"="+S+`
`},""):String(i.body);return{path:t,submission:{formMethod:a,formAction:o,formEncType:i.formEncType,formData:void 0,json:void 0,text:f}}}else if(i.formEncType==="application/json"){if(!xi(a))return r();try{let f=typeof i.body=="string"?JSON.parse(i.body):i.body;return{path:t,submission:{formMethod:a,formAction:o,formEncType:i.formEncType,formData:void 0,json:f,text:void 0}}}catch{return r()}}}me(typeof FormData=="function","FormData is not available in this environment");let l,u;if(i.formData)l=dv(i.formData),u=i.formData;else if(i.body instanceof FormData)l=dv(i.body),u=i.body;else if(i.body instanceof URLSearchParams)l=i.body,u=A_(l);else if(i.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(i.body),u=A_(l)}catch{return r()}let h={formMethod:a,formAction:o,formEncType:i&&i.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(xi(h.formMethod))return{path:t,submission:h};let d=es(t);return e&&d.search&&P0(d.search)&&l.append("index",""),d.search="?"+l,{path:So(d),submission:h}}function _T(n,e){let t=n;if(e){let i=n.findIndex(r=>r.route.id===e);i>=0&&(t=n.slice(0,i))}return t}function v_(n,e,t,i,r,s,a,o,l,u,h,d,f,p,g,v){let S=v?On(v[1])?v[1].error:v[1].data:void 0,m=n.createURL(e.location),y=n.createURL(r),A=v&&On(v[1])?v[0]:void 0,x=A?_T(t,A):t,T=v?v[1].statusCode:void 0,L=a&&T&&T>=400,F=x.filter((O,B)=>{let{route:U}=O;if(U.lazy)return!0;if(U.loader==null)return!1;if(s)return typeof U.loader!="function"||U.loader.hydrate?!0:e.loaderData[U.id]===void 0&&(!e.errors||e.errors[U.id]===void 0);if(AT(e.loaderData,e.matches[B],O)||l.some(I=>I===O.route.id))return!0;let ee=e.matches[B],Z=O;return y_(O,nt({currentUrl:m,currentParams:ee.params,nextUrl:y,nextParams:Z.params},i,{actionResult:S,actionStatus:T,defaultShouldRevalidate:L?!1:o||m.pathname+m.search===y.pathname+y.search||m.search!==y.search||RS(ee,Z)}))}),b=[];return d.forEach((O,B)=>{if(s||!t.some(M=>M.route.id===O.routeId)||h.has(B))return;let U=ha(p,O.path,g);if(!U){b.push({key:B,routeId:O.routeId,path:O.path,matches:null,match:null,controller:null});return}let ee=e.fetchers.get(B),Z=Vc(U,O.path),I=!1;f.has(B)?I=!1:u.has(B)?(u.delete(B),I=!0):ee&&ee.state!=="idle"&&ee.data===void 0?I=o:I=y_(Z,nt({currentUrl:m,currentParams:e.matches[e.matches.length-1].params,nextUrl:y,nextParams:t[t.length-1].params},i,{actionResult:S,actionStatus:T,defaultShouldRevalidate:L?!1:o})),I&&b.push({key:B,routeId:O.routeId,path:O.path,matches:U,match:Z,controller:new AbortController})}),[F,b]}function AT(n,e,t){let i=!e||t.route.id!==e.route.id,r=n[t.route.id]===void 0;return i||r}function RS(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function y_(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}async function ET(n,e,t,i,r,s,a,o){let l=[e,...t.map(u=>u.route.id)].join("-");try{let u=a.get(l);u||(u=n({path:e,matches:t,patch:(h,d)=>{o.aborted||LS(h,d,i,r,s)}}),a.set(l,u)),u&&RT(u)&&await u}finally{a.delete(l)}}function LS(n,e,t,i,r){if(n){var s;let a=i[n];me(a,"No route found to patch children into: routeId = "+n);let o=Nu(e,r,[n,"patch",String(((s=a.children)==null?void 0:s.length)||"0")],i);a.children?a.children.push(...o):a.children=o}else{let a=Nu(e,r,["patch",String(t.length||"0")],i);t.push(...a)}}async function w_(n,e,t){if(!n.lazy)return;let i=await n.lazy();if(!n.lazy)return;let r=t[n.id];me(r,"No route found in manifest");let s={};for(let a in i){let l=r[a]!==void 0&&a!=="hasErrorBoundary";Eo(!l,'Route "'+r.id+'" has a static property "'+a+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+a+'" will be ignored.')),!l&&!Wk.has(a)&&(s[a]=i[a])}Object.assign(r,s),Object.assign(r,nt({},e(r),{lazy:void 0}))}function ST(n){return Promise.all(n.matches.map(e=>e.resolve()))}async function bT(n,e,t,i,r,s,a,o){let l=i.reduce((d,f)=>d.add(f.route.id),new Set),u=new Set,h=await n({matches:r.map(d=>{let f=l.has(d.route.id);return nt({},d,{shouldLoad:f,resolve:g=>(u.add(d.route.id),f?xT(e,t,d,s,a,g,o):Promise.resolve({type:Oe.data,result:void 0}))})}),request:t,params:r[0].params,context:o});return r.forEach(d=>me(u.has(d.route.id),'`match.resolve()` was not called for route id "'+d.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),h.filter((d,f)=>l.has(r[f].route.id))}async function xT(n,e,t,i,r,s,a){let o,l,u=h=>{let d,f=new Promise((v,S)=>d=S);l=()=>d(),e.signal.addEventListener("abort",l);let p=v=>typeof h!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+n+'" [routeId: '+t.route.id+"]"))):h({request:e,params:t.params,context:a},...v!==void 0?[v]:[]),g;return s?g=s(v=>p(v)):g=(async()=>{try{return{type:"data",result:await p()}}catch(v){return{type:"error",result:v}}})(),Promise.race([g,f])};try{let h=t.route[n];if(t.route.lazy)if(h){let d,[f]=await Promise.all([u(h).catch(p=>{d=p}),w_(t.route,r,i)]);if(d!==void 0)throw d;o=f}else if(await w_(t.route,r,i),h=t.route[n],h)o=await u(h);else if(n==="action"){let d=new URL(e.url),f=d.pathname+d.search;throw rn(405,{method:e.method,pathname:f,routeId:t.route.id})}else return{type:Oe.data,result:void 0};else if(h)o=await u(h);else{let d=new URL(e.url),f=d.pathname+d.search;throw rn(404,{pathname:f})}me(o.result!==void 0,"You defined "+(n==="action"?"an action":"a loader")+" for route "+('"'+t.route.id+"\" but didn't return anything from your `"+n+"` ")+"function. Please return a value or `null`.")}catch(h){return{type:Oe.error,result:h}}finally{l&&e.signal.removeEventListener("abort",l)}return o}async function CT(n){let{result:e,type:t}=n;if(DS(e)){let u;try{let h=e.headers.get("Content-Type");h&&/\bapplication\/json\b/.test(h)?e.body==null?u=null:u=await e.json():u=await e.text()}catch(h){return{type:Oe.error,error:h}}return t===Oe.error?{type:Oe.error,error:new vp(e.status,e.statusText,u),statusCode:e.status,headers:e.headers}:{type:Oe.data,data:u,statusCode:e.status,headers:e.headers}}if(t===Oe.error){if(k_(e)){var i;if(e.data instanceof Error){var r;return{type:Oe.error,error:e.data,statusCode:(r=e.init)==null?void 0:r.status}}e=new vp(((i=e.init)==null?void 0:i.status)||500,void 0,e.data)}return{type:Oe.error,error:e,statusCode:ug(e)?e.status:void 0}}if(MT(e)){var s,a;return{type:Oe.deferred,deferredData:e,statusCode:(s=e.init)==null?void 0:s.status,headers:((a=e.init)==null?void 0:a.headers)&&new Headers(e.init.headers)}}if(k_(e)){var o,l;return{type:Oe.data,data:e.data,statusCode:(o=e.init)==null?void 0:o.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:Oe.data,data:e}}function kT(n,e,t,i,r,s){let a=n.headers.get("Location");if(me(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!T0.test(a)){let o=i.slice(0,i.findIndex(l=>l.route.id===t)+1);a=hv(new URL(e.url),o,r,!0,a,s),n.headers.set("Location",a)}return n}function __(n,e,t){if(T0.test(n)){let i=n,r=i.startsWith("//")?new URL(e.protocol+i):new URL(i),s=bc(r.pathname,t)!=null;if(r.origin===e.origin&&s)return r.pathname+r.search+r.hash}return n}function Bo(n,e,t,i){let r=n.createURL(MS(e)).toString(),s={signal:t};if(i&&xi(i.formMethod)){let{formMethod:a,formEncType:o}=i;s.method=a.toUpperCase(),o==="application/json"?(s.headers=new Headers({"Content-Type":o}),s.body=JSON.stringify(i.json)):o==="text/plain"?s.body=i.text:o==="application/x-www-form-urlencoded"&&i.formData?s.body=dv(i.formData):s.body=i.formData}return new Request(r,s)}function dv(n){let e=new URLSearchParams;for(let[t,i]of n.entries())e.append(t,typeof i=="string"?i:i.name);return e}function A_(n){let e=new FormData;for(let[t,i]of n.entries())e.append(t,i);return e}function TT(n,e,t,i,r,s){let a={},o=null,l,u=!1,h={},d=i&&On(i[1])?i[1].error:void 0;return t.forEach((f,p)=>{let g=e[p].route.id;if(me(!ya(f),"Cannot handle redirect results in processLoaderData"),On(f)){let v=f.error;d!==void 0&&(v=d,d=void 0),o=o||{};{let S=al(n,g);o[S.route.id]==null&&(o[S.route.id]=v)}a[g]=void 0,u||(u=!0,l=ug(f.error)?f.error.status:500),f.headers&&(h[g]=f.headers)}else va(f)?(r.set(g,f.deferredData),a[g]=f.deferredData.data,f.statusCode!=null&&f.statusCode!==200&&!u&&(l=f.statusCode),f.headers&&(h[g]=f.headers)):(a[g]=f.data,f.statusCode&&f.statusCode!==200&&!u&&(l=f.statusCode),f.headers&&(h[g]=f.headers))}),d!==void 0&&i&&(o={[i[0]]:d},a[i[0]]=void 0),{loaderData:a,errors:o,statusCode:l||200,loaderHeaders:h}}function E_(n,e,t,i,r,s,a,o){let{loaderData:l,errors:u}=TT(e,t,i,r,o);for(let h=0;h<s.length;h++){let{key:d,match:f,controller:p}=s[h];me(a!==void 0&&a[h]!==void 0,"Did not find corresponding fetcher result");let g=a[h];if(!(p&&p.signal.aborted))if(On(g)){let v=al(n.matches,f==null?void 0:f.route.id);u&&u[v.route.id]||(u=nt({},u,{[v.route.id]:g.error})),n.fetchers.delete(d)}else if(ya(g))me(!1,"Unhandled fetcher revalidation redirect");else if(va(g))me(!1,"Unhandled fetcher deferred data");else{let v=ss(g.data);n.fetchers.set(d,v)}}return{loaderData:l,errors:u}}function S_(n,e,t,i){let r=nt({},e);for(let s of t){let a=s.route.id;if(e.hasOwnProperty(a)?e[a]!==void 0&&(r[a]=e[a]):n[a]!==void 0&&s.route.loader&&(r[a]=n[a]),i&&i.hasOwnProperty(a))break}return r}function b_(n){return n?On(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function al(n,e){return(e?n.slice(0,n.findIndex(i=>i.route.id===e)+1):[...n]).reverse().find(i=>i.route.hasErrorBoundary===!0)||n[0]}function x_(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function rn(n,e){let{pathname:t,routeId:i,method:r,type:s,message:a}=e===void 0?{}:e,o="Unknown Server Error",l="Unknown @remix-run/router error";return n===400?(o="Bad Request",s==="route-discovery"?l='Unable to match URL "'+t+'" - the `unstable_patchRoutesOnNavigation()` '+(`function threw the following error:
`+a):r&&t&&i?l="You made a "+r+' request to "'+t+'" but '+('did not provide a `loader` for route "'+i+'", ')+"so there is no way to handle the request.":s==="defer-action"?l="defer() is not supported in actions":s==="invalid-body"&&(l="Unable to encode submission body")):n===403?(o="Forbidden",l='Route "'+i+'" does not match URL "'+t+'"'):n===404?(o="Not Found",l='No route matches URL "'+t+'"'):n===405&&(o="Method Not Allowed",r&&t&&i?l="You made a "+r.toUpperCase()+' request to "'+t+'" but '+('did not provide an `action` for route "'+i+'", ')+"so there is no way to handle the request.":r&&(l='Invalid request method "'+r.toUpperCase()+'"')),new vp(n||500,o,new Error(l),!0)}function C_(n){for(let e=n.length-1;e>=0;e--){let t=n[e];if(ya(t))return{result:t,idx:e}}}function MS(n){let e=typeof n=="string"?es(n):n;return So(nt({},e,{hash:""}))}function PT(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function RT(n){return typeof n=="object"&&n!=null&&"then"in n}function LT(n){return DS(n.result)&&pT.has(n.result.status)}function va(n){return n.type===Oe.deferred}function On(n){return n.type===Oe.error}function ya(n){return(n&&n.type)===Oe.redirect}function k_(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function MT(n){let e=n;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function DS(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function DT(n){return fT.has(n.toLowerCase())}function xi(n){return hT.has(n.toLowerCase())}async function T_(n,e,t,i,r,s){for(let a=0;a<t.length;a++){let o=t[a],l=e[a];if(!l)continue;let u=n.find(d=>d.route.id===l.route.id),h=u!=null&&!RS(u,l)&&(s&&s[l.route.id])!==void 0;if(va(o)&&(r||h)){let d=i[a];me(d,"Expected an AbortSignal for revalidating fetcher deferred result"),await IS(o,d,r).then(f=>{f&&(t[a]=f||t[a])})}}}async function IS(n,e,t){if(t===void 0&&(t=!1),!await n.deferredData.resolveData(e)){if(t)try{return{type:Oe.data,data:n.deferredData.unwrappedData}}catch(r){return{type:Oe.error,error:r}}return{type:Oe.data,data:n.deferredData.data}}}function P0(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Vc(n,e){let t=typeof e=="string"?es(e).search:e.search;if(n[n.length-1].route.index&&P0(t||""))return n[n.length-1];let i=kS(n);return i[i.length-1]}function P_(n){let{formMethod:e,formAction:t,formEncType:i,text:r,formData:s,json:a}=n;if(!(!e||!t||!i)){if(r!=null)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:void 0,text:r};if(s!=null)return{formMethod:e,formAction:t,formEncType:i,formData:s,json:void 0,text:void 0};if(a!==void 0)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:a,text:void 0}}}function hm(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function IT(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Fc(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function FT(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function ss(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function NT(n,e){try{let t=n.sessionStorage.getItem(PS);if(t){let i=JSON.parse(t);for(let[r,s]of Object.entries(i||{}))s&&Array.isArray(s)&&e.set(r,new Set(s||[]))}}catch{}}function OT(n,e){if(e.size>0){let t={};for(let[i,r]of e)t[i]=[...r];try{n.sessionStorage.setItem(PS,JSON.stringify(t))}catch(i){Eo(!1,"Failed to save applied view transitions in sessionStorage ("+i+").")}}}/**
 * React Router v6.26.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yp(){return yp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},yp.apply(this,arguments)}const hg=z.createContext(null),FS=z.createContext(null),Mo=z.createContext(null),R0=z.createContext(null),Do=z.createContext({outlet:null,matches:[],isDataRoute:!1}),NS=z.createContext(null);function jT(n,e){let{relative:t}=e===void 0?{}:e;Ed()||me(!1);let{basename:i,navigator:r}=z.useContext(Mo),{hash:s,pathname:a,search:o}=jS(n,{relative:t}),l=a;return i!=="/"&&(l=a==="/"?i:Ur([i,a])),r.createHref({pathname:l,search:o,hash:s})}function Ed(){return z.useContext(R0)!=null}function Sd(){return Ed()||me(!1),z.useContext(R0).location}function OS(n){z.useContext(Mo).static||z.useLayoutEffect(n)}function zT(){let{isDataRoute:n}=z.useContext(Do);return n?QT():HT()}function HT(){Ed()||me(!1);let n=z.useContext(hg),{basename:e,future:t,navigator:i}=z.useContext(Mo),{matches:r}=z.useContext(Do),{pathname:s}=Sd(),a=JSON.stringify(C0(r,t.v7_relativeSplatPath)),o=z.useRef(!1);return OS(()=>{o.current=!0}),z.useCallback(function(u,h){if(h===void 0&&(h={}),!o.current)return;if(typeof u=="number"){i.go(u);return}let d=k0(u,JSON.parse(a),s,h.relative==="path");n==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Ur([e,d.pathname])),(h.replace?i.replace:i.push)(d,h.state,h)},[e,i,a,s,n])}function jS(n,e){let{relative:t}=e===void 0?{}:e,{future:i}=z.useContext(Mo),{matches:r}=z.useContext(Do),{pathname:s}=Sd(),a=JSON.stringify(C0(r,i.v7_relativeSplatPath));return z.useMemo(()=>k0(n,JSON.parse(a),s,t==="path"),[n,a,s,t])}function BT(n,e,t,i){Ed()||me(!1);let{navigator:r}=z.useContext(Mo),{matches:s}=z.useContext(Do),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=Sd(),h;h=u;let d=h.pathname||"/",f=d;if(l!=="/"){let v=l.replace(/^\//,"").split("/");f="/"+d.replace(/^\//,"").split("/").slice(v.length).join("/")}let p=ha(n,{pathname:f});return GT(p&&p.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:Ur([l,r.encodeLocation?r.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:Ur([l,r.encodeLocation?r.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,t,i)}function UT(){let n=YT(),e=ug(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),t?z.createElement("pre",{style:r},t):null,null)}const $T=z.createElement(UT,null);class VT extends z.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?z.createElement(Do.Provider,{value:this.props.routeContext},z.createElement(NS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function WT(n){let{routeContext:e,match:t,children:i}=n,r=z.useContext(hg);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),z.createElement(Do.Provider,{value:e},i)}function GT(n,e,t,i){var r;if(e===void 0&&(e=[]),t===void 0&&(t=null),i===void 0&&(i=null),n==null){var s;if(!t)return null;if(t.errors)n=t.matches;else if((s=i)!=null&&s.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,o=(r=t)==null?void 0:r.errors;if(o!=null){let h=a.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);h>=0||me(!1),a=a.slice(0,Math.min(a.length,h+1))}let l=!1,u=-1;if(t&&i&&i.v7_partialHydration)for(let h=0;h<a.length;h++){let d=a[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=h),d.route.id){let{loaderData:f,errors:p}=t,g=d.route.loader&&f[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||g){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((h,d,f)=>{let p,g=!1,v=null,S=null;t&&(p=o&&d.route.id?o[d.route.id]:void 0,v=d.route.errorElement||$T,l&&(u<0&&f===0?(JT("route-fallback"),g=!0,S=null):u===f&&(g=!0,S=d.route.hydrateFallbackElement||null)));let m=e.concat(a.slice(0,f+1)),y=()=>{let A;return p?A=v:g?A=S:d.route.Component?A=z.createElement(d.route.Component,null):d.route.element?A=d.route.element:A=h,z.createElement(WT,{match:d,routeContext:{outlet:h,matches:m,isDataRoute:t!=null},children:A})};return t&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?z.createElement(VT,{location:t.location,revalidation:t.revalidation,component:v,error:p,children:y(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):y()},null)}var zS=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(zS||{}),wp=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(wp||{});function XT(n){let e=z.useContext(hg);return e||me(!1),e}function KT(n){let e=z.useContext(FS);return e||me(!1),e}function qT(n){let e=z.useContext(Do);return e||me(!1),e}function HS(n){let e=qT(),t=e.matches[e.matches.length-1];return t.route.id||me(!1),t.route.id}function YT(){var n;let e=z.useContext(NS),t=KT(wp.UseRouteError),i=HS(wp.UseRouteError);return e!==void 0?e:(n=t.errors)==null?void 0:n[i]}function QT(){let{router:n}=XT(zS.UseNavigateStable),e=HS(wp.UseNavigateStable),t=z.useRef(!1);return OS(()=>{t.current=!0}),z.useCallback(function(r,s){s===void 0&&(s={}),t.current&&(typeof r=="number"?n.navigate(r):n.navigate(r,yp({fromRouteId:e},s)))},[n,e])}const R_={};function JT(n,e,t){R_[n]||(R_[n]=!0)}function ZT(n){let{basename:e="/",children:t=null,location:i,navigationType:r=gt.Pop,navigator:s,static:a=!1,future:o}=n;Ed()&&me(!1);let l=e.replace(/^\/*/,"/"),u=z.useMemo(()=>({basename:l,navigator:s,static:a,future:yp({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof i=="string"&&(i=es(i));let{pathname:h="/",search:d="",hash:f="",state:p=null,key:g="default"}=i,v=z.useMemo(()=>{let S=bc(h,l);return S==null?null:{location:{pathname:S,search:d,hash:f,state:p,key:g},navigationType:r}},[l,h,d,f,p,g,r]);return v==null?null:z.createElement(Mo.Provider,{value:u},z.createElement(R0.Provider,{children:t,value:v}))}new Promise(()=>{});function eP(n){let e={hasErrorBoundary:n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&Object.assign(e,{element:z.createElement(n.Component),Component:void 0}),n.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:z.createElement(n.HydrateFallback),HydrateFallback:void 0}),n.ErrorBoundary&&Object.assign(e,{errorElement:z.createElement(n.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.26.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ou(){return Ou=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Ou.apply(this,arguments)}function tP(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function nP(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function iP(n,e){return n.button===0&&(!e||e==="_self")&&!nP(n)}const rP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],sP="6";try{window.__reactRouterVersion=sP}catch{}function aP(n,e){return yT({basename:void 0,future:Ou({},void 0,{v7_prependBasename:!0}),history:Uk({window:void 0}),hydrationData:oP(),routes:n,mapRouteProperties:eP,unstable_dataStrategy:void 0,unstable_patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function oP(){var n;let e=(n=window)==null?void 0:n.__staticRouterHydrationData;return e&&e.errors&&(e=Ou({},e,{errors:lP(e.errors)})),e}function lP(n){if(!n)return null;let e=Object.entries(n),t={};for(let[i,r]of e)if(r&&r.__type==="RouteErrorResponse")t[i]=new vp(r.status,r.statusText,r.data,r.internal===!0);else if(r&&r.__type==="Error"){if(r.__subType){let s=window[r.__subType];if(typeof s=="function")try{let a=new s(r.message);a.stack="",t[i]=a}catch{}}if(t[i]==null){let s=new Error(r.message);s.stack="",t[i]=s}}else t[i]=r;return t}const cP=z.createContext({isTransitioning:!1}),uP=z.createContext(new Map),hP="startTransition",L_=Px[hP],dP="flushSync",M_=Bk[dP];function fP(n){L_?L_(n):n()}function Nc(n){M_?M_(n):n()}class pP{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",t(i))}})}}function gP(n){let{fallbackElement:e,router:t,future:i}=n,[r,s]=z.useState(t.state),[a,o]=z.useState(),[l,u]=z.useState({isTransitioning:!1}),[h,d]=z.useState(),[f,p]=z.useState(),[g,v]=z.useState(),S=z.useRef(new Map),{v7_startTransition:m}=i||{},y=z.useCallback(b=>{m?fP(b):b()},[m]),A=z.useCallback((b,O)=>{let{deletedFetchers:B,unstable_flushSync:U,unstable_viewTransitionOpts:ee}=O;B.forEach(I=>S.current.delete(I)),b.fetchers.forEach((I,M)=>{I.data!==void 0&&S.current.set(M,I.data)});let Z=t.window==null||t.window.document==null||typeof t.window.document.startViewTransition!="function";if(!ee||Z){U?Nc(()=>s(b)):y(()=>s(b));return}if(U){Nc(()=>{f&&(h&&h.resolve(),f.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:ee.currentLocation,nextLocation:ee.nextLocation})});let I=t.window.document.startViewTransition(()=>{Nc(()=>s(b))});I.finished.finally(()=>{Nc(()=>{d(void 0),p(void 0),o(void 0),u({isTransitioning:!1})})}),Nc(()=>p(I));return}f?(h&&h.resolve(),f.skipTransition(),v({state:b,currentLocation:ee.currentLocation,nextLocation:ee.nextLocation})):(o(b),u({isTransitioning:!0,flushSync:!1,currentLocation:ee.currentLocation,nextLocation:ee.nextLocation}))},[t.window,f,h,S,y]);z.useLayoutEffect(()=>t.subscribe(A),[t,A]),z.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new pP)},[l]),z.useEffect(()=>{if(h&&a&&t.window){let b=a,O=h.promise,B=t.window.document.startViewTransition(async()=>{y(()=>s(b)),await O});B.finished.finally(()=>{d(void 0),p(void 0),o(void 0),u({isTransitioning:!1})}),p(B)}},[y,a,h,t.window]),z.useEffect(()=>{h&&a&&r.location.key===a.location.key&&h.resolve()},[h,f,r.location,a]),z.useEffect(()=>{!l.isTransitioning&&g&&(o(g.state),u({isTransitioning:!0,flushSync:!1,currentLocation:g.currentLocation,nextLocation:g.nextLocation}),v(void 0))},[l.isTransitioning,g]),z.useEffect(()=>{},[]);let x=z.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:b=>t.navigate(b),push:(b,O,B)=>t.navigate(b,{state:O,preventScrollReset:B==null?void 0:B.preventScrollReset}),replace:(b,O,B)=>t.navigate(b,{replace:!0,state:O,preventScrollReset:B==null?void 0:B.preventScrollReset})}),[t]),T=t.basename||"/",L=z.useMemo(()=>({router:t,navigator:x,static:!1,basename:T}),[t,x,T]),F=z.useMemo(()=>({v7_relativeSplatPath:t.future.v7_relativeSplatPath}),[t.future.v7_relativeSplatPath]);return z.createElement(z.Fragment,null,z.createElement(hg.Provider,{value:L},z.createElement(FS.Provider,{value:r},z.createElement(uP.Provider,{value:S.current},z.createElement(cP.Provider,{value:l},z.createElement(ZT,{basename:T,location:r.location,navigationType:r.historyAction,navigator:x,future:F},r.initialized||t.future.v7_partialHydration?z.createElement(mP,{routes:t.routes,future:t.future,state:r}):e))))),null)}const mP=z.memo(vP);function vP(n){let{routes:e,future:t,state:i}=n;return BT(e,void 0,i,t)}const yP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",wP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ef=z.forwardRef(function(e,t){let{onClick:i,relative:r,reloadDocument:s,replace:a,state:o,target:l,to:u,preventScrollReset:h,unstable_viewTransition:d}=e,f=tP(e,rP),{basename:p}=z.useContext(Mo),g,v=!1;if(typeof u=="string"&&wP.test(u)&&(g=u,yP))try{let A=new URL(window.location.href),x=u.startsWith("//")?new URL(A.protocol+u):new URL(u),T=bc(x.pathname,p);x.origin===A.origin&&T!=null?u=T+x.search+x.hash:v=!0}catch{}let S=jT(u,{relative:r}),m=_P(u,{replace:a,state:o,target:l,preventScrollReset:h,relative:r,unstable_viewTransition:d});function y(A){i&&i(A),A.defaultPrevented||m(A)}return z.createElement("a",Ou({},f,{href:g||S,onClick:v||s?i:y,ref:t,target:l}))});var D_;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(D_||(D_={}));var I_;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(I_||(I_={}));function _P(n,e){let{target:t,replace:i,state:r,preventScrollReset:s,relative:a,unstable_viewTransition:o}=e===void 0?{}:e,l=zT(),u=Sd(),h=jS(n,{relative:a});return z.useCallback(d=>{if(iP(d,t)){d.preventDefault();let f=i!==void 0?i:So(u)===So(h);l(n,{replace:f,state:r,preventScrollReset:s,relative:a,unstable_viewTransition:o})}},[u,l,h,i,r,t,n,s,a,o])}var BS={},US={},$S={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=function(){for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];if(typeof window<"u"){var o;typeof window.gtag>"u"&&(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)}),(o=window).gtag.apply(o,s)}},t=e;n.default=t})($S);var VS={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=a;var e=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;function t(o){return o.toString().trim().replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,function(l,u,h){return u>0&&u+l.length!==h.length&&l.search(e)>-1&&h.charAt(u-2)!==":"&&(h.charAt(u+l.length)!=="-"||h.charAt(u-1)==="-")&&h.charAt(u-1).search(/[^\s-]/)<0?l.toLowerCase():l.substr(1).search(/[A-Z]|\../)>-1?l:l.charAt(0).toUpperCase()+l.substr(1)})}function i(o){return typeof o=="string"&&o.indexOf("@")!==-1}var r="REDACTED (Potential Email Address)";function s(o){return i(o)?(console.warn("This arg looks like an email address, redacting."),r):o}function a(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,h=o||"";return l&&(h=t(o)),u&&(h=s(h)),h}})(VS);(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.GA4=void 0;var e=a($S),t=a(VS),i=["eventCategory","eventAction","eventLabel","eventValue","hitType"],r=["title","location"],s=["page","hitType"];function a(I){return I&&I.__esModule?I:{default:I}}function o(I,M){if(I==null)return{};var N=l(I,M),D,P;if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(I);for(P=0;P<H.length;P++)D=H[P],!(M.indexOf(D)>=0)&&Object.prototype.propertyIsEnumerable.call(I,D)&&(N[D]=I[D])}return N}function l(I,M){if(I==null)return{};var N={},D=Object.keys(I),P,H;for(H=0;H<D.length;H++)P=D[H],!(M.indexOf(P)>=0)&&(N[P]=I[P]);return N}function u(I){"@babel/helpers - typeof";return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},u(I)}function h(I){return p(I)||f(I)||y(I)||d()}function d(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f(I){if(typeof Symbol<"u"&&I[Symbol.iterator]!=null||I["@@iterator"]!=null)return Array.from(I)}function p(I){if(Array.isArray(I))return A(I)}function g(I,M){var N=Object.keys(I);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(I);M&&(D=D.filter(function(P){return Object.getOwnPropertyDescriptor(I,P).enumerable})),N.push.apply(N,D)}return N}function v(I){for(var M=1;M<arguments.length;M++){var N=arguments[M]!=null?arguments[M]:{};M%2?g(Object(N),!0).forEach(function(D){O(I,D,N[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(N)):g(Object(N)).forEach(function(D){Object.defineProperty(I,D,Object.getOwnPropertyDescriptor(N,D))})}return I}function S(I,M){return T(I)||x(I,M)||y(I,M)||m()}function m(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y(I,M){if(I){if(typeof I=="string")return A(I,M);var N=Object.prototype.toString.call(I).slice(8,-1);if(N==="Object"&&I.constructor&&(N=I.constructor.name),N==="Map"||N==="Set")return Array.from(I);if(N==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N))return A(I,M)}}function A(I,M){(M==null||M>I.length)&&(M=I.length);for(var N=0,D=new Array(M);N<M;N++)D[N]=I[N];return D}function x(I,M){var N=I==null?null:typeof Symbol<"u"&&I[Symbol.iterator]||I["@@iterator"];if(N!=null){var D,P,H,W,ie=[],Y=!0,re=!1;try{if(H=(N=N.call(I)).next,M!==0)for(;!(Y=(D=H.call(N)).done)&&(ie.push(D.value),ie.length!==M);Y=!0);}catch(ue){re=!0,P=ue}finally{try{if(!Y&&N.return!=null&&(W=N.return(),Object(W)!==W))return}finally{if(re)throw P}}return ie}}function T(I){if(Array.isArray(I))return I}function L(I,M){if(!(I instanceof M))throw new TypeError("Cannot call a class as a function")}function F(I,M){for(var N=0;N<M.length;N++){var D=M[N];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(I,B(D.key),D)}}function b(I,M,N){return M&&F(I.prototype,M),Object.defineProperty(I,"prototype",{writable:!1}),I}function O(I,M,N){return M=B(M),M in I?Object.defineProperty(I,M,{value:N,enumerable:!0,configurable:!0,writable:!0}):I[M]=N,I}function B(I){var M=U(I,"string");return u(M)==="symbol"?M:String(M)}function U(I,M){if(u(I)!=="object"||I===null)return I;var N=I[Symbol.toPrimitive];if(N!==void 0){var D=N.call(I,M||"default");if(u(D)!=="object")return D;throw new TypeError("@@toPrimitive must return a primitive value.")}return(M==="string"?String:Number)(I)}var ee=function(){function I(){var M=this;L(this,I),O(this,"reset",function(){M.isInitialized=!1,M._testMode=!1,M._currentMeasurementId,M._hasLoadedGA=!1,M._isQueuing=!1,M._queueGtag=[]}),O(this,"_gtag",function(){for(var N=arguments.length,D=new Array(N),P=0;P<N;P++)D[P]=arguments[P];M._testMode||M._isQueuing?M._queueGtag.push(D):e.default.apply(void 0,D)}),O(this,"_loadGA",function(N,D){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"https://www.googletagmanager.com/gtag/js";if(!(typeof window>"u"||typeof document>"u")&&!M._hasLoadedGA){var H=document.createElement("script");H.async=!0,H.src="".concat(P,"?id=").concat(N),D&&H.setAttribute("nonce",D),document.body.appendChild(H),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},M._hasLoadedGA=!0}}),O(this,"_toGtagOptions",function(N){if(N){var D={cookieUpdate:"cookie_update",cookieExpires:"cookie_expires",cookieDomain:"cookie_domain",cookieFlags:"cookie_flags",userId:"user_id",clientId:"client_id",anonymizeIp:"anonymize_ip",contentGroup1:"content_group1",contentGroup2:"content_group2",contentGroup3:"content_group3",contentGroup4:"content_group4",contentGroup5:"content_group5",allowAdFeatures:"allow_google_signals",allowAdPersonalizationSignals:"allow_ad_personalization_signals",nonInteraction:"non_interaction",page:"page_path",hitCallback:"event_callback"},P=Object.entries(N).reduce(function(H,W){var ie=S(W,2),Y=ie[0],re=ie[1];return D[Y]?H[D[Y]]=re:H[Y]=re,H},{});return P}}),O(this,"initialize",function(N){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!N)throw new Error("Require GA_MEASUREMENT_ID");var P=typeof N=="string"?[{trackingId:N}]:N;M._currentMeasurementId=P[0].trackingId;var H=D.gaOptions,W=D.gtagOptions,ie=D.nonce,Y=D.testMode,re=Y===void 0?!1:Y,ue=D.gtagUrl;if(M._testMode=re,re||M._loadGA(M._currentMeasurementId,ie,ue),M.isInitialized||(M._gtag("js",new Date),P.forEach(function(he){var Ke=v(v(v({},M._toGtagOptions(v(v({},H),he.gaOptions))),W),he.gtagOptions);Object.keys(Ke).length?M._gtag("config",he.trackingId,Ke):M._gtag("config",he.trackingId)})),M.isInitialized=!0,!re){var Ve=h(M._queueGtag);for(M._queueGtag=[],M._isQueuing=!1;Ve.length;){var Ae=Ve.shift();M._gtag.apply(M,h(Ae)),Ae[0]==="get"&&(M._isQueuing=!0)}}}),O(this,"set",function(N){if(!N){console.warn("`fieldsObject` is required in .set()");return}if(u(N)!=="object"){console.warn("Expected `fieldsObject` arg to be an Object");return}Object.keys(N).length===0&&console.warn("empty `fieldsObject` given to .set()"),M._gaCommand("set",N)}),O(this,"_gaCommandSendEvent",function(N,D,P,H,W){M._gtag("event",D,v(v({event_category:N,event_label:P,value:H},W&&{non_interaction:W.nonInteraction}),M._toGtagOptions(W)))}),O(this,"_gaCommandSendEventParameters",function(){for(var N=arguments.length,D=new Array(N),P=0;P<N;P++)D[P]=arguments[P];if(typeof D[0]=="string")M._gaCommandSendEvent.apply(M,h(D.slice(1)));else{var H=D[0],W=H.eventCategory,ie=H.eventAction,Y=H.eventLabel,re=H.eventValue;H.hitType;var ue=o(H,i);M._gaCommandSendEvent(W,ie,Y,re,ue)}}),O(this,"_gaCommandSendTiming",function(N,D,P,H){M._gtag("event","timing_complete",{name:D,value:P,event_category:N,event_label:H})}),O(this,"_gaCommandSendPageview",function(N,D){if(D&&Object.keys(D).length){var P=M._toGtagOptions(D),H=P.title,W=P.location,ie=o(P,r);M._gtag("event","page_view",v(v(v(v({},N&&{page_path:N}),H&&{page_title:H}),W&&{page_location:W}),ie))}else N?M._gtag("event","page_view",{page_path:N}):M._gtag("event","page_view")}),O(this,"_gaCommandSendPageviewParameters",function(){for(var N=arguments.length,D=new Array(N),P=0;P<N;P++)D[P]=arguments[P];if(typeof D[0]=="string")M._gaCommandSendPageview.apply(M,h(D.slice(1)));else{var H=D[0],W=H.page;H.hitType;var ie=o(H,s);M._gaCommandSendPageview(W,ie)}}),O(this,"_gaCommandSend",function(){for(var N=arguments.length,D=new Array(N),P=0;P<N;P++)D[P]=arguments[P];var H=typeof D[0]=="string"?D[0]:D[0].hitType;switch(H){case"event":M._gaCommandSendEventParameters.apply(M,D);break;case"pageview":M._gaCommandSendPageviewParameters.apply(M,D);break;case"timing":M._gaCommandSendTiming.apply(M,h(D.slice(1)));break;case"screenview":case"transaction":case"item":case"social":case"exception":console.warn("Unsupported send command: ".concat(H));break;default:console.warn("Send command doesn't exist: ".concat(H))}}),O(this,"_gaCommandSet",function(){for(var N=arguments.length,D=new Array(N),P=0;P<N;P++)D[P]=arguments[P];typeof D[0]=="string"&&(D[0]=O({},D[0],D[1])),M._gtag("set",M._toGtagOptions(D[0]))}),O(this,"_gaCommand",function(N){for(var D=arguments.length,P=new Array(D>1?D-1:0),H=1;H<D;H++)P[H-1]=arguments[H];switch(N){case"send":M._gaCommandSend.apply(M,P);break;case"set":M._gaCommandSet.apply(M,P);break;default:console.warn("Command doesn't exist: ".concat(N))}}),O(this,"ga",function(){for(var N=arguments.length,D=new Array(N),P=0;P<N;P++)D[P]=arguments[P];if(typeof D[0]=="string")M._gaCommand.apply(M,D);else{var H=D[0];M._gtag("get",M._currentMeasurementId,"client_id",function(W){M._isQueuing=!1;var ie=M._queueGtag;for(H({get:function(ue){return ue==="clientId"?W:ue==="trackingId"?M._currentMeasurementId:ue==="apiVersion"?"1":void 0}});ie.length;){var Y=ie.shift();M._gtag.apply(M,h(Y))}}),M._isQueuing=!0}return M.ga}),O(this,"event",function(N,D){if(typeof N=="string")M._gtag("event",N,M._toGtagOptions(D));else{var P=N.action,H=N.category,W=N.label,ie=N.value,Y=N.nonInteraction,re=N.transport;if(!H||!P){console.warn("args.category AND args.action are required in event()");return}var ue={hitType:"event",eventCategory:(0,t.default)(H),eventAction:(0,t.default)(P)};W&&(ue.eventLabel=(0,t.default)(W)),typeof ie<"u"&&(typeof ie!="number"?console.warn("Expected `args.value` arg to be a Number."):ue.eventValue=ie),typeof Y<"u"&&(typeof Y!="boolean"?console.warn("`args.nonInteraction` must be a boolean."):ue.nonInteraction=Y),typeof re<"u"&&(typeof re!="string"?console.warn("`args.transport` must be a string."):(["beacon","xhr","image"].indexOf(re)===-1&&console.warn("`args.transport` must be either one of these values: `beacon`, `xhr` or `image`"),ue.transport=re)),M._gaCommand("send",ue)}}),O(this,"send",function(N){M._gaCommand("send",N)}),this.reset()}return b(I,[{key:"gtag",value:function(){this._gtag.apply(this,arguments)}}]),I}();n.GA4=ee;var Z=new ee;n.default=Z})(US);(function(n){function e(o){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},e(o)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.ReactGAImplementation=void 0;var t=r(US);function i(o){if(typeof WeakMap!="function")return null;var l=new WeakMap,u=new WeakMap;return(i=function(d){return d?u:l})(o)}function r(o,l){if(o&&o.__esModule)return o;if(o===null||e(o)!=="object"&&typeof o!="function")return{default:o};var u=i(l);if(u&&u.has(o))return u.get(o);var h={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in o)if(f!=="default"&&Object.prototype.hasOwnProperty.call(o,f)){var p=d?Object.getOwnPropertyDescriptor(o,f):null;p&&(p.get||p.set)?Object.defineProperty(h,f,p):h[f]=o[f]}return h.default=o,u&&u.set(o,h),h}var s=t.GA4;n.ReactGAImplementation=s;var a=t.default;n.default=a})(BS);const WS=Xp(BS);function dg(){return C.jsxs(C.Fragment,{children:[C.jsx("h1",{children:C.jsx("a",{href:"https://binhl3.github.io/",children:"binh le"})}),C.jsx("nav",{children:C.jsxs("ol",{children:[C.jsx("li",{children:C.jsx(ef,{to:"/",children:"home"})}),C.jsx("li",{children:C.jsx(ef,{to:"/experience",children:"experience"})}),C.jsx("li",{children:C.jsx(ef,{to:"/projects",children:"projects"})}),C.jsx("li",{children:C.jsx(ef,{to:"/about",children:"about me"})})]})})]})}function fg(n){return C.jsx("footer",{children:C.jsxs("p",{children:["Copyright © ",new Date().getFullYear(),C.jsx("a",{href:"https://www.linkedin.com/in/binhlee/",target:"_blank",rel:"noopener noreferrer",children:"Binh Le"})]})})}var AP={};WS.initialize(AP.REACT_APP_GA_MEASUREMENT_ID);function EP(){const n=Sd();return z.useEffect(()=>{WS.send({hitType:"pageview",page:n.pathname})},[n]),C.jsxs("div",{className:"main-container",children:[C.jsx(dg,{}),C.jsx("img",{src:"assets/nycsubway.jpg"}),C.jsx("p",{children:"hi, i'm binh le."}),C.jsx("p",{children:"thanks for being here! it means a lot to me."}),C.jsx("p",{children:"i had a lot of trouble deciding on how my portfolio site should be but after a discussion with my web dev professor, and being really inspired from herman's blog i now think less is more."}),C.jsx("p",{children:"i made this site to free myself from the a4 limits of traditional resumes."}),C.jsx("p",{children:"oh. and im 20 years old. a cs major @ drexel"}),C.jsx(fg,{})]})}const SP=()=>C.jsxs("div",{className:"main-container",children:[C.jsx(dg,{}),C.jsx("h2",{children:"professional experience"}),C.jsxs("ul",{children:[C.jsxs("li",{children:[C.jsx("span",{className:"date",children:"2024 - present"}),C.jsxs("div",{className:"content",children:[C.jsx("span",{className:"role",children:C.jsx("a",{href:"https://soar-lab.github.io/",target:"_blank",rel:"noopener noreferrer",children:"research assistant @ soar lab"})}),C.jsx("p",{className:"description",children:"co-authored a paper on security risks of llm-generated code. analyzed 1,000+ devgpt conversations, creating visualizations to highlight llm inaccuracies. developed scripts to fetch and clean github security data using python and pandas."}),C.jsx("span",{className:"technologies",children:"python, pandas, matplotlib, seaborn, jupyter notebook, numpy, github api"})]})]}),C.jsxs("li",{children:[C.jsx("span",{className:"date",children:"apr - sep 2024"}),C.jsxs("div",{className:"content",children:[C.jsx("span",{className:"role",children:C.jsx("a",{href:"https://dataing.io/",target:"_blank",rel:"noopener noreferrer",children:"software engineer co-op @ dataing"})}),C.jsx("p",{className:"description",children:"led efforts in automating user data retrievals from social media APIs, enhancing authentication processes and overall system efficiency. oversaw the integration of third-party services into an ios app and played a key role in qa to ensure seamless data extraction and feature reliability."}),C.jsx("span",{className:"technologies",children:"typescript, firestore, typesaurus, react, swift, api, aws, terraform, kubernetes, docker"})]})]}),C.jsxs("li",{children:[C.jsx("span",{className:"date",children:"apr - jun 2024"}),C.jsxs("div",{className:"content",children:[C.jsx("span",{className:"role",children:C.jsx("a",{href:"https://codeinplace.stanford.edu/",target:"_blank",rel:"noopener noreferrer",children:"section leader @ stanford"})}),C.jsx("p",{className:"description",children:"taught cs106a introduction to programming course for stanford"})]})]}),C.jsxs("li",{children:[C.jsx("span",{className:"date",children:"apr - jun 2022"}),C.jsxs("div",{className:"content",children:[C.jsx("span",{className:"role",children:C.jsx("a",{href:"https://vnpt-technology.vn/en",target:"_blank",rel:"noopener noreferrer",children:"software engineer intern @ vnpt"})}),C.jsx("p",{className:"description",children:"conducted research to support error reduction in product development alongside fellow interns. developed a python script to streamline data cleaning, significantly enhancing work efficiency. gained insights into the product development process through factory tours."})]})]})]}),C.jsx("h2",{children:"campus activities"}),C.jsxs("ul",{children:[C.jsxs("li",{children:[C.jsx("span",{className:"date",children:"2024 - present"}),C.jsxs("div",{className:"content",children:[C.jsx("span",{className:"role",children:C.jsx("a",{href:"https://cci.drexel.edu/",target:"_blank",rel:"noopener noreferrer",children:"course assistant @ drexel"})}),C.jsx("p",{className:"description",children:"teaching assistant for software engineering course se 320 concerning software validation and verification"}),C.jsx("span",{className:"technologies",children:"java, junit, git, python, bash"})]})]}),C.jsxs("li",{children:[C.jsx("span",{className:"date",children:"2024 - present"}),C.jsxs("div",{className:"content",children:[C.jsx("span",{className:"role",children:C.jsx("a",{href:"https://cci.drexel.edu/",target:"_blank",rel:"noopener noreferrer",children:"dean's ambassador @ drexel"})}),C.jsx("p",{className:"description",children:"assisting the dean in managing student affairs and representing the student body in faculty meetings."}),C.jsx("span",{className:"technologies",children:"a lot of love for the school"})]})]})]}),C.jsx("h2",{children:"fellowships"}),C.jsxs("ul",{children:[C.jsxs("li",{children:[C.jsx("span",{className:"date",children:"jul - sep 2024"}),C.jsxs("div",{className:"content",children:[C.jsx("span",{className:"role",children:C.jsx("a",{href:"https://google.com/",target:"_blank",rel:"noopener noreferrer",children:"fellow @ google"})}),C.jsx("p",{className:"description",children:"participate in pair programming sessions with google engineer for 10 weeks, and receive mentorship to prepare for technical and behavioral interviews."})]})]}),C.jsxs("li",{children:[C.jsx("span",{className:"date",children:"jun - aug 2024"}),C.jsxs("div",{className:"content",children:[C.jsx("span",{className:"role",children:C.jsx("a",{href:"https://codepath.org/",target:"_blank",rel:"noopener noreferrer",children:"fellow @ codepath"})}),C.jsx("p",{className:"description",children:"took tip102 and participated in pair programming sessions with fellow fellows to prepare for technical interviews."})]})]}),C.jsxs("li",{children:[C.jsx("span",{className:"date",children:"jan - feb 2024"}),C.jsxs("div",{className:"content",children:[C.jsx("span",{className:"role",children:C.jsx("a",{href:"https://www.meta.com/",target:"_blank",rel:"noopener noreferrer",children:"fellow @ meta"})}),C.jsx("p",{className:"description",children:"participated in meta's winter cohort of abcs fellowship to learn about ds&a problem solving and meta's interview process"})]})]})]}),C.jsx("div",{className:"resume",children:C.jsx("a",{href:"assets/BinhLeResume.pdf",target:"_blank",children:"view full resume"})}),C.jsx(fg,{})]}),bP=()=>C.jsxs("div",{className:"main-container",children:[C.jsx(dg,{}),C.jsxs("ul",{children:[C.jsxs("li",{children:[C.jsx("span",{className:"date",children:"2013 - present"}),C.jsxs("div",{className:"content",children:[C.jsx("span",{className:"role",children:C.jsx("a",{href:"https://www.youtube.com/@binh",target:"_blank",rel:"noopener noreferrer",children:"content creator"})}),C.jsx("p",{className:"description",children:"amassed 1.3+ million followers by integrating cs education into engaging content for vietnamese teens. directed marketing strategies reaching 300+ million views with brands like tiktok, vng, acer, and vtc games."}),C.jsx("span",{className:"technologies",children:"youtube, tiktok, instagram, facebook, linkedin, marketing, content creation"})]})]}),C.jsxs("li",{children:[C.jsx("span",{className:"date",children:"aug 2024"}),C.jsxs("div",{className:"content",children:[C.jsx("span",{className:"role",children:C.jsx("a",{href:"https://binhl3.github.io/",children:"personal website"})}),C.jsx("p",{className:"description",children:"is this recursion"}),C.jsx("span",{className:"technologies",children:"react, javascript, html, css, node"})]})]}),C.jsxs("li",{children:[C.jsx("span",{className:"date",children:"apr 2024"}),C.jsxs("div",{className:"content",children:[C.jsx("span",{className:"role",children:C.jsx("a",{href:"https://github.com/mikth3372/DragonHacks",target:"_blank",rel:"noopener noreferrer",children:"serenity - dragonhacks 10"})}),C.jsx("p",{className:"description",children:"led a team of 3 to build an interview platform using humeapi for live emotional insights, winning best tech domain at dragonhacks 2024. designed the backend with session validation and integrated openai."}),C.jsx("span",{className:"technologies",children:"python, flask, humeapi, openai, react, tailwind, html, css, numpy, matplotlib"})]})]}),C.jsxs("li",{children:[C.jsx("span",{className:"date",children:"apr 2024"}),C.jsxs("div",{className:"content",children:[C.jsx("span",{className:"role",children:C.jsx("a",{href:"https://github.com/kxllydo/codefest24-25",target:"_blank",rel:"noopener noreferrer",children:"adopteam - philly codefest 2024"})}),C.jsx("p",{className:"description",children:"spearheaded ml model integration using multilayer perceptrons, achieving 80% success in parent-child pairings to make adoption more accessible and refine the process. used 1000 samples with various attributes for kids and adults, targeting compatibility."}),C.jsx("span",{className:"technologies",children:"python, keras, tensorflow, pandas, scikit-learn"})]})]}),C.jsxs("li",{children:[C.jsx("span",{className:"date",children:"dec 2023"}),C.jsxs("div",{className:"content",children:[C.jsx("span",{className:"role",children:"student survey & test system - drexel university"}),C.jsx("p",{className:"description",children:"leveraged 4+ design patterns in a java program to enable seamless future feature integration and optimized serialization for 50% faster runtime."}),C.jsx("span",{className:"technologies",children:"java, design patterns, serialization"})]})]}),C.jsxs("li",{children:[C.jsx("span",{className:"date",children:"aug 2023"}),C.jsxs("div",{className:"content",children:[C.jsx("span",{className:"role",children:C.jsx("a",{href:"https://github.com/BinhL3/MultiplayerSnake",target:"_blank",rel:"noopener noreferrer",children:"2d multiplayer snake"})}),C.jsx("p",{className:"description",children:"developed a 2d multiplayer snake game like slither.io using rest apis, phaser, and socket.io. led a team of 3 and implemented ci/cd with github actions."}),C.jsx("span",{className:"technologies",children:"javascript, react, socket.io, phaser, rest apis"})]})]}),C.jsxs("li",{children:[C.jsx("span",{className:"date",children:"aug 2023"}),C.jsxs("div",{className:"content",children:[C.jsx("span",{className:"role",children:"mini unix shell - drexel university"}),C.jsx("p",{className:"description",children:"engineered a c-based shell with system command execution, io redirection, and efficient process piping. added features like background task execution and directory navigation on tux servers."}),C.jsx("span",{className:"technologies",children:"c, tux servers, system programming"})]})]}),C.jsxs("li",{children:[C.jsx("span",{className:"date",children:"jan - jun 2023"}),C.jsxs("div",{className:"content",children:[C.jsx("span",{className:"role",children:C.jsx("a",{href:"https://github.com/BinhL3/Mangrove---Webagenda",target:"_blank",rel:"noopener noreferrer",children:"mangrove agenda"})}),C.jsx("p",{className:"description",children:"led a team-based agile full-stack project, mangrove agenda, at drexel to streamline student scheduling. designed the backend with python, flask, javascript for session validation, and sqlalchemy for database management. integrated openai and fullcalendar apis for a seamless user experience."}),C.jsx("span",{className:"technologies",children:"python, flask, javascript, sqlalchemy, openai, fullcalendar"})]})]}),C.jsxs("li",{children:[C.jsx("span",{className:"date",children:"apr - jun 2022"}),C.jsxs("div",{className:"content",children:[C.jsx("span",{className:"role",children:"pacman replication - vin university"}),C.jsx("p",{className:"description",children:"collaborated with 3 peers to develop a pacman replication game in java and javafx. reduced bugs by 70% with optimized collision detection to update the game state."}),C.jsx("span",{className:"technologies",children:"java, javafx, object-oriented programming, design patterns"})]})]}),C.jsxs("li",{children:[C.jsx("span",{className:"date",children:"2021 - 2022"}),C.jsxs("div",{className:"content",children:[C.jsx("span",{className:"role",children:"autonomous car - cecs day"}),C.jsx("p",{className:"description",children:"engineered a pre-trained model into an autonomous car, boosting track detection accuracy by 20% using opencv. secured top 2 best recycling solution at vinuni hackathon by implementing ar for cultural heritage preservation."}),C.jsx("span",{className:"technologies",children:"python, opencv, arduino, makerbot microcontroller, figma, esp32-cam module"})]})]})]}),C.jsx(fg,{})]}),xP=()=>C.jsxs("div",{className:"main-container",children:[C.jsx(dg,{}),C.jsx("img",{src:"assets/icon.jpg"}),C.jsx("p",{children:"hi, i'm binh le. 20. vietnamese."}),C.jsx("p",{children:"people probably know me mostly from youtube and tiktok just cause i've done that for 13 years now"}),C.jsx("p",{children:"i like to think of myself as a very passionate person. i mean it might just be me in my early twenties wanting to change the world and impact it in a positive light. but you'll find me talking about how cool people are for innovating and how smart people can be from looking at their legacy."}),C.jsx("p",{children:"i don't think i'm that smart. but man do i try to work hard and learn as many things as possible. it might be this attitude that helped me graduate at the top of my high school, get into every vietnamese college (can't say the same for the u.s. ones), and gain substantial success in social media."}),C.jsx("p",{children:"i really want to succeed in this tech world now. even given the prevalence of ai. even given the kids who coded since they was 6. i hope that showing up and persisting each day through all the struggles will pay off."}),C.jsxs("p",{children:[C.jsx("strong",{children:"p.s. "}),"this picture here is fan art someone made of my minecraft character"]}),C.jsx(fg,{})]}),CP="modulepreload",kP=function(n){return"/"+n},F_={},tf=function(e,t,i){let r=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),a=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));r=Promise.all(t.map(o=>{if(o=kP(o),o in F_)return;F_[o]=!0;const l=o.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${u}`))return;const h=document.createElement("link");if(h.rel=l?"stylesheet":CP,l||(h.as="script",h.crossOrigin=""),h.href=o,a&&h.setAttribute("nonce",a),document.head.appendChild(h),l)return new Promise((d,f)=>{h.addEventListener("load",d),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${o}`)))})}))}return r.then(()=>e()).catch(s=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s})};var gu={};gu.d=(n,e)=>{for(var t in e)gu.o(e,t)&&!gu.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})};gu.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var le=globalThis.pdfjsLib={};gu.d(le,{AbortException:()=>Fo,AnnotationEditorLayer:()=>Ey,AnnotationEditorParamsType:()=>ce,AnnotationEditorType:()=>be,AnnotationEditorUIManager:()=>xo,AnnotationLayer:()=>xL,AnnotationMode:()=>fs,CMapCompressionType:()=>pv,ColorPicker:()=>Cp,DOMSVGFactory:()=>D0,DrawLayer:()=>Cy,FeatureTest:()=>yn,GlobalWorkerOptions:()=>$r,ImageKind:()=>Af,InvalidPDFException:()=>XS,MissingPDFException:()=>Io,OPS:()=>ui,Outliner:()=>iy,PDFDataRangeTransport:()=>Ub,PDFDateString:()=>eb,PDFWorker:()=>gl,PasswordResponses:()=>LP,PermissionFlag:()=>RP,PixelsPerInch:()=>Xs,RenderingCancelledException:()=>I0,TextLayer:()=>bp,UnexpectedResponseException:()=>vg,Util:()=>ne,VerbosityLevel:()=>pg,XfaLayer:()=>Vb,build:()=>sL,createValidAbsoluteUrl:()=>FP,fetchData:()=>Eg,getDocument:()=>YR,getFilenameFromUrl:()=>WP,getPdfFilenameFromUrl:()=>GP,getXfaPageViewport:()=>XP,isDataScheme:()=>F0,isPdfFile:()=>N0,noContextMenu:()=>Sn,normalizeUnicode:()=>BP,renderTextLayer:()=>BR,setLayerDimensions:()=>bo,shadow:()=>xe,updateTextLayer:()=>UR,version:()=>rL});const Jt=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),GS=[1,0,0,1,0,0],fv=[.001,0,0,.001,0,0],TP=1e7,dm=1.35,Jn={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},fs={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},PP="pdfjs_internal_editor_",be={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},ce={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},RP={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Gt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Af={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},yt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Oc={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},pg={ERRORS:0,WARNINGS:1,INFOS:5},pv={NONE:0,BINARY:1},ui={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},LP={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let gg=pg.WARNINGS;function MP(n){Number.isInteger(n)&&(gg=n)}function DP(){return gg}function mg(n){gg>=pg.INFOS&&console.log(`Info: ${n}`)}function ve(n){gg>=pg.WARNINGS&&console.log(`Warning: ${n}`)}function je(n){throw new Error(n)}function xt(n,e){n||je(e)}function IP(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function FP(n,e=null,t=null){if(!n)return null;try{if(t&&typeof n=="string"){if(t.addDefaultProtocol&&n.startsWith("www.")){const r=n.match(/\./g);(r==null?void 0:r.length)>=2&&(n=`http://${n}`)}if(t.tryConvertEncoding)try{n=HP(n)}catch{}}const i=e?new URL(n,e):new URL(n);if(IP(i))return i}catch{}return null}function xe(n,e,t,i=!1){return Object.defineProperty(n,e,{value:t,enumerable:!i,configurable:!0,writable:!1}),t}const Zs=function(){function e(t,i){this.constructor===e&&je("Cannot initialize BaseException."),this.message=t,this.name=i}return e.prototype=new Error,e.constructor=e,e}();class gv extends Zs{constructor(e,t){super(e,"PasswordException"),this.code=t}}class mv extends Zs{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class XS extends Zs{constructor(e){super(e,"InvalidPDFException")}}class Io extends Zs{constructor(e){super(e,"MissingPDFException")}}class vg extends Zs{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class NP extends Zs{constructor(e){super(e,"FormatError")}}class Fo extends Zs{constructor(e){super(e,"AbortException")}}function KS(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&je("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const i=[];for(let r=0;r<e;r+=t){const s=Math.min(r+t,e),a=n.subarray(r,s);i.push(String.fromCharCode.apply(null,a))}return i.join("")}function yg(n){typeof n!="string"&&je("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let i=0;i<e;++i)t[i]=n.charCodeAt(i)&255;return t}function OP(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function L0(n){const e=Object.create(null);for(const[t,i]of n)e[t]=i;return e}function jP(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function zP(){try{return new Function(""),!0}catch{return!1}}class yn{static get isLittleEndian(){return xe(this,"isLittleEndian",jP())}static get isEvalSupported(){return xe(this,"isEvalSupported",zP())}static get isOffscreenCanvasSupported(){return xe(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?xe(this,"platform",{isMac:navigator.platform.includes("Mac")}):xe(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){var e,t;return xe(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const fm=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var Wr,Ef,vv;class ne{static makeHexColor(e,t,i){return`#${fm[e]}${fm[t]}${fm[i]}`}static scaleMinMax(e,t){let i;e[0]?(e[0]<0&&(i=t[0],t[0]=t[2],t[2]=i),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(i=t[1],t[1]=t[3],t[3]=i),t[1]*=e[3],t[3]*=e[3]):(i=t[0],t[0]=t[1],t[1]=i,i=t[2],t[2]=t[3],t[3]=i,e[1]<0&&(i=t[1],t[1]=t[3],t[3]=i),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(i=t[0],t[0]=t[2],t[2]=i),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){const i=e[0]*t[0]+e[1]*t[2]+t[4],r=e[0]*t[1]+e[1]*t[3]+t[5];return[i,r]}static applyInverseTransform(e,t){const i=t[0]*t[3]-t[1]*t[2],r=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/i,s=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/i;return[r,s]}static getAxialAlignedBoundingBox(e,t){const i=this.applyTransform(e,t),r=this.applyTransform(e.slice(2,4),t),s=this.applyTransform([e[0],e[3]],t),a=this.applyTransform([e[2],e[1]],t);return[Math.min(i[0],r[0],s[0],a[0]),Math.min(i[1],r[1],s[1],a[1]),Math.max(i[0],r[0],s[0],a[0]),Math.max(i[1],r[1],s[1],a[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],i=e[0]*t[0]+e[1]*t[2],r=e[0]*t[1]+e[1]*t[3],s=e[2]*t[0]+e[3]*t[2],a=e[2]*t[1]+e[3]*t[3],o=(i+a)/2,l=Math.sqrt((i+a)**2-4*(i*a-s*r))/2,u=o+l||1,h=o-l||1;return[Math.sqrt(u),Math.sqrt(h)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const i=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(i>r)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>a?null:[i,s,r,a]}static bezierBoundingBox(e,t,i,r,s,a,o,l,u){return u?(u[0]=Math.min(u[0],e,o),u[1]=Math.min(u[1],t,l),u[2]=Math.max(u[2],e,o),u[3]=Math.max(u[3],t,l)):u=[Math.min(e,o),Math.min(t,l),Math.max(e,o),Math.max(t,l)],_(this,Wr,vv).call(this,e,i,s,o,t,r,a,l,3*(-e+3*(i-s)+o),6*(e-2*i+s),3*(i-e),u),_(this,Wr,vv).call(this,e,i,s,o,t,r,a,l,3*(-t+3*(r-a)+l),6*(t-2*r+a),3*(r-t),u),u}}Wr=new WeakSet,Ef=function(e,t,i,r,s,a,o,l,u,h){if(u<=0||u>=1)return;const d=1-u,f=u*u,p=f*u,g=d*(d*(d*e+3*u*t)+3*f*i)+p*r,v=d*(d*(d*s+3*u*a)+3*f*o)+p*l;h[0]=Math.min(h[0],g),h[1]=Math.min(h[1],v),h[2]=Math.max(h[2],g),h[3]=Math.max(h[3],v)},vv=function(e,t,i,r,s,a,o,l,u,h,d,f){if(Math.abs(u)<1e-12){Math.abs(h)>=1e-12&&_(this,Wr,Ef).call(this,e,t,i,r,s,a,o,l,-d/h,f);return}const p=h**2-4*d*u;if(p<0)return;const g=Math.sqrt(p),v=2*u;_(this,Wr,Ef).call(this,e,t,i,r,s,a,o,l,(-h+g)/v,f),_(this,Wr,Ef).call(this,e,t,i,r,s,a,o,l,(-h-g)/v,f)},E(ne,Wr);function HP(n){return decodeURIComponent(escape(n))}let pm=null,N_=null;function BP(n){return pm||(pm=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,N_=new Map([["ﬅ","ſt"]])),n.replaceAll(pm,(e,t,i)=>t?t.normalize("NFKC"):N_.get(i))}function UP(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const n=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(n);else for(let e=0;e<32;e++)n[e]=Math.floor(Math.random()*255);return KS(n)}const qS="pdfjs_internal_id_",ar={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};class wg{constructor(){this.constructor===wg&&je("Cannot initialize BaseFilterFactory.")}addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,i,r,s){return"none"}destroy(e=!1){}}var zu;const U0=class U0{constructor({enableHWA:e=!1}={}){E(this,zu,!1);this.constructor===U0&&je("Cannot initialize BaseCanvasFactory."),w(this,zu,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(e,t);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!c(this,zu)})}}reset(e,t,i){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||i<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=i}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){je("Abstract method `_createCanvas` called.")}};zu=new WeakMap;let _p=U0;class _g{constructor({baseUrl:e=null,isCompressed:t=!0}){this.constructor===_g&&je("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":""),i=this.isCompressed?pv.BINARY:pv.NONE;return this._fetchData(t,i).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}_fetchData(e,t){je("Abstract method `_fetchData` called.")}}class Ag{constructor({baseUrl:e=null}){this.constructor===Ag&&je("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetchData(t).catch(i=>{throw new Error(`Unable to load font data at: ${t}`)})}_fetchData(e){je("Abstract method `_fetchData` called.")}}class M0{constructor(){this.constructor===M0&&je("Cannot initialize BaseSVGFactory.")}create(e,t,i=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),i||(r.setAttribute("width",`${e}px`),r.setAttribute("height",`${t}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${e} ${t}`),r}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){je("Abstract method `_createSVG` called.")}}const lr="http://www.w3.org/2000/svg",da=class da{};de(da,"CSS",96),de(da,"PDF",72),de(da,"PDF_TO_CSS_UNITS",da.CSS/da.PDF);let Xs=da;var wa,Fi,gr,fn,Tp,_a,J,Xt,Uo,$o,Sf,YS,yv,Vo,Wc,Gc,wv,Xc;class $P extends wg{constructor({docId:t,ownerDocument:i=globalThis.document}={}){super();E(this,J);E(this,wa);E(this,Fi);E(this,gr);E(this,fn);E(this,Tp);E(this,_a,0);w(this,gr,t),w(this,fn,i)}addFilter(t){if(!t)return"none";let i=c(this,J,Xt).get(t);if(i)return i;const[r,s,a]=_(this,J,Sf).call(this,t),o=t.length===1?r:`${r}${s}${a}`;if(i=c(this,J,Xt).get(o),i)return c(this,J,Xt).set(t,i),i;const l=`g_${c(this,gr)}_transfer_map_${xn(this,_a)._++}`,u=`url(#${l})`;c(this,J,Xt).set(t,u),c(this,J,Xt).set(o,u);const h=_(this,J,Vo).call(this,l);return _(this,J,Gc).call(this,r,s,a,h),u}addHCMFilter(t,i){var g;const r=`${t}-${i}`,s="base";let a=c(this,J,Uo).get(s);if((a==null?void 0:a.key)===r||(a?((g=a.filter)==null||g.remove(),a.key=r,a.url="none",a.filter=null):(a={key:r,url:"none",filter:null},c(this,J,Uo).set(s,a)),!t||!i))return a.url;const o=_(this,J,Xc).call(this,t);t=ne.makeHexColor(...o);const l=_(this,J,Xc).call(this,i);if(i=ne.makeHexColor(...l),c(this,J,$o).style.color="",t==="#000000"&&i==="#ffffff"||t===i)return a.url;const u=new Array(256);for(let v=0;v<=255;v++){const S=v/255;u[v]=S<=.03928?S/12.92:((S+.055)/1.055)**2.4}const h=u.join(","),d=`g_${c(this,gr)}_hcm_filter`,f=a.filter=_(this,J,Vo).call(this,d);_(this,J,Gc).call(this,h,h,h,f),_(this,J,yv).call(this,f);const p=(v,S)=>{const m=o[v]/255,y=l[v]/255,A=new Array(S+1);for(let x=0;x<=S;x++)A[x]=m+x/S*(y-m);return A.join(",")};return _(this,J,Gc).call(this,p(0,5),p(1,5),p(2,5),f),a.url=`url(#${d})`,a.url}addAlphaFilter(t){let i=c(this,J,Xt).get(t);if(i)return i;const[r]=_(this,J,Sf).call(this,[t]),s=`alpha_${r}`;if(i=c(this,J,Xt).get(s),i)return c(this,J,Xt).set(t,i),i;const a=`g_${c(this,gr)}_alpha_map_${xn(this,_a)._++}`,o=`url(#${a})`;c(this,J,Xt).set(t,o),c(this,J,Xt).set(s,o);const l=_(this,J,Vo).call(this,a);return _(this,J,wv).call(this,r,l),o}addLuminosityFilter(t){let i=c(this,J,Xt).get(t||"luminosity");if(i)return i;let r,s;if(t?([r]=_(this,J,Sf).call(this,[t]),s=`luminosity_${r}`):s="luminosity",i=c(this,J,Xt).get(s),i)return c(this,J,Xt).set(t,i),i;const a=`g_${c(this,gr)}_luminosity_map_${xn(this,_a)._++}`,o=`url(#${a})`;c(this,J,Xt).set(t,o),c(this,J,Xt).set(s,o);const l=_(this,J,Vo).call(this,a);return _(this,J,YS).call(this,l),t&&_(this,J,wv).call(this,r,l),o}addHighlightHCMFilter(t,i,r,s,a){var y;const o=`${i}-${r}-${s}-${a}`;let l=c(this,J,Uo).get(t);if((l==null?void 0:l.key)===o||(l?((y=l.filter)==null||y.remove(),l.key=o,l.url="none",l.filter=null):(l={key:o,url:"none",filter:null},c(this,J,Uo).set(t,l)),!i||!r))return l.url;const[u,h]=[i,r].map(_(this,J,Xc).bind(this));let d=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),f=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),[p,g]=[s,a].map(_(this,J,Xc).bind(this));f<d&&([d,f,p,g]=[f,d,g,p]),c(this,J,$o).style.color="";const v=(A,x,T)=>{const L=new Array(256),F=(f-d)/T,b=A/255,O=(x-A)/(255*T);let B=0;for(let U=0;U<=T;U++){const ee=Math.round(d+U*F),Z=b+U*O;for(let I=B;I<=ee;I++)L[I]=Z;B=ee+1}for(let U=B;U<256;U++)L[U]=L[B-1];return L.join(",")},S=`g_${c(this,gr)}_hcm_${t}_filter`,m=l.filter=_(this,J,Vo).call(this,S);return _(this,J,yv).call(this,m),_(this,J,Gc).call(this,v(p[0],g[0],5),v(p[1],g[1],5),v(p[2],g[2],5),m),l.url=`url(#${S})`,l.url}destroy(t=!1){t&&c(this,J,Uo).size!==0||(c(this,Fi)&&(c(this,Fi).parentNode.parentNode.remove(),w(this,Fi,null)),c(this,wa)&&(c(this,wa).clear(),w(this,wa,null)),w(this,_a,0))}}wa=new WeakMap,Fi=new WeakMap,gr=new WeakMap,fn=new WeakMap,Tp=new WeakMap,_a=new WeakMap,J=new WeakSet,Xt=function(){return c(this,wa)||w(this,wa,new Map)},Uo=function(){return c(this,Tp)||w(this,Tp,new Map)},$o=function(){if(!c(this,Fi)){const t=c(this,fn).createElement("div"),{style:i}=t;i.visibility="hidden",i.contain="strict",i.width=i.height=0,i.position="absolute",i.top=i.left=0,i.zIndex=-1;const r=c(this,fn).createElementNS(lr,"svg");r.setAttribute("width",0),r.setAttribute("height",0),w(this,Fi,c(this,fn).createElementNS(lr,"defs")),t.append(r),r.append(c(this,Fi)),c(this,fn).body.append(t)}return c(this,Fi)},Sf=function(t){if(t.length===1){const u=t[0],h=new Array(256);for(let f=0;f<256;f++)h[f]=u[f]/255;const d=h.join(",");return[d,d,d]}const[i,r,s]=t,a=new Array(256),o=new Array(256),l=new Array(256);for(let u=0;u<256;u++)a[u]=i[u]/255,o[u]=r[u]/255,l[u]=s[u]/255;return[a.join(","),o.join(","),l.join(",")]},YS=function(t){const i=c(this,fn).createElementNS(lr,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(i)},yv=function(t){const i=c(this,fn).createElementNS(lr,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(i)},Vo=function(t){const i=c(this,fn).createElementNS(lr,"filter");return i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("id",t),c(this,J,$o).append(i),i},Wc=function(t,i,r){const s=c(this,fn).createElementNS(lr,i);s.setAttribute("type","discrete"),s.setAttribute("tableValues",r),t.append(s)},Gc=function(t,i,r,s){const a=c(this,fn).createElementNS(lr,"feComponentTransfer");s.append(a),_(this,J,Wc).call(this,a,"feFuncR",t),_(this,J,Wc).call(this,a,"feFuncG",i),_(this,J,Wc).call(this,a,"feFuncB",r)},wv=function(t,i){const r=c(this,fn).createElementNS(lr,"feComponentTransfer");i.append(r),_(this,J,Wc).call(this,r,"feFuncA",t)},Xc=function(t){return c(this,J,$o).style.color=t,O0(getComputedStyle(c(this,J,$o)).getPropertyValue("color"))};class VP extends _p{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}={}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const i=this._document.createElement("canvas");return i.width=e,i.height=t,i}}async function Eg(n,e="text"){if(Kc(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,i)=>{const r=new XMLHttpRequest;r.open("GET",n,!0),r.responseType=e,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(r.response);return}t(r.responseText);return}i(new Error(r.statusText))}},r.send(null)})}class QS extends _g{_fetchData(e,t){return Eg(e,this.isCompressed?"arraybuffer":"text").then(i=>({cMapData:i instanceof ArrayBuffer?new Uint8Array(i):yg(i),compressionType:t}))}}class JS extends Ag{_fetchData(e){return Eg(e,"arraybuffer").then(t=>new Uint8Array(t))}}class D0 extends M0{_createSVG(e){return document.createElementNS(lr,e)}}class bd{constructor({viewBox:e,scale:t,rotation:i,offsetX:r=0,offsetY:s=0,dontFlip:a=!1}){this.viewBox=e,this.scale=t,this.rotation=i,this.offsetX=r,this.offsetY=s;const o=(e[2]+e[0])/2,l=(e[3]+e[1])/2;let u,h,d,f;switch(i%=360,i<0&&(i+=360),i){case 180:u=-1,h=0,d=0,f=1;break;case 90:u=0,h=1,d=1,f=0;break;case 270:u=0,h=-1,d=-1,f=0;break;case 0:u=1,h=0,d=0,f=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}a&&(d=-d,f=-f);let p,g,v,S;u===0?(p=Math.abs(l-e[1])*t+r,g=Math.abs(o-e[0])*t+s,v=(e[3]-e[1])*t,S=(e[2]-e[0])*t):(p=Math.abs(o-e[0])*t+r,g=Math.abs(l-e[1])*t+s,v=(e[2]-e[0])*t,S=(e[3]-e[1])*t),this.transform=[u*t,h*t,d*t,f*t,p-u*t*o-d*t*l,g-h*t*o-f*t*l],this.width=v,this.height=S}get rawDims(){const{viewBox:e}=this;return xe(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:i=this.offsetX,offsetY:r=this.offsetY,dontFlip:s=!1}={}){return new bd({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:i,offsetY:r,dontFlip:s})}convertToViewportPoint(e,t){return ne.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=ne.applyTransform([e[0],e[1]],this.transform),i=ne.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],i[0],i[1]]}convertToPdfPoint(e,t){return ne.applyInverseTransform([e,t],this.transform)}}class I0 extends Zs{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function F0(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function N0(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function WP(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function GP(n,e="document.pdf"){if(typeof n!="string")return e;if(F0(n))return ve('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,i=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=t.exec(n);let s=i.exec(r[1])||i.exec(r[2])||i.exec(r[3]);if(s&&(s=s[0],s.includes("%")))try{s=i.exec(decodeURIComponent(s))[0]}catch{}return s||e}class O_{constructor(){de(this,"started",Object.create(null));de(this,"times",[])}time(e){e in this.started&&ve(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||ve(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:i}of this.times)t=Math.max(i.length,t);for(const{name:i,start:r,end:s}of this.times)e.push(`${i.padEnd(t)} ${s-r}ms
`);return e.join("")}}function Kc(n,e){try{const{protocol:t}=e?new URL(n,e):new URL(n);return t==="http:"||t==="https:"}catch{return!1}}function Sn(n){n.preventDefault()}function ZS(n){console.log("Deprecated API usage: "+n)}let j_;class eb{static toDateObject(e){if(!e||typeof e!="string")return null;j_||(j_=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=j_.exec(e);if(!t)return null;const i=parseInt(t[1],10);let r=parseInt(t[2],10);r=r>=1&&r<=12?r-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let a=parseInt(t[4],10);a=a>=0&&a<=23?a:0;let o=parseInt(t[5],10);o=o>=0&&o<=59?o:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;const u=t[7]||"Z";let h=parseInt(t[8],10);h=h>=0&&h<=23?h:0;let d=parseInt(t[9],10)||0;return d=d>=0&&d<=59?d:0,u==="-"?(a+=h,o+=d):u==="+"&&(a-=h,o-=d),new Date(Date.UTC(i,r,s,a,o,l))}}function XP(n,{scale:e=1,rotation:t=0}){const{width:i,height:r}=n.attributes.style,s=[0,0,parseInt(i),parseInt(r)];return new bd({viewBox:s,scale:e,rotation:t})}function O0(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(ve(`Not a valid color format: "${n}"`),[0,0,0])}function KP(n){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const t of n.keys()){e.style.color=t;const i=window.getComputedStyle(e).color;n.set(t,O0(i))}e.remove()}function tt(n){const{a:e,b:t,c:i,d:r,e:s,f:a}=n.getTransform();return[e,t,i,r,s,a]}function or(n){const{a:e,b:t,c:i,d:r,e:s,f:a}=n.getTransform().invertSelf();return[e,t,i,r,s,a]}function bo(n,e,t=!1,i=!0){if(e instanceof bd){const{pageWidth:r,pageHeight:s}=e.rawDims,{style:a}=n,o=yn.isCSSRoundSupported,l=`var(--scale-factor) * ${r}px`,u=`var(--scale-factor) * ${s}px`,h=o?`round(${l}, 1px)`:`calc(${l})`,d=o?`round(${u}, 1px)`:`calc(${u})`;!t||e.rotation%180===0?(a.width=h,a.height=d):(a.width=d,a.height=h)}i&&n.setAttribute("data-main-rotation",e.rotation)}var Aa,Ea,Tn,Sa,Pp,tb,ln,nb,ib,bf,rb,Av;const Rp=class Rp{constructor(e){E(this,ln);E(this,Aa,null);E(this,Ea,null);E(this,Tn);E(this,Sa,null);w(this,Tn,e)}render(){const e=w(this,Aa,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const t=c(this,Tn)._uiManager._signal;e.addEventListener("contextmenu",Sn,{signal:t}),e.addEventListener("pointerdown",_(Rp,Pp,tb),{signal:t});const i=w(this,Sa,document.createElement("div"));i.className="buttons",e.append(i);const r=c(this,Tn).toolbarPosition;if(r){const{style:s}=e,a=c(this,Tn)._uiManager.direction==="ltr"?1-r[0]:r[0];s.insetInlineEnd=`${100*a}%`,s.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return _(this,ln,rb).call(this),e}hide(){var e;c(this,Aa).classList.add("hidden"),(e=c(this,Ea))==null||e.hideDropdown()}show(){c(this,Aa).classList.remove("hidden")}addAltTextButton(e){_(this,ln,bf).call(this,e),c(this,Sa).prepend(e,c(this,ln,Av))}addColorPicker(e){w(this,Ea,e);const t=e.renderButton();_(this,ln,bf).call(this,t),c(this,Sa).prepend(t,c(this,ln,Av))}remove(){var e;c(this,Aa).remove(),(e=c(this,Ea))==null||e.destroy(),w(this,Ea,null)}};Aa=new WeakMap,Ea=new WeakMap,Tn=new WeakMap,Sa=new WeakMap,Pp=new WeakSet,tb=function(e){e.stopPropagation()},ln=new WeakSet,nb=function(e){c(this,Tn)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},ib=function(e){c(this,Tn)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},bf=function(e){const t=c(this,Tn)._uiManager._signal;e.addEventListener("focusin",_(this,ln,nb).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",_(this,ln,ib).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Sn,{signal:t})},rb=function(){const e=document.createElement("button");e.className="delete",e.tabIndex=0,e.setAttribute("data-l10n-id",`pdfjs-editor-remove-${c(this,Tn).editorType}-button`),_(this,ln,bf).call(this,e),e.addEventListener("click",t=>{c(this,Tn)._uiManager.delete()},{signal:c(this,Tn)._uiManager._signal}),c(this,Sa).append(e)},Av=function(){const e=document.createElement("div");return e.className="divider",e},E(Rp,Pp);let _v=Rp;var Hu,ba,xa,Ks,sb,ab,ob;class qP{constructor(e){E(this,Ks);E(this,Hu,null);E(this,ba,null);E(this,xa);w(this,xa,e)}show(e,t,i){const[r,s]=_(this,Ks,ab).call(this,t,i),{style:a}=c(this,ba)||w(this,ba,_(this,Ks,sb).call(this));e.append(c(this,ba)),a.insetInlineEnd=`${100*r}%`,a.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){c(this,ba).remove()}}Hu=new WeakMap,ba=new WeakMap,xa=new WeakMap,Ks=new WeakSet,sb=function(){const e=w(this,ba,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",Sn,{signal:c(this,xa)._signal});const t=w(this,Hu,document.createElement("div"));return t.className="buttons",e.append(t),_(this,Ks,ob).call(this),e},ab=function(e,t){let i=0,r=0;for(const s of e){const a=s.y+s.height;if(a<i)continue;const o=s.x+(t?s.width:0);if(a>i){r=o,i=a;continue}t?o>r&&(r=o):o<r&&(r=o)}return[t?1-r:r,i]},ob=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const i=c(this,xa)._signal;e.addEventListener("contextmenu",Sn,{signal:i}),e.addEventListener("click",()=>{c(this,xa).highlightSelection("floating_button")},{signal:i}),c(this,Hu).append(e)};function Ap(n,e,t){for(const i of t)e.addEventListener(i,n[i].bind(n))}function YP(n){return Math.round(Math.min(255,Math.max(1,255*n))).toString(16).padStart(2,"0")}var Lp;class QP{constructor(){E(this,Lp,0)}get id(){return`${PP}${xn(this,Lp)._++}`}}Lp=new WeakMap;var Bu,Mp,Kn,Uu,Sv;const $0=class $0{constructor(){E(this,Uu);E(this,Bu,UP());E(this,Mp,0);E(this,Kn,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=e;const s=r.decode().then(()=>(i.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return xe(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:t,name:i,size:r,type:s}=e;return _(this,Uu,Sv).call(this,`${t}_${i}_${r}_${s}`,e)}async getFromUrl(e){return _(this,Uu,Sv).call(this,e,e)}async getFromId(e){c(this,Kn)||w(this,Kn,new Map);const t=c(this,Kn).get(e);return t?t.bitmap?(t.refCounter+=1,t):t.file?this.getFromFile(t.file):this.getFromUrl(t.url):null}getSvgUrl(e){const t=c(this,Kn).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){c(this,Kn)||w(this,Kn,new Map);const t=c(this,Kn).get(e);t&&(t.refCounter-=1,t.refCounter===0&&(t.bitmap=null))}isValidId(e){return e.startsWith(`image_${c(this,Bu)}_`)}};Bu=new WeakMap,Mp=new WeakMap,Kn=new WeakMap,Uu=new WeakSet,Sv=async function(e,t){c(this,Kn)||w(this,Kn,new Map);let i=c(this,Kn).get(e);if(i===null)return null;if(i!=null&&i.bitmap)return i.refCounter+=1,i;try{i||(i={bitmap:null,id:`image_${c(this,Bu)}_${xn(this,Mp)._++}`,refCounter:0,isSvg:!1});let r;if(typeof t=="string"?(i.url=t,r=await Eg(t,"blob")):r=i.file=t,r.type==="image/svg+xml"){const s=$0._isSVGFittingCanvas,a=new FileReader,o=new Image,l=new Promise((u,h)=>{o.onload=()=>{i.bitmap=o,i.isSvg=!0,u()},a.onload=async()=>{const d=i.svgUrl=a.result;o.src=await s?`${d}#svgView(preserveAspectRatio(none))`:d},o.onerror=a.onerror=h});a.readAsDataURL(r),await l}else i.bitmap=await createImageBitmap(r);i.refCounter=1}catch(r){console.error(r),i=null}return c(this,Kn).set(e,i),i&&c(this,Kn).set(i.id,i),i};let Ev=$0;var Tt,ps,$u,Pt;class JP{constructor(e=128){E(this,Tt,[]);E(this,ps,!1);E(this,$u);E(this,Pt,-1);w(this,$u,e)}add({cmd:e,undo:t,post:i,mustExec:r,type:s=NaN,overwriteIfSameType:a=!1,keepUndo:o=!1}){if(r&&e(),c(this,ps))return;const l={cmd:e,undo:t,post:i,type:s};if(c(this,Pt)===-1){c(this,Tt).length>0&&(c(this,Tt).length=0),w(this,Pt,0),c(this,Tt).push(l);return}if(a&&c(this,Tt)[c(this,Pt)].type===s){o&&(l.undo=c(this,Tt)[c(this,Pt)].undo),c(this,Tt)[c(this,Pt)]=l;return}const u=c(this,Pt)+1;u===c(this,$u)?c(this,Tt).splice(0,1):(w(this,Pt,u),u<c(this,Tt).length&&c(this,Tt).splice(u)),c(this,Tt).push(l)}undo(){if(c(this,Pt)===-1)return;w(this,ps,!0);const{undo:e,post:t}=c(this,Tt)[c(this,Pt)];e(),t==null||t(),w(this,ps,!1),w(this,Pt,c(this,Pt)-1)}redo(){if(c(this,Pt)<c(this,Tt).length-1){w(this,Pt,c(this,Pt)+1),w(this,ps,!0);const{cmd:e,post:t}=c(this,Tt)[c(this,Pt)];e(),t==null||t(),w(this,ps,!1)}}hasSomethingToUndo(){return c(this,Pt)!==-1}hasSomethingToRedo(){return c(this,Pt)<c(this,Tt).length-1}destroy(){w(this,Tt,null)}}Tt=new WeakMap,ps=new WeakMap,$u=new WeakMap,Pt=new WeakMap;var Dp,lb;class xd{constructor(e){E(this,Dp);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=yn.platform;for(const[i,r,s={}]of e)for(const a of i){const o=a.startsWith("mac+");t&&o?(this.callbacks.set(a.slice(4),{callback:r,options:s}),this.allKeys.add(a.split("+").at(-1))):!t&&!o&&(this.callbacks.set(a,{callback:r,options:s}),this.allKeys.add(a.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const i=this.callbacks.get(_(this,Dp,lb).call(this,t));if(!i)return;const{callback:r,options:{bubbles:s=!1,args:a=[],checker:o=null}}=i;o&&!o(e,t)||(r.bind(e,...a,t)(),s||(t.stopPropagation(),t.preventDefault()))}}Dp=new WeakSet,lb=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const Ip=class Ip{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return KP(e),xe(this,"_colors",e)}convert(e){const t=O0(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[i,r]of this._colors)if(r.every((s,a)=>s===t[a]))return Ip._colorsMapping.get(i);return t}getHexCode(e){const t=this._colors.get(e);return t?ne.makeHexColor(...t):e}};de(Ip,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let bv=Ip;var yl,Pn,wt,It,wl,mr,_l,hi,Al,Ca,Ni,di,ka,Vu,Wu,Oi,El,gs,ji,Fp,ms,Gu,Ta,Xu,Sl,Ft,Le,vr,Pa,Ku,qu,Yu,Qu,Ju,Zu,eh,th,nh,ih,rh,sh,ah,vs,zi,yr,oh,X,xf,cb,ub,Cf,hb,db,fb,xv,pb,Cv,kv,gb,en,as,mb,vb,Tv,yb,qc,Pv;const ol=class ol{constructor(e,t,i,r,s,a,o,l,u){E(this,X);E(this,yl,new AbortController);E(this,Pn,null);E(this,wt,new Map);E(this,It,new Map);E(this,wl,null);E(this,mr,null);E(this,_l,null);E(this,hi,new JP);E(this,Al,0);E(this,Ca,new Set);E(this,Ni,null);E(this,di,null);E(this,ka,new Set);E(this,Vu,!1);E(this,Wu,null);E(this,Oi,null);E(this,El,null);E(this,gs,!1);E(this,ji,null);E(this,Fp,new QP);E(this,ms,!1);E(this,Gu,!1);E(this,Ta,null);E(this,Xu,null);E(this,Sl,null);E(this,Ft,be.NONE);E(this,Le,new Set);E(this,vr,null);E(this,Pa,null);E(this,Ku,null);E(this,qu,this.blur.bind(this));E(this,Yu,this.focus.bind(this));E(this,Qu,this.copy.bind(this));E(this,Ju,this.cut.bind(this));E(this,Zu,this.paste.bind(this));E(this,eh,this.keydown.bind(this));E(this,th,this.keyup.bind(this));E(this,nh,this.onEditingAction.bind(this));E(this,ih,this.onPageChanging.bind(this));E(this,rh,this.onScaleChanging.bind(this));E(this,sh,this.onRotationChanging.bind(this));E(this,ah,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});E(this,vs,[0,0]);E(this,zi,null);E(this,yr,null);E(this,oh,null);this._signal=c(this,yl).signal,w(this,yr,e),w(this,oh,t),w(this,wl,i),this._eventBus=r,this._eventBus._on("editingaction",c(this,nh)),this._eventBus._on("pagechanging",c(this,ih)),this._eventBus._on("scalechanging",c(this,rh)),this._eventBus._on("rotationchanging",c(this,sh)),_(this,X,hb).call(this),_(this,X,gb).call(this),_(this,X,xv).call(this),w(this,mr,s.annotationStorage),w(this,Wu,s.filterFactory),w(this,Pa,a),w(this,El,o||null),w(this,Vu,l),w(this,Sl,u||null),this.viewParameters={realScale:Xs.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=ol.prototype,t=a=>c(a,yr).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),i=(a,{target:o})=>{if(o instanceof HTMLInputElement){const{type:l}=o;return l!=="text"&&l!=="number"}return!0},r=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return xe(this,"_keyboardManager",new xd([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],e.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:i}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&c(a,yr).contains(o)&&!a.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&c(a,yr).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}destroy(){var e,t,i;(e=c(this,yl))==null||e.abort(),w(this,yl,null),this._signal=null,this._eventBus._off("editingaction",c(this,nh)),this._eventBus._off("pagechanging",c(this,ih)),this._eventBus._off("scalechanging",c(this,rh)),this._eventBus._off("rotationchanging",c(this,sh));for(const r of c(this,It).values())r.destroy();c(this,It).clear(),c(this,wt).clear(),c(this,ka).clear(),w(this,Pn,null),c(this,Le).clear(),c(this,hi).destroy(),(t=c(this,wl))==null||t.destroy(),(i=c(this,ji))==null||i.hide(),w(this,ji,null),c(this,Oi)&&(clearTimeout(c(this,Oi)),w(this,Oi,null)),c(this,zi)&&(clearTimeout(c(this,zi)),w(this,zi,null))}async mlGuess(e){var t;return((t=c(this,Sl))==null?void 0:t.guess(e))||null}get hasMLManager(){return!!c(this,Sl)}get hcmFilter(){return xe(this,"hcmFilter",c(this,Pa)?c(this,Wu).addHCMFilter(c(this,Pa).foreground,c(this,Pa).background):"none")}get direction(){return xe(this,"direction",getComputedStyle(c(this,yr)).direction)}get highlightColors(){return xe(this,"highlightColors",c(this,El)?new Map(c(this,El).split(",").map(e=>e.split("=").map(t=>t.trim()))):null)}get highlightColorNames(){return xe(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){w(this,Xu,e)}editAltText(e){var t;(t=c(this,wl))==null||t.editAltText(this,e)}onPageChanging({pageNumber:e}){w(this,Al,e-1)}focusMainContainer(){c(this,yr).focus()}findParent(e,t){for(const i of c(this,It).values()){const{x:r,y:s,width:a,height:o}=i.div.getBoundingClientRect();if(e>=r&&e<=r+a&&t>=s&&t<=s+o)return i}return null}disableUserSelect(e=!1){c(this,oh).classList.toggle("noUserSelect",e)}addShouldRescale(e){c(this,ka).add(e)}removeShouldRescale(e){c(this,ka).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*Xs.PDF_TO_CSS_UNITS;for(const t of c(this,ka))t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:i,anchorOffset:r,focusNode:s,focusOffset:a}=t,o=t.toString(),u=_(this,X,xf).call(this,t).closest(".textLayer"),h=this.getSelectionBoxes(u);if(h){t.empty(),c(this,Ft)===be.NONE&&(this._eventBus.dispatch("showannotationeditorui",{source:this,mode:be.HIGHLIGHT}),this.showAllEditors("highlight",!0,!0));for(const d of c(this,It).values())if(d.hasTextLayer(u)){d.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:h,anchorNode:i,anchorOffset:r,focusNode:s,focusOffset:a,text:o});break}}}addToAnnotationStorage(e){!e.isEmpty()&&c(this,mr)&&!c(this,mr).has(e.id)&&c(this,mr).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,c(this,gs)&&(w(this,gs,!1),_(this,X,Cf).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of c(this,Le))if(t.div.contains(e)){w(this,Ta,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!c(this,Ta))return;const[e,t]=c(this,Ta);w(this,Ta,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){_(this,X,xv).call(this),_(this,X,Cv).call(this)}removeEditListeners(){_(this,X,pb).call(this),_(this,X,kv).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const i of c(this,di))if(i.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const i of c(this,di))if(i.isHandlingMimeForPasting(t.type)){i.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var i;if(e.preventDefault(),(i=c(this,Pn))==null||i.commitOrRemove(),!this.hasSelection)return;const t=[];for(const r of c(this,Le)){const s=r.serialize(!0);s&&t.push(s)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const a of c(this,di))if(a.isHandlingMimeForPasting(s.type)){a.paste(s,this.currentLayer);return}let i=t.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(s){ve(`paste: "${s.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const r=this.currentLayer;try{const s=[];for(const l of i){const u=r.deserialize(l);if(!u)return;s.push(u)}const a=()=>{for(const l of s)_(this,X,Tv).call(this,l);_(this,X,Pv).call(this,s)},o=()=>{for(const l of s)l.remove()};this.addCommands({cmd:a,undo:o,mustExec:!0})}catch(s){ve(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),c(this,Ft)!==be.NONE&&!this.isEditorHandlingKeyboard&&ol._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,c(this,gs)&&(w(this,gs,!1),_(this,X,Cf).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(_(this,X,db).call(this),_(this,X,Cv).call(this),_(this,X,en).call(this,{isEditing:c(this,Ft)!==be.NONE,isEmpty:_(this,X,qc).call(this),hasSomethingToUndo:c(this,hi).hasSomethingToUndo(),hasSomethingToRedo:c(this,hi).hasSomethingToRedo(),hasSelectedEditor:!1})):(_(this,X,fb).call(this),_(this,X,kv).call(this),_(this,X,en).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!c(this,di)){w(this,di,e);for(const t of c(this,di))_(this,X,as).call(this,t.defaultPropertiesToUpdate)}}getId(){return c(this,Fp).id}get currentLayer(){return c(this,It).get(c(this,Al))}getLayer(e){return c(this,It).get(e)}get currentPageIndex(){return c(this,Al)}addLayer(e){c(this,It).set(e.pageIndex,e),c(this,ms)?e.enable():e.disable()}removeLayer(e){c(this,It).delete(e.pageIndex)}updateMode(e,t=null,i=!1){if(c(this,Ft)!==e){if(w(this,Ft,e),e===be.NONE){this.setEditingState(!1),_(this,X,vb).call(this);return}this.setEditingState(!0),_(this,X,mb).call(this),this.unselectAll();for(const r of c(this,It).values())r.updateMode(e);if(!t&&i){this.addNewEditorFromKeyboard();return}if(t){for(const r of c(this,wt).values())if(r.annotationElementId===t){this.setSelected(r),r.enterInEditMode();break}}}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==c(this,Ft)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){var i;if(c(this,di)){switch(e){case ce.CREATE:this.currentLayer.addNewEditor();return;case ce.HIGHLIGHT_DEFAULT_COLOR:(i=c(this,Xu))==null||i.updateColor(t);break;case ce.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(c(this,Ku)||w(this,Ku,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const r of c(this,Le))r.updateParams(e,t);for(const r of c(this,di))r.updateDefaultParams(e,t)}}showAllEditors(e,t,i=!1){var s;for(const a of c(this,wt).values())a.editorType===e&&a.show(t);(((s=c(this,Ku))==null?void 0:s.get(ce.HIGHLIGHT_SHOW_ALL))??!0)!==t&&_(this,X,as).call(this,[[ce.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(c(this,Gu)!==e){w(this,Gu,e);for(const t of c(this,It).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const i of c(this,wt).values())i.pageIndex===e&&t.push(i);return t}getEditor(e){return c(this,wt).get(e)}addEditor(e){c(this,wt).set(e.id,e)}removeEditor(e){var t;e.div.contains(document.activeElement)&&(c(this,Oi)&&clearTimeout(c(this,Oi)),w(this,Oi,setTimeout(()=>{this.focusMainContainer(),w(this,Oi,null)},0))),c(this,wt).delete(e.id),this.unselect(e),(!e.annotationElementId||!c(this,Ca).has(e.annotationElementId))&&((t=c(this,mr))==null||t.remove(e.id))}addDeletedAnnotationElement(e){c(this,Ca).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return c(this,Ca).has(e)}removeDeletedAnnotationElement(e){c(this,Ca).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){c(this,Pn)!==e&&(w(this,Pn,e),e&&_(this,X,as).call(this,e.propertiesToUpdate))}updateUI(e){c(this,X,yb)===e&&_(this,X,as).call(this,e.propertiesToUpdate)}toggleSelected(e){if(c(this,Le).has(e)){c(this,Le).delete(e),e.unselect(),_(this,X,en).call(this,{hasSelectedEditor:this.hasSelection});return}c(this,Le).add(e),e.select(),_(this,X,as).call(this,e.propertiesToUpdate),_(this,X,en).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const t of c(this,Le))t!==e&&t.unselect();c(this,Le).clear(),c(this,Le).add(e),e.select(),_(this,X,as).call(this,e.propertiesToUpdate),_(this,X,en).call(this,{hasSelectedEditor:!0})}isSelected(e){return c(this,Le).has(e)}get firstSelectedEditor(){return c(this,Le).values().next().value}unselect(e){e.unselect(),c(this,Le).delete(e),_(this,X,en).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return c(this,Le).size!==0}get isEnterHandled(){return c(this,Le).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){c(this,hi).undo(),_(this,X,en).call(this,{hasSomethingToUndo:c(this,hi).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:_(this,X,qc).call(this)})}redo(){c(this,hi).redo(),_(this,X,en).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:c(this,hi).hasSomethingToRedo(),isEmpty:_(this,X,qc).call(this)})}addCommands(e){c(this,hi).add(e),_(this,X,en).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:_(this,X,qc).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...c(this,Le)],t=()=>{for(const r of e)r.remove()},i=()=>{for(const r of e)_(this,X,Tv).call(this,r)};this.addCommands({cmd:t,undo:i,mustExec:!0})}commitOrRemove(){var e;(e=c(this,Pn))==null||e.commitOrRemove()}hasSomethingToControl(){return c(this,Pn)||this.hasSelection}selectAll(){for(const e of c(this,Le))e.commit();_(this,X,Pv).call(this,c(this,wt).values())}unselectAll(){if(!(c(this,Pn)&&(c(this,Pn).commitOrRemove(),c(this,Ft)!==be.NONE))&&this.hasSelection){for(const e of c(this,Le))e.unselect();c(this,Le).clear(),_(this,X,en).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;c(this,vs)[0]+=e,c(this,vs)[1]+=t;const[r,s]=c(this,vs),a=[...c(this,Le)],o=1e3;c(this,zi)&&clearTimeout(c(this,zi)),w(this,zi,setTimeout(()=>{w(this,zi,null),c(this,vs)[0]=c(this,vs)[1]=0,this.addCommands({cmd:()=>{for(const l of a)c(this,wt).has(l.id)&&l.translateInPage(r,s)},undo:()=>{for(const l of a)c(this,wt).has(l.id)&&l.translateInPage(-r,-s)},mustExec:!1})},o));for(const l of a)l.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),w(this,Ni,new Map);for(const e of c(this,Le))c(this,Ni).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!c(this,Ni))return!1;this.disableUserSelect(!1);const e=c(this,Ni);w(this,Ni,null);let t=!1;for(const[{x:r,y:s,pageIndex:a},o]of e)o.newX=r,o.newY=s,o.newPageIndex=a,t||(t=r!==o.savedX||s!==o.savedY||a!==o.savedPageIndex);if(!t)return!1;const i=(r,s,a,o)=>{if(c(this,wt).has(r.id)){const l=c(this,It).get(o);l?r._setParentAndPosition(l,s,a):(r.pageIndex=o,r.x=s,r.y=a)}};return this.addCommands({cmd:()=>{for(const[r,{newX:s,newY:a,newPageIndex:o}]of e)i(r,s,a,o)},undo:()=>{for(const[r,{savedX:s,savedY:a,savedPageIndex:o}]of e)i(r,s,a,o)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(c(this,Ni))for(const i of c(this,Ni).keys())i.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||c(this,Le).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return c(this,Pn)===e}getActive(){return c(this,Pn)}getMode(){return c(this,Ft)}get imageManager(){return xe(this,"imageManager",new Ev)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let u=0,h=t.rangeCount;u<h;u++)if(!e.contains(t.getRangeAt(u).commonAncestorContainer))return null;const{x:i,y:r,width:s,height:a}=e.getBoundingClientRect();let o;switch(e.getAttribute("data-main-rotation")){case"90":o=(u,h,d,f)=>({x:(h-r)/a,y:1-(u+d-i)/s,width:f/a,height:d/s});break;case"180":o=(u,h,d,f)=>({x:1-(u+d-i)/s,y:1-(h+f-r)/a,width:d/s,height:f/a});break;case"270":o=(u,h,d,f)=>({x:1-(h+f-r)/a,y:(u-i)/s,width:f/a,height:d/s});break;default:o=(u,h,d,f)=>({x:(u-i)/s,y:(h-r)/a,width:d/s,height:f/a});break}const l=[];for(let u=0,h=t.rangeCount;u<h;u++){const d=t.getRangeAt(u);if(!d.collapsed)for(const{x:f,y:p,width:g,height:v}of d.getClientRects())g===0||v===0||l.push(o(f,p,g,v))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:t}){(c(this,_l)||w(this,_l,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=c(this,_l))==null||t.delete(e)}renderAnnotationElement(e){var r;const t=(r=c(this,_l))==null?void 0:r.get(e.data.id);if(!t)return;const i=c(this,mr).getRawValue(t);i&&(c(this,Ft)===be.NONE&&!i.hasBeenModified||i.renderAnnotationElement(e))}};yl=new WeakMap,Pn=new WeakMap,wt=new WeakMap,It=new WeakMap,wl=new WeakMap,mr=new WeakMap,_l=new WeakMap,hi=new WeakMap,Al=new WeakMap,Ca=new WeakMap,Ni=new WeakMap,di=new WeakMap,ka=new WeakMap,Vu=new WeakMap,Wu=new WeakMap,Oi=new WeakMap,El=new WeakMap,gs=new WeakMap,ji=new WeakMap,Fp=new WeakMap,ms=new WeakMap,Gu=new WeakMap,Ta=new WeakMap,Xu=new WeakMap,Sl=new WeakMap,Ft=new WeakMap,Le=new WeakMap,vr=new WeakMap,Pa=new WeakMap,Ku=new WeakMap,qu=new WeakMap,Yu=new WeakMap,Qu=new WeakMap,Ju=new WeakMap,Zu=new WeakMap,eh=new WeakMap,th=new WeakMap,nh=new WeakMap,ih=new WeakMap,rh=new WeakMap,sh=new WeakMap,ah=new WeakMap,vs=new WeakMap,zi=new WeakMap,yr=new WeakMap,oh=new WeakMap,X=new WeakSet,xf=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},cb=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const i=_(this,X,xf).call(this,e).closest(".textLayer"),r=this.getSelectionBoxes(i);r&&(c(this,ji)||w(this,ji,new qP(this)),c(this,ji).show(i,r,this.direction==="ltr"))},ub=function(){var s,a,o;const e=document.getSelection();if(!e||e.isCollapsed){c(this,vr)&&((s=c(this,ji))==null||s.hide(),w(this,vr,null),_(this,X,en).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===c(this,vr))return;if(!_(this,X,xf).call(this,e).closest(".textLayer")){c(this,vr)&&((a=c(this,ji))==null||a.hide(),w(this,vr,null),_(this,X,en).call(this,{hasSelectedText:!1}));return}if((o=c(this,ji))==null||o.hide(),w(this,vr,t),_(this,X,en).call(this,{hasSelectedText:!0}),!(c(this,Ft)!==be.HIGHLIGHT&&c(this,Ft)!==be.NONE)&&(c(this,Ft)===be.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),w(this,gs,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=this._signal,u=h=>{h.type==="pointerup"&&h.button!==0||(window.removeEventListener("pointerup",u),window.removeEventListener("blur",u),h.type==="pointerup"&&_(this,X,Cf).call(this,"main_toolbar"))};window.addEventListener("pointerup",u,{signal:l}),window.addEventListener("blur",u,{signal:l})}},Cf=function(e=""){c(this,Ft)===be.HIGHLIGHT?this.highlightSelection(e):c(this,Vu)&&_(this,X,cb).call(this)},hb=function(){document.addEventListener("selectionchange",_(this,X,ub).bind(this),{signal:this._signal})},db=function(){const e=this._signal;window.addEventListener("focus",c(this,Yu),{signal:e}),window.addEventListener("blur",c(this,qu),{signal:e})},fb=function(){window.removeEventListener("focus",c(this,Yu)),window.removeEventListener("blur",c(this,qu))},xv=function(){const e=this._signal;window.addEventListener("keydown",c(this,eh),{signal:e}),window.addEventListener("keyup",c(this,th),{signal:e})},pb=function(){window.removeEventListener("keydown",c(this,eh)),window.removeEventListener("keyup",c(this,th))},Cv=function(){const e=this._signal;document.addEventListener("copy",c(this,Qu),{signal:e}),document.addEventListener("cut",c(this,Ju),{signal:e}),document.addEventListener("paste",c(this,Zu),{signal:e})},kv=function(){document.removeEventListener("copy",c(this,Qu)),document.removeEventListener("cut",c(this,Ju)),document.removeEventListener("paste",c(this,Zu))},gb=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},en=function(e){Object.entries(e).some(([i,r])=>c(this,ah)[i]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(c(this,ah),e)}),c(this,Ft)===be.HIGHLIGHT&&e.hasSelectedEditor===!1&&_(this,X,as).call(this,[[ce.HIGHLIGHT_FREE,!0]]))},as=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},mb=function(){if(!c(this,ms)){w(this,ms,!0);for(const e of c(this,It).values())e.enable();for(const e of c(this,wt).values())e.enable()}},vb=function(){if(this.unselectAll(),c(this,ms)){w(this,ms,!1);for(const e of c(this,It).values())e.disable();for(const e of c(this,wt).values())e.disable()}},Tv=function(e){const t=c(this,It).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},yb=function(){let e=null;for(e of c(this,Le));return e},qc=function(){if(c(this,wt).size===0)return!0;if(c(this,wt).size===1)for(const e of c(this,wt).values())return e.isEmpty();return!1},Pv=function(e){for(const t of c(this,Le))t.unselect();c(this,Le).clear();for(const t of e)t.isEmpty()||(c(this,Le).add(t),t.select());_(this,X,en).call(this,{hasSelectedEditor:this.hasSelection})},de(ol,"TRANSLATE_SMALL",1),de(ol,"TRANSLATE_BIG",10);let xo=ol;var wr,_r,fi,Ar,Rn,bl,pi,lh,Rv;const ur=class ur{constructor(e){E(this,lh);E(this,wr,"");E(this,_r,!1);E(this,fi,null);E(this,Ar,null);E(this,Rn,null);E(this,bl,!1);E(this,pi,null);w(this,pi,e)}static initialize(e){ur._l10nPromise||(ur._l10nPromise=e)}async render(){const e=w(this,fi,document.createElement("button"));e.className="altText";const t=await ur._l10nPromise.get("pdfjs-editor-alt-text-button-label");e.textContent=t,e.setAttribute("aria-label",t),e.tabIndex="0";const i=c(this,pi)._uiManager._signal;e.addEventListener("contextmenu",Sn,{signal:i}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:i});const r=s=>{s.preventDefault(),c(this,pi)._uiManager.editAltText(c(this,pi))};return e.addEventListener("click",r,{capture:!0,signal:i}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(w(this,bl,!0),r(s))},{signal:i}),await _(this,lh,Rv).call(this),e}finish(){c(this,fi)&&(c(this,fi).focus({focusVisible:c(this,bl)}),w(this,bl,!1))}isEmpty(){return!c(this,wr)&&!c(this,_r)}get data(){return{altText:c(this,wr),decorative:c(this,_r)}}set data({altText:e,decorative:t}){c(this,wr)===e&&c(this,_r)===t||(w(this,wr,e),w(this,_r,t),_(this,lh,Rv).call(this))}toggle(e=!1){c(this,fi)&&(!e&&c(this,Rn)&&(clearTimeout(c(this,Rn)),w(this,Rn,null)),c(this,fi).disabled=!e)}destroy(){var e;(e=c(this,fi))==null||e.remove(),w(this,fi,null),w(this,Ar,null)}};wr=new WeakMap,_r=new WeakMap,fi=new WeakMap,Ar=new WeakMap,Rn=new WeakMap,bl=new WeakMap,pi=new WeakMap,lh=new WeakSet,Rv=async function(){var r;const e=c(this,fi);if(!e)return;if(!c(this,wr)&&!c(this,_r)){e.classList.remove("done"),(r=c(this,Ar))==null||r.remove();return}e.classList.add("done"),ur._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(s=>{e.setAttribute("aria-label",s)});let t=c(this,Ar);if(!t){w(this,Ar,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip");const s=t.id=`alt-text-tooltip-${c(this,pi).id}`;e.setAttribute("aria-describedby",s);const a=100,o=c(this,pi)._uiManager._signal;o.addEventListener("abort",()=>{clearTimeout(c(this,Rn)),w(this,Rn,null)},{once:!0}),e.addEventListener("mouseenter",()=>{w(this,Rn,setTimeout(()=>{w(this,Rn,null),c(this,Ar).classList.add("show"),c(this,pi)._reportTelemetry({action:"alt_text_tooltip"})},a))},{signal:o}),e.addEventListener("mouseleave",()=>{var l;c(this,Rn)&&(clearTimeout(c(this,Rn)),w(this,Rn,null)),(l=c(this,Ar))==null||l.classList.remove("show")},{signal:o})}t.innerText=c(this,_r)?await ur._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):c(this,wr),t.parentNode||e.append(t);const i=c(this,pi).getImageForAltText();i==null||i.setAttribute("aria-describedby",t.id)},de(ur,"_l10nPromise",null);let Ep=ur;var Ra,gi,Kt,xl,La,Nt,Ma,Cl,kl,qt,ch,Da,ys,uh,Ia,Er,Hi,Tl,Pl,qn,hh,Np,ye,Lv,dh,Mv,Dv,wb,_b,Iv,Fv,Nv,Ab,Eb,Sb,bb,Ov,Yc;const Be=class Be{constructor(e){E(this,ye);E(this,Ra,null);E(this,gi,null);E(this,Kt,null);E(this,xl,!1);E(this,La,!1);E(this,Nt,null);E(this,Ma,null);E(this,Cl,this.focusin.bind(this));E(this,kl,this.focusout.bind(this));E(this,qt,null);E(this,ch,"");E(this,Da,!1);E(this,ys,null);E(this,uh,!1);E(this,Ia,!1);E(this,Er,!1);E(this,Hi,null);E(this,Tl,0);E(this,Pl,0);E(this,qn,null);de(this,"_initialOptions",Object.create(null));de(this,"_isVisible",!0);de(this,"_uiManager",null);de(this,"_focusEventsAllowed",!0);de(this,"_l10nPromise",null);E(this,hh,!1);E(this,Np,Be._zIndex++);this.constructor===Be&&je("Cannot initialize AnnotationEditor."),this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:i,pageHeight:r,pageX:s,pageY:a}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,r],this.pageTranslation=[s,a];const[o,l]=this.parentDimensions;this.x=e.x/o,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=Be.prototype._resizeWithKeyboard,t=xo.TRANSLATE_SMALL,i=xo.TRANSLATE_BIG;return xe(this,"_resizerKeyboardManager",new xd([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,i]}],[["Escape","mac+Escape"],Be.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return xe(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new ZP({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t,i){if(Be._l10nPromise||(Be._l10nPromise=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map(s=>[s,e.get(s.replaceAll(/([A-Z])/g,a=>`-${a.toLowerCase()}`))]))),i!=null&&i.strings)for(const s of i.strings)Be._l10nPromise.set(s,e.get(s));if(Be._borderLineWidth!==-1)return;const r=getComputedStyle(document.documentElement);Be._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){je("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return c(this,hh)}set _isDraggable(e){var t;w(this,hh,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=c(this,Np)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):_(this,ye,Yc).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(c(this,Da)?w(this,Da,!1):this.parent.setSelected(this))}focusout(e){var i;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(i=this.parent)!=null&&i.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,i,r){const[s,a]=this.parentDimensions;[i,r]=this.screenToPageTranslation(i,r),this.x=(e+i)/s,this.y=(t+r)/a,this.fixAndSetPosition()}translate(e,t){_(this,ye,Lv).call(this,this.parentDimensions,e,t)}translateInPage(e,t){c(this,ys)||w(this,ys,[this.x,this.y]),_(this,ye,Lv).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){c(this,ys)||w(this,ys,[this.x,this.y]);const[i,r]=this.parentDimensions;if(this.x+=e/i,this.y+=t/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:u,y:h}=this.div.getBoundingClientRect();this.parent.findNewParent(this,u,h)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:s,y:a}=this;const[o,l]=this.getBaseTranslation();s+=o,a+=l,this.div.style.left=`${(100*s).toFixed(2)}%`,this.div.style.top=`${(100*a).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!c(this,ys)&&(c(this,ys)[0]!==this.x||c(this,ys)[1]!==this.y)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:i}=Be,r=i/e,s=i/t;switch(this.rotation){case 90:return[-r,s];case 180:return[r,s];case 270:return[r,-s];default:return[-r,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[t,i]=this.pageDimensions;let{x:r,y:s,width:a,height:o}=this;if(a*=t,o*=i,r*=t,s*=i,this._mustFixPosition)switch(e){case 0:r=Math.max(0,Math.min(t-a,r)),s=Math.max(0,Math.min(i-o,s));break;case 90:r=Math.max(0,Math.min(t-o,r)),s=Math.min(i,Math.max(a,s));break;case 180:r=Math.min(t,Math.max(a,r)),s=Math.min(i,Math.max(o,s));break;case 270:r=Math.min(t,Math.max(o,r)),s=Math.max(0,Math.min(i-a,s));break}this.x=r/=t,this.y=s/=i;const[l,u]=this.getBaseTranslation();r+=l,s+=u;const{style:h}=this.div;h.left=`${(100*r).toFixed(2)}%`,h.top=`${(100*s).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var i;return _(i=Be,dh,Mv).call(i,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var i;return _(i=Be,dh,Mv).call(i,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,i]}=this,r=t*e,s=i*e;return yn.isCSSRoundSupported?[Math.round(r),Math.round(s)]:[r,s]}setDims(e,t){const[i,r]=this.parentDimensions;this.div.style.width=`${(100*e/i).toFixed(2)}%`,c(this,La)||(this.div.style.height=`${(100*t/r).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:i}=e,r=i.endsWith("%"),s=!c(this,La)&&t.endsWith("%");if(r&&s)return;const[a,o]=this.parentDimensions;r||(e.width=`${(100*parseFloat(i)/a).toFixed(2)}%`),!c(this,La)&&!s&&(e.height=`${(100*parseFloat(t)/o).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=c(this,Kt))==null||e.finish()}async addEditToolbar(){return c(this,qt)||c(this,Ia)?c(this,qt):(w(this,qt,new _v(this)),this.div.append(c(this,qt).render()),c(this,Kt)&&c(this,qt).addAltTextButton(await c(this,Kt).render()),c(this,qt))}removeEditToolbar(){var e;c(this,qt)&&(c(this,qt).remove(),w(this,qt,null),(e=c(this,Kt))==null||e.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){c(this,Kt)||(Ep.initialize(Be._l10nPromise),w(this,Kt,new Ep(this)),c(this,Ra)&&(c(this,Kt).data=c(this,Ra),w(this,Ra,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=c(this,Kt))==null?void 0:e.data}set altTextData(e){c(this,Kt)&&(c(this,Kt).data=e)}hasAltText(){var e;return!((e=c(this,Kt))!=null&&e.isEmpty())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=c(this,xl)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground();const e=this._uiManager._signal;this.div.addEventListener("focusin",c(this,Cl),{signal:e}),this.div.addEventListener("focusout",c(this,kl),{signal:e});const[t,i]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*i/t).toFixed(2)}%`,this.div.style.maxHeight=`${(100*t/i).toFixed(2)}%`);const[r,s]=this.getInitialTranslation();return this.translate(r,s),Ap(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:t}=yn.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(w(this,Da,!0),this._isDraggable){_(this,ye,Ab).call(this,e);return}_(this,ye,Nv).call(this,e)}moveInDOM(){c(this,Hi)&&clearTimeout(c(this,Hi)),w(this,Hi,setTimeout(()=>{var e;w(this,Hi,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,i){e.changeParent(this),this.x=t,this.y=i,this.fixAndSetPosition()}getRect(e,t,i=this.rotation){const r=this.parentScale,[s,a]=this.pageDimensions,[o,l]=this.pageTranslation,u=e/r,h=t/r,d=this.x*s,f=this.y*a,p=this.width*s,g=this.height*a;switch(i){case 0:return[d+u+o,a-f-h-g+l,d+u+p+o,a-f-h+l];case 90:return[d+h+o,a-f+u+l,d+h+g+o,a-f+u+p+l];case 180:return[d-u-p+o,a-f+h+l,d-u+o,a-f+h+g+l];case 270:return[d-h-g+o,a-f-u-p+l,d-h+o,a-f-u+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[i,r,s,a]=e,o=s-i,l=a-r;switch(this.rotation){case 0:return[i,t-a,o,l];case 90:return[i,t-r,l,o];case 180:return[s,t-r,o,l];case 270:return[s,t-a,l,o];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){w(this,Ia,!0)}disableEditMode(){w(this,Ia,!1)}isInEditMode(){return c(this,Ia)}shouldGetKeyboardEvents(){return c(this,Er)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var t,i;const e=this._uiManager._signal;(t=this.div)==null||t.addEventListener("focusin",c(this,Cl),{signal:e}),(i=this.div)==null||i.addEventListener("focusout",c(this,kl),{signal:e})}rotate(e){}serialize(e=!1,t=null){je("An editor must be serializable")}static deserialize(e,t,i){const r=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:i});r.rotation=e.rotation,w(r,Ra,e.accessibilityData);const[s,a]=r.pageDimensions,[o,l,u,h]=r.getRectInCurrentCoords(e.rect,a);return r.x=o/s,r.y=l/a,r.width=u/s,r.height=h/a,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.div.removeEventListener("focusin",c(this,Cl)),this.div.removeEventListener("focusout",c(this,kl)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),c(this,Hi)&&(clearTimeout(c(this,Hi)),w(this,Hi,null)),_(this,ye,Yc).call(this),this.removeEditToolbar(),c(this,qn)){for(const e of c(this,qn).values())clearTimeout(e);w(this,qn,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(_(this,ye,wb).call(this),c(this,Nt).classList.remove("hidden"),Ap(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),w(this,Ma,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=c(this,Nt).children;if(!c(this,gi)){w(this,gi,Array.from(t));const a=_(this,ye,Eb).bind(this),o=_(this,ye,Sb).bind(this),l=this._uiManager._signal;for(const u of c(this,gi)){const h=u.getAttribute("data-resizer-name");u.setAttribute("role","spinbutton"),u.addEventListener("keydown",a,{signal:l}),u.addEventListener("blur",o,{signal:l}),u.addEventListener("focus",_(this,ye,bb).bind(this,h),{signal:l}),Be._l10nPromise.get(`pdfjs-editor-resizer-label-${h}`).then(d=>u.setAttribute("aria-label",d))}}const i=c(this,gi)[0];let r=0;for(const a of t){if(a===i)break;r++}const s=(360-this.rotation+this.parentRotation)%360/90*(c(this,gi).length/4);if(s!==r){if(s<r)for(let o=0;o<r-s;o++)c(this,Nt).append(c(this,Nt).firstChild);else if(s>r)for(let o=0;o<s-r;o++)c(this,Nt).firstChild.before(c(this,Nt).lastChild);let a=0;for(const o of t){const u=c(this,gi)[a++].getAttribute("data-resizer-name");Be._l10nPromise.get(`pdfjs-editor-resizer-label-${u}`).then(h=>o.setAttribute("aria-label",h))}}_(this,ye,Ov).call(this,0),w(this,Er,!0),c(this,Nt).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){c(this,Er)&&_(this,ye,Fv).call(this,c(this,ch),{movementX:e,movementY:t})}_stopResizingWithKeyboard(){_(this,ye,Yc).call(this),this.div.focus()}select(){var e,t;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!c(this,qt)){this.addEditToolbar().then(()=>{var i,r;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((r=c(this,qt))==null||r.show())});return}(t=c(this,qt))==null||t.show()}unselect(){var e,t,i,r;(e=c(this,Nt))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(i=this.div)!=null&&i.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(r=c(this,qt))==null||r.hide()}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return c(this,uh)}set isEditing(e){w(this,uh,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){w(this,La,!0);const i=e/t,{style:r}=this.div;r.aspectRatio=i,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){c(this,qn)||w(this,qn,new Map);const{action:i}=e;let r=c(this,qn).get(i);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(e),c(this,qn).delete(i),c(this,qn).size===0&&w(this,qn,null)},Be._telemetryTimeout),c(this,qn).set(i,r);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),w(this,xl,!1)}disable(){this.div&&(this.div.tabIndex=-1),w(this,xl,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const i=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),i.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;t.nodeName==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};Ra=new WeakMap,gi=new WeakMap,Kt=new WeakMap,xl=new WeakMap,La=new WeakMap,Nt=new WeakMap,Ma=new WeakMap,Cl=new WeakMap,kl=new WeakMap,qt=new WeakMap,ch=new WeakMap,Da=new WeakMap,ys=new WeakMap,uh=new WeakMap,Ia=new WeakMap,Er=new WeakMap,Hi=new WeakMap,Tl=new WeakMap,Pl=new WeakMap,qn=new WeakMap,hh=new WeakMap,Np=new WeakMap,ye=new WeakSet,Lv=function([e,t],i,r){[i,r]=this.screenToPageTranslation(i,r),this.x+=i/e,this.y+=r/t,this.fixAndSetPosition()},dh=new WeakSet,Mv=function(e,t,i){switch(i){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},Dv=function(e){switch(e){case 90:{const[t,i]=this.pageDimensions;return[0,-t/i,i/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,i]=this.pageDimensions;return[0,t/i,-i/t,0]}default:return[1,0,0,1]}},wb=function(){if(c(this,Nt))return;w(this,Nt,document.createElement("div")),c(this,Nt).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const i of e){const r=document.createElement("div");c(this,Nt).append(r),r.classList.add("resizer",i),r.setAttribute("data-resizer-name",i),r.addEventListener("pointerdown",_(this,ye,_b).bind(this,i),{signal:t}),r.addEventListener("contextmenu",Sn,{signal:t}),r.tabIndex=-1}this.div.prepend(c(this,Nt))},_b=function(e,t){var v;t.preventDefault();const{isMac:i}=yn.platform;if(t.button!==0||t.ctrlKey&&i)return;(v=c(this,Kt))==null||v.toggle(!1);const r=_(this,ye,Fv).bind(this,e),s=this._isDraggable;this._isDraggable=!1;const a=this._uiManager._signal,o={passive:!0,capture:!0,signal:a};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",r,o),window.addEventListener("contextmenu",Sn,{signal:a});const l=this.x,u=this.y,h=this.width,d=this.height,f=this.parent.div.style.cursor,p=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const g=()=>{var S;this.parent.togglePointerEvents(!0),(S=c(this,Kt))==null||S.toggle(!0),this._isDraggable=s,window.removeEventListener("pointerup",g),window.removeEventListener("blur",g),window.removeEventListener("pointermove",r,o),window.removeEventListener("contextmenu",Sn),this.parent.div.style.cursor=f,this.div.style.cursor=p,_(this,ye,Iv).call(this,l,u,h,d)};window.addEventListener("pointerup",g,{signal:a}),window.addEventListener("blur",g,{signal:a})},Iv=function(e,t,i,r){const s=this.x,a=this.y,o=this.width,l=this.height;s===e&&a===t&&o===i&&l===r||this.addCommands({cmd:()=>{this.width=o,this.height=l,this.x=s,this.y=a;const[u,h]=this.parentDimensions;this.setDims(u*o,h*l),this.fixAndSetPosition()},undo:()=>{this.width=i,this.height=r,this.x=e,this.y=t;const[u,h]=this.parentDimensions;this.setDims(u*i,h*r),this.fixAndSetPosition()},mustExec:!0})},Fv=function(e,t){const[i,r]=this.parentDimensions,s=this.x,a=this.y,o=this.width,l=this.height,u=Be.MIN_SIZE/i,h=Be.MIN_SIZE/r,d=D=>Math.round(D*1e4)/1e4,f=_(this,ye,Dv).call(this,this.rotation),p=(D,P)=>[f[0]*D+f[2]*P,f[1]*D+f[3]*P],g=_(this,ye,Dv).call(this,360-this.rotation),v=(D,P)=>[g[0]*D+g[2]*P,g[1]*D+g[3]*P];let S,m,y=!1,A=!1;switch(e){case"topLeft":y=!0,S=(D,P)=>[0,0],m=(D,P)=>[D,P];break;case"topMiddle":S=(D,P)=>[D/2,0],m=(D,P)=>[D/2,P];break;case"topRight":y=!0,S=(D,P)=>[D,0],m=(D,P)=>[0,P];break;case"middleRight":A=!0,S=(D,P)=>[D,P/2],m=(D,P)=>[0,P/2];break;case"bottomRight":y=!0,S=(D,P)=>[D,P],m=(D,P)=>[0,0];break;case"bottomMiddle":S=(D,P)=>[D/2,P],m=(D,P)=>[D/2,0];break;case"bottomLeft":y=!0,S=(D,P)=>[0,P],m=(D,P)=>[D,0];break;case"middleLeft":A=!0,S=(D,P)=>[0,P/2],m=(D,P)=>[D,P/2];break}const x=S(o,l),T=m(o,l);let L=p(...T);const F=d(s+L[0]),b=d(a+L[1]);let O=1,B=1,[U,ee]=this.screenToPageTranslation(t.movementX,t.movementY);if([U,ee]=v(U/i,ee/r),y){const D=Math.hypot(o,l);O=B=Math.max(Math.min(Math.hypot(T[0]-x[0]-U,T[1]-x[1]-ee)/D,1/o,1/l),u/o,h/l)}else A?O=Math.max(u,Math.min(1,Math.abs(T[0]-x[0]-U)))/o:B=Math.max(h,Math.min(1,Math.abs(T[1]-x[1]-ee)))/l;const Z=d(o*O),I=d(l*B);L=p(...m(Z,I));const M=F-L[0],N=b-L[1];this.width=Z,this.height=I,this.x=M,this.y=N,this.setDims(i*Z,r*I),this.fixAndSetPosition()},Nv=function(e){const{isMac:t}=yn.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},Ab=function(e){const t=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let i,r;const s=this._uiManager._signal;t&&(this.div.classList.add("moving"),i={passive:!0,capture:!0,signal:s},w(this,Tl,e.clientX),w(this,Pl,e.clientY),r=o=>{const{clientX:l,clientY:u}=o,[h,d]=this.screenToPageTranslation(l-c(this,Tl),u-c(this,Pl));w(this,Tl,l),w(this,Pl,u),this._uiManager.dragSelectedEditors(h,d)},window.addEventListener("pointermove",r,i));const a=()=>{window.removeEventListener("pointerup",a),window.removeEventListener("blur",a),t&&(this.div.classList.remove("moving"),window.removeEventListener("pointermove",r,i)),w(this,Da,!1),this._uiManager.endDragSession()||_(this,ye,Nv).call(this,e)};window.addEventListener("pointerup",a,{signal:s}),window.addEventListener("blur",a,{signal:s})},Eb=function(e){Be._resizerKeyboardManager.exec(this,e)},Sb=function(e){var t;c(this,Er)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==c(this,Nt)&&_(this,ye,Yc).call(this)},bb=function(e){w(this,ch,c(this,Er)?e:"")},Ov=function(e){if(c(this,gi))for(const t of c(this,gi))t.tabIndex=e},Yc=function(){if(w(this,Er,!1),_(this,ye,Ov).call(this,-1),c(this,Ma)){const{savedX:e,savedY:t,savedWidth:i,savedHeight:r}=c(this,Ma);_(this,ye,Iv).call(this,e,t,i,r),w(this,Ma,null)}},E(Be,dh),de(Be,"_borderLineWidth",-1),de(Be,"_colorManager",new bv),de(Be,"_zIndex",1),de(Be,"_telemetryTimeout",1e3);let Me=Be;class ZP extends Me{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}const z_=3285377520,Xn=4294901760,Di=65535;class xb{constructor(e){this.h1=e?e&4294967295:z_,this.h2=e?e&4294967295:z_}update(e){let t,i;if(typeof e=="string"){t=new Uint8Array(e.length*2),i=0;for(let v=0,S=e.length;v<S;v++){const m=e.charCodeAt(v);m<=255?t[i++]=m:(t[i++]=m>>>8,t[i++]=m&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),i=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=i>>2,s=i-r*4,a=new Uint32Array(t.buffer,0,r);let o=0,l=0,u=this.h1,h=this.h2;const d=3432918353,f=461845907,p=d&Di,g=f&Di;for(let v=0;v<r;v++)v&1?(o=a[v],o=o*d&Xn|o*p&Di,o=o<<15|o>>>17,o=o*f&Xn|o*g&Di,u^=o,u=u<<13|u>>>19,u=u*5+3864292196):(l=a[v],l=l*d&Xn|l*p&Di,l=l<<15|l>>>17,l=l*f&Xn|l*g&Di,h^=l,h=h<<13|h>>>19,h=h*5+3864292196);switch(o=0,s){case 3:o^=t[r*4+2]<<16;case 2:o^=t[r*4+1]<<8;case 1:o^=t[r*4],o=o*d&Xn|o*p&Di,o=o<<15|o>>>17,o=o*f&Xn|o*g&Di,r&1?u^=o:h^=o}this.h1=u,this.h2=h}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Xn|e*36045&Di,t=t*4283543511&Xn|((t<<16|e>>>16)*2950163797&Xn)>>>16,e^=t>>>1,e=e*444984403&Xn|e*60499&Di,t=t*3301882366&Xn|((t<<16|e>>>16)*3120437893&Xn)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const jv=Object.freeze({map:null,hash:"",transfer:void 0});var Fa,Ot,Op,Cb;class j0{constructor(){E(this,Op);E(this,Fa,!1);E(this,Ot,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const i=c(this,Ot).get(e);return i===void 0?t:Object.assign(t,i)}getRawValue(e){return c(this,Ot).get(e)}remove(e){if(c(this,Ot).delete(e),c(this,Ot).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of c(this,Ot).values())if(t instanceof Me)return;this.onAnnotationEditor(null)}}setValue(e,t){const i=c(this,Ot).get(e);let r=!1;if(i!==void 0)for(const[s,a]of Object.entries(t))i[s]!==a&&(r=!0,i[s]=a);else r=!0,c(this,Ot).set(e,t);r&&_(this,Op,Cb).call(this),t instanceof Me&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return c(this,Ot).has(e)}getAll(){return c(this,Ot).size>0?L0(c(this,Ot)):null}setAll(e){for(const[t,i]of Object.entries(e))this.setValue(t,i)}get size(){return c(this,Ot).size}resetModified(){c(this,Fa)&&(w(this,Fa,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new kb(this)}get serializable(){if(c(this,Ot).size===0)return jv;const e=new Map,t=new xb,i=[],r=Object.create(null);let s=!1;for(const[a,o]of c(this,Ot)){const l=o instanceof Me?o.serialize(!1,r):o;l&&(e.set(a,l),t.update(`${a}:${JSON.stringify(l)}`),s||(s=!!l.bitmap))}if(s)for(const a of e.values())a.bitmap&&i.push(a.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:i}:jv}get editorStats(){let e=null;const t=new Map;for(const i of c(this,Ot).values()){if(!(i instanceof Me))continue;const r=i.telemetryFinalData;if(!r)continue;const{type:s}=r;t.has(s)||t.set(s,Object.getPrototypeOf(i).constructor),e||(e=Object.create(null));const a=e[s]||(e[s]=new Map);for(const[o,l]of Object.entries(r)){if(o==="type")continue;let u=a.get(o);u||(u=new Map,a.set(o,u));const h=u.get(l)??0;u.set(l,h+1)}}for(const[i,r]of t)e[i]=r.computeTelemetryFinalData(e[i]);return e}}Fa=new WeakMap,Ot=new WeakMap,Op=new WeakSet,Cb=function(){c(this,Fa)||(w(this,Fa,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var fh;class kb extends j0{constructor(t){super();E(this,fh);const{map:i,hash:r,transfer:s}=t.serializable,a=structuredClone(i,s?{transfer:s}:null);w(this,fh,{map:a,hash:r,transfer:s})}get print(){je("Should not call PrintAnnotationStorage.print")}get serializable(){return c(this,fh)}}fh=new WeakMap;var Rl;class eR{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){E(this,Rl,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),c(this,Rl).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:t}){if(!(!e||c(this,Rl).has(e.loadedName))){if(xt(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:r,style:s}=e,a=new FontFace(i,r,s);this.addNativeFontFace(a);try{await a.load(),c(this,Rl).add(i),t==null||t(e)}catch{ve(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(a)}return}je("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const i=e.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(r){throw ve(`Failed to load font '${i.family}': '${r}'.`),e.disableFontFace=!0,r}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const r=this._queueLoadingCallback(i);this._prepareFontLoadEvent(e,r)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return xe(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(Jt||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),xe(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function t(){for(xt(!r.done,"completeRequest() cannot be called twice."),r.done=!0;i.length>0&&i[0].done;){const s=i.shift();setTimeout(s.callback,0)}}const{loadingRequests:i}=this,r={done:!1,complete:t,callback:e};return i.push(r),r}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return xe(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function i(x,T){return x.charCodeAt(T)<<24|x.charCodeAt(T+1)<<16|x.charCodeAt(T+2)<<8|x.charCodeAt(T+3)&255}function r(x,T,L,F){const b=x.substring(0,T),O=x.substring(T+L);return b+F+O}let s,a;const o=this._document.createElement("canvas");o.width=1,o.height=1;const l=o.getContext("2d");let u=0;function h(x,T){if(++u>30){ve("Load test font never loaded."),T();return}if(l.font="30px "+x,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){T();return}setTimeout(h.bind(null,x,T))}const d=`lt${Date.now()}${this.loadTestFontId++}`;let f=this._loadTestFont;f=r(f,976,d.length,d);const g=16,v=1482184792;let S=i(f,g);for(s=0,a=d.length-3;s<a;s+=4)S=S-v+i(d,s)|0;s<d.length&&(S=S-v+i(d+"XXX",s)|0),f=r(f,g,4,OP(S));const m=`url(data:font/opentype;base64,${btoa(f)});`,y=`@font-face {font-family:"${d}";src:${m}}`;this.insertRule(y);const A=this._document.createElement("div");A.style.visibility="hidden",A.style.width=A.style.height="10px",A.style.position="absolute",A.style.top=A.style.left="0px";for(const x of[e.loadedName,d]){const T=this._document.createElement("span");T.textContent="Hi",T.style.fontFamily=x,A.append(T)}this._document.body.append(A),h(d,()=>{A.remove(),t.complete()})}}Rl=new WeakMap;class tR{constructor(e,{disableFontFace:t=!1,inspectFont:i=null}){this.compiledGlyphs=Object.create(null);for(const r in e)this[r]=e[r];this.disableFontFace=t===!0,this._inspectFont=i}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const i={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(i.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,i)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var r;if(!this.data||this.disableFontFace)return null;const e=KS(this.data),t=`url(data:${this.mimetype};base64,${btoa(e)});`;let i;if(!this.cssFontInfo)i=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),i=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${t}}`}return(r=this._inspectFont)==null||r.call(this,this,t),i}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];let i;try{i=e.get(this.loadedName+"_path_"+t)}catch(s){ve(`getPathGenerator - ignoring character: "${s}".`)}if(!Array.isArray(i)||i.length===0)return this.compiledGlyphs[t]=function(s,a){};const r=[];for(let s=0,a=i.length;s<a;)switch(i[s++]){case ar.BEZIER_CURVE_TO:{const[o,l,u,h,d,f]=i.slice(s,s+6);r.push(p=>p.bezierCurveTo(o,l,u,h,d,f)),s+=6}break;case ar.MOVE_TO:{const[o,l]=i.slice(s,s+2);r.push(u=>u.moveTo(o,l)),s+=2}break;case ar.LINE_TO:{const[o,l]=i.slice(s,s+2);r.push(u=>u.lineTo(o,l)),s+=2}break;case ar.QUADRATIC_CURVE_TO:{const[o,l,u,h]=i.slice(s,s+4);r.push(d=>d.quadraticCurveTo(o,l,u,h)),s+=4}break;case ar.RESTORE:r.push(o=>o.restore());break;case ar.SAVE:r.push(o=>o.save());break;case ar.SCALE:xt(r.length===2,"Scale command is only valid at the third position.");break;case ar.TRANSFORM:{const[o,l,u,h,d,f]=i.slice(s,s+6);r.push(p=>p.transform(o,l,u,h,d,f)),s+=6}break;case ar.TRANSLATE:{const[o,l]=i.slice(s,s+2);r.push(u=>u.translate(o,l)),s+=2}break}return this.compiledGlyphs[t]=function(a,o){r[0](a),r[1](a),a.scale(o,-o);for(let l=2,u=r.length;l<u;l++)r[l](a)}}}if(Jt){var zv=Promise.withResolvers(),mu=null;(async()=>{const e=await tf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),t=await tf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),i=await tf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=await tf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let s,a;return new Map(Object.entries({fs:e,http:t,https:i,url:r,canvas:s,path2d:a}))})().then(e=>{mu=e,zv.resolve()},e=>{ve(`loadPackages: ${e}`),mu=new Map,zv.resolve()})}class nr{static get promise(){return zv.promise}static get(e){return mu==null?void 0:mu.get(e)}}const Tb=function(n){return nr.get("fs").promises.readFile(n).then(t=>new Uint8Array(t))};class nR extends wg{}class iR extends _p{_createCanvas(e,t){return nr.get("canvas").createCanvas(e,t)}}class rR extends _g{_fetchData(e,t){return Tb(e).then(i=>({cMapData:i,compressionType:t}))}}class sR extends Ag{_fetchData(e){return Tb(e)}}const an={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Hv(n,e){if(!e)return;const t=e[2]-e[0],i=e[3]-e[1],r=new Path2D;r.rect(e[0],e[1],t,i),n.clip(r)}class Cd{constructor(){this.constructor===Cd&&je("Cannot initialize BaseShadingPattern.")}getPattern(){je("Abstract method `getPattern` called.")}}class aR extends Cd{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const i of this._colorStops)t.addColorStop(i[0],i[1]);return t}getPattern(e,t,i,r){let s;if(r===an.STROKE||r===an.FILL){const a=t.current.getClippedPathBoundingBox(r,tt(e))||[0,0,0,0],o=Math.ceil(a[2]-a[0])||1,l=Math.ceil(a[3]-a[1])||1,u=t.cachedCanvases.getCanvas("pattern",o,l,!0),h=u.context;h.clearRect(0,0,h.canvas.width,h.canvas.height),h.beginPath(),h.rect(0,0,h.canvas.width,h.canvas.height),h.translate(-a[0],-a[1]),i=ne.transform(i,[1,0,0,1,a[0],a[1]]),h.transform(...t.baseTransform),this.matrix&&h.transform(...this.matrix),Hv(h,this._bbox),h.fillStyle=this._createGradient(h),h.fill(),s=e.createPattern(u.canvas,"no-repeat");const d=new DOMMatrix(i);s.setTransform(d)}else Hv(e,this._bbox),s=this._createGradient(e);return s}}function gm(n,e,t,i,r,s,a,o){const l=e.coords,u=e.colors,h=n.data,d=n.width*4;let f;l[t+1]>l[i+1]&&(f=t,t=i,i=f,f=s,s=a,a=f),l[i+1]>l[r+1]&&(f=i,i=r,r=f,f=a,a=o,o=f),l[t+1]>l[i+1]&&(f=t,t=i,i=f,f=s,s=a,a=f);const p=(l[t]+e.offsetX)*e.scaleX,g=(l[t+1]+e.offsetY)*e.scaleY,v=(l[i]+e.offsetX)*e.scaleX,S=(l[i+1]+e.offsetY)*e.scaleY,m=(l[r]+e.offsetX)*e.scaleX,y=(l[r+1]+e.offsetY)*e.scaleY;if(g>=y)return;const A=u[s],x=u[s+1],T=u[s+2],L=u[a],F=u[a+1],b=u[a+2],O=u[o],B=u[o+1],U=u[o+2],ee=Math.round(g),Z=Math.round(y);let I,M,N,D,P,H,W,ie;for(let Y=ee;Y<=Z;Y++){if(Y<S){const he=Y<g?0:(g-Y)/(g-S);I=p-(p-v)*he,M=A-(A-L)*he,N=x-(x-F)*he,D=T-(T-b)*he}else{let he;Y>y?he=1:S===y?he=0:he=(S-Y)/(S-y),I=v-(v-m)*he,M=L-(L-O)*he,N=F-(F-B)*he,D=b-(b-U)*he}let re;Y<g?re=0:Y>y?re=1:re=(g-Y)/(g-y),P=p-(p-m)*re,H=A-(A-O)*re,W=x-(x-B)*re,ie=T-(T-U)*re;const ue=Math.round(Math.min(I,P)),Ve=Math.round(Math.max(I,P));let Ae=d*Y+ue*4;for(let he=ue;he<=Ve;he++)re=(I-he)/(I-P),re<0?re=0:re>1&&(re=1),h[Ae++]=M-(M-H)*re|0,h[Ae++]=N-(N-W)*re|0,h[Ae++]=D-(D-ie)*re|0,h[Ae++]=255}}function oR(n,e,t){const i=e.coords,r=e.colors;let s,a;switch(e.type){case"lattice":const o=e.verticesPerRow,l=Math.floor(i.length/o)-1,u=o-1;for(s=0;s<l;s++){let h=s*o;for(let d=0;d<u;d++,h++)gm(n,t,i[h],i[h+1],i[h+o],r[h],r[h+1],r[h+o]),gm(n,t,i[h+o+1],i[h+1],i[h+o],r[h+o+1],r[h+1],r[h+o])}break;case"triangles":for(s=0,a=i.length;s<a;s+=3)gm(n,t,i[s],i[s+1],i[s+2],r[s],r[s+1],r[s+2]);break;default:throw new Error("illegal figure")}}class lR extends Cd{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,i){const o=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),u=Math.ceil(this._bounds[2])-o,h=Math.ceil(this._bounds[3])-l,d=Math.min(Math.ceil(Math.abs(u*e[0]*1.1)),3e3),f=Math.min(Math.ceil(Math.abs(h*e[1]*1.1)),3e3),p=u/d,g=h/f,v={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-l,scaleX:1/p,scaleY:1/g},S=d+2*2,m=f+2*2,y=i.getCanvas("mesh",S,m,!1),A=y.context,x=A.createImageData(d,f);if(t){const L=x.data;for(let F=0,b=L.length;F<b;F+=4)L[F]=t[0],L[F+1]=t[1],L[F+2]=t[2],L[F+3]=255}for(const L of this._figures)oR(x,L,v);return A.putImageData(x,2,2),{canvas:y.canvas,offsetX:o-2*p,offsetY:l-2*g,scaleX:p,scaleY:g}}getPattern(e,t,i,r){Hv(e,this._bbox);let s;if(r===an.SHADING)s=ne.singularValueDecompose2dScale(tt(e));else if(s=ne.singularValueDecompose2dScale(t.baseTransform),this.matrix){const o=ne.singularValueDecompose2dScale(this.matrix);s=[s[0]*o[0],s[1]*o[1]]}const a=this._createMeshCanvas(s,r===an.SHADING?null:this._background,t.cachedCanvases);return r!==an.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}}class cR extends Cd{getPattern(){return"hotpink"}}function uR(n){switch(n[0]){case"RadialAxial":return new aR(n);case"Mesh":return new lR(n);case"Dummy":return new cR}throw new Error(`Unknown IR type: ${n[0]}`)}const H_={COLORED:1,UNCOLORED:2},jp=class jp{constructor(e,t,i,r,s){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=i,this.canvasGraphicsFactory=r,this.baseTransform=s}createPatternCanvas(e){const t=this.operatorList,i=this.bbox,r=this.xstep,s=this.ystep,a=this.paintType,o=this.tilingType,l=this.color,u=this.canvasGraphicsFactory;mg("TilingType: "+o);const h=i[0],d=i[1],f=i[2],p=i[3],g=ne.singularValueDecompose2dScale(this.matrix),v=ne.singularValueDecompose2dScale(this.baseTransform),S=[g[0]*v[0],g[1]*v[1]],m=this.getSizeAndScale(r,this.ctx.canvas.width,S[0]),y=this.getSizeAndScale(s,this.ctx.canvas.height,S[1]),A=e.cachedCanvases.getCanvas("pattern",m.size,y.size,!0),x=A.context,T=u.createCanvasGraphics(x);T.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(T,a,l);let L=h,F=d,b=f,O=p;return h<0&&(L=0,b+=Math.abs(h)),d<0&&(F=0,O+=Math.abs(d)),x.translate(-(m.scale*L),-(y.scale*F)),T.transform(m.scale,0,0,y.scale,0,0),x.save(),this.clipBbox(T,L,F,b,O),T.baseTransform=tt(T.ctx),T.executeOperatorList(t),T.endDrawing(),{canvas:A.canvas,scaleX:m.scale,scaleY:y.scale,offsetX:L,offsetY:F}}getSizeAndScale(e,t,i){e=Math.abs(e);const r=Math.max(jp.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*i);return s>=r?s=r:i=s/e,{scale:i,size:s}}clipBbox(e,t,i,r,s){const a=r-t,o=s-i;e.ctx.rect(t,i,a,o),e.current.updateRectMinMax(tt(e.ctx),[t,i,r,s]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,i){const r=e.ctx,s=e.current;switch(t){case H_.COLORED:const a=this.ctx;r.fillStyle=a.fillStyle,r.strokeStyle=a.strokeStyle,s.fillColor=a.fillStyle,s.strokeColor=a.strokeStyle;break;case H_.UNCOLORED:const o=ne.makeHexColor(i[0],i[1],i[2]);r.fillStyle=o,r.strokeStyle=o,s.fillColor=o,s.strokeColor=o;break;default:throw new NP(`Unsupported paint type: ${t}`)}}getPattern(e,t,i,r){let s=i;r!==an.SHADING&&(s=ne.transform(s,t.baseTransform),this.matrix&&(s=ne.transform(s,this.matrix)));const a=this.createPatternCanvas(t);let o=new DOMMatrix(s);o=o.translate(a.offsetX,a.offsetY),o=o.scale(1/a.scaleX,1/a.scaleY);const l=e.createPattern(a.canvas,"repeat");return l.setTransform(o),l}};de(jp,"MAX_PATTERN_SIZE",3e3);let Bv=jp;function hR({src:n,srcPos:e=0,dest:t,width:i,height:r,nonBlackColor:s=4294967295,inverseDecode:a=!1}){const o=yn.isLittleEndian?4278190080:255,[l,u]=a?[s,o]:[o,s],h=i>>3,d=i&7,f=n.length;t=new Uint32Array(t.buffer);let p=0;for(let g=0;g<r;g++){for(const S=e+h;e<S;e++){const m=e<f?n[e]:255;t[p++]=m&128?u:l,t[p++]=m&64?u:l,t[p++]=m&32?u:l,t[p++]=m&16?u:l,t[p++]=m&8?u:l,t[p++]=m&4?u:l,t[p++]=m&2?u:l,t[p++]=m&1?u:l}if(d===0)continue;const v=e<f?n[e++]:255;for(let S=0;S<d;S++)t[p++]=v&1<<7-S?u:l}return{srcPos:e,destPos:p}}const B_=16,U_=100,dR=15,$_=10,V_=1e3,gn=16;function fR(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(i,r){e.translate(i,r),this.__originalTranslate(i,r)},n.scale=function(i,r){e.scale(i,r),this.__originalScale(i,r)},n.transform=function(i,r,s,a,o,l){e.transform(i,r,s,a,o,l),this.__originalTransform(i,r,s,a,o,l)},n.setTransform=function(i,r,s,a,o,l){e.setTransform(i,r,s,a,o,l),this.__originalSetTransform(i,r,s,a,o,l)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(i){e.rotate(i),this.__originalRotate(i)},n.clip=function(i){e.clip(i),this.__originalClip(i)},n.moveTo=function(t,i){e.moveTo(t,i),this.__originalMoveTo(t,i)},n.lineTo=function(t,i){e.lineTo(t,i),this.__originalLineTo(t,i)},n.bezierCurveTo=function(t,i,r,s,a,o){e.bezierCurveTo(t,i,r,s,a,o),this.__originalBezierCurveTo(t,i,r,s,a,o)},n.rect=function(t,i,r,s){e.rect(t,i,r,s),this.__originalRect(t,i,r,s)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class pR{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,i){let r;return this.cache[e]!==void 0?(r=this.cache[e],this.canvasFactory.reset(r,t,i)):(r=this.canvasFactory.create(t,i),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function nf(n,e,t,i,r,s,a,o,l,u){const[h,d,f,p,g,v]=tt(n);if(d===0&&f===0){const y=a*h+g,A=Math.round(y),x=o*p+v,T=Math.round(x),L=(a+l)*h+g,F=Math.abs(Math.round(L)-A)||1,b=(o+u)*p+v,O=Math.abs(Math.round(b)-T)||1;return n.setTransform(Math.sign(h),0,0,Math.sign(p),A,T),n.drawImage(e,t,i,r,s,0,0,F,O),n.setTransform(h,d,f,p,g,v),[F,O]}if(h===0&&p===0){const y=o*f+g,A=Math.round(y),x=a*d+v,T=Math.round(x),L=(o+u)*f+g,F=Math.abs(Math.round(L)-A)||1,b=(a+l)*d+v,O=Math.abs(Math.round(b)-T)||1;return n.setTransform(0,Math.sign(d),Math.sign(f),0,A,T),n.drawImage(e,t,i,r,s,0,0,O,F),n.setTransform(h,d,f,p,g,v),[O,F]}n.drawImage(e,t,i,r,s,a,o,l,u);const S=Math.hypot(h,d),m=Math.hypot(f,p);return[S*l,m*u]}function gR(n){const{width:e,height:t}=n;if(e>V_||t>V_)return null;const i=1e3,r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),s=e+1;let a=new Uint8Array(s*(t+1)),o,l,u;const h=e+7&-8;let d=new Uint8Array(h*t),f=0;for(const m of n.data){let y=128;for(;y>0;)d[f++]=m&y?0:255,y>>=1}let p=0;for(f=0,d[f]!==0&&(a[0]=1,++p),l=1;l<e;l++)d[f]!==d[f+1]&&(a[l]=d[f]?2:1,++p),f++;for(d[f]!==0&&(a[l]=2,++p),o=1;o<t;o++){f=o*h,u=o*s,d[f-h]!==d[f]&&(a[u]=d[f]?1:8,++p);let m=(d[f]?4:0)+(d[f-h]?8:0);for(l=1;l<e;l++)m=(m>>2)+(d[f+1]?4:0)+(d[f-h+1]?8:0),r[m]&&(a[u+l]=r[m],++p),f++;if(d[f-h]!==d[f]&&(a[u+l]=d[f]?2:4,++p),p>i)return null}for(f=h*(t-1),u=o*s,d[f]!==0&&(a[u]=8,++p),l=1;l<e;l++)d[f]!==d[f+1]&&(a[u+l]=d[f]?4:8,++p),f++;if(d[f]!==0&&(a[u+l]=4,++p),p>i)return null;const g=new Int32Array([0,s,-1,0,-s,0,0,0,1]),v=new Path2D;for(o=0;p&&o<=t;o++){let m=o*s;const y=m+e;for(;m<y&&!a[m];)m++;if(m===y)continue;v.moveTo(m%s,o);const A=m;let x=a[m];do{const T=g[x];do m+=T;while(!a[m]);const L=a[m];L!==5&&L!==10?(x=L,a[m]=0):(x=L&51*x>>4,a[m]&=x>>2|x<<2),v.lineTo(m%s,m/s|0),a[m]||--p}while(A!==m);--o}return d=null,a=null,function(m){m.save(),m.scale(1/e,-1/t),m.translate(0,-t),m.fill(v),m.beginPath(),m.restore()}}class W_{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=GS,this.textMatrixScale=1,this.fontMatrix=fv,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Gt.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,i){[t,i]=ne.applyTransform([t,i],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,i),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,i)}updateRectMinMax(e,t){const i=ne.applyTransform(t,e),r=ne.applyTransform(t.slice(2),e),s=ne.applyTransform([t[0],t[3]],e),a=ne.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,i[0],r[0],s[0],a[0]),this.minY=Math.min(this.minY,i[1],r[1],s[1],a[1]),this.maxX=Math.max(this.maxX,i[0],r[0],s[0],a[0]),this.maxY=Math.max(this.maxY,i[1],r[1],s[1],a[1])}updateScalingPathMinMax(e,t){ne.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,i,r,s,a,o,l,u,h){const d=ne.bezierBoundingBox(t,i,r,s,a,o,l,u,h);h||this.updateRectMinMax(e,d)}getPathBoundingBox(e=an.FILL,t=null){const i=[this.minX,this.minY,this.maxX,this.maxY];if(e===an.STROKE){t||je("Stroke bounding box must include transform.");const r=ne.singularValueDecompose2dScale(t),s=r[0]*this.lineWidth/2,a=r[1]*this.lineWidth/2;i[0]-=s,i[1]-=a,i[2]+=s,i[3]+=a}return i}updateClipFromPath(){const e=ne.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=an.FILL,t=null){return ne.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function G_(n,e){if(typeof ImageData<"u"&&e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,i=e.width,r=t%gn,s=(t-r)/gn,a=r===0?s:s+1,o=n.createImageData(i,gn);let l=0,u;const h=e.data,d=o.data;let f,p,g,v;if(e.kind===Af.GRAYSCALE_1BPP){const S=h.byteLength,m=new Uint32Array(d.buffer,0,d.byteLength>>2),y=m.length,A=i+7>>3,x=4294967295,T=yn.isLittleEndian?4278190080:255;for(f=0;f<a;f++){for(g=f<s?gn:r,u=0,p=0;p<g;p++){const L=S-l;let F=0;const b=L>A?i:L*8-7,O=b&-8;let B=0,U=0;for(;F<O;F+=8)U=h[l++],m[u++]=U&128?x:T,m[u++]=U&64?x:T,m[u++]=U&32?x:T,m[u++]=U&16?x:T,m[u++]=U&8?x:T,m[u++]=U&4?x:T,m[u++]=U&2?x:T,m[u++]=U&1?x:T;for(;F<b;F++)B===0&&(U=h[l++],B=128),m[u++]=U&B?x:T,B>>=1}for(;u<y;)m[u++]=0;n.putImageData(o,0,f*gn)}}else if(e.kind===Af.RGBA_32BPP){for(p=0,v=i*gn*4,f=0;f<s;f++)d.set(h.subarray(l,l+v)),l+=v,n.putImageData(o,0,p),p+=gn;f<a&&(v=i*r*4,d.set(h.subarray(l,l+v)),n.putImageData(o,0,p))}else if(e.kind===Af.RGB_24BPP)for(g=gn,v=i*g,f=0;f<a;f++){for(f>=s&&(g=r,v=i*g),u=0,p=v;p--;)d[u++]=h[l++],d[u++]=h[l++],d[u++]=h[l++],d[u++]=255;n.putImageData(o,0,f*gn)}else throw new Error(`bad image kind: ${e.kind}`)}function X_(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,i=e.width,r=t%gn,s=(t-r)/gn,a=r===0?s:s+1,o=n.createImageData(i,gn);let l=0;const u=e.data,h=o.data;for(let d=0;d<a;d++){const f=d<s?gn:r;({srcPos:l}=hR({src:u,srcPos:l,dest:h,width:i,height:f,nonBlackColor:0})),n.putImageData(o,0,d*gn)}}function jc(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of t)n[i]!==void 0&&(e[i]=n[i]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function rf(n){if(n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0),!Jt){const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}}function K_(n,e){if(e)return!0;const t=ne.singularValueDecompose2dScale(n);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);const i=Math.fround((globalThis.devicePixelRatio||1)*Xs.PDF_TO_CSS_UNITS);return t[0]<=i&&t[1]<=i}const mR=["butt","round","square"],vR=["miter","round","bevel"],yR={},q_={};var qs,Uv,$v;const V0=class V0{constructor(e,t,i,r,s,{optionalContentConfig:a,markedContentStack:o=null},l,u){E(this,qs);this.ctx=e,this.current=new W_(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=i,this.canvasFactory=r,this.filterFactory=s,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=a,this.cachedCanvases=new pR(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=u,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:i=!1,background:r=null}){const s=this.ctx.canvas.width,a=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,s,a),this.ctx.fillStyle=o,i){const l=this.cachedCanvases.getCanvas("transparent",s,a);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...tt(this.compositeCtx))}this.ctx.save(),rf(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=tt(this.ctx)}executeOperatorList(e,t,i,r){const s=e.argsArray,a=e.fnArray;let o=t||0;const l=s.length;if(l===o)return o;const u=l-o>$_&&typeof i=="function",h=u?Date.now()+dR:0;let d=0;const f=this.commonObjs,p=this.objs;let g;for(;;){if(r!==void 0&&o===r.nextBreakPoint)return r.breakIt(o,i),o;if(g=a[o],g!==ui.dependency)this[g].apply(this,s[o]);else for(const v of s[o]){const S=v.startsWith("g_")?f:p;if(!S.has(v))return S.get(v,i),o}if(o++,o===l)return o;if(u&&++d>$_){if(Date.now()>h)return i(),o;d=0}}}endDrawing(){_(this,qs,Uv).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),_(this,qs,$v).call(this)}_scaleImage(e,t){const i=e.width,r=e.height;let s=Math.max(Math.hypot(t[0],t[1]),1),a=Math.max(Math.hypot(t[2],t[3]),1),o=i,l=r,u="prescale1",h,d;for(;s>2&&o>1||a>2&&l>1;){let f=o,p=l;s>2&&o>1&&(f=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),s/=o/f),a>2&&l>1&&(p=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,a/=l/p),h=this.cachedCanvases.getCanvas(u,f,p),d=h.context,d.clearRect(0,0,f,p),d.drawImage(e,0,0,o,l,0,0,f,p),e=h.canvas,o=f,l=p,u=u==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:o,paintHeight:l}}_createMaskCanvas(e){const t=this.ctx,{width:i,height:r}=e,s=this.current.fillColor,a=this.current.patternFill,o=tt(t);let l,u,h,d;if((e.bitmap||e.data)&&e.count>1){const b=e.bitmap||e.data.buffer;u=JSON.stringify(a?o:[o.slice(0,4),s]),l=this._cachedBitmapsMap.get(b),l||(l=new Map,this._cachedBitmapsMap.set(b,l));const O=l.get(u);if(O&&!a){const B=Math.round(Math.min(o[0],o[2])+o[4]),U=Math.round(Math.min(o[1],o[3])+o[5]);return{canvas:O,offsetX:B,offsetY:U}}h=O}h||(d=this.cachedCanvases.getCanvas("maskCanvas",i,r),X_(d.context,e));let f=ne.transform(o,[1/i,0,0,-1/r,0,0]);f=ne.transform(f,[1,0,0,1,0,-r]);const[p,g,v,S]=ne.getAxialAlignedBoundingBox([0,0,i,r],f),m=Math.round(v-p)||1,y=Math.round(S-g)||1,A=this.cachedCanvases.getCanvas("fillCanvas",m,y),x=A.context,T=p,L=g;x.translate(-T,-L),x.transform(...f),h||(h=this._scaleImage(d.canvas,or(x)),h=h.img,l&&a&&l.set(u,h)),x.imageSmoothingEnabled=K_(tt(x),e.interpolate),nf(x,h,0,0,h.width,h.height,0,0,i,r),x.globalCompositeOperation="source-in";const F=ne.transform(or(x),[1,0,0,1,-T,-L]);return x.fillStyle=a?s.getPattern(t,this,F,an.FILL):s,x.fillRect(0,0,i,r),l&&!a&&(this.cachedCanvases.delete("fillCanvas"),l.set(u,A.canvas)),{canvas:A.canvas,offsetX:Math.round(T),offsetY:Math.round(L)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=mR[e]}setLineJoin(e){this.ctx.lineJoin=vR[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(e),i.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,i]of e)switch(t){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i[0],i[1]);break;case"CA":this.current.strokeAlpha=i;break;case"ca":this.current.fillAlpha=i,this.ctx.globalAlpha=i;break;case"BM":this.ctx.globalCompositeOperation=i;break;case"SMask":this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(i);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(i,e,t);this.suspendedCtx=this.ctx,this.ctx=r.context;const s=this.ctx;s.setTransform(...tt(this.suspendedCtx)),jc(this.suspendedCtx,s),fR(s,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),jc(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,i,r){const s=r[0],a=r[1],o=r[2]-s,l=r[3]-a;o===0||l===0||(this.genericComposeSMask(t.context,i,o,l,t.subtype,t.backdrop,t.transferMap,s,a,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(i.canvas,0,0),e.restore())}genericComposeSMask(e,t,i,r,s,a,o,l,u,h,d){let f=e.canvas,p=l-h,g=u-d;if(a){if(p<0||g<0||p+i>f.width||g+r>f.height){const S=this.cachedCanvases.getCanvas("maskExtension",i,r),m=S.context;m.drawImage(f,-p,-g),a.some(y=>y!==0)&&(m.globalCompositeOperation="destination-atop",m.fillStyle=ne.makeHexColor(...a),m.fillRect(0,0,i,r),m.globalCompositeOperation="source-over"),f=S.canvas,p=g=0}else if(a.some(S=>S!==0)){e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const S=new Path2D;S.rect(p,g,i,r),e.clip(S),e.globalCompositeOperation="destination-atop",e.fillStyle=ne.makeHexColor(...a),e.fillRect(p,g,i,r),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&o?t.filter=this.filterFactory.addAlphaFilter(o):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(o));const v=new Path2D;v.rect(l,u,i,r),t.clip(v),t.globalCompositeOperation="destination-in",t.drawImage(f,p,g,i,r,l,u,i,r),t.restore()}save(){this.inSMaskMode?(jc(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),jc(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,i,r,s,a){this.ctx.transform(e,t,i,r,s,a),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,i){const r=this.ctx,s=this.current;let a=s.x,o=s.y,l,u;const h=tt(r),d=h[0]===0&&h[3]===0||h[1]===0&&h[2]===0,f=d?i.slice(0):null;for(let p=0,g=0,v=e.length;p<v;p++)switch(e[p]|0){case ui.rectangle:a=t[g++],o=t[g++];const S=t[g++],m=t[g++],y=a+S,A=o+m;r.moveTo(a,o),S===0||m===0?r.lineTo(y,A):(r.lineTo(y,o),r.lineTo(y,A),r.lineTo(a,A)),d||s.updateRectMinMax(h,[a,o,y,A]),r.closePath();break;case ui.moveTo:a=t[g++],o=t[g++],r.moveTo(a,o),d||s.updatePathMinMax(h,a,o);break;case ui.lineTo:a=t[g++],o=t[g++],r.lineTo(a,o),d||s.updatePathMinMax(h,a,o);break;case ui.curveTo:l=a,u=o,a=t[g+4],o=t[g+5],r.bezierCurveTo(t[g],t[g+1],t[g+2],t[g+3],a,o),s.updateCurvePathMinMax(h,l,u,t[g],t[g+1],t[g+2],t[g+3],a,o,f),g+=6;break;case ui.curveTo2:l=a,u=o,r.bezierCurveTo(a,o,t[g],t[g+1],t[g+2],t[g+3]),s.updateCurvePathMinMax(h,l,u,a,o,t[g],t[g+1],t[g+2],t[g+3],f),a=t[g+2],o=t[g+3],g+=4;break;case ui.curveTo3:l=a,u=o,a=t[g+2],o=t[g+3],r.bezierCurveTo(t[g],t[g+1],a,o,a,o),s.updateCurvePathMinMax(h,l,u,t[g],t[g+1],a,o,a,o,f),g+=4;break;case ui.closePath:r.closePath();break}d&&s.updateScalingPathMinMax(h,f),s.setCurrentPoint(a,o)}closePath(){this.ctx.closePath()}stroke(e=!0){const t=this.ctx,i=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof i=="object"&&(i!=null&&i.getPattern)?(t.save(),t.strokeStyle=i.getPattern(t,this,or(t),an.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const t=this.ctx,i=this.current.fillColor,r=this.current.patternFill;let s=!1;r&&(t.save(),t.fillStyle=i.getPattern(t,this,or(t),an.FILL),s=!0);const a=this.current.getClippedPathBoundingBox();this.contentVisible&&a!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),s&&t.restore(),e&&this.consumePath(a)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=yR}eoClip(){this.pendingClip=q_}beginText(){this.current.textMatrix=GS,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0){t.beginPath();return}t.save(),t.beginPath();for(const i of e)t.setTransform(...i.transform),t.translate(i.x,i.y),i.addToPath(t,i.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var h;const i=this.commonObjs.get(e),r=this.current;if(!i)throw new Error(`Can't find font for ${e}`);if(r.fontMatrix=i.fontMatrix||fv,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&ve("Invalid font matrix for font "+e),t<0?(t=-t,r.fontDirection=-1):r.fontDirection=1,this.current.font=i,this.current.fontSize=t,i.isType3Font)return;const s=i.loadedName||"sans-serif",a=((h=i.systemFontInfo)==null?void 0:h.css)||`"${s}", ${i.fallbackName}`;let o="normal";i.black?o="900":i.bold&&(o="bold");const l=i.italic?"italic":"normal";let u=t;t<B_?u=B_:t>U_&&(u=U_),this.current.fontSizeScale=t/u,this.ctx.font=`${l} ${o} ${u}px ${a}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,i,r,s,a){this.current.textMatrix=[e,t,i,r,s,a],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,i,r){const s=this.ctx,a=this.current,o=a.font,l=a.textRenderingMode,u=a.fontSize/a.fontSizeScale,h=l&Gt.FILL_STROKE_MASK,d=!!(l&Gt.ADD_TO_PATH_FLAG),f=a.patternFill&&!o.missingFile;let p;(o.disableFontFace||d||f)&&(p=o.getPathGenerator(this.commonObjs,e)),o.disableFontFace||f?(s.save(),s.translate(t,i),s.beginPath(),p(s,u),r&&s.setTransform(...r),(h===Gt.FILL||h===Gt.FILL_STROKE)&&s.fill(),(h===Gt.STROKE||h===Gt.FILL_STROKE)&&s.stroke(),s.restore()):((h===Gt.FILL||h===Gt.FILL_STROKE)&&s.fillText(e,t,i),(h===Gt.STROKE||h===Gt.FILL_STROKE)&&s.strokeText(e,t,i)),d&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:tt(s),x:t,y:i,fontSize:u,addToPath:p})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let i=!1;for(let r=3;r<t.length;r+=4)if(t[r]>0&&t[r]<255){i=!0;break}return xe(this,"isFontSubpixelAAEnabled",i)}showText(e){const t=this.current,i=t.font;if(i.isType3Font)return this.showType3Text(e);const r=t.fontSize;if(r===0)return;const s=this.ctx,a=t.fontSizeScale,o=t.charSpacing,l=t.wordSpacing,u=t.fontDirection,h=t.textHScale*u,d=e.length,f=i.vertical,p=f?1:-1,g=i.defaultVMetrics,v=r*t.fontMatrix[0],S=t.textRenderingMode===Gt.FILL&&!i.disableFontFace&&!t.patternFill;s.save(),s.transform(...t.textMatrix),s.translate(t.x,t.y+t.textRise),u>0?s.scale(h,-1):s.scale(h,1);let m;if(t.patternFill){s.save();const L=t.fillColor.getPattern(s,this,or(s),an.FILL);m=tt(s),s.restore(),s.fillStyle=L}let y=t.lineWidth;const A=t.textMatrixScale;if(A===0||y===0){const L=t.textRenderingMode&Gt.FILL_STROKE_MASK;(L===Gt.STROKE||L===Gt.FILL_STROKE)&&(y=this.getSinglePixelWidth())}else y/=A;if(a!==1&&(s.scale(a,a),y/=a),s.lineWidth=y,i.isInvalidPDFjsFont){const L=[];let F=0;for(const b of e)L.push(b.unicode),F+=b.width;s.fillText(L.join(""),0,0),t.x+=F*v*h,s.restore(),this.compose();return}let x=0,T;for(T=0;T<d;++T){const L=e[T];if(typeof L=="number"){x+=p*L*r/1e3;continue}let F=!1;const b=(L.isSpace?l:0)+o,O=L.fontChar,B=L.accent;let U,ee,Z=L.width;if(f){const M=L.vmetric||g,N=-(L.vmetric?M[1]:Z*.5)*v,D=M[2]*v;Z=M?-M[0]:Z,U=N/a,ee=(x+D)/a}else U=x/a,ee=0;if(i.remeasure&&Z>0){const M=s.measureText(O).width*1e3/r*a;if(Z<M&&this.isFontSubpixelAAEnabled){const N=Z/M;F=!0,s.save(),s.scale(N,1),U/=N}else Z!==M&&(U+=(Z-M)/2e3*r/a)}if(this.contentVisible&&(L.isInFont||i.missingFile)){if(S&&!B)s.fillText(O,U,ee);else if(this.paintChar(O,U,ee,m),B){const M=U+r*B.offset.x/a,N=ee-r*B.offset.y/a;this.paintChar(B.fontChar,M,N,m)}}const I=f?Z*v-b*u:Z*v+b*u;x+=I,F&&s.restore()}f?t.y-=x:t.x+=x*h,s.restore(),this.compose()}showType3Text(e){const t=this.ctx,i=this.current,r=i.font,s=i.fontSize,a=i.fontDirection,o=r.vertical?1:-1,l=i.charSpacing,u=i.wordSpacing,h=i.textHScale*a,d=i.fontMatrix||fv,f=e.length,p=i.textRenderingMode===Gt.INVISIBLE;let g,v,S,m;if(!(p||s===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...i.textMatrix),t.translate(i.x,i.y),t.scale(h,a),g=0;g<f;++g){if(v=e[g],typeof v=="number"){m=o*v*s/1e3,this.ctx.translate(m,0),i.x+=m*h;continue}const y=(v.isSpace?u:0)+l,A=r.charProcOperatorList[v.operatorListId];if(!A){ve(`Type3 character "${v.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=v,this.save(),t.scale(s,s),t.transform(...d),this.executeOperatorList(A),this.restore()),S=ne.applyTransform([v.width,0],d)[0]*s+y,t.translate(S,0),i.x+=S*h}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,i,r,s,a){this.ctx.rect(i,r,s-i,a-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const i=e[1],r=this.baseTransform||tt(this.ctx),s={createCanvasGraphics:a=>new V0(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new Bv(e,i,this.ctx,s,r)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,i){const r=ne.makeHexColor(e,t,i);this.ctx.strokeStyle=r,this.current.strokeColor=r}setFillRGBColor(e,t,i){const r=ne.makeHexColor(e,t,i);this.ctx.fillStyle=r,this.current.fillColor=r,this.current.patternFill=!1}_getPattern(e,t=null){let i;return this.cachedPatterns.has(e)?i=this.cachedPatterns.get(e):(i=uR(this.getObject(e)),this.cachedPatterns.set(e,i)),t&&(i.matrix=t),i}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const i=this._getPattern(e);t.fillStyle=i.getPattern(t,this,or(t),an.SHADING);const r=or(t);if(r){const{width:s,height:a}=t.canvas,[o,l,u,h]=ne.getAxialAlignedBoundingBox([0,0,s,a],r);this.ctx.fillRect(o,l,u-o,h-l)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){je("Should not call beginInlineImage")}beginImageData(){je("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=tt(this.ctx),t)){const i=t[2]-t[0],r=t[3]-t[1];this.ctx.rect(t[0],t[1],i,r),this.current.updateRectMinMax(tt(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||mg("TODO: Support non-isolated groups."),e.knockout&&ve("Knockout groups not supported.");const i=tt(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let r=ne.getAxialAlignedBoundingBox(e.bbox,tt(t));const s=[0,0,t.canvas.width,t.canvas.height];r=ne.intersect(r,s)||[0,0,0,0];const a=Math.floor(r[0]),o=Math.floor(r[1]),l=Math.max(Math.ceil(r[2])-a,1),u=Math.max(Math.ceil(r[3])-o,1);this.current.startNewPathAndClipBox([0,0,l,u]);let h="groupAt"+this.groupLevel;e.smask&&(h+="_smask_"+this.smaskCounter++%2);const d=this.cachedCanvases.getCanvas(h,l,u),f=d.context;f.translate(-a,-o),f.transform(...i),e.smask?this.smaskStack.push({canvas:d.canvas,context:f,offsetX:a,offsetY:o,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(a,o),t.save()),jc(t,f),this.ctx=f,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const r=tt(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);const s=ne.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],r);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(e,t,i,r,s){if(_(this,qs,Uv).call(this),rf(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const a=t[2]-t[0],o=t[3]-t[1];if(s&&this.annotationCanvasMap){i=i.slice(),i[4]-=t[0],i[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=a,t[3]=o;const[l,u]=ne.singularValueDecompose2dScale(tt(this.ctx)),{viewportScale:h}=this,d=Math.ceil(a*this.outputScaleX*h),f=Math.ceil(o*this.outputScaleY*h);this.annotationCanvas=this.canvasFactory.create(d,f);const{canvas:p,context:g}=this.annotationCanvas;this.annotationCanvasMap.set(e,p),this.annotationCanvas.savedCtx=this.ctx,this.ctx=g,this.ctx.save(),this.ctx.setTransform(l,0,0,-u,0,o*u),rf(this.ctx)}else rf(this.ctx),this.ctx.rect(t[0],t[1],a,o),this.ctx.clip(),this.endPath()}this.current=new W_(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...i),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),_(this,qs,$v).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const i=this.ctx,r=this.processingType3;if(r&&(r.compiled===void 0&&(r.compiled=gR(e)),r.compiled)){r.compiled(i);return}const s=this._createMaskCanvas(e),a=s.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(a,s.offsetX,s.offsetY),i.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,i=0,r=0,s,a){if(!this.contentVisible)return;e=this.getObject(e.data,e);const o=this.ctx;o.save();const l=tt(o);o.transform(t,i,r,s,0,0);const u=this._createMaskCanvas(e);o.setTransform(1,0,0,1,u.offsetX-l[4],u.offsetY-l[5]);for(let h=0,d=a.length;h<d;h+=2){const f=ne.transform(l,[t,i,r,s,a[h],a[h+1]]),[p,g]=ne.applyTransform([0,0],f);o.drawImage(u.canvas,p,g)}o.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,i=this.current.fillColor,r=this.current.patternFill;for(const s of e){const{data:a,width:o,height:l,transform:u}=s,h=this.cachedCanvases.getCanvas("maskCanvas",o,l),d=h.context;d.save();const f=this.getObject(a,s);X_(d,f),d.globalCompositeOperation="source-in",d.fillStyle=r?i.getPattern(d,this,or(t),an.FILL):i,d.fillRect(0,0,o,l),d.restore(),t.save(),t.transform(...u),t.scale(1,-1),nf(t,h.canvas,0,0,o,l,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){ve("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,i,r){if(!this.contentVisible)return;const s=this.getObject(e);if(!s){ve("Dependent image isn't ready yet");return}const a=s.width,o=s.height,l=[];for(let u=0,h=r.length;u<h;u+=2)l.push({transform:[t,0,0,i,r[u],r[u+1]],x:0,y:0,w:a,h:o});this.paintInlineImageXObjectGroup(s,l)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:i,height:r}=e,s=this.cachedCanvases.getCanvas("inlineImage",i,r),a=s.context;return a.filter=this.current.transferMaps,a.drawImage(t,0,0),a.filter="none",s.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,i=e.height,r=this.ctx;if(this.save(),!Jt){const{filter:o}=r;o!=="none"&&o!==""&&(r.filter="none")}r.scale(1/t,-1/i);let s;if(e.bitmap)s=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)s=e;else{const l=this.cachedCanvases.getCanvas("inlineImage",t,i).context;G_(l,e),s=this.applyTransferMapsToCanvas(l)}const a=this._scaleImage(s,or(r));r.imageSmoothingEnabled=K_(tt(r),e.interpolate),nf(r,a.img,0,0,a.paintWidth,a.paintHeight,0,-i,t,i),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const i=this.ctx;let r;if(e.bitmap)r=e.bitmap;else{const s=e.width,a=e.height,l=this.cachedCanvases.getCanvas("inlineImage",s,a).context;G_(l,e),r=this.applyTransferMapsToCanvas(l)}for(const s of t)i.save(),i.transform(...s.transform),i.scale(1,-1),nf(i,r,s.x,s.y,s.w,s.h,0,-1,1,1),i.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const i=this.ctx;this.pendingClip&&(t||(this.pendingClip===q_?i.clip("evenodd"):i.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),i.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=tt(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),i=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(i,r)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:i,c:r,d:s}=this.ctx.getTransform();let a,o;if(i===0&&r===0){const l=Math.abs(t),u=Math.abs(s);if(l===u)if(e===0)a=o=1/l;else{const h=l*e;a=o=h<1?1/h:1}else if(e===0)a=1/l,o=1/u;else{const h=l*e,d=u*e;a=h<1?1/h:1,o=d<1?1/d:1}}else{const l=Math.abs(t*s-i*r),u=Math.hypot(t,i),h=Math.hypot(r,s);if(e===0)a=h/l,o=u/l;else{const d=e*l;a=h>d?h/d:1,o=u>d?u/d:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:i}=this.current,[r,s]=this.getScaleForStroking();if(t.lineWidth=i||1,r===1&&s===1){t.stroke();return}const a=t.getLineDash();if(e&&t.save(),t.scale(r,s),a.length>0){const o=Math.max(r,s);t.setLineDash(a.map(l=>l/o)),t.lineDashOffset/=o}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};qs=new WeakSet,Uv=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},$v=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}};let pl=V0;for(const n in ui)pl.prototype[n]!==void 0&&(pl.prototype[ui[n]]=pl.prototype[n]);var ph,gh;class $r{static get workerPort(){return c(this,ph)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");w(this,ph,e)}static get workerSrc(){return c(this,gh)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");w(this,gh,e)}}ph=new WeakMap,gh=new WeakMap,E($r,ph,null),E($r,gh,"");const sf={UNKNOWN:0,DATA:1,ERROR:2},pt={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Cn(n){switch(n instanceof Error||typeof n=="object"&&n!==null||je('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new Fo(n.message);case"MissingPDFException":return new Io(n.message);case"PasswordException":return new gv(n.message,n.code);case"UnexpectedResponseException":return new vg(n.message,n.status);case"UnknownErrorException":return new mv(n.message,n.details);default:return new mv(n.message,n.toString())}}var er,Pb,Rb,kf;class Qc{constructor(e,t,i){E(this,er);this.sourceName=e,this.targetName=t,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=r=>{const s=r.data;if(s.targetName!==this.sourceName)return;if(s.stream){_(this,er,Rb).call(this,s);return}if(s.callback){const o=s.callbackId,l=this.callbackCapabilities[o];if(!l)throw new Error(`Cannot resolve callback ${o}`);if(delete this.callbackCapabilities[o],s.callback===sf.DATA)l.resolve(s.data);else if(s.callback===sf.ERROR)l.reject(Cn(s.reason));else throw new Error("Unexpected callback case");return}const a=this.actionHandler[s.action];if(!a)throw new Error(`Unknown action from worker: ${s.action}`);if(s.callbackId){const o=this.sourceName,l=s.sourceName;new Promise(function(u){u(a(s.data))}).then(function(u){i.postMessage({sourceName:o,targetName:l,callback:sf.DATA,callbackId:s.callbackId,data:u})},function(u){i.postMessage({sourceName:o,targetName:l,callback:sf.ERROR,callbackId:s.callbackId,reason:Cn(u)})});return}if(s.streamId){_(this,er,Pb).call(this,s);return}a(s.data)},i.addEventListener("message",this._onComObjOnMessage)}on(e,t){const i=this.actionHandler;if(i[e])throw new Error(`There is already an actionName called "${e}"`);i[e]=t}send(e,t,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},i)}sendWithPromise(e,t,i){const r=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[r]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:t},i)}catch(a){s.reject(a)}return s.promise}sendWithStream(e,t,i,r){const s=this.streamId++,a=this.sourceName,o=this.targetName,l=this.comObj;return new ReadableStream({start:u=>{const h=Promise.withResolvers();return this.streamControllers[s]={controller:u,startCall:h,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:a,targetName:o,action:e,streamId:s,data:t,desiredSize:u.desiredSize},r),h.promise},pull:u=>{const h=Promise.withResolvers();return this.streamControllers[s].pullCall=h,l.postMessage({sourceName:a,targetName:o,stream:pt.PULL,streamId:s,desiredSize:u.desiredSize}),h.promise},cancel:u=>{xt(u instanceof Error,"cancel must have a valid reason");const h=Promise.withResolvers();return this.streamControllers[s].cancelCall=h,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:a,targetName:o,stream:pt.CANCEL,streamId:s,reason:Cn(u)}),h.promise}},i)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}er=new WeakSet,Pb=function(e){const t=e.streamId,i=this.sourceName,r=e.sourceName,s=this.comObj,a=this,o=this.actionHandler[e.action],l={enqueue(u,h=1,d){if(this.isCancelled)return;const f=this.desiredSize;this.desiredSize-=h,f>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:i,targetName:r,stream:pt.ENQUEUE,streamId:t,chunk:u},d)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:r,stream:pt.CLOSE,streamId:t}),delete a.streamSinks[t])},error(u){xt(u instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:r,stream:pt.ERROR,streamId:t,reason:Cn(u)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[t]=l,new Promise(function(u){u(o(e.data,l))}).then(function(){s.postMessage({sourceName:i,targetName:r,stream:pt.START_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:i,targetName:r,stream:pt.START_COMPLETE,streamId:t,reason:Cn(u)})})},Rb=function(e){const t=e.streamId,i=this.sourceName,r=e.sourceName,s=this.comObj,a=this.streamControllers[t],o=this.streamSinks[t];switch(e.stream){case pt.START_COMPLETE:e.success?a.startCall.resolve():a.startCall.reject(Cn(e.reason));break;case pt.PULL_COMPLETE:e.success?a.pullCall.resolve():a.pullCall.reject(Cn(e.reason));break;case pt.PULL:if(!o){s.postMessage({sourceName:i,targetName:r,stream:pt.PULL_COMPLETE,streamId:t,success:!0});break}o.desiredSize<=0&&e.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=e.desiredSize,new Promise(function(l){var u;l((u=o.onPull)==null?void 0:u.call(o))}).then(function(){s.postMessage({sourceName:i,targetName:r,stream:pt.PULL_COMPLETE,streamId:t,success:!0})},function(l){s.postMessage({sourceName:i,targetName:r,stream:pt.PULL_COMPLETE,streamId:t,reason:Cn(l)})});break;case pt.ENQUEUE:if(xt(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case pt.CLOSE:if(xt(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),_(this,er,kf).call(this,a,t);break;case pt.ERROR:xt(a,"error should have stream controller"),a.controller.error(Cn(e.reason)),_(this,er,kf).call(this,a,t);break;case pt.CANCEL_COMPLETE:e.success?a.cancelCall.resolve():a.cancelCall.reject(Cn(e.reason)),_(this,er,kf).call(this,a,t);break;case pt.CANCEL:if(!o)break;new Promise(function(l){var u;l((u=o.onCancel)==null?void 0:u.call(o,Cn(e.reason)))}).then(function(){s.postMessage({sourceName:i,targetName:r,stream:pt.CANCEL_COMPLETE,streamId:t,success:!0})},function(l){s.postMessage({sourceName:i,targetName:r,stream:pt.CANCEL_COMPLETE,streamId:t,reason:Cn(l)})}),o.sinkCapability.reject(Cn(e.reason)),o.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},kf=async function(e,t){var i,r,s;await Promise.allSettled([(i=e.startCall)==null?void 0:i.promise,(r=e.pullCall)==null?void 0:r.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[t]};var Na,mh;class wR{constructor({parsedData:e,rawData:t}){E(this,Na);E(this,mh);w(this,Na,e),w(this,mh,t)}getRaw(){return c(this,mh)}get(e){return c(this,Na).get(e)??null}getAll(){return L0(c(this,Na))}has(e){return c(this,Na).has(e)}}Na=new WeakMap,mh=new WeakMap;const os=Symbol("INTERNAL");var vh,yh,wh,Ll;class _R{constructor(e,{name:t,intent:i,usage:r}){E(this,vh,!1);E(this,yh,!1);E(this,wh,!1);E(this,Ll,!0);w(this,vh,!!(e&Jn.DISPLAY)),w(this,yh,!!(e&Jn.PRINT)),this.name=t,this.intent=i,this.usage=r}get visible(){if(c(this,wh))return c(this,Ll);if(!c(this,Ll))return!1;const{print:e,view:t}=this.usage;return c(this,vh)?(t==null?void 0:t.viewState)!=="OFF":c(this,yh)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,i=!1){e!==os&&je("Internal method `_setVisible` called."),w(this,wh,i),w(this,Ll,t)}}vh=new WeakMap,yh=new WeakMap,wh=new WeakMap,Ll=new WeakMap;var ws,Ne,Ml,Dl,_h,Vv;class AR{constructor(e,t=Jn.DISPLAY){E(this,_h);E(this,ws,null);E(this,Ne,new Map);E(this,Ml,null);E(this,Dl,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,w(this,Dl,e.order);for(const i of e.groups)c(this,Ne).set(i.id,new _R(t,i));if(e.baseState==="OFF")for(const i of c(this,Ne).values())i._setVisible(os,!1);for(const i of e.on)c(this,Ne).get(i)._setVisible(os,!0);for(const i of e.off)c(this,Ne).get(i)._setVisible(os,!1);w(this,Ml,this.getHash())}}isVisible(e){if(c(this,Ne).size===0)return!0;if(!e)return mg("Optional content group not defined."),!0;if(e.type==="OCG")return c(this,Ne).has(e.id)?c(this,Ne).get(e.id).visible:(ve(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return _(this,_h,Vv).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!c(this,Ne).has(t))return ve(`Optional content group not found: ${t}`),!0;if(c(this,Ne).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!c(this,Ne).has(t))return ve(`Optional content group not found: ${t}`),!0;if(!c(this,Ne).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!c(this,Ne).has(t))return ve(`Optional content group not found: ${t}`),!0;if(!c(this,Ne).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!c(this,Ne).has(t))return ve(`Optional content group not found: ${t}`),!0;if(c(this,Ne).get(t).visible)return!1}return!0}return ve(`Unknown optional content policy ${e.policy}.`),!0}return ve(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0){const i=c(this,Ne).get(e);if(!i){ve(`Optional content group not found: ${e}`);return}i._setVisible(os,!!t,!0),w(this,ws,null)}setOCGState({state:e,preserveRB:t}){let i;for(const r of e){switch(r){case"ON":case"OFF":case"Toggle":i=r;continue}const s=c(this,Ne).get(r);if(s)switch(i){case"ON":s._setVisible(os,!0);break;case"OFF":s._setVisible(os,!1);break;case"Toggle":s._setVisible(os,!s.visible);break}}w(this,ws,null)}get hasInitialVisibility(){return c(this,Ml)===null||this.getHash()===c(this,Ml)}getOrder(){return c(this,Ne).size?c(this,Dl)?c(this,Dl).slice():[...c(this,Ne).keys()]:null}getGroups(){return c(this,Ne).size>0?L0(c(this,Ne)):null}getGroup(e){return c(this,Ne).get(e)||null}getHash(){if(c(this,ws)!==null)return c(this,ws);const e=new xb;for(const[t,i]of c(this,Ne))e.update(`${t}:${i.visible}`);return w(this,ws,e.hexdigest())}}ws=new WeakMap,Ne=new WeakMap,Ml=new WeakMap,Dl=new WeakMap,_h=new WeakSet,Vv=function(e){const t=e.length;if(t<2)return!0;const i=e[0];for(let r=1;r<t;r++){const s=e[r];let a;if(Array.isArray(s))a=_(this,_h,Vv).call(this,s);else if(c(this,Ne).has(s))a=c(this,Ne).get(s).visible;else return ve(`Optional content group not found: ${s}`),!0;switch(i){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return i==="And"};class ER{constructor(e,{disableRange:t=!1,disableStream:i=!1}){xt(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:s,progressiveDone:a,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=o,(s==null?void 0:s.length)>0){const l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!i,this._isRangeSupported=!t,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,u)=>{this._onReceiveData({begin:l,chunk:u})}),e.addProgressListener((l,u)=>{this._onProgress({loaded:l,total:u})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const i=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const r=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(i),!0)});xt(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,i,r,s;e.total===void 0?(i=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||i.call(t,{loaded:e.loaded}):(s=(r=this._fullRequestReader)==null?void 0:r.onProgress)==null||s.call(r,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){xt(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new SR(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new bR(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeReaders.slice(0))i.cancel(e);this._pdfDataRangeTransport.abort()}}class SR{constructor(e,t,i=!1,r=null){this._stream=e,this._done=i||!1,this._filename=N0(r)?r:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class bR{constructor(e,t,i){this._stream=e,this._begin=t,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function xR(n){let e=!0,t=i("filename\\*","i").exec(n);if(t){t=t[1];let h=o(t);return h=unescape(h),h=l(h),h=u(h),s(h)}if(t=a(n),t){const h=u(t);return s(h)}if(t=i("filename","i").exec(n),t){t=t[1];let h=o(t);return h=u(h),s(h)}function i(h,d){return new RegExp("(?:^|;)\\s*"+h+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',d)}function r(h,d){if(h){if(!/^[\x00-\xFF]+$/.test(d))return d;try{const f=new TextDecoder(h,{fatal:!0}),p=yg(d);d=f.decode(p),e=!1}catch{}}return d}function s(h){return e&&/[\x80-\xff]/.test(h)&&(h=r("utf-8",h),e&&(h=r("iso-8859-1",h))),h}function a(h){const d=[];let f;const p=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(f=p.exec(h))!==null;){let[,v,S,m]=f;if(v=parseInt(v,10),v in d){if(v===0)break;continue}d[v]=[S,m]}const g=[];for(let v=0;v<d.length&&v in d;++v){let[S,m]=d[v];m=o(m),S&&(m=unescape(m),v===0&&(m=l(m))),g.push(m)}return g.join("")}function o(h){if(h.startsWith('"')){const d=h.slice(1).split('\\"');for(let f=0;f<d.length;++f){const p=d[f].indexOf('"');p!==-1&&(d[f]=d[f].slice(0,p),d.length=f+1),d[f]=d[f].replaceAll(/\\(.)/g,"$1")}h=d.join('"')}return h}function l(h){const d=h.indexOf("'");if(d===-1)return h;const f=h.slice(0,d),g=h.slice(d+1).replace(/^[^']*'/,"");return r(f,g)}function u(h){return!h.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(h)?h:h.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(d,f,p,g){if(p==="q"||p==="Q")return g=g.replaceAll("_"," "),g=g.replaceAll(/=([0-9a-fA-F]{2})/g,function(v,S){return String.fromCharCode(parseInt(S,16))}),r(f,g);try{g=atob(g)}catch{}return r(f,g)})}return""}function z0({getResponseHeader:n,isHttp:e,rangeChunkSize:t,disableRange:i}){const r={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(n("Content-Length"),10);return!Number.isInteger(s)||(r.suggestedLength=s,s<=2*t)||i||!e||n("Accept-Ranges")!=="bytes"||(n("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function H0(n){const e=n("Content-Disposition");if(e){let t=xR(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(N0(t))return t}return null}function Sg(n,e){return n===404||n===0&&e.startsWith("file:")?new Io('Missing PDF "'+e+'".'):new vg(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n)}function Lb(n){return n===200||n===206}function Mb(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function Db(n){const e=new Headers;for(const t in n){const i=n[t];i!==void 0&&e.append(t,i)}return e}function Ib(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(ve(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class Y_{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return xt(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new CR(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new kR(this,e,t);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class CR{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._headers=Db(this._stream.httpHeaders);const i=t.url;fetch(i,Mb(this._headers,this._withCredentials,this._abortController)).then(r=>{if(!Lb(r.status))throw Sg(r.status,i);this._reader=r.body.getReader(),this._headersCapability.resolve();const s=l=>r.headers.get(l),{allowRangeRequests:a,suggestedLength:o}=z0({getResponseHeader:s,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=o||this._contentLength,this._filename=H0(s),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Fo("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:Ib(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class kR{constructor(e,t,i){this._stream=e,this._reader=null,this._loaded=0;const r=e.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController,this._headers=Db(this._stream.httpHeaders),this._headers.append("Range",`bytes=${t}-${i-1}`);const s=r.url;fetch(s,Mb(this._headers,this._withCredentials,this._abortController)).then(a=>{if(!Lb(a.status))throw Sg(a.status,s);this._readCapability.resolve(),this._reader=a.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:Ib(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const mm=200,vm=206;function TR(n){const e=n.response;return typeof e!="string"?e:yg(e).buffer}class PR{constructor(e,t={}){this.url=e,this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&t.httpHeaders||Object.create(null),this.withCredentials=t.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,i){const r={begin:e,end:t};for(const s in i)r[s]=i[s];return this.request(r)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,i=this.currXhrId++,r=this.pendingRequests[i]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const s in this.httpHeaders){const a=this.httpHeaders[s];a!==void 0&&t.setRequestHeader(s,a)}return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),r.expectedStatus=vm):r.expectedStatus=mm,t.responseType="arraybuffer",e.onError&&(t.onerror=function(s){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,i),t.onprogress=this.onProgress.bind(this,i),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,t.send(null),i}onProgress(e,t){var r;const i=this.pendingRequests[e];i&&((r=i.onProgress)==null||r.call(i,t))}onStateChange(e,t){var l,u,h;const i=this.pendingRequests[e];if(!i)return;const r=i.xhr;if(r.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),r.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],r.status===0&&this.isHttp){(l=i.onError)==null||l.call(i,r.status);return}const s=r.status||mm;if(!(s===mm&&i.expectedStatus===vm)&&s!==i.expectedStatus){(u=i.onError)==null||u.call(i,r.status);return}const o=TR(r);if(s===vm){const d=r.getResponseHeader("Content-Range"),f=/bytes (\d+)-(\d+)\/(\d+)/.exec(d);i.onDone({begin:parseInt(f[1],10),chunk:o})}else o?i.onDone({begin:0,chunk:o}):(h=i.onError)==null||h.call(i,r.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class RR{constructor(e){this._source=e,this._manager=new PR(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return xt(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new LR(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const i=new MR(this._manager,e,t);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class LR{constructor(e,t){this._manager=e;const i={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(i),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),i=a=>t.getResponseHeader(a),{allowRangeRequests:r,suggestedLength:s}=z0({getResponseHeader:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=H0(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Sg(e,this._url),this._headersReceivedCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersReceivedCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class MR{constructor(e,t,i){this._manager=e;const r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,i,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=Sg(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const Fb=/^file:\/\/\/[a-zA-Z]:\//;function DR(n){const e=nr.get("url"),t=e.parse(n);return t.protocol==="file:"||t.host?t:/^[a-z]:[/\\]/i.test(n)?e.parse(`file:///${n}`):(t.host||(t.protocol="file:"),t)}class IR{constructor(e){this.source=e,this.url=DR(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return xt(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new OR(this):new FR(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=this.isFsUrl?new jR(this,e,t):new NR(this,e,t);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class Nb{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Fo("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Ob{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function Sp(n,e){return{protocol:n.protocol,auth:n.auth,host:n.hostname,port:n.port,path:n.path,method:"GET",headers:e}}class FR extends Nb{constructor(e){super(e);const t=i=>{if(i.statusCode===404){const o=new Io(`Missing PDF "${this._url}".`);this._storedError=o,this._headersCapability.reject(o);return}this._headersCapability.resolve(),this._setReadableStream(i);const r=o=>this._readableStream.headers[o.toLowerCase()],{allowRangeRequests:s,suggestedLength:a}=z0({getResponseHeader:r,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=a||this._contentLength,this._filename=H0(r)};if(this._request=null,this._url.protocol==="http:"){const i=nr.get("http");this._request=i.request(Sp(this._url,e.httpHeaders),t)}else{const i=nr.get("https");this._request=i.request(Sp(this._url,e.httpHeaders),t)}this._request.on("error",i=>{this._storedError=i,this._headersCapability.reject(i)}),this._request.end()}}class NR extends Ob{constructor(e,t,i){super(e),this._httpHeaders={};for(const s in e.httpHeaders){const a=e.httpHeaders[s];a!==void 0&&(this._httpHeaders[s]=a)}this._httpHeaders.Range=`bytes=${t}-${i-1}`;const r=s=>{if(s.statusCode===404){const a=new Io(`Missing PDF "${this._url}".`);this._storedError=a;return}this._setReadableStream(s)};if(this._request=null,this._url.protocol==="http:"){const s=nr.get("http");this._request=s.request(Sp(this._url,this._httpHeaders),r)}else{const s=nr.get("https");this._request=s.request(Sp(this._url,this._httpHeaders),r)}this._request.on("error",s=>{this._storedError=s}),this._request.end()}}class OR extends Nb{constructor(e){super(e);let t=decodeURIComponent(this._url.path);Fb.test(this._url.href)&&(t=t.replace(/^\//,""));const i=nr.get("fs");i.promises.lstat(t).then(r=>{this._contentLength=r.size,this._setReadableStream(i.createReadStream(t)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=new Io(`Missing PDF "${t}".`)),this._storedError=r,this._headersCapability.reject(r)})}}class jR extends Ob{constructor(e,t,i){super(e);let r=decodeURIComponent(this._url.path);Fb.test(this._url.href)&&(r=r.replace(/^\//,""));const s=nr.get("fs");this._setReadableStream(s.createReadStream(r,{start:t,end:i-1}))}}const zR=1e5,dn=30,HR=.8;var cA,_s,pn,Ah,Eh,Oa,Sr,Sh,bh,ja,Il,Fl,As,Nl,xh,Ol,za,Ch,kh,St,Ha,Ba,Es,jl,Qr,jb,zb,Wv,tr,Tf,Hb,Bb;let bp=(St=class{constructor({textContentSource:e,container:t,viewport:i}){E(this,Qr);E(this,_s,Promise.withResolvers());E(this,pn,null);E(this,Ah,!1);E(this,Eh,!!((cA=globalThis.FontInspector)!=null&&cA.enabled));E(this,Oa,null);E(this,Sr,null);E(this,Sh,0);E(this,bh,0);E(this,ja,null);E(this,Il,null);E(this,Fl,0);E(this,As,0);E(this,Nl,Object.create(null));E(this,xh,[]);E(this,Ol,null);E(this,za,[]);E(this,Ch,new WeakMap);E(this,kh,null);var l;if(e instanceof ReadableStream)w(this,Ol,e);else if(typeof e=="object")w(this,Ol,new ReadableStream({start(u){u.enqueue(e),u.close()}}));else throw new Error('No "textContentSource" parameter specified.');w(this,pn,w(this,Il,t)),w(this,As,i.scale*(globalThis.devicePixelRatio||1)),w(this,Fl,i.rotation),w(this,Sr,{prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:s,pageX:a,pageY:o}=i.rawDims;w(this,kh,[1,0,0,-1,-a,o+s]),w(this,bh,r),w(this,Sh,s),_(l=St,tr,Hb).call(l),bo(t,i),c(this,_s).promise.catch(()=>{}).then(()=>{c(St,jl).delete(this),w(this,Sr,null),w(this,Nl,null)})}render(){const e=()=>{c(this,ja).read().then(({value:t,done:i})=>{if(i){c(this,_s).resolve();return}c(this,Oa)??w(this,Oa,t.lang),Object.assign(c(this,Nl),t.styles),_(this,Qr,jb).call(this,t.items),e()},c(this,_s).reject)};return w(this,ja,c(this,Ol).getReader()),c(St,jl).add(this),e(),c(this,_s).promise}update({viewport:e,onBefore:t=null}){var s;const i=e.scale*(globalThis.devicePixelRatio||1),r=e.rotation;if(r!==c(this,Fl)&&(t==null||t(),w(this,Fl,r),bo(c(this,Il),{rotation:r})),i!==c(this,As)){t==null||t(),w(this,As,i);const a={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:_(s=St,tr,Tf).call(s,c(this,Oa))};for(const o of c(this,za))a.properties=c(this,Ch).get(o),a.div=o,_(this,Qr,Wv).call(this,a)}}cancel(){var t;const e=new Fo("TextLayer task cancelled.");(t=c(this,ja))==null||t.cancel(e).catch(()=>{}),w(this,ja,null),c(this,_s).reject(e)}get textDivs(){return c(this,za)}get textContentItemsStr(){return c(this,xh)}static cleanup(){if(!(c(this,jl).size>0)){c(this,Ha).clear();for(const{canvas:e}of c(this,Ba).values())e.remove();c(this,Ba).clear()}}},_s=new WeakMap,pn=new WeakMap,Ah=new WeakMap,Eh=new WeakMap,Oa=new WeakMap,Sr=new WeakMap,Sh=new WeakMap,bh=new WeakMap,ja=new WeakMap,Il=new WeakMap,Fl=new WeakMap,As=new WeakMap,Nl=new WeakMap,xh=new WeakMap,Ol=new WeakMap,za=new WeakMap,Ch=new WeakMap,kh=new WeakMap,Ha=new WeakMap,Ba=new WeakMap,Es=new WeakMap,jl=new WeakMap,Qr=new WeakSet,jb=function(e){var r,s;if(c(this,Ah))return;(s=c(this,Sr)).ctx??(s.ctx=_(r=St,tr,Tf).call(r,c(this,Oa)));const t=c(this,za),i=c(this,xh);for(const a of e){if(t.length>zR){ve("Ignoring additional textDivs for performance reasons."),w(this,Ah,!0);return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const o=c(this,pn);w(this,pn,document.createElement("span")),c(this,pn).classList.add("markedContent"),a.id!==null&&c(this,pn).setAttribute("id",`${a.id}`),o.append(c(this,pn))}else a.type==="endMarkedContent"&&w(this,pn,c(this,pn).parentNode);continue}i.push(a.str),_(this,Qr,zb).call(this,a)}},zb=function(e){var v;const t=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};c(this,za).push(t);const r=ne.transform(c(this,kh),e.transform);let s=Math.atan2(r[1],r[0]);const a=c(this,Nl)[e.fontName];a.vertical&&(s+=Math.PI/2);const o=c(this,Eh)&&a.fontSubstitution||a.fontFamily,l=Math.hypot(r[2],r[3]),u=l*_(v=St,tr,Bb).call(v,o,c(this,Oa));let h,d;s===0?(h=r[4],d=r[5]-u):(h=r[4]+u*Math.sin(s),d=r[5]-u*Math.cos(s));const f="calc(var(--scale-factor)*",p=t.style;c(this,pn)===c(this,Il)?(p.left=`${(100*h/c(this,bh)).toFixed(2)}%`,p.top=`${(100*d/c(this,Sh)).toFixed(2)}%`):(p.left=`${f}${h.toFixed(2)}px)`,p.top=`${f}${d.toFixed(2)}px)`),p.fontSize=`${f}${(c(St,Es)*l).toFixed(2)}px)`,p.fontFamily=o,i.fontSize=l,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,c(this,Eh)&&(t.dataset.fontName=a.fontSubstitutionLoadedName||e.fontName),s!==0&&(i.angle=s*(180/Math.PI));let g=!1;if(e.str.length>1)g=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const S=Math.abs(e.transform[0]),m=Math.abs(e.transform[3]);S!==m&&Math.max(S,m)/Math.min(S,m)>1.5&&(g=!0)}if(g&&(i.canvasWidth=a.vertical?e.height:e.width),c(this,Ch).set(t,i),c(this,Sr).div=t,c(this,Sr).properties=i,_(this,Qr,Wv).call(this,c(this,Sr)),i.hasText&&c(this,pn).append(t),i.hasEOL){const S=document.createElement("br");S.setAttribute("role","presentation"),c(this,pn).append(S)}},Wv=function(e){const{div:t,properties:i,ctx:r,prevFontSize:s,prevFontFamily:a}=e,{style:o}=t;let l="";if(c(St,Es)>1&&(l=`scale(${1/c(St,Es)})`),i.canvasWidth!==0&&i.hasText){const{fontFamily:u}=o,{canvasWidth:h,fontSize:d}=i;(s!==d||a!==u)&&(r.font=`${d*c(this,As)}px ${u}`,e.prevFontSize=d,e.prevFontFamily=u);const{width:f}=r.measureText(t.textContent);f>0&&(l=`scaleX(${h*c(this,As)/f}) ${l}`)}i.angle!==0&&(l=`rotate(${i.angle}deg) ${l}`),l.length>0&&(o.transform=l)},tr=new WeakSet,Tf=function(e=null){let t=c(this,Ba).get(e||(e=""));if(!t){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=e,document.body.append(i),t=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),c(this,Ba).set(e,t)}return t},Hb=function(){if(c(this,Es)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.textContent="X",document.body.append(e),w(this,Es,e.getBoundingClientRect().height),e.remove()},Bb=function(e,t){const i=c(this,Ha).get(e);if(i)return i;const r=_(this,tr,Tf).call(this,t),s=r.font;r.canvas.width=r.canvas.height=dn,r.font=`${dn}px ${e}`;const a=r.measureText("");let o=a.fontBoundingBoxAscent,l=Math.abs(a.fontBoundingBoxDescent);if(o){const d=o/(o+l);return c(this,Ha).set(e,d),r.canvas.width=r.canvas.height=0,r.font=s,d}r.strokeStyle="red",r.clearRect(0,0,dn,dn),r.strokeText("g",0,0);let u=r.getImageData(0,0,dn,dn).data;l=0;for(let d=u.length-1-3;d>=0;d-=4)if(u[d]>0){l=Math.ceil(d/4/dn);break}r.clearRect(0,0,dn,dn),r.strokeText("A",0,dn),u=r.getImageData(0,0,dn,dn).data,o=0;for(let d=0,f=u.length;d<f;d+=4)if(u[d]>0){o=dn-Math.floor(d/4/dn);break}r.canvas.width=r.canvas.height=0,r.font=s;const h=o?o/(o+l):HR;return c(this,Ha).set(e,h),h},E(St,tr),E(St,Ha,new Map),E(St,Ba,new Map),E(St,Es,null),E(St,jl,new Set),St);function BR(){ZS("`renderTextLayer`, please use `TextLayer` instead.");const{textContentSource:n,container:e,viewport:t,...i}=arguments[0],r=Object.keys(i);r.length>0&&ve("Ignoring `renderTextLayer` parameters: "+r.join(", "));const s=new bp({textContentSource:n,container:e,viewport:t}),{textDivs:a,textContentItemsStr:o}=s;return{promise:s.render(),textDivs:a,textContentItemsStr:o}}function UR(){ZS("`updateTextLayer`, please use `TextLayer` instead.")}class ju{static textContent(e){const t=[],i={items:t,styles:Object.create(null)};function r(s){var l;if(!s)return;let a=null;const o=s.name;if(o==="#text")a=s.value;else if(ju.shouldBuildText(o))(l=s==null?void 0:s.attributes)!=null&&l.textContent?a=s.attributes.textContent:s.value&&(a=s.value);else return;if(a!==null&&t.push({str:a}),!!s.children)for(const u of s.children)r(u)}return r(e),i}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const $R=65536,VR=100,WR=5e3,GR=Jt?iR:VP,XR=Jt?rR:QS,KR=Jt?nR:$P,qR=Jt?sR:JS;function YR(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new Gv,{docId:t}=e,i=n.url?QR(n.url):null,r=n.data?JR(n.data):null,s=n.httpHeaders||null,a=n.withCredentials===!0,o=n.password??null,l=n.range instanceof Ub?n.range:null,u=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:$R;let h=n.worker instanceof gl?n.worker:null;const d=n.verbosity,f=typeof n.docBaseUrl=="string"&&!F0(n.docBaseUrl)?n.docBaseUrl:null,p=typeof n.cMapUrl=="string"?n.cMapUrl:null,g=n.cMapPacked!==!1,v=n.CMapReaderFactory||XR,S=typeof n.standardFontDataUrl=="string"?n.standardFontDataUrl:null,m=n.StandardFontDataFactory||qR,y=n.stopAtErrors!==!0,A=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,x=n.isEvalSupported!==!1,T=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!Jt,L=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,F=typeof n.disableFontFace=="boolean"?n.disableFontFace:Jt,b=n.fontExtraProperties===!0,O=n.enableXfa===!0,B=n.ownerDocument||globalThis.document,U=n.disableRange===!0,ee=n.disableStream===!0,Z=n.disableAutoFetch===!0,I=n.pdfBug===!0,M=n.enableHWA===!0,N=l?l.length:n.length??NaN,D=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!Jt&&!F,P=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:v===QS&&m===JS&&p&&S&&Kc(p,document.baseURI)&&Kc(S,document.baseURI),H=n.canvasFactory||new GR({ownerDocument:B,enableHWA:M}),W=n.filterFactory||new KR({docId:t,ownerDocument:B}),ie=null;MP(d);const Y={canvasFactory:H,filterFactory:W};if(P||(Y.cMapReaderFactory=new v({baseUrl:p,isCompressed:g}),Y.standardFontDataFactory=new m({baseUrl:S})),!h){const Ve={verbosity:d,port:$r.workerPort};h=Ve.port?gl.fromPort(Ve):new gl(Ve),e._worker=h}const re={docId:t,apiVersion:"4.4.168",data:r,password:o,disableAutoFetch:Z,rangeChunkSize:u,length:N,docBaseUrl:f,enableXfa:O,evaluatorOptions:{maxImageSize:A,disableFontFace:F,ignoreErrors:y,isEvalSupported:x,isOffscreenCanvasSupported:T,canvasMaxAreaInBytes:L,fontExtraProperties:b,useSystemFonts:D,cMapUrl:P?p:null,standardFontDataUrl:P?S:null}},ue={disableFontFace:F,fontExtraProperties:b,ownerDocument:B,pdfBug:I,styleElement:ie,loadingParams:{disableAutoFetch:Z,enableXfa:O}};return h.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const Ve=h.messageHandler.sendWithPromise("GetDocRequest",re,r?[r.buffer]:null);let Ae;if(l)Ae=new ER(l,{disableRange:U,disableStream:ee});else if(!r){if(!i)throw new Error("getDocument - no `url` parameter provided.");Ae=(Ke=>Jt?function(){return typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype}()&&Kc(Ke.url)?new Y_(Ke):new IR(Ke):Kc(Ke.url)?new Y_(Ke):new RR(Ke))({url:i,length:N,httpHeaders:s,withCredentials:a,rangeChunkSize:u,disableRange:U,disableStream:ee})}return Ve.then(he=>{if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const Ke=new Qc(t,he,h.port),Vn=new nL(Ke,e,Ae,ue,Y);e._transport=Vn,Ke.send("Ready",null)})}).catch(e._capability.reject),e}function QR(n){if(n instanceof URL)return n.href;try{return new URL(n,window.location).href}catch{if(Jt&&typeof n=="string")return n}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function JR(n){if(Jt&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return yg(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Q_(n){return typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0}var zp;const Hp=class Hp{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${xn(Hp,zp)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,t,i;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(r){throw(i=this._worker)!=null&&i.port&&delete this._worker._pendingDestroy,r}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};zp=new WeakMap,E(Hp,zp,0);let Gv=Hp,Ub=class{constructor(e,t,i=!1,r=null){this.length=e,this.initialData=t,this.progressiveDone=i,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const i of this._rangeListeners)i(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(const i of this._progressListeners)i(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){je("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class ZR{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return xe(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Ss,br,ti,Wo,Pf;class eL{constructor(e,t,i,r=!1){E(this,ti);E(this,Ss,null);E(this,br,!1);this._pageIndex=e,this._pageInfo=t,this._transport=i,this._stats=r?new O_:null,this._pdfBug=r,this.commonObjs=i.commonObjs,this.objs=new $b,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:i=0,offsetY:r=0,dontFlip:s=!1}={}){return new bd({viewBox:this.view,scale:e,rotation:t,offsetX:i,offsetY:r,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return xe(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:i="display",annotationMode:r=fs.ENABLE,transform:s=null,background:a=null,optionalContentConfigPromise:o=null,annotationCanvasMap:l=null,pageColors:u=null,printAnnotationStorage:h=null}){var A,x;(A=this._stats)==null||A.time("Overall");const d=this._transport.getRenderingIntent(i,r,h),{renderingIntent:f,cacheKey:p}=d;w(this,br,!1),_(this,ti,Pf).call(this),o||(o=this._transport.getOptionalContentConfig(f));let g=this._intentStates.get(p);g||(g=Object.create(null),this._intentStates.set(p,g)),g.streamReaderCancelTimeout&&(clearTimeout(g.streamReaderCancelTimeout),g.streamReaderCancelTimeout=null);const v=!!(f&Jn.PRINT);g.displayReadyCapability||(g.displayReadyCapability=Promise.withResolvers(),g.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(x=this._stats)==null||x.time("Page Request"),this._pumpOperatorList(d));const S=T=>{var L;g.renderTasks.delete(m),(this._maybeCleanupAfterRender||v)&&w(this,br,!0),_(this,ti,Wo).call(this,!v),T?(m.capability.reject(T),this._abortOperatorList({intentState:g,reason:T instanceof Error?T:new Error(T)})):m.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(L=globalThis.Stats)!=null&&L.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},m=new Kv({callback:S,params:{canvasContext:e,viewport:t,transform:s,background:a},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:g.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!v,pdfBug:this._pdfBug,pageColors:u});(g.renderTasks||(g.renderTasks=new Set)).add(m);const y=m.task;return Promise.all([g.displayReadyCapability.promise,o]).then(([T,L])=>{var F;if(this.destroyed){S();return}if((F=this._stats)==null||F.time("Rendering"),!(L.renderingIntent&f))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");m.initializeGraphics({transparency:T,optionalContentConfig:L}),m.operatorListChanged()}).catch(S),y}getOperatorList({intent:e="display",annotationMode:t=fs.ENABLE,printAnnotationStorage:i=null}={}){var l;function r(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(o))}const s=this._transport.getRenderingIntent(e,t,i,!0);let a=this._intentStates.get(s.cacheKey);a||(a=Object.create(null),this._intentStates.set(s.cacheKey,a));let o;return a.opListReadCapability||(o=Object.create(null),o.operatorListChanged=r,a.opListReadCapability=Promise.withResolvers(),(a.renderTasks||(a.renderTasks=new Set)).add(o),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(l=this._stats)==null||l.time("Page Request"),this._pumpOperatorList(s)),a.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>ju.textContent(i));const t=this.streamTextContent(e);return new Promise(function(i,r){function s(){a.read().then(function({value:l,done:u}){if(u){i(o);return}o.lang??(o.lang=l.lang),Object.assign(o.styles,l.styles),o.items.push(...l.items),s()},r)}const a=t.getReader(),o={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const i of t.renderTasks)e.push(i.completed),i.cancel();return this.objs.clear(),w(this,br,!1),_(this,ti,Pf).call(this),Promise.all(e)}cleanup(e=!1){w(this,br,!0);const t=_(this,ti,Wo).call(this,!1);return e&&t&&this._stats&&(this._stats=new O_),t}_startRenderPage(e,t){var r,s;const i=this._intentStates.get(t);i&&((r=this._stats)==null||r.timeEnd("Page Request"),(s=i.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,t){for(let i=0,r=e.length;i<r;i++)t.operatorList.fnArray.push(e.fnArray[i]),t.operatorList.argsArray.push(e.argsArray[i]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const i of t.renderTasks)i.operatorListChanged();e.lastChunk&&_(this,ti,Wo).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:i}){const{map:r,transfer:s}=i,o=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:r},s).getReader(),l=this._intentStates.get(t);l.streamReader=o;const u=()=>{o.read().then(({value:h,done:d})=>{if(d){l.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(h,l),u())},h=>{if(l.streamReader=null,!this._transport.destroyed){if(l.operatorList){l.operatorList.lastChunk=!0;for(const d of l.renderTasks)d.operatorListChanged();_(this,ti,Wo).call(this,!0)}if(l.displayReadyCapability)l.displayReadyCapability.reject(h);else if(l.opListReadCapability)l.opListReadCapability.reject(h);else throw h}})};u()}_abortOperatorList({intentState:e,reason:t,force:i=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!i){if(e.renderTasks.size>0)return;if(t instanceof I0){let r=VR;t.extraDelay>0&&t.extraDelay<1e3&&(r+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},r);return}}if(e.streamReader.cancel(new Fo(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[r,s]of this._intentStates)if(s===e){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}Ss=new WeakMap,br=new WeakMap,ti=new WeakSet,Wo=function(e=!1){if(_(this,ti,Pf).call(this),!c(this,br)||this.destroyed)return!1;if(e)return w(this,Ss,setTimeout(()=>{w(this,Ss,null),_(this,ti,Wo).call(this,!1)},WR)),!1;for(const{renderTasks:t,operatorList:i}of this._intentStates.values())if(t.size>0||!i.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),w(this,br,!1),!0},Pf=function(){c(this,Ss)&&(clearTimeout(c(this,Ss)),w(this,Ss,null))};var Ua,Bp;class tL{constructor(){E(this,Ua,new Set);E(this,Bp,Promise.resolve())}postMessage(e,t){const i={data:structuredClone(e,t?{transfer:t}:null)};c(this,Bp).then(()=>{for(const r of c(this,Ua))r.call(this,i)})}addEventListener(e,t){c(this,Ua).add(t)}removeEventListener(e,t){c(this,Ua).delete(t)}terminate(){c(this,Ua).clear()}}Ua=new WeakMap,Bp=new WeakMap;const pr={isWorkerDisabled:!1,fakeWorkerId:0};Jt&&(pr.isWorkerDisabled=!0,$r.workerSrc||($r.workerSrc="./pdf.worker.mjs")),pr.isSameOrigin=function(n,e){let t;try{if(t=new URL(n),!t.origin||t.origin==="null")return!1}catch{return!1}const i=new URL(e,t);return t.origin===i.origin},pr.createCDNWrapper=function(n){const e=`await import("${n}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};var $a,zl,Rf,Hl,Lf;const kn=class kn{constructor({name:e=null,port:t=null,verbosity:i=DP()}={}){E(this,zl);var r;if(this.name=e,this.destroyed=!1,this.verbosity=i,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if((r=c(kn,$a))!=null&&r.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(c(kn,$a)||w(kn,$a,new WeakMap)).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return Jt?Promise.all([nr.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new Qc("main","worker",e),this._messageHandler.on("ready",function(){}),_(this,zl,Rf).call(this)}_initialize(){if(pr.isWorkerDisabled||c(kn,Hl,Lf)){this._setupFakeWorker();return}let{workerSrc:e}=kn;try{pr.isSameOrigin(window.location.href,e)||(e=pr.createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),i=new Qc("main","worker",t),r=()=>{s.abort(),i.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},s=new AbortController;t.addEventListener("error",()=>{this._webWorker||r()},{signal:s.signal}),i.on("test",o=>{if(s.abort(),this.destroyed||!o){r();return}this._messageHandler=i,this._port=t,this._webWorker=t,_(this,zl,Rf).call(this)}),i.on("ready",o=>{if(s.abort(),this.destroyed){r();return}try{a()}catch{this._setupFakeWorker()}});const a=()=>{const o=new Uint8Array;i.send("test",o,[o.buffer])};a();return}catch{mg("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){pr.isWorkerDisabled||(ve("Setting up fake worker."),pr.isWorkerDisabled=!0),kn._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const t=new tL;this._port=t;const i=`fake${pr.fakeWorkerId++}`,r=new Qc(i+"_worker",i,t);e.setup(r,t),this._messageHandler=new Qc(i,i+"_worker",t),_(this,zl,Rf).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=c(kn,$a))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var i;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const t=(i=c(this,$a))==null?void 0:i.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new kn(e)}static get workerSrc(){if($r.workerSrc)return $r.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return xe(this,"_setupFakeWorkerGlobal",(async()=>c(this,Hl,Lf)?c(this,Hl,Lf):(await import(this.workerSrc)).WorkerMessageHandler)())}};$a=new WeakMap,zl=new WeakSet,Rf=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},Hl=new WeakSet,Lf=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},E(kn,Hl),E(kn,$a);let gl=kn;var xr,Bi,Bl,Ul,Ui,Va,Jc;class nL{constructor(e,t,i,r,s){E(this,Va);E(this,xr,new Map);E(this,Bi,new Map);E(this,Bl,new Map);E(this,Ul,new Map);E(this,Ui,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new $b,this.fontLoader=new eR({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return xe(this,"annotationStorage",new j0)}getRenderingIntent(e,t=fs.ENABLE,i=null,r=!1){let s=Jn.DISPLAY,a=jv;switch(e){case"any":s=Jn.ANY;break;case"display":break;case"print":s=Jn.PRINT;break;default:ve(`getRenderingIntent - invalid intent: ${e}`)}switch(t){case fs.DISABLE:s+=Jn.ANNOTATIONS_DISABLE;break;case fs.ENABLE:break;case fs.ENABLE_FORMS:s+=Jn.ANNOTATIONS_FORMS;break;case fs.ENABLE_STORAGE:s+=Jn.ANNOTATIONS_STORAGE,a=(s&Jn.PRINT&&i instanceof kb?i:this.annotationStorage).serializable;break;default:ve(`getRenderingIntent - invalid annotationMode: ${t}`)}return r&&(s+=Jn.OPLIST),{renderingIntent:s,cacheKey:`${s}_${a.hash}`,annotationStorageSerializable:a}}destroy(){var i;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(i=c(this,Ui))==null||i.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const r of c(this,Bi).values())e.push(r._destroy());c(this,Bi).clear(),c(this,Bl).clear(),c(this,Ul).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var r;this.commonObjs.clear(),this.fontLoader.clear(),c(this,xr).clear(),this.filterFactory.destroy(),bp.cleanup(),(r=this._networkStream)==null||r.cancelAllRequests(new Fo("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(i,r)=>{xt(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},r.onPull=()=>{this._fullReader.read().then(function({value:s,done:a}){if(a){r.close();return}xt(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{r.error(s)})},r.onCancel=s=>{this._fullReader.cancel(s),r.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("ReaderHeadersReady",i=>{const r=Promise.withResolvers(),s=this._fullReader;return s.headersReady.then(()=>{var a;(!s.isStreamingSupported||!s.isRangeSupported)&&(this._lastProgress&&((a=t.onProgress)==null||a.call(t,this._lastProgress)),s.onProgress=o=>{var l;(l=t.onProgress)==null||l.call(t,{loaded:o.loaded,total:o.total})}),r.resolve({isStreamingSupported:s.isStreamingSupported,isRangeSupported:s.isRangeSupported,contentLength:s.contentLength})},r.reject),r.promise}),e.on("GetRangeReader",(i,r)=>{xt(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(i.begin,i.end);if(!s){r.close();return}r.onPull=()=>{s.read().then(function({value:a,done:o}){if(o){r.close();return}xt(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{r.error(a)})},r.onCancel=a=>{s.cancel(a),r.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,t._capability.resolve(new ZR(i,this))}),e.on("DocException",function(i){let r;switch(i.name){case"PasswordException":r=new gv(i.message,i.code);break;case"InvalidPDFException":r=new XS(i.message);break;case"MissingPDFException":r=new Io(i.message);break;case"UnexpectedResponseException":r=new vg(i.message,i.status);break;case"UnknownErrorException":r=new mv(i.message,i.details);break;default:je("DocException - expected a valid Error.")}t._capability.reject(r)}),e.on("PasswordRequest",i=>{if(w(this,Ui,Promise.withResolvers()),t.onPassword){const r=s=>{s instanceof Error?c(this,Ui).reject(s):c(this,Ui).resolve({password:s})};try{t.onPassword(r,i.code)}catch(s){c(this,Ui).reject(s)}}else c(this,Ui).reject(new gv(i.message,i.code));return c(this,Ui).promise}),e.on("DataLoaded",i=>{var r;(r=t.onProgress)==null||r.call(t,{loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),e.on("StartRenderPage",i=>{if(this.destroyed)return;c(this,Bi).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),e.on("commonobj",([i,r,s])=>{var a;if(this.destroyed||this.commonObjs.has(i))return null;switch(r){case"Font":const{disableFontFace:o,fontExtraProperties:l,pdfBug:u}=this._params;if("error"in s){const p=s.error;ve(`Error during font loading: ${p}`),this.commonObjs.resolve(i,p);break}const h=u&&((a=globalThis.FontInspector)!=null&&a.enabled)?(p,g)=>globalThis.FontInspector.fontAdded(p,g):null,d=new tR(s,{disableFontFace:o,inspectFont:h});this.fontLoader.bind(d).catch(()=>e.sendWithPromise("FontFallback",{id:i})).finally(()=>{!l&&d.data&&(d.data=null),this.commonObjs.resolve(i,d)});break;case"CopyLocalImage":const{imageRef:f}=s;xt(f,"The imageRef must be defined.");for(const p of c(this,Bi).values())for(const[,g]of p.objs)if((g==null?void 0:g.ref)===f)return g.dataLen?(this.commonObjs.resolve(i,structuredClone(g)),g.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,s);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),e.on("obj",([i,r,s,a])=>{var l;if(this.destroyed)return;const o=c(this,Bi).get(r);if(!o.objs.has(i)){if(o._intentStates.size===0){(l=a==null?void 0:a.bitmap)==null||l.close();return}switch(s){case"Image":o.objs.resolve(i,a),(a==null?void 0:a.dataLen)>TP&&(o._maybeCleanupAfterRender=!0);break;case"Pattern":o.objs.resolve(i,a);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",i=>{var r;this.destroyed||(r=t.onProgress)==null||r.call(t,{loaded:i.loaded,total:i.total})}),e.on("FetchBuiltInCMap",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(i):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),e.on("FetchStandardFontData",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(i):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var i;this.annotationStorage.size<=0&&ve("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((i=this._fullReader)==null?void 0:i.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,i=c(this,Bl).get(t);if(i)return i;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&c(this,Ul).set(s.refStr,e);const a=new eL(t,s,this,this._params.pdfBug);return c(this,Bi).set(t,a),a});return c(this,Bl).set(t,r),r}getPageIndex(e){return Q_(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return _(this,Va,Jc).call(this,"GetFieldObjects")}hasJSActions(){return _(this,Va,Jc).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return _(this,Va,Jc).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return _(this,Va,Jc).call(this,"GetOptionalContentConfig").then(t=>new AR(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=c(this,xr).get(e);if(t)return t;const i=this.messageHandler.sendWithPromise(e,null).then(r=>{var s,a;return{info:r[0],metadata:r[1]?new wR(r[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((a=this._fullReader)==null?void 0:a.contentLength)??null}});return c(this,xr).set(e,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of c(this,Bi).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),c(this,xr).clear(),this.filterFactory.destroy(!0),bp.cleanup()}}cachedPageNumber(e){if(!Q_(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return c(this,Ul).get(t)??null}}xr=new WeakMap,Bi=new WeakMap,Bl=new WeakMap,Ul=new WeakMap,Ui=new WeakMap,Va=new WeakSet,Jc=function(e,t=null){const i=c(this,xr).get(e);if(i)return i;const r=this.messageHandler.sendWithPromise(e,t);return c(this,xr).set(e,r),r};const af=Symbol("INITIAL_DATA");var mi,Th,Xv;class $b{constructor(){E(this,Th);E(this,mi,Object.create(null))}get(e,t=null){if(t){const r=_(this,Th,Xv).call(this,e);return r.promise.then(()=>t(r.data)),null}const i=c(this,mi)[e];if(!i||i.data===af)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return i.data}has(e){const t=c(this,mi)[e];return!!t&&t.data!==af}resolve(e,t=null){const i=_(this,Th,Xv).call(this,e);i.data=t,i.resolve()}clear(){var e;for(const t in c(this,mi)){const{data:i}=c(this,mi)[t];(e=i==null?void 0:i.bitmap)==null||e.close()}w(this,mi,Object.create(null))}*[Symbol.iterator](){for(const e in c(this,mi)){const{data:t}=c(this,mi)[e];t!==af&&(yield[e,t])}}}mi=new WeakMap,Th=new WeakSet,Xv=function(e){var t;return(t=c(this,mi))[e]||(t[e]={...Promise.withResolvers(),data:af})};var bs;class iL{constructor(e){E(this,bs,null);w(this,bs,e),this.onContinue=null}get promise(){return c(this,bs).capability.promise}cancel(e=0){c(this,bs).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=c(this,bs).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=c(this,bs);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}bs=new WeakMap;var xs,Wa;const fa=class fa{constructor({callback:e,params:t,objs:i,commonObjs:r,annotationCanvasMap:s,operatorList:a,pageIndex:o,canvasFactory:l,filterFactory:u,useRequestAnimationFrame:h=!1,pdfBug:d=!1,pageColors:f=null}){E(this,xs,null);this.callback=e,this.params=t,this.objs=i,this.commonObjs=r,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=u,this._pdfBug=d,this.pageColors=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=h===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new iL(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var o,l;if(this.cancelled)return;if(this._canvas){if(c(fa,Wa).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");c(fa,Wa).add(this._canvas)}this._pdfBug&&((o=globalThis.StepperManager)!=null&&o.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:i,viewport:r,transform:s,background:a}=this.params;this.gfx=new pl(i,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:r,transparency:e,background:a}),this.operatorListIdx=0,this.graphicsReady=!0,(l=this.graphicsReadyCallback)==null||l.call(this)}cancel(e=null,t=0){var i;this.running=!1,this.cancelled=!0,(i=this.gfx)==null||i.endDrawing(),c(this,xs)&&(window.cancelAnimationFrame(c(this,xs)),w(this,xs,null)),c(fa,Wa).delete(this._canvas),this.callback(e||new I0(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?w(this,xs,window.requestAnimationFrame(()=>{w(this,xs,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),c(fa,Wa).delete(this._canvas),this.callback())))}};xs=new WeakMap,Wa=new WeakMap,E(fa,Wa,new WeakSet);let Kv=fa;const rL="4.4.168",sL="19fbc8998";function J_(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function zc(n){return Math.max(0,Math.min(255,255*n))}class Z_{static CMYK_G([e,t,i,r]){return["G",1-Math.min(1,.3*e+.59*i+.11*t+r)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=zc(e),[e,e,e]}static G_HTML([e]){const t=J_(e);return`#${t}${t}${t}`}static RGB_G([e,t,i]){return["G",.3*e+.59*t+.11*i]}static RGB_rgb(e){return e.map(zc)}static RGB_HTML(e){return`#${e.map(J_).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,i,r]){return["RGB",1-Math.min(1,e+r),1-Math.min(1,i+r),1-Math.min(1,t+r)]}static CMYK_rgb([e,t,i,r]){return[zc(1-Math.min(1,e+r)),zc(1-Math.min(1,i+r)),zc(1-Math.min(1,t+r))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,i]){const r=1-e,s=1-t,a=1-i,o=Math.min(r,s,a);return["CMYK",r,s,a,o]}}class Vb{static setupStorage(e,t,i,r,s){const a=r.getValue(t,{value:null});switch(i.name){case"textarea":if(a.value!==null&&(e.textContent=a.value),s==="print")break;e.addEventListener("input",o=>{r.setValue(t,{value:o.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(a.value===i.attributes.xfaOn?e.setAttribute("checked",!0):a.value===i.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",o=>{r.setValue(t,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&e.setAttribute("value",a.value),s==="print")break;e.addEventListener("input",o=>{r.setValue(t,{value:o.target.value})})}break;case"select":if(a.value!==null){e.setAttribute("value",a.value);for(const o of i.children)o.attributes.value===a.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}e.addEventListener("input",o=>{const l=o.target.options,u=l.selectedIndex===-1?"":l[l.selectedIndex].value;r.setValue(t,{value:u})});break}}static setAttributes({html:e,element:t,storage:i=null,intent:r,linkService:s}){const{attributes:a}=t,o=e instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${r}`);for(const[l,u]of Object.entries(a))if(u!=null)switch(l){case"class":u.length&&e.setAttribute(l,u.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",u);break;case"style":Object.assign(e.style,u);break;case"textContent":e.textContent=u;break;default:(!o||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,u)}o&&s.addLinkAttributes(e,a.href,a.newWindow),i&&a.dataId&&this.setupStorage(e,a.dataId,t,i)}static render(e){var d,f;const t=e.annotationStorage,i=e.linkService,r=e.xfaHtml,s=e.intent||"display",a=document.createElement(r.name);r.attributes&&this.setAttributes({html:a,element:r,intent:s,linkService:i});const o=s!=="richText",l=e.div;if(l.append(a),e.viewport){const p=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=p}o&&l.setAttribute("class","xfaLayer xfaFont");const u=[];if(r.children.length===0){if(r.value){const p=document.createTextNode(r.value);a.append(p),o&&ju.shouldBuildText(r.name)&&u.push(p)}return{textDivs:u}}const h=[[r,-1,a]];for(;h.length>0;){const[p,g,v]=h.at(-1);if(g+1===p.children.length){h.pop();continue}const S=p.children[++h.at(-1)[1]];if(S===null)continue;const{name:m}=S;if(m==="#text"){const A=document.createTextNode(S.value);u.push(A),v.append(A);continue}const y=(d=S==null?void 0:S.attributes)!=null&&d.xmlns?document.createElementNS(S.attributes.xmlns,m):document.createElement(m);if(v.append(y),S.attributes&&this.setAttributes({html:y,element:S,storage:t,intent:s,linkService:i}),((f=S.children)==null?void 0:f.length)>0)h.push([S,-1,y]);else if(S.value){const A=document.createTextNode(S.value);o&&ju.shouldBuildText(m)&&u.push(A),y.append(A)}}for(const p of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:u}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const kd=1e3,aL=9,Co=new WeakSet;function Vr(n){return{width:n[2]-n[0],height:n[3]-n[1]}}class oL{static create(e){switch(e.data.annotationType){case yt.LINK:return new Wb(e);case yt.TEXT:return new lL(e);case yt.WIDGET:switch(e.data.fieldType){case"Tx":return new cL(e);case"Btn":return e.data.radioButton?new Kb(e):e.data.checkBox?new hL(e):new dL(e);case"Ch":return new fL(e);case"Sig":return new uL(e)}return new No(e);case yt.POPUP:return new Yv(e);case yt.FREETEXT:return new Zb(e);case yt.LINE:return new gL(e);case yt.SQUARE:return new mL(e);case yt.CIRCLE:return new vL(e);case yt.POLYLINE:return new e1(e);case yt.CARET:return new wL(e);case yt.INK:return new t1(e);case yt.POLYGON:return new yL(e);case yt.HIGHLIGHT:return new _L(e);case yt.UNDERLINE:return new AL(e);case yt.SQUIGGLY:return new EL(e);case yt.STRIKEOUT:return new SL(e);case yt.STAMP:return new n1(e);case yt.FILEATTACHMENT:return new bL(e);default:return new dt(e)}}}var Ga,$l,Vl,Ph,qv;const W0=class W0{constructor(e,{isRenderable:t=!1,ignoreBorder:i=!1,createQuadrilaterals:r=!1}={}){E(this,Ph);E(this,Ga,null);E(this,$l,!1);E(this,Vl,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(i)),r&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:i}){return!!(e!=null&&e.str||t!=null&&t.str||i!=null&&i.str)}get hasPopupData(){return W0._hasPopupData(this.data)}updateEdited(e){var i;if(!this.container)return;c(this,Ga)||w(this,Ga,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&_(this,Ph,qv).call(this,t),(i=c(this,Vl))==null||i.popup.updateEdited(e)}resetEdited(){var e;c(this,Ga)&&(_(this,Ph,qv).call(this,c(this,Ga).rect),(e=c(this,Vl))==null||e.popup.resetEdited(),w(this,Ga,null))}_createContainer(e){const{data:t,parent:{page:i,viewport:r}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),this instanceof No||(s.tabIndex=kd);const{style:a}=s;if(a.zIndex=this.parent.zIndex++,t.popupRef&&s.setAttribute("aria-haspopup","dialog"),t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof Yv){const{rotation:v}=t;return!t.hasOwnCanvas&&v!==0&&this.setRotation(v,s),s}const{width:o,height:l}=Vr(t.rect);if(!e&&t.borderStyle.width>0){a.borderWidth=`${t.borderStyle.width}px`;const v=t.borderStyle.horizontalCornerRadius,S=t.borderStyle.verticalCornerRadius;if(v>0||S>0){const y=`calc(${v}px * var(--scale-factor)) / calc(${S}px * var(--scale-factor))`;a.borderRadius=y}else if(this instanceof Kb){const y=`calc(${o}px * var(--scale-factor)) / calc(${l}px * var(--scale-factor))`;a.borderRadius=y}switch(t.borderStyle.style){case Oc.SOLID:a.borderStyle="solid";break;case Oc.DASHED:a.borderStyle="dashed";break;case Oc.BEVELED:ve("Unimplemented border style: beveled");break;case Oc.INSET:ve("Unimplemented border style: inset");break;case Oc.UNDERLINE:a.borderBottomStyle="solid";break}const m=t.borderColor||null;m?(w(this,$l,!0),a.borderColor=ne.makeHexColor(m[0]|0,m[1]|0,m[2]|0)):a.borderWidth=0}const u=ne.normalizeRect([t.rect[0],i.view[3]-t.rect[1]+i.view[1],t.rect[2],i.view[3]-t.rect[3]+i.view[1]]),{pageWidth:h,pageHeight:d,pageX:f,pageY:p}=r.rawDims;a.left=`${100*(u[0]-f)/h}%`,a.top=`${100*(u[1]-p)/d}%`;const{rotation:g}=t;return t.hasOwnCanvas||g===0?(a.width=`${100*o/h}%`,a.height=`${100*l/d}%`):this.setRotation(g,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:r}=this.parent.viewport.rawDims,{width:s,height:a}=Vr(this.data.rect);let o,l;e%180===0?(o=100*s/i,l=100*a/r):(o=100*a/i,l=100*s/r),t.style.width=`${o}%`,t.style.height=`${l}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,i,r)=>{const s=r.detail[t],a=s[0],o=s.slice(1);r.target.style[i]=Z_[`${a}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[i]:Z_[`${a}_rgb`](o)})};return xe(this,"_commonActions",{display:t=>{const{display:i}=t.detail,r=i%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:i===1||i===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:i}=t.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const i=t.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(e,t){const i=this._commonActions;for(const r of Object.keys(t.detail)){const s=e[r]||i[r];s==null||s(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const i=this._commonActions;for(const[r,s]of Object.entries(t)){const a=i[r];if(a){const o={detail:{[r]:s},target:e};a(o),delete t[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,i,r,s]=this.data.rect.map(v=>Math.fround(v));if(e.length===8){const[v,S,m,y]=e.subarray(2,6);if(r===v&&s===S&&t===m&&i===y)return}const{style:a}=this.container;let o;if(c(this,$l)){const{borderColor:v,borderWidth:S}=a;a.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${v}" stroke-width="${S}">`],this.container.classList.add("hasBorder")}const l=r-t,u=s-i,{svgFactory:h}=this,d=h.createElement("svg");d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0);const f=h.createElement("defs");d.append(f);const p=h.createElement("clipPath"),g=`clippath_${this.data.id}`;p.setAttribute("id",g),p.setAttribute("clipPathUnits","objectBoundingBox"),f.append(p);for(let v=2,S=e.length;v<S;v+=8){const m=e[v],y=e[v+1],A=e[v+2],x=e[v+3],T=h.createElement("rect"),L=(A-t)/l,F=(s-y)/u,b=(m-A)/l,O=(y-x)/u;T.setAttribute("x",L),T.setAttribute("y",F),T.setAttribute("width",b),T.setAttribute("height",O),p.append(T),o==null||o.push(`<rect vector-effect="non-scaling-stroke" x="${L}" y="${F}" width="${b}" height="${O}"/>`)}c(this,$l)&&(o.push("</g></svg>')"),a.backgroundImage=o.join("")),this.container.append(d),this.container.style.clipPath=`url(#${g})`}_createPopup(){const{container:e,data:t}=this;e.setAttribute("aria-haspopup","dialog");const i=w(this,Vl,new Yv({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(i.render())}render(){je("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const i=[];if(this._fieldObjects){const r=this._fieldObjects[e];if(r)for(const{page:s,id:a,exportValues:o}of r){if(s===-1||a===t)continue;const l=typeof o=="string"?o:null,u=document.querySelector(`[data-element-id="${a}"]`);if(u&&!Co.has(u)){ve(`_getElementsByName - element not allowed: ${a}`);continue}i.push({id:a,exportValue:l,domElement:u})}return i}for(const r of document.getElementsByName(e)){const{exportValue:s}=r,a=r.getAttribute("data-element-id");a!==t&&Co.has(r)&&i.push({id:a,exportValue:s,domElement:r})}return i}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var i;(i=this.linkService.eventBus)==null||i.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}};Ga=new WeakMap,$l=new WeakMap,Vl=new WeakMap,Ph=new WeakSet,qv=function(e){const{container:{style:t},data:{rect:i,rotation:r},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:l}}}}=this;i==null||i.splice(0,4,...e);const{width:u,height:h}=Vr(e);t.left=`${100*(e[0]-o)/s}%`,t.top=`${100*(a-e[3]+l)/a}%`,r===0?(t.width=`${100*u/s}%`,t.height=`${100*h/a}%`):this.setRotation(r)};let dt=W0;var jn,la,Gb,Xb;class Wb extends dt{constructor(t,i=null){super(t,{isRenderable:!0,ignoreBorder:!!(i!=null&&i.ignoreBorder),createQuadrilaterals:!0});E(this,jn);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:i}=this,r=document.createElement("a");r.setAttribute("data-element-id",t.id);let s=!1;return t.url?(i.addLinkAttributes(r,t.url,t.newWindow),s=!0):t.action?(this._bindNamedAction(r,t.action),s=!0):t.attachment?(_(this,jn,Gb).call(this,r,t.attachment,t.attachmentDest),s=!0):t.setOCGState?(_(this,jn,Xb).call(this,r,t.setOCGState),s=!0):t.dest?(this._bindLink(r,t.dest),s=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,t),s=!0),t.resetForm?(this._bindResetFormAction(r,t.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(r,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(r),this.container}_bindLink(t,i){t.href=this.linkService.getDestinationHash(i),t.onclick=()=>(i&&this.linkService.goToDestination(i),!1),(i||i==="")&&_(this,jn,la).call(this)}_bindNamedAction(t,i){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(i),!1),_(this,jn,la).call(this)}_bindJSAction(t,i){t.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(i.actions)){const a=r.get(s);a&&(t[a]=()=>{var o;return(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i.id,name:s}}),!1})}t.onclick||(t.onclick=()=>!1),_(this,jn,la).call(this)}_bindResetFormAction(t,i){const r=t.onclick;if(r||(t.href=this.linkService.getAnchorUrl("")),_(this,jn,la).call(this),!this._fieldObjects){ve('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(t.onclick=()=>!1);return}t.onclick=()=>{var d;r==null||r();const{fields:s,refs:a,include:o}=i,l=[];if(s.length!==0||a.length!==0){const f=new Set(a);for(const p of s){const g=this._fieldObjects[p]||[];for(const{id:v}of g)f.add(v)}for(const p of Object.values(this._fieldObjects))for(const g of p)f.has(g.id)===o&&l.push(g)}else for(const f of Object.values(this._fieldObjects))l.push(...f);const u=this.annotationStorage,h=[];for(const f of l){const{id:p}=f;switch(h.push(p),f.type){case"text":{const v=f.defaultValue||"";u.setValue(p,{value:v});break}case"checkbox":case"radiobutton":{const v=f.defaultValue===f.exportValues;u.setValue(p,{value:v});break}case"combobox":case"listbox":{const v=f.defaultValue||"";u.setValue(p,{value:v});break}default:continue}const g=document.querySelector(`[data-element-id="${p}"]`);if(g){if(!Co.has(g)){ve(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;g.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:h,name:"ResetForm"}})),!1}}}jn=new WeakSet,la=function(){this.container.setAttribute("data-internal-link","")},Gb=function(t,i,r=null){t.href=this.linkService.getAnchorUrl(""),i.description&&(t.title=i.description),t.onclick=()=>{var s;return(s=this.downloadManager)==null||s.openOrDownloadData(i.content,i.filename,r),!1},_(this,jn,la).call(this)},Xb=function(t,i){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(i),!1),_(this,jn,la).call(this)};class lL extends dt{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class No extends dt{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return yn.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,i,r,s){i.includes("mouse")?e.addEventListener(i,a=>{var o;(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):e.addEventListener(i,a=>{var o;if(i==="blur"){if(!t.focused||!a.relatedTarget)return;t.focused=!1}else if(i==="focus"){if(t.focused)return;t.focused=!0}s&&((o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(a)}}))})}_setEventListeners(e,t,i,r){var s,a,o;for(const[l,u]of i)(u==="Action"||(s=this.data.actions)!=null&&s[u])&&((u==="Focus"||u==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,l,u,r),u==="Focus"&&!((a=this.data.actions)!=null&&a.Blur)?this._setEventListener(e,t,"blur","Blur",null):u==="Blur"&&!((o=this.data.actions)!=null&&o.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":ne.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||aL,s=e.style;let a;const o=2,l=u=>Math.round(10*u)/10;if(this.data.multiLine){const u=Math.abs(this.data.rect[3]-this.data.rect[1]-o),h=Math.round(u/(dm*r))||1,d=u/h;a=Math.min(r,l(d/dm))}else{const u=Math.abs(this.data.rect[3]-this.data.rect[1]-o);a=Math.min(r,l(u/dm))}s.fontSize=`calc(${a}px * var(--scale-factor))`,s.color=ne.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class cL extends No{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,i,r){const s=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[t]=i),s.setValue(a.id,{[r]:i})}render(){var r,s;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const a=e.getValue(t,{value:this.data.fieldValue});let o=a.value||"";const l=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;l&&o.length>l&&(o=o.slice(0,l));let u=a.formattedValue||((r=this.data.textContent)==null?void 0:r.join(`
`))||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const h={userValue:o,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=u??o,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type="text",i.setAttribute("value",u??o),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),Co.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=kd,this._setRequired(i,this.data.required),l&&(i.maxLength=l),i.addEventListener("input",f=>{e.setValue(t,{value:f.target.value}),this.setPropertyOnSiblings(i,"value",f.target.value,"value"),h.formattedValue=null}),i.addEventListener("resetform",f=>{const p=this.data.defaultFieldValue??"";i.value=h.userValue=p,h.formattedValue=null});let d=f=>{const{formattedValue:p}=h;p!=null&&(f.target.value=p),f.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",p=>{var v;if(h.focused)return;const{target:g}=p;h.userValue&&(g.value=h.userValue),h.lastCommittedValue=g.value,h.commitKey=1,(v=this.data.actions)!=null&&v.Focus||(h.focused=!0)}),i.addEventListener("updatefromsandbox",p=>{this.showElementAndHideCanvas(p.target);const g={value(v){h.userValue=v.detail.value??"",e.setValue(t,{value:h.userValue.toString()}),v.target.value=h.userValue},formattedValue(v){const{formattedValue:S}=v.detail;h.formattedValue=S,S!=null&&v.target!==document.activeElement&&(v.target.value=S),e.setValue(t,{formattedValue:S})},selRange(v){v.target.setSelectionRange(...v.detail.selRange)},charLimit:v=>{var A;const{charLimit:S}=v.detail,{target:m}=v;if(S===0){m.removeAttribute("maxLength");return}m.setAttribute("maxLength",S);let y=h.userValue;!y||y.length<=S||(y=y.slice(0,S),m.value=h.userValue=y,e.setValue(t,{value:y}),(A=this.linkService.eventBus)==null||A.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:y,willCommit:!0,commitKey:1,selStart:m.selectionStart,selEnd:m.selectionEnd}}))}};this._dispatchEventFromSandbox(g,p)}),i.addEventListener("keydown",p=>{var S;h.commitKey=1;let g=-1;if(p.key==="Escape"?g=0:p.key==="Enter"&&!this.data.multiLine?g=2:p.key==="Tab"&&(h.commitKey=3),g===-1)return;const{value:v}=p.target;h.lastCommittedValue!==v&&(h.lastCommittedValue=v,h.userValue=v,(S=this.linkService.eventBus)==null||S.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:v,willCommit:!0,commitKey:g,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}}))});const f=d;d=null,i.addEventListener("blur",p=>{var v,S;if(!h.focused||!p.relatedTarget)return;(v=this.data.actions)!=null&&v.Blur||(h.focused=!1);const{value:g}=p.target;h.userValue=g,h.lastCommittedValue!==g&&((S=this.linkService.eventBus)==null||S.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:g,willCommit:!0,commitKey:h.commitKey,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}})),f(p)}),(s=this.data.actions)!=null&&s.Keystroke&&i.addEventListener("beforeinput",p=>{var T;h.lastCommittedValue=null;const{data:g,target:v}=p,{value:S,selectionStart:m,selectionEnd:y}=v;let A=m,x=y;switch(p.inputType){case"deleteWordBackward":{const L=S.substring(0,m).match(/\w*[^\w]*$/);L&&(A-=L[0].length);break}case"deleteWordForward":{const L=S.substring(m).match(/^[^\w]*\w*/);L&&(x+=L[0].length);break}case"deleteContentBackward":m===y&&(A-=1);break;case"deleteContentForward":m===y&&(x+=1);break}p.preventDefault(),(T=this.linkService.eventBus)==null||T.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:S,change:g||"",willCommit:!1,selStart:A,selEnd:x}})}),this._setEventListeners(i,h,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],p=>p.target.value)}if(d&&i.addEventListener("blur",d),this.data.comb){const p=(this.data.rect[2]-this.data.rect[0])/l;i.classList.add("comb"),i.style.letterSpacing=`calc(${p}px * var(--scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class uL extends No{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class hL extends No{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,i=t.id;let r=e.getValue(i,{value:t.exportValue===t.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",e.setValue(i,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return Co.add(s),s.setAttribute("data-element-id",i),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,r&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=kd,s.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const u of this._getElementsByName(o,i)){const h=l&&u.exportValue===t.exportValue;u.domElement&&(u.domElement.checked=h),e.setValue(u.id,{value:h})}e.setValue(i,{value:l})}),s.addEventListener("resetform",a=>{const o=t.defaultFieldValue||"Off";a.target.checked=o===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",a=>{const o={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(i,{value:l.target.checked})}};this._dispatchEventFromSandbox(o,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class Kb extends No{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,i=t.id;let r=e.getValue(i,{value:t.fieldValue===t.buttonValue}).value;if(typeof r=="string"&&(r=r!==t.buttonValue,e.setValue(i,{value:r})),r)for(const a of this._getElementsByName(t.fieldName,i))e.setValue(a.id,{value:!1});const s=document.createElement("input");if(Co.add(s),s.setAttribute("data-element-id",i),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,r&&s.setAttribute("checked",!0),s.tabIndex=kd,s.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const u of this._getElementsByName(o,i))e.setValue(u.id,{value:!1});e.setValue(i,{value:l})}),s.addEventListener("resetform",a=>{const o=t.defaultFieldValue;a.target.checked=o!=null&&o===t.buttonValue}),this.enableScripting&&this.hasJSActions){const a=t.buttonValue;s.addEventListener("updatefromsandbox",o=>{const l={value:u=>{const h=a===u.detail.value;for(const d of this._getElementsByName(u.target.name)){const f=h&&d.id===i;d.domElement&&(d.domElement.checked=f),e.setValue(d.id,{value:f})}}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class dL extends Wb{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),e}}class fL extends No{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,i=e.getValue(t,{value:this.data.fieldValue}),r=document.createElement("select");Co.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=kd;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",h=>{const d=this.data.defaultFieldValue;for(const f of r.options)f.selected=f.value===d});for(const h of this.data.options){const d=document.createElement("option");d.textContent=h.displayValue,d.value=h.exportValue,i.value.includes(h.exportValue)&&(d.setAttribute("selected",!0),s=!1),r.append(d)}let a=null;if(s){const h=document.createElement("option");h.value=" ",h.setAttribute("hidden",!0),h.setAttribute("selected",!0),r.prepend(h),a=()=>{h.remove(),r.removeEventListener("input",a),a=null},r.addEventListener("input",a)}const o=h=>{const d=h?"value":"textContent",{options:f,multiple:p}=r;return p?Array.prototype.filter.call(f,g=>g.selected).map(g=>g[d]):f.selectedIndex===-1?null:f[f.selectedIndex][d]};let l=o(!1);const u=h=>{const d=h.target.options;return Array.prototype.map.call(d,f=>({displayValue:f.textContent,exportValue:f.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",h=>{const d={value(f){a==null||a();const p=f.detail.value,g=new Set(Array.isArray(p)?p:[p]);for(const v of r.options)v.selected=g.has(v.value);e.setValue(t,{value:o(!0)}),l=o(!1)},multipleSelection(f){r.multiple=!0},remove(f){const p=r.options,g=f.detail.remove;p[g].selected=!1,r.remove(g),p.length>0&&Array.prototype.findIndex.call(p,S=>S.selected)===-1&&(p[0].selected=!0),e.setValue(t,{value:o(!0),items:u(f)}),l=o(!1)},clear(f){for(;r.length!==0;)r.remove(0);e.setValue(t,{value:null,items:[]}),l=o(!1)},insert(f){const{index:p,displayValue:g,exportValue:v}=f.detail.insert,S=r.children[p],m=document.createElement("option");m.textContent=g,m.value=v,S?S.before(m):r.append(m),e.setValue(t,{value:o(!0),items:u(f)}),l=o(!1)},items(f){const{items:p}=f.detail;for(;r.length!==0;)r.remove(0);for(const g of p){const{displayValue:v,exportValue:S}=g,m=document.createElement("option");m.textContent=v,m.value=S,r.append(m)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(t,{value:o(!0),items:u(f)}),l=o(!1)},indices(f){const p=new Set(f.detail.indices);for(const g of f.target.options)g.selected=p.has(g.index);e.setValue(t,{value:o(!0)}),l=o(!1)},editable(f){f.target.disabled=!f.detail.editable}};this._dispatchEventFromSandbox(d,h)}),r.addEventListener("input",h=>{var p;const d=o(!0),f=o(!1);e.setValue(t,{value:d}),h.preventDefault(),(p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:l,change:f,changeEx:d,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],h=>h.target.value)):r.addEventListener("input",function(h){e.setValue(t,{value:o(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class Yv extends dt{constructor(e){const{data:t,elements:i}=e;super(e,{isRenderable:dt._hasPopupData(t)}),this.elements=i,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new pL({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const i of this.elements)i.popup=e,t.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(i=>`${qS}${i}`).join(",")),this.container}}var Wl,Up,$p,Gl,Xa,ot,Cr,Ka,Rh,Lh,Xl,kr,vi,Tr,Mh,Pr,Dh,qa,Ya,ze,Mf,Qv,qb,Yb,Qb,Jb,Df,If,Jv;class pL{constructor({container:e,color:t,elements:i,titleObj:r,modificationDate:s,contentsObj:a,richText:o,parent:l,rect:u,parentRect:h,open:d}){E(this,ze);E(this,Wl,_(this,ze,Qb).bind(this));E(this,Up,_(this,ze,Jv).bind(this));E(this,$p,_(this,ze,If).bind(this));E(this,Gl,_(this,ze,Df).bind(this));E(this,Xa,null);E(this,ot,null);E(this,Cr,null);E(this,Ka,null);E(this,Rh,null);E(this,Lh,null);E(this,Xl,null);E(this,kr,!1);E(this,vi,null);E(this,Tr,null);E(this,Mh,null);E(this,Pr,null);E(this,Dh,null);E(this,qa,null);E(this,Ya,!1);var f;w(this,ot,e),w(this,Dh,r),w(this,Cr,a),w(this,Pr,o),w(this,Lh,l),w(this,Xa,t),w(this,Mh,u),w(this,Xl,h),w(this,Rh,i),w(this,Ka,eb.toDateObject(s)),this.trigger=i.flatMap(p=>p.getElementsToTriggerPopup());for(const p of this.trigger)p.addEventListener("click",c(this,Gl)),p.addEventListener("mouseenter",c(this,$p)),p.addEventListener("mouseleave",c(this,Up)),p.classList.add("popupTriggerArea");for(const p of i)(f=p.container)==null||f.addEventListener("keydown",c(this,Wl));c(this,ot).hidden=!0,d&&_(this,ze,Df).call(this)}render(){if(c(this,vi))return;const e=w(this,vi,document.createElement("div"));if(e.className="popup",c(this,Xa)){const s=e.style.outlineColor=ne.makeHexColor(...c(this,Xa));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`:e.style.backgroundColor=ne.makeHexColor(...c(this,Xa).map(o=>Math.floor(.7*(255-o)+o)))}const t=document.createElement("span");t.className="header";const i=document.createElement("h1");if(t.append(i),{dir:i.dir,str:i.textContent}=c(this,Dh),e.append(t),c(this,Ka)){const s=document.createElement("span");s.classList.add("popupDate"),s.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),s.setAttribute("data-l10n-args",JSON.stringify({date:c(this,Ka).toLocaleDateString(),time:c(this,Ka).toLocaleTimeString()})),t.append(s)}const r=c(this,ze,Mf);if(r)Vb.render({xfaHtml:r,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const s=this._formatContents(c(this,Cr));e.append(s)}c(this,ot).append(e)}_formatContents({str:e,dir:t}){const i=document.createElement("p");i.classList.add("popupContent"),i.dir=t;const r=e.split(/(?:\r\n?|\n)/);for(let s=0,a=r.length;s<a;++s){const o=r[s];i.append(document.createTextNode(o)),s<a-1&&i.append(document.createElement("br"))}return i}updateEdited({rect:e,popupContent:t}){var i;c(this,qa)||w(this,qa,{contentsObj:c(this,Cr),richText:c(this,Pr)}),e&&w(this,Tr,null),t&&(w(this,Pr,_(this,ze,Yb).call(this,t)),w(this,Cr,null)),(i=c(this,vi))==null||i.remove(),w(this,vi,null)}resetEdited(){var e;c(this,qa)&&({contentsObj:xn(this,Cr)._,richText:xn(this,Pr)._}=c(this,qa),w(this,qa,null),(e=c(this,vi))==null||e.remove(),w(this,vi,null),w(this,Tr,null))}forceHide(){w(this,Ya,this.isVisible),c(this,Ya)&&(c(this,ot).hidden=!0)}maybeShow(){c(this,Ya)&&(c(this,vi)||_(this,ze,If).call(this),w(this,Ya,!1),c(this,ot).hidden=!1)}get isVisible(){return c(this,ot).hidden===!1}}Wl=new WeakMap,Up=new WeakMap,$p=new WeakMap,Gl=new WeakMap,Xa=new WeakMap,ot=new WeakMap,Cr=new WeakMap,Ka=new WeakMap,Rh=new WeakMap,Lh=new WeakMap,Xl=new WeakMap,kr=new WeakMap,vi=new WeakMap,Tr=new WeakMap,Mh=new WeakMap,Pr=new WeakMap,Dh=new WeakMap,qa=new WeakMap,Ya=new WeakMap,ze=new WeakSet,Mf=function(){const e=c(this,Pr),t=c(this,Cr);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&c(this,Pr).html||null},Qv=function(){var e,t,i;return((i=(t=(e=c(this,ze,Mf))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:i.fontSize)||0},qb=function(){var e,t,i;return((i=(t=(e=c(this,ze,Mf))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:i.color)||null},Yb=function(e){const t=[],i={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},r={style:{color:c(this,ze,qb),fontSize:c(this,ze,Qv)?`calc(${c(this,ze,Qv)}px * var(--scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:r});return i},Qb=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&c(this,kr))&&_(this,ze,Df).call(this)},Jb=function(){if(c(this,Tr)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:i,pageX:r,pageY:s}}}=c(this,Lh);let a=!!c(this,Xl),o=a?c(this,Xl):c(this,Mh);for(const g of c(this,Rh))if(!o||ne.intersect(g.data.rect,o)!==null){o=g.data.rect,a=!0;break}const l=ne.normalizeRect([o[0],e[3]-o[1]+e[1],o[2],e[3]-o[3]+e[1]]),h=a?o[2]-o[0]+5:0,d=l[0]+h,f=l[1];w(this,Tr,[100*(d-r)/t,100*(f-s)/i]);const{style:p}=c(this,ot);p.left=`${c(this,Tr)[0]}%`,p.top=`${c(this,Tr)[1]}%`},Df=function(){w(this,kr,!c(this,kr)),c(this,kr)?(_(this,ze,If).call(this),c(this,ot).addEventListener("click",c(this,Gl)),c(this,ot).addEventListener("keydown",c(this,Wl))):(_(this,ze,Jv).call(this),c(this,ot).removeEventListener("click",c(this,Gl)),c(this,ot).removeEventListener("keydown",c(this,Wl)))},If=function(){c(this,vi)||this.render(),this.isVisible?c(this,kr)&&c(this,ot).classList.add("focused"):(_(this,ze,Jb).call(this),c(this,ot).hidden=!1,c(this,ot).style.zIndex=parseInt(c(this,ot).style.zIndex)+1e3)},Jv=function(){c(this,ot).classList.remove("focused"),!(c(this,kr)||!this.isVisible)&&(c(this,ot).hidden=!0,c(this,ot).style.zIndex=parseInt(c(this,ot).style.zIndex)-1e3)};class Zb extends dt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=be.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const i=document.createElement("span");i.textContent=t,e.append(i)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}var Ih;class gL extends dt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});E(this,Ih,null)}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:i,height:r}=Vr(t.rect),s=this.svgFactory.create(i,r,!0),a=w(this,Ih,this.svgFactory.createElement("svg:line"));return a.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),a.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),a.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),a.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),a.setAttribute("stroke-width",t.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,Ih)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ih=new WeakMap;var Fh;class mL extends dt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});E(this,Fh,null)}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:i,height:r}=Vr(t.rect),s=this.svgFactory.create(i,r,!0),a=t.borderStyle.width,o=w(this,Fh,this.svgFactory.createElement("svg:rect"));return o.setAttribute("x",a/2),o.setAttribute("y",a/2),o.setAttribute("width",i-a),o.setAttribute("height",r-a),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,Fh)}addHighlightArea(){this.container.classList.add("highlightArea")}}Fh=new WeakMap;var Nh;class vL extends dt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});E(this,Nh,null)}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:i,height:r}=Vr(t.rect),s=this.svgFactory.create(i,r,!0),a=t.borderStyle.width,o=w(this,Nh,this.svgFactory.createElement("svg:ellipse"));return o.setAttribute("cx",i/2),o.setAttribute("cy",r/2),o.setAttribute("rx",i/2-a/2),o.setAttribute("ry",r/2-a/2),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,Nh)}addHighlightArea(){this.container.classList.add("highlightArea")}}Nh=new WeakMap;var Oh;class e1 extends dt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});E(this,Oh,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:i,borderStyle:r,popupRef:s}}=this;if(!i)return this.container;const{width:a,height:o}=Vr(t),l=this.svgFactory.create(a,o,!0);let u=[];for(let d=0,f=i.length;d<f;d+=2){const p=i[d]-t[0],g=t[3]-i[d+1];u.push(`${p},${g}`)}u=u.join(" ");const h=w(this,Oh,this.svgFactory.createElement(this.svgElementName));return h.setAttribute("points",u),h.setAttribute("stroke-width",r.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),l.append(h),this.container.append(l),!s&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,Oh)}addHighlightArea(){this.container.classList.add("highlightArea")}}Oh=new WeakMap;class yL extends e1{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class wL extends dt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var jh;class t1 extends dt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});E(this,jh,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=be.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,inkLists:i,borderStyle:r,popupRef:s}}=this,{width:a,height:o}=Vr(t),l=this.svgFactory.create(a,o,!0);for(const u of i){let h=[];for(let f=0,p=u.length;f<p;f+=2){const g=u[f]-t[0],v=t[3]-u[f+1];h.push(`${g},${v}`)}h=h.join(" ");const d=this.svgFactory.createElement(this.svgElementName);c(this,jh).push(d),d.setAttribute("points",h),d.setAttribute("stroke-width",r.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),!s&&this.hasPopupData&&this._createPopup(),l.append(d)}return this.container.append(l),this.container}getElementsToTriggerPopup(){return c(this,jh)}addHighlightArea(){this.container.classList.add("highlightArea")}}jh=new WeakMap;class _L extends dt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class AL extends dt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class EL extends dt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class SL extends dt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class n1 extends dt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var zh,Hh,Zv;class bL extends dt{constructor(t){var r;super(t,{isRenderable:!0});E(this,Hh);E(this,zh,null);const{file:i}=this.data;this.filename=i.filename,this.content=i.content,(r=this.linkService.eventBus)==null||r.dispatch("fileattachmentannotation",{source:this,...i})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:i}=this;let r;i.hasAppearance||i.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(i.name)?"paperclip":"pushpin"}.svg`,i.fillAlpha&&i.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(i.fillAlpha*100)}%);`)),r.addEventListener("dblclick",_(this,Hh,Zv).bind(this)),w(this,zh,r);const{isMac:s}=yn.platform;return t.addEventListener("keydown",a=>{a.key==="Enter"&&(s?a.metaKey:a.ctrlKey)&&_(this,Hh,Zv).call(this)}),!i.popupRef&&this.hasPopupData?this._createPopup():r.classList.add("popupTriggerArea"),t.append(r),t}getElementsToTriggerPopup(){return c(this,zh)}addHighlightArea(){this.container.classList.add("highlightArea")}}zh=new WeakMap,Hh=new WeakSet,Zv=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var Bh,Qa,Kl,To,i1,ey,uA;let xL=(uA=class{constructor({div:e,accessibilityManager:t,annotationCanvasMap:i,annotationEditorUIManager:r,page:s,viewport:a}){E(this,To);E(this,Bh,null);E(this,Qa,null);E(this,Kl,new Map);this.div=e,w(this,Bh,t),w(this,Qa,i),this.page=s,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=r}async render(e){var a;const{annotations:t}=e,i=this.div;bo(i,this.viewport);const r=new Map,s={data:null,layer:i,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new D0,annotationStorage:e.annotationStorage||new j0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const o of t){if(o.noHTML)continue;const l=o.annotationType===yt.POPUP;if(l){const d=r.get(o.id);if(!d)continue;s.elements=d}else{const{width:d,height:f}=Vr(o.rect);if(d<=0||f<=0)continue}s.data=o;const u=oL.create(s);if(!u.isRenderable)continue;if(!l&&o.popupRef){const d=r.get(o.popupRef);d?d.push(u):r.set(o.popupRef,[u])}const h=u.render();o.hidden&&(h.style.visibility="hidden"),_(this,To,i1).call(this,h,o.id),u.annotationEditorType>0&&(c(this,Kl).set(u.data.id,u),(a=this._annotationEditorUIManager)==null||a.renderAnnotationElement(u))}_(this,To,ey).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,bo(t,{rotation:e.rotation}),_(this,To,ey).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(c(this,Kl).values())}getEditableAnnotation(e){return c(this,Kl).get(e)}},Bh=new WeakMap,Qa=new WeakMap,Kl=new WeakMap,To=new WeakSet,i1=function(e,t){var r;const i=e.firstChild||e;i.id=`${qS}${t}`,this.div.append(e),(r=c(this,Bh))==null||r.moveElementInDOM(this.div,e,i,!1)},ey=function(){if(!c(this,Qa))return;const e=this.div;for(const[t,i]of c(this,Qa)){const r=e.querySelector(`[data-annotation-id="${t}"]`);if(!r)continue;i.className="annotationContent";const{firstChild:s}=r;s?s.nodeName==="CANVAS"?s.replaceWith(i):s.classList.contains("annotationContent")?s.after(i):s.before(i):r.append(i)}c(this,Qa).clear()},uA);const of=/\r\n?|\n/g;var Uh,$h,Vh,Wh,Gh,yi,Ln,Xh,Mn,ql,vt,r1,s1,a1,Ff,Gr,Nf,Of,o1,ny,l1;const Ge=class Ge extends Me{constructor(t){super({...t,name:"freeTextEditor"});E(this,vt);E(this,Uh,this.editorDivBlur.bind(this));E(this,$h,this.editorDivFocus.bind(this));E(this,Vh,this.editorDivInput.bind(this));E(this,Wh,this.editorDivKeydown.bind(this));E(this,Gh,this.editorDivPaste.bind(this));E(this,yi);E(this,Ln,"");E(this,Xh,`${this.id}-editor`);E(this,Mn);E(this,ql,null);w(this,yi,t.color||Ge._defaultColor||Me._defaultLineColor),w(this,Mn,t.fontSize||Ge._defaultFontSize)}static get _keyboardManager(){const t=Ge.prototype,i=a=>a.isEmpty(),r=xo.TRANSLATE_SMALL,s=xo.TRANSLATE_BIG;return xe(this,"_keyboardManager",new xd([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:i}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[r,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[s,0],checker:i}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:i}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,r],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,s],checker:i}]]))}static initialize(t,i){Me.initialize(t,i,{strings:["pdfjs-free-text-default-content"]});const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,i){switch(t){case ce.FREETEXT_SIZE:Ge._defaultFontSize=i;break;case ce.FREETEXT_COLOR:Ge._defaultColor=i;break}}updateParams(t,i){switch(t){case ce.FREETEXT_SIZE:_(this,vt,r1).call(this,i);break;case ce.FREETEXT_COLOR:_(this,vt,s1).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[ce.FREETEXT_SIZE,Ge._defaultFontSize],[ce.FREETEXT_COLOR,Ge._defaultColor||Me._defaultLineColor]]}get propertiesToUpdate(){return[[ce.FREETEXT_SIZE,c(this,Mn)],[ce.FREETEXT_COLOR,c(this,yi)]]}_translateEmpty(t,i){this._uiManager.translateSelectedEditors(t,i,!0)}getInitialTranslation(){const t=this.parentScale;return[-Ge._internalPadding*t,-(Ge._internalPadding+c(this,Mn))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(be.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant");const t=this._uiManager._signal;this.editorDiv.addEventListener("keydown",c(this,Wh),{signal:t}),this.editorDiv.addEventListener("focus",c(this,$h),{signal:t}),this.editorDiv.addEventListener("blur",c(this,Uh),{signal:t}),this.editorDiv.addEventListener("input",c(this,Vh),{signal:t}),this.editorDiv.addEventListener("paste",c(this,Gh),{signal:t})}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",c(this,Xh)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",c(this,Wh)),this.editorDiv.removeEventListener("focus",c(this,$h)),this.editorDiv.removeEventListener("blur",c(this,Uh)),this.editorDiv.removeEventListener("input",c(this,Vh)),this.editorDiv.removeEventListener("paste",c(this,Gh)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var t;this.width||(this.enableEditMode(),this.editorDiv.focus(),(t=this._initialOptions)!=null&&t.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=c(this,Ln),i=w(this,Ln,_(this,vt,a1).call(this).trimEnd());if(t===i)return;const r=s=>{if(w(this,Ln,s),!s){this.remove();return}_(this,vt,Of).call(this),this._uiManager.rebuild(this),_(this,vt,Ff).call(this)};this.addCommands({cmd:()=>{r(i)},undo:()=>{r(t)},mustExec:!1}),_(this,vt,Ff).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){Ge._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,i;this.width&&(t=this.x,i=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",c(this,Xh)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),Me._l10nPromise.get("pdfjs-free-text-default-content").then(s=>{var a;return(a=this.editorDiv)==null?void 0:a.setAttribute("default-content",s)}),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${c(this,Mn)}px * var(--scale-factor))`,r.color=c(this,yi),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),Ap(this,this.div,["dblclick","keydown"]),this.width){const[s,a]=this.parentDimensions;if(this.annotationElementId){const{position:o}=c(this,ql);let[l,u]=this.getInitialTranslation();[l,u]=this.pageTranslationToScreen(l,u);const[h,d]=this.pageDimensions,[f,p]=this.pageTranslation;let g,v;switch(this.rotation){case 0:g=t+(o[0]-f)/h,v=i+this.height-(o[1]-p)/d;break;case 90:g=t+(o[0]-f)/h,v=i-(o[1]-p)/d,[l,u]=[u,-l];break;case 180:g=t-this.width+(o[0]-f)/h,v=i-(o[1]-p)/d,[l,u]=[-l,-u];break;case 270:g=t+(o[0]-f-this.height*d)/h,v=i+(o[1]-p-this.width*h)/d,[l,u]=[-u,l];break}this.setAt(g*s,v*a,l,u)}else this.setAt(t*s,i*a,this.width*s,this.height*a);_(this,vt,Of).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var g,v,S;const i=t.clipboardData||window.clipboardData,{types:r}=i;if(r.length===1&&r[0]==="text/plain")return;t.preventDefault();const s=_(g=Ge,Gr,ny).call(g,i.getData("text")||"").replaceAll(of,`
`);if(!s)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const o=a.getRangeAt(0);if(!s.includes(`
`)){o.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:l,startOffset:u}=o,h=[],d=[];if(l.nodeType===Node.TEXT_NODE){const m=l.parentElement;if(d.push(l.nodeValue.slice(u).replaceAll(of,"")),m!==this.editorDiv){let y=h;for(const A of this.editorDiv.childNodes){if(A===m){y=d;continue}y.push(_(v=Ge,Gr,Nf).call(v,A))}}h.push(l.nodeValue.slice(0,u).replaceAll(of,""))}else if(l===this.editorDiv){let m=h,y=0;for(const A of this.editorDiv.childNodes)y++===u&&(m=d),m.push(_(S=Ge,Gr,Nf).call(S,A))}w(this,Ln,`${h.join(`
`)}${s}${d.join(`
`)}`),_(this,vt,Of).call(this);const f=new Range;let p=h.reduce((m,y)=>m+y.length,0);for(const{firstChild:m}of this.editorDiv.childNodes)if(m.nodeType===Node.TEXT_NODE){const y=m.nodeValue.length;if(p<=y){f.setStart(m,p),f.setEnd(m,p);break}p-=y}a.removeAllRanges(),a.addRange(f)}get contentDiv(){return this.editorDiv}static deserialize(t,i,r){var o;let s=null;if(t instanceof Zb){const{data:{defaultAppearanceData:{fontSize:l,fontColor:u},rect:h,rotation:d,id:f},textContent:p,textPosition:g,parent:{page:{pageNumber:v}}}=t;if(!p||p.length===0)return null;s=t={annotationType:be.FREETEXT,color:Array.from(u),fontSize:l,value:p.join(`
`),position:g,pageIndex:v-1,rect:h.slice(0),rotation:d,id:f,deleted:!1}}const a=super.deserialize(t,i,r);return w(a,Mn,t.fontSize),w(a,yi,ne.makeHexColor(...t.color)),w(a,Ln,_(o=Ge,Gr,ny).call(o,t.value)),a.annotationElementId=t.id||null,w(a,ql,s),a}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const i=Ge._internalPadding*this.parentScale,r=this.getRect(i,i),s=Me._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:c(this,yi)),a={annotationType:be.FREETEXT,color:s,fontSize:c(this,Mn),value:_(this,vt,o1).call(this),pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?a:this.annotationElementId&&!_(this,vt,l1).call(this,a)?null:(a.id=this.annotationElementId,a)}renderAnnotationElement(t){const i=super.renderAnnotationElement(t);if(this.deleted)return i;const{style:r}=i;r.fontSize=`calc(${c(this,Mn)}px * var(--scale-factor))`,r.color=c(this,yi),i.replaceChildren();for(const a of c(this,Ln).split(`
`)){const o=document.createElement("div");o.append(a?document.createTextNode(a):document.createElement("br")),i.append(o)}const s=Ge._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(s,s),popupContent:c(this,Ln)}),i}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};Uh=new WeakMap,$h=new WeakMap,Vh=new WeakMap,Wh=new WeakMap,Gh=new WeakMap,yi=new WeakMap,Ln=new WeakMap,Xh=new WeakMap,Mn=new WeakMap,ql=new WeakMap,vt=new WeakSet,r1=function(t){const i=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--scale-factor))`,this.translate(0,-(s-c(this,Mn))*this.parentScale),w(this,Mn,s),_(this,vt,Ff).call(this)},r=c(this,Mn);this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ce.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},s1=function(t){const i=s=>{w(this,yi,this.editorDiv.style.color=s)},r=c(this,yi);this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ce.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},a1=function(){var i;const t=[];this.editorDiv.normalize();for(const r of this.editorDiv.childNodes)t.push(_(i=Ge,Gr,Nf).call(i,r));return t.join(`
`)},Ff=function(){const[t,i]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:s,div:a}=this,o=a.style.display,l=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",s.div.append(this.div),r=a.getBoundingClientRect(),a.remove(),a.style.display=o,a.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=r.width/t,this.height=r.height/i):(this.width=r.height/t,this.height=r.width/i),this.fixAndSetPosition()},Gr=new WeakSet,Nf=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(of,"")},Of=function(){if(this.editorDiv.replaceChildren(),!!c(this,Ln))for(const t of c(this,Ln).split(`
`)){const i=document.createElement("div");i.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(i)}},o1=function(){return c(this,Ln).replaceAll(" "," ")},ny=function(t){return t.replaceAll(" "," ")},l1=function(t){const{value:i,fontSize:r,color:s,pageIndex:a}=c(this,ql);return this._hasBeenMoved||t.value!==i||t.fontSize!==r||t.color.some((o,l)=>o!==s[l])||t.pageIndex!==a},E(Ge,Gr),de(Ge,"_freeTextDefaultContent",""),de(Ge,"_internalPadding",0),de(Ge,"_defaultColor",null),de(Ge,"_defaultFontSize",10),de(Ge,"_type","freetext"),de(Ge,"_editorType",be.FREETEXT);let ty=Ge;var Kh,Cs,wi,cn,c1,jf,u1,h1,ry;class iy{constructor(e,t=0,i=0,r=!0){E(this,cn);E(this,Kh);E(this,Cs,[]);E(this,wi,[]);let s=1/0,a=-1/0,o=1/0,l=-1/0;const h=10**-4;for(const{x:m,y,width:A,height:x}of e){const T=Math.floor((m-t)/h)*h,L=Math.ceil((m+A+t)/h)*h,F=Math.floor((y-t)/h)*h,b=Math.ceil((y+x+t)/h)*h,O=[T,F,b,!0],B=[L,F,b,!1];c(this,Cs).push(O,B),s=Math.min(s,T),a=Math.max(a,L),o=Math.min(o,F),l=Math.max(l,b)}const d=a-s+2*i,f=l-o+2*i,p=s-i,g=o-i,v=c(this,Cs).at(r?-1:-2),S=[v[0],v[2]];for(const m of c(this,Cs)){const[y,A,x]=m;m[0]=(y-p)/d,m[1]=(A-g)/f,m[2]=(x-g)/f}w(this,Kh,{x:p,y:g,width:d,height:f,lastPoint:S})}getOutlines(){c(this,Cs).sort((t,i)=>t[0]-i[0]||t[1]-i[1]||t[2]-i[2]);const e=[];for(const t of c(this,Cs))t[3]?(e.push(..._(this,cn,ry).call(this,t)),_(this,cn,u1).call(this,t)):(_(this,cn,h1).call(this,t),e.push(..._(this,cn,ry).call(this,t)));return _(this,cn,c1).call(this,e)}}Kh=new WeakMap,Cs=new WeakMap,wi=new WeakMap,cn=new WeakSet,c1=function(e){const t=[],i=new Set;for(const a of e){const[o,l,u]=a;t.push([o,l,a],[o,u,a])}t.sort((a,o)=>a[1]-o[1]||a[0]-o[0]);for(let a=0,o=t.length;a<o;a+=2){const l=t[a][2],u=t[a+1][2];l.push(u),u.push(l),i.add(l),i.add(u)}const r=[];let s;for(;i.size>0;){const a=i.values().next().value;let[o,l,u,h,d]=a;i.delete(a);let f=o,p=l;for(s=[o,u],r.push(s);;){let g;if(i.has(h))g=h;else if(i.has(d))g=d;else break;i.delete(g),[o,l,u,h,d]=g,f!==o&&(s.push(f,p,o,p===l?l:u),f=o),p=p===l?u:l}s.push(f,p)}return new CL(r,c(this,Kh))},jf=function(e){const t=c(this,wi);let i=0,r=t.length-1;for(;i<=r;){const s=i+r>>1,a=t[s][0];if(a===e)return s;a<e?i=s+1:r=s-1}return r+1},u1=function([,e,t]){const i=_(this,cn,jf).call(this,e);c(this,wi).splice(i,0,[e,t])},h1=function([,e,t]){const i=_(this,cn,jf).call(this,e);for(let r=i;r<c(this,wi).length;r++){const[s,a]=c(this,wi)[r];if(s!==e)break;if(s===e&&a===t){c(this,wi).splice(r,1);return}}for(let r=i-1;r>=0;r--){const[s,a]=c(this,wi)[r];if(s!==e)break;if(s===e&&a===t){c(this,wi).splice(r,1);return}}},ry=function(e){const[t,i,r]=e,s=[[t,i,r]],a=_(this,cn,jf).call(this,r);for(let o=0;o<a;o++){const[l,u]=c(this,wi)[o];for(let h=0,d=s.length;h<d;h++){const[,f,p]=s[h];if(!(u<=f||p<=l)){if(f>=l){if(p>u)s[h][1]=u;else{if(d===1)return[];s.splice(h,1),h--,d--}continue}s[h][2]=l,p>u&&s.push([t,u,p])}}}return s};class d1{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize(e,t){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof ay}}var qh,Yl;class CL extends d1{constructor(t,i){super();E(this,qh);E(this,Yl);w(this,Yl,t),w(this,qh,i)}toSVGPath(){const t=[];for(const i of c(this,Yl)){let[r,s]=i;t.push(`M${r} ${s}`);for(let a=2;a<i.length;a+=2){const o=i[a],l=i[a+1];o===r?(t.push(`V${l}`),s=l):l===s&&(t.push(`H${o}`),r=o)}t.push("Z")}return t.join(" ")}serialize([t,i,r,s],a){const o=[],l=r-t,u=s-i;for(const h of c(this,Yl)){const d=new Array(h.length);for(let f=0;f<h.length;f+=2)d[f]=t+h[f]*l,d[f+1]=s-h[f+1]*u;o.push(d)}return o}get box(){return c(this,qh)}}qh=new WeakMap,Yl=new WeakMap;var $i,Rr,Ql,Jl,Vi,Se,Ja,Za,Yh,Qh,Zl,ec,ks,Jh,Vp,Wp,Zh,sy;const hr=class hr{constructor({x:e,y:t},i,r,s,a,o=0){E(this,Zh);E(this,$i);E(this,Rr,[]);E(this,Ql);E(this,Jl);E(this,Vi,[]);E(this,Se,new Float64Array(18));E(this,Ja);E(this,Za);E(this,Yh);E(this,Qh);E(this,Zl);E(this,ec);E(this,ks,[]);w(this,$i,i),w(this,ec,s*r),w(this,Jl,a),c(this,Se).set([NaN,NaN,NaN,NaN,e,t],6),w(this,Ql,o),w(this,Qh,c(hr,Jh)*r),w(this,Yh,c(hr,Wp)*r),w(this,Zl,r),c(this,ks).push(e,t)}get free(){return!0}isEmpty(){return isNaN(c(this,Se)[8])}add({x:e,y:t}){var O;w(this,Ja,e),w(this,Za,t);const[i,r,s,a]=c(this,$i);let[o,l,u,h]=c(this,Se).subarray(8,12);const d=e-u,f=t-h,p=Math.hypot(d,f);if(p<c(this,Yh))return!1;const g=p-c(this,Qh),v=g/p,S=v*d,m=v*f;let y=o,A=l;o=u,l=h,u+=S,h+=m,(O=c(this,ks))==null||O.push(e,t);const x=-m/g,T=S/g,L=x*c(this,ec),F=T*c(this,ec);return c(this,Se).set(c(this,Se).subarray(2,8),0),c(this,Se).set([u+L,h+F],4),c(this,Se).set(c(this,Se).subarray(14,18),12),c(this,Se).set([u-L,h-F],16),isNaN(c(this,Se)[6])?(c(this,Vi).length===0&&(c(this,Se).set([o+L,l+F],2),c(this,Vi).push(NaN,NaN,NaN,NaN,(o+L-i)/s,(l+F-r)/a),c(this,Se).set([o-L,l-F],14),c(this,Rr).push(NaN,NaN,NaN,NaN,(o-L-i)/s,(l-F-r)/a)),c(this,Se).set([y,A,o,l,u,h],6),!this.isEmpty()):(c(this,Se).set([y,A,o,l,u,h],6),Math.abs(Math.atan2(A-l,y-o)-Math.atan2(m,S))<Math.PI/2?([o,l,u,h]=c(this,Se).subarray(2,6),c(this,Vi).push(NaN,NaN,NaN,NaN,((o+u)/2-i)/s,((l+h)/2-r)/a),[o,l,y,A]=c(this,Se).subarray(14,18),c(this,Rr).push(NaN,NaN,NaN,NaN,((y+o)/2-i)/s,((A+l)/2-r)/a),!0):([y,A,o,l,u,h]=c(this,Se).subarray(0,6),c(this,Vi).push(((y+5*o)/6-i)/s,((A+5*l)/6-r)/a,((5*o+u)/6-i)/s,((5*l+h)/6-r)/a,((o+u)/2-i)/s,((l+h)/2-r)/a),[u,h,o,l,y,A]=c(this,Se).subarray(12,18),c(this,Rr).push(((y+5*o)/6-i)/s,((A+5*l)/6-r)/a,((5*o+u)/6-i)/s,((5*l+h)/6-r)/a,((o+u)/2-i)/s,((l+h)/2-r)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const e=c(this,Vi),t=c(this,Rr),i=c(this,Se).subarray(4,6),r=c(this,Se).subarray(16,18),[s,a,o,l]=c(this,$i),[u,h,d,f]=_(this,Zh,sy).call(this);if(isNaN(c(this,Se)[6])&&!this.isEmpty())return`M${(c(this,Se)[2]-s)/o} ${(c(this,Se)[3]-a)/l} L${(c(this,Se)[4]-s)/o} ${(c(this,Se)[5]-a)/l} L${u} ${h} L${d} ${f} L${(c(this,Se)[16]-s)/o} ${(c(this,Se)[17]-a)/l} L${(c(this,Se)[14]-s)/o} ${(c(this,Se)[15]-a)/l} Z`;const p=[];p.push(`M${e[4]} ${e[5]}`);for(let g=6;g<e.length;g+=6)isNaN(e[g])?p.push(`L${e[g+4]} ${e[g+5]}`):p.push(`C${e[g]} ${e[g+1]} ${e[g+2]} ${e[g+3]} ${e[g+4]} ${e[g+5]}`);p.push(`L${(i[0]-s)/o} ${(i[1]-a)/l} L${u} ${h} L${d} ${f} L${(r[0]-s)/o} ${(r[1]-a)/l}`);for(let g=t.length-6;g>=6;g-=6)isNaN(t[g])?p.push(`L${t[g+4]} ${t[g+5]}`):p.push(`C${t[g]} ${t[g+1]} ${t[g+2]} ${t[g+3]} ${t[g+4]} ${t[g+5]}`);return p.push(`L${t[4]} ${t[5]} Z`),p.join(" ")}getOutlines(){var m;const e=c(this,Vi),t=c(this,Rr),i=c(this,Se),r=i.subarray(4,6),s=i.subarray(16,18),[a,o,l,u]=c(this,$i),h=new Float64Array((((m=c(this,ks))==null?void 0:m.length)??0)+2);for(let y=0,A=h.length-2;y<A;y+=2)h[y]=(c(this,ks)[y]-a)/l,h[y+1]=(c(this,ks)[y+1]-o)/u;h[h.length-2]=(c(this,Ja)-a)/l,h[h.length-1]=(c(this,Za)-o)/u;const[d,f,p,g]=_(this,Zh,sy).call(this);if(isNaN(i[6])&&!this.isEmpty()){const y=new Float64Array(36);return y.set([NaN,NaN,NaN,NaN,(i[2]-a)/l,(i[3]-o)/u,NaN,NaN,NaN,NaN,(i[4]-a)/l,(i[5]-o)/u,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,(i[16]-a)/l,(i[17]-o)/u,NaN,NaN,NaN,NaN,(i[14]-a)/l,(i[15]-o)/u],0),new ay(y,h,c(this,$i),c(this,Zl),c(this,Ql),c(this,Jl))}const v=new Float64Array(c(this,Vi).length+24+c(this,Rr).length);let S=e.length;for(let y=0;y<S;y+=2){if(isNaN(e[y])){v[y]=v[y+1]=NaN;continue}v[y]=e[y],v[y+1]=e[y+1]}v.set([NaN,NaN,NaN,NaN,(r[0]-a)/l,(r[1]-o)/u,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,(s[0]-a)/l,(s[1]-o)/u],S),S+=24;for(let y=t.length-6;y>=6;y-=6)for(let A=0;A<6;A+=2){if(isNaN(t[y+A])){v[S]=v[S+1]=NaN,S+=2;continue}v[S]=t[y+A],v[S+1]=t[y+A+1],S+=2}return v.set([NaN,NaN,NaN,NaN,t[4],t[5]],S),new ay(v,h,c(this,$i),c(this,Zl),c(this,Ql),c(this,Jl))}};$i=new WeakMap,Rr=new WeakMap,Ql=new WeakMap,Jl=new WeakMap,Vi=new WeakMap,Se=new WeakMap,Ja=new WeakMap,Za=new WeakMap,Yh=new WeakMap,Qh=new WeakMap,Zl=new WeakMap,ec=new WeakMap,ks=new WeakMap,Jh=new WeakMap,Vp=new WeakMap,Wp=new WeakMap,Zh=new WeakSet,sy=function(){const e=c(this,Se).subarray(4,6),t=c(this,Se).subarray(16,18),[i,r,s,a]=c(this,$i);return[(c(this,Ja)+(e[0]-t[0])/2-i)/s,(c(this,Za)+(e[1]-t[1])/2-r)/a,(c(this,Ja)+(t[0]-e[0])/2-i)/s,(c(this,Za)+(t[1]-e[1])/2-r)/a]},E(hr,Jh,8),E(hr,Vp,2),E(hr,Wp,c(hr,Jh)+c(hr,Vp));let xp=hr;var tc,eo,Lr,ed,Dn,td,ut,wn,Zc,eu,f1;class ay extends d1{constructor(t,i,r,s,a,o){super();E(this,wn);E(this,tc);E(this,eo,null);E(this,Lr);E(this,ed);E(this,Dn);E(this,td);E(this,ut);w(this,ut,t),w(this,Dn,i),w(this,tc,r),w(this,td,s),w(this,Lr,a),w(this,ed,o),_(this,wn,f1).call(this,o);const{x:l,y:u,width:h,height:d}=c(this,eo);for(let f=0,p=t.length;f<p;f+=2)t[f]=(t[f]-l)/h,t[f+1]=(t[f+1]-u)/d;for(let f=0,p=i.length;f<p;f+=2)i[f]=(i[f]-l)/h,i[f+1]=(i[f+1]-u)/d}toSVGPath(){const t=[`M${c(this,ut)[4]} ${c(this,ut)[5]}`];for(let i=6,r=c(this,ut).length;i<r;i+=6){if(isNaN(c(this,ut)[i])){t.push(`L${c(this,ut)[i+4]} ${c(this,ut)[i+5]}`);continue}t.push(`C${c(this,ut)[i]} ${c(this,ut)[i+1]} ${c(this,ut)[i+2]} ${c(this,ut)[i+3]} ${c(this,ut)[i+4]} ${c(this,ut)[i+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,i,r,s],a){const o=r-t,l=s-i;let u,h;switch(a){case 0:u=_(this,wn,Zc).call(this,c(this,ut),t,s,o,-l),h=_(this,wn,Zc).call(this,c(this,Dn),t,s,o,-l);break;case 90:u=_(this,wn,eu).call(this,c(this,ut),t,i,o,l),h=_(this,wn,eu).call(this,c(this,Dn),t,i,o,l);break;case 180:u=_(this,wn,Zc).call(this,c(this,ut),r,i,-o,l),h=_(this,wn,Zc).call(this,c(this,Dn),r,i,-o,l);break;case 270:u=_(this,wn,eu).call(this,c(this,ut),r,s,-o,-l),h=_(this,wn,eu).call(this,c(this,Dn),r,s,-o,-l);break}return{outline:Array.from(u),points:[Array.from(h)]}}get box(){return c(this,eo)}getNewOutline(t,i){const{x:r,y:s,width:a,height:o}=c(this,eo),[l,u,h,d]=c(this,tc),f=a*h,p=o*d,g=r*h+l,v=s*d+u,S=new xp({x:c(this,Dn)[0]*f+g,y:c(this,Dn)[1]*p+v},c(this,tc),c(this,td),t,c(this,ed),i??c(this,Lr));for(let m=2;m<c(this,Dn).length;m+=2)S.add({x:c(this,Dn)[m]*f+g,y:c(this,Dn)[m+1]*p+v});return S.getOutlines()}}tc=new WeakMap,eo=new WeakMap,Lr=new WeakMap,ed=new WeakMap,Dn=new WeakMap,td=new WeakMap,ut=new WeakMap,wn=new WeakSet,Zc=function(t,i,r,s,a){const o=new Float64Array(t.length);for(let l=0,u=t.length;l<u;l+=2)o[l]=i+t[l]*s,o[l+1]=r+t[l+1]*a;return o},eu=function(t,i,r,s,a){const o=new Float64Array(t.length);for(let l=0,u=t.length;l<u;l+=2)o[l]=i+t[l+1]*s,o[l+1]=r+t[l]*a;return o},f1=function(t){const i=c(this,ut);let r=i[4],s=i[5],a=r,o=s,l=r,u=s,h=r,d=s;const f=t?Math.max:Math.min;for(let m=6,y=i.length;m<y;m+=6){if(isNaN(i[m]))a=Math.min(a,i[m+4]),o=Math.min(o,i[m+5]),l=Math.max(l,i[m+4]),u=Math.max(u,i[m+5]),d<i[m+5]?(h=i[m+4],d=i[m+5]):d===i[m+5]&&(h=f(h,i[m+4]));else{const A=ne.bezierBoundingBox(r,s,...i.slice(m,m+6));a=Math.min(a,A[0]),o=Math.min(o,A[1]),l=Math.max(l,A[2]),u=Math.max(u,A[3]),d<A[3]?(h=A[2],d=A[3]):d===A[3]&&(h=f(h,A[2]))}r=i[m+4],s=i[m+5]}const p=a-c(this,Lr),g=o-c(this,Lr),v=l-a+2*c(this,Lr),S=u-o+2*c(this,Lr);w(this,eo,{x:p,y:g,width:v,height:S,lastPoint:[h,d]})};var nd,id,_i,to,nc,_t,rd,ic,sd,ad,Ai,rc,$e,oy,ly,p1,ca,g1,ls;const dr=class dr{constructor({editor:e=null,uiManager:t=null}){E(this,$e);E(this,nd,_(this,$e,p1).bind(this));E(this,id,_(this,$e,g1).bind(this));E(this,_i,null);E(this,to,null);E(this,nc);E(this,_t,null);E(this,rd,!1);E(this,ic,!1);E(this,sd,null);E(this,ad);E(this,Ai,null);E(this,rc);var i;e?(w(this,ic,!1),w(this,rc,ce.HIGHLIGHT_COLOR),w(this,sd,e)):(w(this,ic,!0),w(this,rc,ce.HIGHLIGHT_DEFAULT_COLOR)),w(this,Ai,(e==null?void 0:e._uiManager)||t),w(this,ad,c(this,Ai)._eventBus),w(this,nc,(e==null?void 0:e.color)||((i=c(this,Ai))==null?void 0:i.highlightColors.values().next().value)||"#FFFF98")}static get _keyboardManager(){return xe(this,"_keyboardManager",new xd([[["Escape","mac+Escape"],dr.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],dr.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],dr.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],dr.prototype._moveToPrevious],[["Home","mac+Home"],dr.prototype._moveToBeginning],[["End","mac+End"],dr.prototype._moveToEnd]]))}renderButton(){const e=w(this,_i,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const t=c(this,Ai)._signal;e.addEventListener("click",_(this,$e,ca).bind(this),{signal:t}),e.addEventListener("keydown",c(this,nd),{signal:t});const i=w(this,to,document.createElement("span"));return i.className="swatch",i.setAttribute("aria-hidden",!0),i.style.backgroundColor=c(this,nc),e.append(i),e}renderMainDropdown(){const e=w(this,_t,_(this,$e,oy).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===c(this,_i)){_(this,$e,ca).call(this,e);return}const t=e.target.getAttribute("data-color");t&&_(this,$e,ly).call(this,t,e)}_moveToNext(e){var t,i;if(!c(this,$e,ls)){_(this,$e,ca).call(this,e);return}if(e.target===c(this,_i)){(t=c(this,_t).firstChild)==null||t.focus();return}(i=e.target.nextSibling)==null||i.focus()}_moveToPrevious(e){var t,i;if(e.target===((t=c(this,_t))==null?void 0:t.firstChild)||e.target===c(this,_i)){c(this,$e,ls)&&this._hideDropdownFromKeyboard();return}c(this,$e,ls)||_(this,$e,ca).call(this,e),(i=e.target.previousSibling)==null||i.focus()}_moveToBeginning(e){var t;if(!c(this,$e,ls)){_(this,$e,ca).call(this,e);return}(t=c(this,_t).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!c(this,$e,ls)){_(this,$e,ca).call(this,e);return}(t=c(this,_t).lastChild)==null||t.focus()}hideDropdown(){var e;(e=c(this,_t))==null||e.classList.add("hidden"),window.removeEventListener("pointerdown",c(this,id))}_hideDropdownFromKeyboard(){var e;if(!c(this,ic)){if(!c(this,$e,ls)){(e=c(this,sd))==null||e.unselect();return}this.hideDropdown(),c(this,_i).focus({preventScroll:!0,focusVisible:c(this,rd)})}}updateColor(e){if(c(this,to)&&(c(this,to).style.backgroundColor=e),!c(this,_t))return;const t=c(this,Ai).highlightColors.values();for(const i of c(this,_t).children)i.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;(e=c(this,_i))==null||e.remove(),w(this,_i,null),w(this,to,null),(t=c(this,_t))==null||t.remove(),w(this,_t,null)}};nd=new WeakMap,id=new WeakMap,_i=new WeakMap,to=new WeakMap,nc=new WeakMap,_t=new WeakMap,rd=new WeakMap,ic=new WeakMap,sd=new WeakMap,ad=new WeakMap,Ai=new WeakMap,rc=new WeakMap,$e=new WeakSet,oy=function(){const e=document.createElement("div"),t=c(this,Ai)._signal;e.addEventListener("contextmenu",Sn,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[i,r]of c(this,Ai).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",r),s.title=i,s.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${i}`);const a=document.createElement("span");s.append(a),a.className="swatch",a.style.backgroundColor=r,s.setAttribute("aria-selected",r===c(this,nc)),s.addEventListener("click",_(this,$e,ly).bind(this,r),{signal:t}),e.append(s)}return e.addEventListener("keydown",c(this,nd),{signal:t}),e},ly=function(e,t){t.stopPropagation(),c(this,ad).dispatch("switchannotationeditorparams",{source:this,type:c(this,rc),value:e})},p1=function(e){dr._keyboardManager.exec(this,e)},ca=function(e){if(c(this,$e,ls)){this.hideDropdown();return}if(w(this,rd,e.detail===0),window.addEventListener("pointerdown",c(this,id),{signal:c(this,Ai)._signal}),c(this,_t)){c(this,_t).classList.remove("hidden");return}const t=w(this,_t,_(this,$e,oy).call(this));c(this,_i).append(t)},g1=function(e){var t;(t=c(this,_t))!=null&&t.contains(e.target)||this.hideDropdown()},ls=function(){return c(this,_t)&&!c(this,_t).classList.contains("hidden")};let Cp=dr;var sc,od,Ts,no,ac,Yn,ld,cd,io,Ei,tn,In,Gp,oc,ro,At,lc,Wi,ud,we,cy,uy,m1,v1,y1,hy,tu,ni,Go,w1,zf,nu,_1,A1,E1,S1;const Te=class Te extends Me{constructor(t){super({...t,name:"highlightEditor"});E(this,we);E(this,sc,null);E(this,od,0);E(this,Ts);E(this,no,null);E(this,ac,null);E(this,Yn,null);E(this,ld,null);E(this,cd,0);E(this,io,null);E(this,Ei,null);E(this,tn,null);E(this,In,!1);E(this,Gp,_(this,we,w1).bind(this));E(this,oc,null);E(this,ro);E(this,At,null);E(this,lc,"");E(this,Wi);E(this,ud,"");this.color=t.color||Te._defaultColor,w(this,Wi,t.thickness||Te._defaultThickness),w(this,ro,t.opacity||Te._defaultOpacity),w(this,Ts,t.boxes||null),w(this,ud,t.methodOfCreation||""),w(this,lc,t.text||""),this._isDraggable=!1,t.highlightId>-1?(w(this,In,!0),_(this,we,uy).call(this,t),_(this,we,tu).call(this)):(w(this,sc,t.anchorNode),w(this,od,t.anchorOffset),w(this,ld,t.focusNode),w(this,cd,t.focusOffset),_(this,we,cy).call(this),_(this,we,tu).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const t=Te.prototype;return xe(this,"_keyboardManager",new xd([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:c(this,In)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:c(this,Wi),methodOfCreation:c(this,ud)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,i){var r;Me.initialize(t,i),Te._defaultColor||(Te._defaultColor=((r=i.highlightColors)==null?void 0:r.values().next().value)||"#fff066")}static updateDefaultParams(t,i){switch(t){case ce.HIGHLIGHT_DEFAULT_COLOR:Te._defaultColor=i;break;case ce.HIGHLIGHT_THICKNESS:Te._defaultThickness=i;break}}translateInPage(t,i){}get toolbarPosition(){return c(this,oc)}updateParams(t,i){switch(t){case ce.HIGHLIGHT_COLOR:_(this,we,m1).call(this,i);break;case ce.HIGHLIGHT_THICKNESS:_(this,we,v1).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[ce.HIGHLIGHT_DEFAULT_COLOR,Te._defaultColor],[ce.HIGHLIGHT_THICKNESS,Te._defaultThickness]]}get propertiesToUpdate(){return[[ce.HIGHLIGHT_COLOR,this.color||Te._defaultColor],[ce.HIGHLIGHT_THICKNESS,c(this,Wi)||Te._defaultThickness],[ce.HIGHLIGHT_FREE,c(this,In)]]}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(w(this,ac,new Cp({editor:this})),t.addColorPicker(c(this,ac))),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(_(this,we,nu).call(this))}getBaseTranslation(){return[0,0]}getRect(t,i){return super.getRect(t,i,_(this,we,nu).call(this))}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){_(this,we,hy).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(_(this,we,tu).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var r;let i=!1;this.parent&&!t?_(this,we,hy).call(this):t&&(_(this,we,tu).call(this,t),i=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),i&&this.select()}rotate(t){var s,a,o;const{drawLayer:i}=this.parent;let r;c(this,In)?(t=(t-this.rotation+360)%360,r=_(s=Te,ni,Go).call(s,c(this,Ei).box,t)):r=_(a=Te,ni,Go).call(a,this,t),i.rotate(c(this,tn),t),i.rotate(c(this,At),t),i.updateBox(c(this,tn),r),i.updateBox(c(this,At),_(o=Te,ni,Go).call(o,c(this,Yn).box,t))}render(){if(this.div)return this.div;const t=super.render();c(this,lc)&&(t.setAttribute("aria-label",c(this,lc)),t.setAttribute("role","mark")),c(this,In)?t.classList.add("free"):this.div.addEventListener("keydown",c(this,Gp),{signal:this._uiManager._signal});const i=w(this,io,document.createElement("div"));t.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",i.style.clipPath=c(this,no);const[r,s]=this.parentDimensions;return this.setDims(this.width*r,this.height*s),Ap(this,c(this,io),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.parent.drawLayer.addClass(c(this,At),"hovered")}pointerleave(){this.parent.drawLayer.removeClass(c(this,At),"hovered")}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:_(this,we,zf).call(this,!0);break;case 1:case 3:_(this,we,zf).call(this,!1);break}}select(){var t,i;super.select(),c(this,At)&&((t=this.parent)==null||t.drawLayer.removeClass(c(this,At),"hovered"),(i=this.parent)==null||i.drawLayer.addClass(c(this,At),"selected"))}unselect(){var t;super.unselect(),c(this,At)&&((t=this.parent)==null||t.drawLayer.removeClass(c(this,At),"selected"),c(this,In)||_(this,we,zf).call(this,!1))}get _mustFixPosition(){return!c(this,In)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.show(c(this,tn),t),this.parent.drawLayer.show(c(this,At),t))}static startHighlighting(t,i,{target:r,x:s,y:a}){const{x:o,y:l,width:u,height:h}=r.getBoundingClientRect(),d=S=>{_(this,ni,E1).call(this,t,S)},f=t._signal,p={capture:!0,passive:!1,signal:f},g=S=>{S.preventDefault(),S.stopPropagation()},v=S=>{r.removeEventListener("pointermove",d),window.removeEventListener("blur",v),window.removeEventListener("pointerup",v),window.removeEventListener("pointerdown",g,p),window.removeEventListener("contextmenu",Sn),_(this,ni,S1).call(this,t,S)};window.addEventListener("blur",v,{signal:f}),window.addEventListener("pointerup",v,{signal:f}),window.addEventListener("pointerdown",g,p),window.addEventListener("contextmenu",Sn,{signal:f}),r.addEventListener("pointermove",d,{signal:f}),this._freeHighlight=new xp({x:s,y:a},[o,l,u,h],t.scale,this._defaultThickness/2,i,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static deserialize(t,i,r){var v;const s=super.deserialize(t,i,r),{rect:[a,o,l,u],color:h,quadPoints:d}=t;s.color=ne.makeHexColor(...h),w(s,ro,t.opacity);const[f,p]=s.pageDimensions;s.width=(l-a)/f,s.height=(u-o)/p;const g=w(s,Ts,[]);for(let S=0;S<d.length;S+=8)g.push({x:(d[4]-l)/f,y:(u-(1-d[S+5]))/p,width:(d[S+2]-d[S])/f,height:(d[S+5]-d[S+1])/p});return _(v=s,we,cy).call(v),s}serialize(t=!1){if(this.isEmpty()||t)return null;const i=this.getRect(0,0),r=Me._colorManager.convert(this.color);return{annotationType:be.HIGHLIGHT,color:r,opacity:c(this,ro),thickness:c(this,Wi),quadPoints:_(this,we,_1).call(this),outlines:_(this,we,A1).call(this,i),pageIndex:this.pageIndex,rect:i,rotation:_(this,we,nu).call(this),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}};sc=new WeakMap,od=new WeakMap,Ts=new WeakMap,no=new WeakMap,ac=new WeakMap,Yn=new WeakMap,ld=new WeakMap,cd=new WeakMap,io=new WeakMap,Ei=new WeakMap,tn=new WeakMap,In=new WeakMap,Gp=new WeakMap,oc=new WeakMap,ro=new WeakMap,At=new WeakMap,lc=new WeakMap,Wi=new WeakMap,ud=new WeakMap,we=new WeakSet,cy=function(){const t=new iy(c(this,Ts),.001);w(this,Ei,t.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=c(this,Ei).box;const i=new iy(c(this,Ts),.0025,.001,this._uiManager.direction==="ltr");w(this,Yn,i.getOutlines());const{lastPoint:r}=c(this,Yn).box;w(this,oc,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height])},uy=function({highlightOutlines:t,highlightId:i,clipPathId:r}){var d,f;if(w(this,Ei,t),w(this,Yn,t.getNewOutline(c(this,Wi)/2+1.5,.0025)),i>=0)w(this,tn,i),w(this,no,r),this.parent.drawLayer.finalizeLine(i,t),w(this,At,this.parent.drawLayer.highlightOutline(c(this,Yn)));else if(this.parent){const p=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(c(this,tn),t),this.parent.drawLayer.updateBox(c(this,tn),_(d=Te,ni,Go).call(d,c(this,Ei).box,(p-this.rotation+360)%360)),this.parent.drawLayer.updateLine(c(this,At),c(this,Yn)),this.parent.drawLayer.updateBox(c(this,At),_(f=Te,ni,Go).call(f,c(this,Yn).box,p))}const{x:a,y:o,width:l,height:u}=t.box;switch(this.rotation){case 0:this.x=a,this.y=o,this.width=l,this.height=u;break;case 90:{const[p,g]=this.parentDimensions;this.x=o,this.y=1-a,this.width=l*g/p,this.height=u*p/g;break}case 180:this.x=1-a,this.y=1-o,this.width=l,this.height=u;break;case 270:{const[p,g]=this.parentDimensions;this.x=1-o,this.y=a,this.width=l*g/p,this.height=u*p/g;break}}const{lastPoint:h}=c(this,Yn).box;w(this,oc,[(h[0]-a)/l,(h[1]-o)/u])},m1=function(t){const i=s=>{var a,o;this.color=s,(a=this.parent)==null||a.drawLayer.changeColor(c(this,tn),s),(o=c(this,ac))==null||o.updateColor(s)},r=this.color;this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ce.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},v1=function(t){const i=c(this,Wi),r=s=>{w(this,Wi,s),_(this,we,y1).call(this,s)};this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ce.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},y1=function(t){if(!c(this,In))return;_(this,we,uy).call(this,{highlightOutlines:c(this,Ei).getNewOutline(t/2)}),this.fixAndSetPosition();const[i,r]=this.parentDimensions;this.setDims(this.width*i,this.height*r)},hy=function(){c(this,tn)===null||!this.parent||(this.parent.drawLayer.remove(c(this,tn)),w(this,tn,null),this.parent.drawLayer.remove(c(this,At)),w(this,At,null))},tu=function(t=this.parent){c(this,tn)===null&&({id:xn(this,tn)._,clipPathId:xn(this,no)._}=t.drawLayer.highlight(c(this,Ei),this.color,c(this,ro)),w(this,At,t.drawLayer.highlightOutline(c(this,Yn))),c(this,io)&&(c(this,io).style.clipPath=c(this,no)))},ni=new WeakSet,Go=function({x:t,y:i,width:r,height:s},a){switch(a){case 90:return{x:1-i-s,y:t,width:s,height:r};case 180:return{x:1-t-r,y:1-i-s,width:r,height:s};case 270:return{x:i,y:1-t-r,width:s,height:r}}return{x:t,y:i,width:r,height:s}},w1=function(t){Te._keyboardManager.exec(this,t)},zf=function(t){if(!c(this,sc))return;const i=window.getSelection();t?i.setPosition(c(this,sc),c(this,od)):i.setPosition(c(this,ld),c(this,cd))},nu=function(){return c(this,In)?this.rotation:0},_1=function(){if(c(this,In))return null;const[t,i]=this.pageDimensions,r=c(this,Ts),s=new Float32Array(r.length*8);let a=0;for(const{x:o,y:l,width:u,height:h}of r){const d=o*t,f=(1-l-h)*i;s[a]=s[a+4]=d,s[a+1]=s[a+3]=f,s[a+2]=s[a+6]=d+u*t,s[a+5]=s[a+7]=f+h*i,a+=8}return s},A1=function(t){return c(this,Ei).serialize(t,_(this,we,nu).call(this))},E1=function(t,i){this._freeHighlight.add(i)&&t.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},S1=function(t,i){this._freeHighlight.isEmpty()?t.drawLayer.removeFreeHighlight(this._freeHighlightId):t.createAndAddNewEditor(i,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},E(Te,ni),de(Te,"_defaultColor",null),de(Te,"_defaultOpacity",1),de(Te,"_defaultThickness",12),de(Te,"_l10nPromise"),de(Te,"_type","highlight"),de(Te,"_editorType",be.HIGHLIGHT),de(Te,"_freeHighlightId",-1),de(Te,"_freeHighlight",null),de(Te,"_freeHighlightClipId","");let kp=Te;var so,ao,hd,dd,fd,oo,Gi,Mr,Qn,lo,co,Dr,uo,ho,Ps,K,b1,x1,C1,k1,fy,T1,py,P1,R1,L1,M1,D1,ua,gy,Hf,Bf,Xo,my,Uf,Jr,I1,vy,F1,N1,yy,$f,iu;const et=class et extends Me{constructor(t){super({...t,name:"inkEditor"});E(this,K);E(this,so,0);E(this,ao,0);E(this,hd,this.canvasPointermove.bind(this));E(this,dd,this.canvasPointerleave.bind(this));E(this,fd,this.canvasPointerup.bind(this));E(this,oo,this.canvasPointerdown.bind(this));E(this,Gi,null);E(this,Mr,new Path2D);E(this,Qn,!1);E(this,lo,!1);E(this,co,!1);E(this,Dr,null);E(this,uo,0);E(this,ho,0);E(this,Ps,null);this.color=t.color||null,this.thickness=t.thickness||null,this.opacity=t.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(t,i){Me.initialize(t,i)}static updateDefaultParams(t,i){switch(t){case ce.INK_THICKNESS:et._defaultThickness=i;break;case ce.INK_COLOR:et._defaultColor=i;break;case ce.INK_OPACITY:et._defaultOpacity=i/100;break}}updateParams(t,i){switch(t){case ce.INK_THICKNESS:_(this,K,b1).call(this,i);break;case ce.INK_COLOR:_(this,K,x1).call(this,i);break;case ce.INK_OPACITY:_(this,K,C1).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[ce.INK_THICKNESS,et._defaultThickness],[ce.INK_COLOR,et._defaultColor||Me._defaultLineColor],[ce.INK_OPACITY,Math.round(et._defaultOpacity*100)]]}get propertiesToUpdate(){return[[ce.INK_THICKNESS,this.thickness||et._defaultThickness],[ce.INK_COLOR,this.color||et._defaultColor||Me._defaultLineColor],[ce.INK_OPACITY,Math.round(100*(this.opacity??et._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(_(this,K,Hf).call(this),_(this,K,Bf).call(this)),this.isAttachedToDOM||(this.parent.add(this),_(this,K,Xo).call(this)),_(this,K,iu).call(this)))}remove(){var t;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,c(this,Gi)&&(clearTimeout(c(this,Gi)),w(this,Gi,null)),(t=c(this,Dr))==null||t.disconnect(),w(this,Dr,null),super.remove())}setParent(t){!this.parent&&t?this._uiManager.removeShouldRescale(this):this.parent&&t===null&&this._uiManager.addShouldRescale(this),super.setParent(t)}onScaleChanging(){const[t,i]=this.parentDimensions,r=this.width*t,s=this.height*i;this.setDimensions(r,s)}enableEditMode(){c(this,Qn)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",c(this,oo),{signal:this._uiManager._signal}))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",c(this,oo)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){c(this,Qn)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),w(this,Qn,!0),this.div.classList.add("disabled"),_(this,K,iu).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),this.enableEditMode())}canvasPointerdown(t){t.button!==0||!this.isInEditMode()||c(this,Qn)||(this.setInForeground(),t.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),_(this,K,T1).call(this,t.offsetX,t.offsetY))}canvasPointermove(t){t.preventDefault(),_(this,K,py).call(this,t.offsetX,t.offsetY)}canvasPointerup(t){t.preventDefault(),_(this,K,gy).call(this,t)}canvasPointerleave(t){_(this,K,gy).call(this,t)}get isResizable(){return!this.isEmpty()&&c(this,Qn)}render(){if(this.div)return this.div;let t,i;this.width&&(t=this.x,i=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[r,s,a,o]=_(this,K,k1).call(this);if(this.setAt(r,s,0,0),this.setDims(a,o),_(this,K,Hf).call(this),this.width){const[l,u]=this.parentDimensions;this.setAspectRatio(this.width*l,this.height*u),this.setAt(t*l,i*u,this.width*l,this.height*u),w(this,co,!0),_(this,K,Xo).call(this),this.setDims(this.width*l,this.height*u),_(this,K,ua).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return _(this,K,Bf).call(this),this.div}setDimensions(t,i){const r=Math.round(t),s=Math.round(i);if(c(this,uo)===r&&c(this,ho)===s)return;w(this,uo,r),w(this,ho,s),this.canvas.style.visibility="hidden";const[a,o]=this.parentDimensions;this.width=t/a,this.height=i/o,this.fixAndSetPosition(),c(this,Qn)&&_(this,K,my).call(this,t,i),_(this,K,Xo).call(this),_(this,K,ua).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(t,i,r){var S,m,y;if(t instanceof t1)return null;const s=super.deserialize(t,i,r);s.thickness=t.thickness,s.color=ne.makeHexColor(...t.color),s.opacity=t.opacity;const[a,o]=s.pageDimensions,l=s.width*a,u=s.height*o,h=s.parentScale,d=t.thickness/2;w(s,Qn,!0),w(s,uo,Math.round(l)),w(s,ho,Math.round(u));const{paths:f,rect:p,rotation:g}=t;for(let{bezier:A}of f){A=_(S=et,Jr,F1).call(S,A,p,g);const x=[];s.paths.push(x);let T=h*(A[0]-d),L=h*(A[1]-d);for(let b=2,O=A.length;b<O;b+=6){const B=h*(A[b]-d),U=h*(A[b+1]-d),ee=h*(A[b+2]-d),Z=h*(A[b+3]-d),I=h*(A[b+4]-d),M=h*(A[b+5]-d);x.push([[T,L],[B,U],[ee,Z],[I,M]]),T=I,L=M}const F=_(this,Jr,I1).call(this,x);s.bezierPath2D.push(F)}const v=_(m=s,K,yy).call(m);return w(s,ao,Math.max(Me.MIN_SIZE,v[2]-v[0])),w(s,so,Math.max(Me.MIN_SIZE,v[3]-v[1])),_(y=s,K,my).call(y,l,u),s}serialize(){if(this.isEmpty())return null;const t=this.getRect(0,0),i=Me._colorManager.convert(this.ctx.strokeStyle);return{annotationType:be.INK,color:i,thickness:this.thickness,opacity:this.opacity,paths:_(this,K,N1).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};so=new WeakMap,ao=new WeakMap,hd=new WeakMap,dd=new WeakMap,fd=new WeakMap,oo=new WeakMap,Gi=new WeakMap,Mr=new WeakMap,Qn=new WeakMap,lo=new WeakMap,co=new WeakMap,Dr=new WeakMap,uo=new WeakMap,ho=new WeakMap,Ps=new WeakMap,K=new WeakSet,b1=function(t){const i=s=>{this.thickness=s,_(this,K,iu).call(this)},r=this.thickness;this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ce.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},x1=function(t){const i=s=>{this.color=s,_(this,K,ua).call(this)},r=this.color;this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ce.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},C1=function(t){const i=s=>{this.opacity=s,_(this,K,ua).call(this)};t/=100;const r=this.opacity;this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ce.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},k1=function(){const{parentRotation:t,parentDimensions:[i,r]}=this;switch(t){case 90:return[0,r,r,i];case 180:return[i,r,i,r];case 270:return[i,0,r,i];default:return[0,0,i,r]}},fy=function(){const{ctx:t,color:i,opacity:r,thickness:s,parentScale:a,scaleFactor:o}=this;t.lineWidth=s*a/o,t.lineCap="round",t.lineJoin="round",t.miterLimit=10,t.strokeStyle=`${i}${YP(r)}`},T1=function(t,i){const r=this._uiManager._signal;this.canvas.addEventListener("contextmenu",Sn,{signal:r}),this.canvas.addEventListener("pointerleave",c(this,dd),{signal:r}),this.canvas.addEventListener("pointermove",c(this,hd),{signal:r}),this.canvas.addEventListener("pointerup",c(this,fd),{signal:r}),this.canvas.removeEventListener("pointerdown",c(this,oo)),this.isEditing=!0,c(this,co)||(w(this,co,!0),_(this,K,Xo).call(this),this.thickness||(this.thickness=et._defaultThickness),this.color||(this.color=et._defaultColor||Me._defaultLineColor),this.opacity??(this.opacity=et._defaultOpacity)),this.currentPath.push([t,i]),w(this,lo,!1),_(this,K,fy).call(this),w(this,Ps,()=>{_(this,K,L1).call(this),c(this,Ps)&&window.requestAnimationFrame(c(this,Ps))}),window.requestAnimationFrame(c(this,Ps))},py=function(t,i){const[r,s]=this.currentPath.at(-1);if(this.currentPath.length>1&&t===r&&i===s)return;const a=this.currentPath;let o=c(this,Mr);if(a.push([t,i]),w(this,lo,!0),a.length<=2){o.moveTo(...a[0]),o.lineTo(t,i);return}a.length===3&&(w(this,Mr,o=new Path2D),o.moveTo(...a[0])),_(this,K,M1).call(this,o,...a.at(-3),...a.at(-2),t,i)},P1=function(){if(this.currentPath.length===0)return;const t=this.currentPath.at(-1);c(this,Mr).lineTo(...t)},R1=function(t,i){w(this,Ps,null),t=Math.min(Math.max(t,0),this.canvas.width),i=Math.min(Math.max(i,0),this.canvas.height),_(this,K,py).call(this,t,i),_(this,K,P1).call(this);let r;if(this.currentPath.length!==1)r=_(this,K,D1).call(this);else{const u=[t,i];r=[[u,u.slice(),u.slice(),u]]}const s=c(this,Mr),a=this.currentPath;this.currentPath=[],w(this,Mr,new Path2D);const o=()=>{this.allRawPaths.push(a),this.paths.push(r),this.bezierPath2D.push(s),this._uiManager.rebuild(this)},l=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(_(this,K,Hf).call(this),_(this,K,Bf).call(this)),_(this,K,iu).call(this))};this.addCommands({cmd:o,undo:l,mustExec:!0})},L1=function(){if(!c(this,lo))return;w(this,lo,!1);const t=Math.ceil(this.thickness*this.parentScale),i=this.currentPath.slice(-3),r=i.map(o=>o[0]),s=i.map(o=>o[1]);Math.min(...r)-t,Math.max(...r)+t,Math.min(...s)-t,Math.max(...s)+t;const{ctx:a}=this;a.save(),a.clearRect(0,0,this.canvas.width,this.canvas.height);for(const o of this.bezierPath2D)a.stroke(o);a.stroke(c(this,Mr)),a.restore()},M1=function(t,i,r,s,a,o,l){const u=(i+s)/2,h=(r+a)/2,d=(s+o)/2,f=(a+l)/2;t.bezierCurveTo(u+2*(s-u)/3,h+2*(a-h)/3,d+2*(s-d)/3,f+2*(a-f)/3,d,f)},D1=function(){const t=this.currentPath;if(t.length<=2)return[[t[0],t[0],t.at(-1),t.at(-1)]];const i=[];let r,[s,a]=t[0];for(r=1;r<t.length-2;r++){const[p,g]=t[r],[v,S]=t[r+1],m=(p+v)/2,y=(g+S)/2,A=[s+2*(p-s)/3,a+2*(g-a)/3],x=[m+2*(p-m)/3,y+2*(g-y)/3];i.push([[s,a],A,x,[m,y]]),[s,a]=[m,y]}const[o,l]=t[r],[u,h]=t[r+1],d=[s+2*(o-s)/3,a+2*(l-a)/3],f=[u+2*(o-u)/3,h+2*(l-h)/3];return i.push([[s,a],d,f,[u,h]]),i},ua=function(){if(this.isEmpty()){_(this,K,Uf).call(this);return}_(this,K,fy).call(this);const{canvas:t,ctx:i}=this;i.setTransform(1,0,0,1,0,0),i.clearRect(0,0,t.width,t.height),_(this,K,Uf).call(this);for(const r of this.bezierPath2D)i.stroke(r)},gy=function(t){this.canvas.removeEventListener("pointerleave",c(this,dd)),this.canvas.removeEventListener("pointermove",c(this,hd)),this.canvas.removeEventListener("pointerup",c(this,fd)),this.canvas.addEventListener("pointerdown",c(this,oo),{signal:this._uiManager._signal}),c(this,Gi)&&clearTimeout(c(this,Gi)),w(this,Gi,setTimeout(()=>{w(this,Gi,null),this.canvas.removeEventListener("contextmenu",Sn)},10)),_(this,K,R1).call(this,t.offsetX,t.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Hf=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Bf=function(){w(this,Dr,new ResizeObserver(t=>{const i=t[0].contentRect;i.width&&i.height&&this.setDimensions(i.width,i.height)})),c(this,Dr).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=c(this,Dr))==null||t.disconnect(),w(this,Dr,null)},{once:!0})},Xo=function(){if(!c(this,co))return;const[t,i]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*t),this.canvas.height=Math.ceil(this.height*i),_(this,K,Uf).call(this)},my=function(t,i){const r=_(this,K,$f).call(this),s=(t-r)/c(this,ao),a=(i-r)/c(this,so);this.scaleFactor=Math.min(s,a)},Uf=function(){const t=_(this,K,$f).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+t,this.translationY*this.scaleFactor+t)},Jr=new WeakSet,I1=function(t){const i=new Path2D;for(let r=0,s=t.length;r<s;r++){const[a,o,l,u]=t[r];r===0&&i.moveTo(...a),i.bezierCurveTo(o[0],o[1],l[0],l[1],u[0],u[1])}return i},vy=function(t,i,r){const[s,a,o,l]=i;switch(r){case 0:for(let u=0,h=t.length;u<h;u+=2)t[u]+=s,t[u+1]=l-t[u+1];break;case 90:for(let u=0,h=t.length;u<h;u+=2){const d=t[u];t[u]=t[u+1]+s,t[u+1]=d+a}break;case 180:for(let u=0,h=t.length;u<h;u+=2)t[u]=o-t[u],t[u+1]+=a;break;case 270:for(let u=0,h=t.length;u<h;u+=2){const d=t[u];t[u]=o-t[u+1],t[u+1]=l-d}break;default:throw new Error("Invalid rotation")}return t},F1=function(t,i,r){const[s,a,o,l]=i;switch(r){case 0:for(let u=0,h=t.length;u<h;u+=2)t[u]-=s,t[u+1]=l-t[u+1];break;case 90:for(let u=0,h=t.length;u<h;u+=2){const d=t[u];t[u]=t[u+1]-a,t[u+1]=d-s}break;case 180:for(let u=0,h=t.length;u<h;u+=2)t[u]=o-t[u],t[u+1]-=a;break;case 270:for(let u=0,h=t.length;u<h;u+=2){const d=t[u];t[u]=l-t[u+1],t[u+1]=o-d}break;default:throw new Error("Invalid rotation")}return t},N1=function(t,i,r,s){var h,d;const a=[],o=this.thickness/2,l=t*i+o,u=t*r+o;for(const f of this.paths){const p=[],g=[];for(let v=0,S=f.length;v<S;v++){const[m,y,A,x]=f[v];if(m[0]===x[0]&&m[1]===x[1]&&S===1){const Z=t*m[0]+l,I=t*m[1]+u;p.push(Z,I),g.push(Z,I);break}const T=t*m[0]+l,L=t*m[1]+u,F=t*y[0]+l,b=t*y[1]+u,O=t*A[0]+l,B=t*A[1]+u,U=t*x[0]+l,ee=t*x[1]+u;v===0&&(p.push(T,L),g.push(T,L)),p.push(F,b,O,B,U,ee),g.push(F,b),v===S-1&&g.push(U,ee)}a.push({bezier:_(h=et,Jr,vy).call(h,p,s,this.rotation),points:_(d=et,Jr,vy).call(d,g,s,this.rotation)})}return a},yy=function(){let t=1/0,i=-1/0,r=1/0,s=-1/0;for(const a of this.paths)for(const[o,l,u,h]of a){const d=ne.bezierBoundingBox(...o,...l,...u,...h);t=Math.min(t,d[0]),r=Math.min(r,d[1]),i=Math.max(i,d[2]),s=Math.max(s,d[3])}return[t,r,i,s]},$f=function(){return c(this,Qn)?Math.ceil(this.thickness*this.parentScale):0},iu=function(t=!1){if(this.isEmpty())return;if(!c(this,Qn)){_(this,K,ua).call(this);return}const i=_(this,K,yy).call(this),r=_(this,K,$f).call(this);w(this,ao,Math.max(Me.MIN_SIZE,i[2]-i[0])),w(this,so,Math.max(Me.MIN_SIZE,i[3]-i[1]));const s=Math.ceil(r+c(this,ao)*this.scaleFactor),a=Math.ceil(r+c(this,so)*this.scaleFactor),[o,l]=this.parentDimensions;this.width=s/o,this.height=a/l,this.setAspectRatio(s,a);const u=this.translationX,h=this.translationY;this.translationX=-i[0],this.translationY=-i[1],_(this,K,Xo).call(this),_(this,K,ua).call(this),w(this,uo,s),w(this,ho,a),this.setDims(s,a);const d=t?r/this.scaleFactor/2:0;this.translate(u-this.translationX-d,h-this.translationY-d)},E(et,Jr),de(et,"_defaultColor",null),de(et,"_defaultOpacity",1),de(et,"_defaultThickness",1),de(et,"_type","ink"),de(et,"_editorType",be.INK);let dy=et;var jt,zt,Rs,Ir,Ls,cc,Xi,Fr,Ki,Si,pd,ke,ru,su,Vf,_y,O1,j1,Ay,Wf,z1;const vu=class vu extends Me{constructor(t){super({...t,name:"stampEditor"});E(this,ke);E(this,jt,null);E(this,zt,null);E(this,Rs,null);E(this,Ir,null);E(this,Ls,null);E(this,cc,"");E(this,Xi,null);E(this,Fr,null);E(this,Ki,null);E(this,Si,!1);E(this,pd,!1);w(this,Ir,t.bitmapUrl),w(this,Ls,t.bitmapFile)}static initialize(t,i){Me.initialize(t,i)}static get supportedTypes(){return xe(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(i=>`image/${i}`))}static get supportedTypesStr(){return xe(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,i){i.pasteEditor(be.STAMP,{bitmapFile:t.getAsFile()})}remove(){var t,i;c(this,zt)&&(w(this,jt,null),this._uiManager.imageManager.deleteId(c(this,zt)),(t=c(this,Xi))==null||t.remove(),w(this,Xi,null),(i=c(this,Fr))==null||i.disconnect(),w(this,Fr,null),c(this,Ki)&&(clearTimeout(c(this,Ki)),w(this,Ki,null))),super.remove()}rebuild(){if(!this.parent){c(this,zt)&&_(this,ke,Vf).call(this);return}super.rebuild(),this.div!==null&&(c(this,zt)&&c(this,Xi)===null&&_(this,ke,Vf).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(c(this,Rs)||c(this,jt)||c(this,Ir)||c(this,Ls)||c(this,zt))}get isResizable(){return!0}render(){if(this.div)return this.div;let t,i;if(this.width&&(t=this.x,i=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),c(this,jt)?_(this,ke,_y).call(this):_(this,ke,Vf).call(this),this.width){const[r,s]=this.parentDimensions;this.setAt(t*r,i*s,this.width*r,this.height*s)}return this.div}getImageForAltText(){return c(this,Xi)}static deserialize(t,i,r){if(t instanceof n1)return null;const s=super.deserialize(t,i,r),{rect:a,bitmapUrl:o,bitmapId:l,isSvg:u,accessibilityData:h}=t;l&&r.imageManager.isValidId(l)?w(s,zt,l):w(s,Ir,o),w(s,Si,u);const[d,f]=s.pageDimensions;return s.width=(a[2]-a[0])/d,s.height=(a[3]-a[1])/f,h&&(s.altTextData=h),s}serialize(t=!1,i=null){if(this.isEmpty())return null;const r={annotationType:be.STAMP,bitmapId:c(this,zt),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:c(this,Si),structTreeParentId:this._structTreeParentId};if(t)return r.bitmapUrl=_(this,ke,Wf).call(this,!0),r.accessibilityData=this.altTextData,r;const{decorative:s,altText:a}=this.altTextData;if(!s&&a&&(r.accessibilityData={type:"Figure",alt:a}),i===null)return r;i.stamps||(i.stamps=new Map);const o=c(this,Si)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!i.stamps.has(c(this,zt)))i.stamps.set(c(this,zt),{area:o,serialized:r}),r.bitmap=_(this,ke,Wf).call(this,!1);else if(c(this,Si)){const l=i.stamps.get(c(this,zt));o>l.area&&(l.area=o,l.serialized.bitmap.close(),l.serialized.bitmap=_(this,ke,Wf).call(this,!1))}return r}};jt=new WeakMap,zt=new WeakMap,Rs=new WeakMap,Ir=new WeakMap,Ls=new WeakMap,cc=new WeakMap,Xi=new WeakMap,Fr=new WeakMap,Ki=new WeakMap,Si=new WeakMap,pd=new WeakMap,ke=new WeakSet,ru=function(t,i=!1){if(!t){this.remove();return}w(this,jt,t.bitmap),i||(w(this,zt,t.id),w(this,Si,t.isSvg)),t.file&&w(this,cc,t.file.name),_(this,ke,_y).call(this)},su=function(){w(this,Rs,null),this._uiManager.enableWaiting(!1),c(this,Xi)&&this.div.focus()},Vf=function(){if(c(this,zt)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(c(this,zt)).then(r=>_(this,ke,ru).call(this,r,!0)).finally(()=>_(this,ke,su).call(this));return}if(c(this,Ir)){const r=c(this,Ir);w(this,Ir,null),this._uiManager.enableWaiting(!0),w(this,Rs,this._uiManager.imageManager.getFromUrl(r).then(s=>_(this,ke,ru).call(this,s)).finally(()=>_(this,ke,su).call(this)));return}if(c(this,Ls)){const r=c(this,Ls);w(this,Ls,null),this._uiManager.enableWaiting(!0),w(this,Rs,this._uiManager.imageManager.getFromFile(r).then(s=>_(this,ke,ru).call(this,s)).finally(()=>_(this,ke,su).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=vu.supportedTypesStr;const i=this._uiManager._signal;w(this,Rs,new Promise(r=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(t.files[0]);_(this,ke,ru).call(this,s)}r()},{signal:i}),t.addEventListener("cancel",()=>{this.remove(),r()},{signal:i})}).finally(()=>_(this,ke,su).call(this))),t.click()},_y=function(){const{div:t}=this;let{width:i,height:r}=c(this,jt);const[s,a]=this.pageDimensions,o=.75;if(this.width)i=this.width*s,r=this.height*a;else if(i>o*s||r>o*a){const d=Math.min(o*s/i,o*a/r);i*=d,r*=d}const[l,u]=this.parentDimensions;this.setDims(i*l/s,r*u/a),this._uiManager.enableWaiting(!1);const h=w(this,Xi,document.createElement("canvas"));t.append(h),t.hidden=!1,_(this,ke,Ay).call(this,i,r),_(this,ke,z1).call(this),c(this,pd)||(this.parent.addUndoableEditor(this),w(this,pd,!0)),this._reportTelemetry({action:"inserted_image"}),c(this,cc)&&h.setAttribute("aria-label",c(this,cc))},O1=function(t,i){var o;const[r,s]=this.parentDimensions;this.width=t/r,this.height=i/s,this.setDims(t,i),(o=this._initialOptions)!=null&&o.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,c(this,Ki)!==null&&clearTimeout(c(this,Ki)),w(this,Ki,setTimeout(()=>{w(this,Ki,null),_(this,ke,Ay).call(this,t,i)},200))},j1=function(t,i){const{width:r,height:s}=c(this,jt);let a=r,o=s,l=c(this,jt);for(;a>2*t||o>2*i;){const u=a,h=o;a>2*t&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),o>2*i&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const d=new OffscreenCanvas(a,o);d.getContext("2d").drawImage(l,0,0,u,h,0,0,a,o),l=d.transferToImageBitmap()}return l},Ay=function(t,i){t=Math.ceil(t),i=Math.ceil(i);const r=c(this,Xi);if(!r||r.width===t&&r.height===i)return;r.width=t,r.height=i;const s=c(this,Si)?c(this,jt):_(this,ke,j1).call(this,t,i);if(this._uiManager.hasMLManager&&!this.hasAltText()){const l=new OffscreenCanvas(t,i).getContext("2d");l.drawImage(s,0,0,s.width,s.height,0,0,t,i),this._uiManager.mlGuess({service:"image-to-text",request:{data:l.getImageData(0,0,t,i).data,width:t,height:i,channels:4}}).then(u=>{const h=(u==null?void 0:u.output)||"";this.parent&&h&&!this.hasAltText()&&(this.altTextData={altText:h,decorative:!1})})}const a=r.getContext("2d");a.filter=this._uiManager.hcmFilter,a.drawImage(s,0,0,s.width,s.height,0,0,t,i)},Wf=function(t){if(t){if(c(this,Si)){const s=this._uiManager.imageManager.getSvgUrl(c(this,zt));if(s)return s}const i=document.createElement("canvas");return{width:i.width,height:i.height}=c(this,jt),i.getContext("2d").drawImage(c(this,jt),0,0),i.toDataURL()}if(c(this,Si)){const[i,r]=this.pageDimensions,s=Math.round(this.width*i*Xs.PDF_TO_CSS_UNITS),a=Math.round(this.height*r*Xs.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(s,a);return o.getContext("2d").drawImage(c(this,jt),0,0,c(this,jt).width,c(this,jt).height,0,0,s,a),o.transferToImageBitmap()}return structuredClone(c(this,jt))},z1=function(){this._uiManager._signal&&(w(this,Fr,new ResizeObserver(t=>{const i=t[0].contentRect;i.width&&i.height&&_(this,ke,O1).call(this,i.width,i.height)})),c(this,Fr).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=c(this,Fr))==null||t.disconnect(),w(this,Fr,null)},{once:!0}))},de(vu,"_type","stamp"),de(vu,"_editorType",be.STAMP);let wy=vu;var fo,uc,qi,po,Nr,Or,jr,Fn,Ms,hc,dc,nn,se,Ds,Ut,H1,Sy,by,xy,Gf;const li=class li{constructor({uiManager:e,pageIndex:t,div:i,accessibilityManager:r,annotationLayer:s,drawLayer:a,textLayer:o,viewport:l,l10n:u}){E(this,Ut);E(this,fo);E(this,uc,!1);E(this,qi,null);E(this,po,null);E(this,Nr,null);E(this,Or,null);E(this,jr,null);E(this,Fn,new Map);E(this,Ms,!1);E(this,hc,!1);E(this,dc,!1);E(this,nn,null);E(this,se);const h=[...c(li,Ds).values()];if(!li._initialized){li._initialized=!0;for(const d of h)d.initialize(u,e)}e.registerEditorTypes(h),w(this,se,e),this.pageIndex=t,this.div=i,w(this,fo,r),w(this,qi,s),this.viewport=l,w(this,nn,o),this.drawLayer=a,c(this,se).addLayer(this)}get isEmpty(){return c(this,Fn).size===0}get isInvisible(){return this.isEmpty&&c(this,se).getMode()===be.NONE}updateToolbar(e){c(this,se).updateToolbar(e)}updateMode(e=c(this,se).getMode()){switch(_(this,Ut,Gf).call(this),e){case be.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case be.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case be.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const i of c(li,Ds).values())t.toggle(`${i._type}Editing`,e===i._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=c(this,nn))==null?void 0:t.div)}addInkEditorIfNeeded(e){if(c(this,se).getMode()!==be.INK)return;if(!e){for(const i of c(this,Fn).values())if(i.isEmpty()){i.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){c(this,se).setEditingState(e)}addCommands(e){c(this,se).addCommands(e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=c(this,qi))==null||t.div.classList.toggle("disabled",!e)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const i of c(this,Fn).values())i.enableEditing(),i.show(!0),i.annotationElementId&&(c(this,se).removeChangedExistingAnnotation(i),e.add(i.annotationElementId));if(!c(this,qi))return;const t=c(this,qi).getEditableAnnotations();for(const i of t){if(i.hide(),c(this,se).isDeletedAnnotationElement(i.data.id)||e.has(i.data.id))continue;const r=this.deserialize(i);r&&(this.addOrRebuild(r),r.enableEditing())}}disable(){var r;w(this,dc,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const s of c(this,Fn).values())if(s.disableEditing(),!!s.annotationElementId){if(s.serialize()!==null){e.set(s.annotationElementId,s);continue}else t.set(s.annotationElementId,s);(r=this.getEditableAnnotation(s.annotationElementId))==null||r.show(),s.remove()}if(c(this,qi)){const s=c(this,qi).getEditableAnnotations();for(const a of s){const{id:o}=a.data;if(c(this,se).isDeletedAnnotationElement(o))continue;let l=t.get(o);if(l){l.resetAnnotationElement(a),l.show(!1),a.show();continue}l=e.get(o),l&&(c(this,se).addChangedExistingAnnotation(l),l.renderAnnotationElement(a),l.show(!1)),a.show()}}_(this,Ut,Gf).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:i}=this.div;for(const s of c(li,Ds).values())i.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),w(this,dc,!1)}getEditableAnnotation(e){var t;return((t=c(this,qi))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){c(this,se).getActive()!==e&&c(this,se).setActiveEditor(e)}enableTextSelection(){var e;this.div.tabIndex=-1,(e=c(this,nn))!=null&&e.div&&!c(this,Or)&&(w(this,Or,_(this,Ut,H1).bind(this)),c(this,nn).div.addEventListener("pointerdown",c(this,Or),{signal:c(this,se)._signal}),c(this,nn).div.classList.add("highlighting"))}disableTextSelection(){var e;this.div.tabIndex=0,(e=c(this,nn))!=null&&e.div&&c(this,Or)&&(c(this,nn).div.removeEventListener("pointerdown",c(this,Or)),w(this,Or,null),c(this,nn).div.classList.remove("highlighting"))}enableClick(){if(c(this,Nr))return;const e=c(this,se)._signal;w(this,Nr,this.pointerdown.bind(this)),w(this,po,this.pointerup.bind(this)),this.div.addEventListener("pointerdown",c(this,Nr),{signal:e}),this.div.addEventListener("pointerup",c(this,po),{signal:e})}disableClick(){c(this,Nr)&&(this.div.removeEventListener("pointerdown",c(this,Nr)),this.div.removeEventListener("pointerup",c(this,po)),w(this,Nr,null),w(this,po,null))}attach(e){c(this,Fn).set(e.id,e);const{annotationElementId:t}=e;t&&c(this,se).isDeletedAnnotationElement(t)&&c(this,se).removeDeletedAnnotationElement(e)}detach(e){var t;c(this,Fn).delete(e.id),(t=c(this,fo))==null||t.removePointerInTextLayer(e.contentDiv),!c(this,dc)&&e.annotationElementId&&c(this,se).addDeletedAnnotationElement(e)}remove(e){this.detach(e),c(this,se).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,c(this,hc)||this.addInkEditorIfNeeded(!1)}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(c(this,se).addDeletedAnnotationElement(e.annotationElementId),Me.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),c(this,se).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),c(this,se).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var i;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!c(this,jr)&&(e._focusEventsAllowed=!1,w(this,jr,setTimeout(()=>{w(this,jr,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:c(this,se)._signal}),t.focus())},0))),e._structTreeParentId=(i=c(this,fo))==null?void 0:i.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),i=()=>{e.remove()};this.addCommands({cmd:t,undo:i,mustExec:!1})}getNextId(){return c(this,se).getId()}get _signal(){return c(this,se)._signal}canCreateNewEmptyEditor(){var e;return(e=c(this,Ut,Sy))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,t){c(this,se).updateToolbar(e),c(this,se).updateMode(e);const{offsetX:i,offsetY:r}=_(this,Ut,xy).call(this),s=this.getNextId(),a=_(this,Ut,by).call(this,{parent:this,id:s,x:i,y:r,uiManager:c(this,se),isCentered:!0,...t});a&&this.add(a)}deserialize(e){var t;return((t=c(li,Ds).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,c(this,se)))||null}createAndAddNewEditor(e,t,i={}){const r=this.getNextId(),s=_(this,Ut,by).call(this,{parent:this,id:r,x:e.offsetX,y:e.offsetY,uiManager:c(this,se),isCentered:t,...i});return s&&this.add(s),s}addNewEditor(){this.createAndAddNewEditor(_(this,Ut,xy).call(this),!0)}setSelected(e){c(this,se).setSelected(e)}toggleSelected(e){c(this,se).toggleSelected(e)}isSelected(e){return c(this,se).isSelected(e)}unselect(e){c(this,se).unselect(e)}pointerup(e){const{isMac:t}=yn.platform;if(!(e.button!==0||e.ctrlKey&&t)&&e.target===this.div&&c(this,Ms)){if(w(this,Ms,!1),!c(this,uc)){w(this,uc,!0);return}if(c(this,se).getMode()===be.STAMP){c(this,se).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(c(this,se).getMode()===be.HIGHLIGHT&&this.enableTextSelection(),c(this,Ms)){w(this,Ms,!1);return}const{isMac:t}=yn.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;w(this,Ms,!0);const i=c(this,se).getActive();w(this,uc,!i||i.isEmpty())}findNewParent(e,t,i){const r=c(this,se).findParent(t,i);return r===null||r===this?!1:(r.changeParent(e),!0)}destroy(){var e,t;((e=c(this,se).getActive())==null?void 0:e.parent)===this&&(c(this,se).commitOrRemove(),c(this,se).setActiveEditor(null)),c(this,jr)&&(clearTimeout(c(this,jr)),w(this,jr,null));for(const i of c(this,Fn).values())(t=c(this,fo))==null||t.removePointerInTextLayer(i.contentDiv),i.setParent(null),i.isAttachedToDOM=!1,i.div.remove();this.div=null,c(this,Fn).clear(),c(this,se).removeLayer(this)}render({viewport:e}){this.viewport=e,bo(this.div,e);for(const t of c(this,se).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){c(this,se).commitOrRemove(),_(this,Ut,Gf).call(this);const t=this.viewport.rotation,i=e.rotation;if(this.viewport=e,bo(this.div,{rotation:i}),t!==i)for(const r of c(this,Fn).values())r.rotate(i);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return c(this,se).viewParameters.realScale}};fo=new WeakMap,uc=new WeakMap,qi=new WeakMap,po=new WeakMap,Nr=new WeakMap,Or=new WeakMap,jr=new WeakMap,Fn=new WeakMap,Ms=new WeakMap,hc=new WeakMap,dc=new WeakMap,nn=new WeakMap,se=new WeakMap,Ds=new WeakMap,Ut=new WeakSet,H1=function(e){if(c(this,se).unselectAll(),e.target===c(this,nn).div){const{isMac:t}=yn.platform;if(e.button!==0||e.ctrlKey&&t)return;c(this,se).showAllEditors("highlight",!0,!0),c(this,nn).div.classList.add("free"),kp.startHighlighting(this,c(this,se).direction==="ltr",e),c(this,nn).div.addEventListener("pointerup",()=>{c(this,nn).div.classList.remove("free")},{once:!0,signal:c(this,se)._signal}),e.preventDefault()}},Sy=function(){return c(li,Ds).get(c(this,se).getMode())},by=function(e){const t=c(this,Ut,Sy);return t?new t.prototype.constructor(e):null},xy=function(){const{x:e,y:t,width:i,height:r}=this.div.getBoundingClientRect(),s=Math.max(0,e),a=Math.max(0,t),o=Math.min(window.innerWidth,e+i),l=Math.min(window.innerHeight,t+r),u=(s+o)/2-e,h=(a+l)/2-t,[d,f]=this.viewport.rotation%180===0?[u,h]:[h,u];return{offsetX:d,offsetY:f}},Gf=function(){w(this,hc,!0);for(const e of c(this,Fn).values())e.isEmpty()&&e.remove();w(this,hc,!1)},de(li,"_initialized",!1),E(li,Ds,new Map([ty,dy,wy,kp].map(e=>[e._editorType,e])));let Ey=li;var Yi,gd,Et,Is,md,ky,Po,Ty,B1;const Dt=class Dt{constructor({pageIndex:e}){E(this,Po);E(this,Yi,null);E(this,gd,0);E(this,Et,new Map);E(this,Is,new Map);this.pageIndex=e}setParent(e){if(!c(this,Yi)){w(this,Yi,e);return}if(c(this,Yi)!==e){if(c(this,Et).size>0)for(const t of c(this,Et).values())t.remove(),e.append(t);w(this,Yi,e)}}static get _svgFactory(){return xe(this,"_svgFactory",new D0)}highlight(e,t,i,r=!1){const s=xn(this,gd)._++,a=_(this,Po,Ty).call(this,e.box);a.classList.add("highlight"),e.free&&a.classList.add("free");const o=Dt._svgFactory.createElement("defs");a.append(o);const l=Dt._svgFactory.createElement("path");o.append(l);const u=`path_p${this.pageIndex}_${s}`;l.setAttribute("id",u),l.setAttribute("d",e.toSVGPath()),r&&c(this,Is).set(s,l);const h=_(this,Po,B1).call(this,o,u),d=Dt._svgFactory.createElement("use");return a.append(d),a.setAttribute("fill",t),a.setAttribute("fill-opacity",i),d.setAttribute("href",`#${u}`),c(this,Et).set(s,a),{id:s,clipPathId:`url(#${h})`}}highlightOutline(e){const t=xn(this,gd)._++,i=_(this,Po,Ty).call(this,e.box);i.classList.add("highlightOutline");const r=Dt._svgFactory.createElement("defs");i.append(r);const s=Dt._svgFactory.createElement("path");r.append(s);const a=`path_p${this.pageIndex}_${t}`;s.setAttribute("id",a),s.setAttribute("d",e.toSVGPath()),s.setAttribute("vector-effect","non-scaling-stroke");let o;if(e.free){i.classList.add("free");const h=Dt._svgFactory.createElement("mask");r.append(h),o=`mask_p${this.pageIndex}_${t}`,h.setAttribute("id",o),h.setAttribute("maskUnits","objectBoundingBox");const d=Dt._svgFactory.createElement("rect");h.append(d),d.setAttribute("width","1"),d.setAttribute("height","1"),d.setAttribute("fill","white");const f=Dt._svgFactory.createElement("use");h.append(f),f.setAttribute("href",`#${a}`),f.setAttribute("stroke","none"),f.setAttribute("fill","black"),f.setAttribute("fill-rule","nonzero"),f.classList.add("mask")}const l=Dt._svgFactory.createElement("use");i.append(l),l.setAttribute("href",`#${a}`),o&&l.setAttribute("mask",`url(#${o})`);const u=l.cloneNode();return i.append(u),l.classList.add("mainOutline"),u.classList.add("secondaryOutline"),c(this,Et).set(t,i),t}finalizeLine(e,t){const i=c(this,Is).get(e);c(this,Is).delete(e),this.updateBox(e,t.box),i.setAttribute("d",t.toSVGPath())}updateLine(e,t){c(this,Et).get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}removeFreeHighlight(e){this.remove(e),c(this,Is).delete(e)}updatePath(e,t){c(this,Is).get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){var i;_(i=Dt,md,ky).call(i,c(this,Et).get(e),t)}show(e,t){c(this,Et).get(e).classList.toggle("hidden",!t)}rotate(e,t){c(this,Et).get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){c(this,Et).get(e).setAttribute("fill",t)}changeOpacity(e,t){c(this,Et).get(e).setAttribute("fill-opacity",t)}addClass(e,t){c(this,Et).get(e).classList.add(t)}removeClass(e,t){c(this,Et).get(e).classList.remove(t)}remove(e){c(this,Yi)!==null&&(c(this,Et).get(e).remove(),c(this,Et).delete(e))}destroy(){w(this,Yi,null);for(const e of c(this,Et).values())e.remove();c(this,Et).clear()}};Yi=new WeakMap,gd=new WeakMap,Et=new WeakMap,Is=new WeakMap,md=new WeakSet,ky=function(e,{x:t=0,y:i=0,width:r=1,height:s=1}={}){const{style:a}=e;a.top=`${100*i}%`,a.left=`${100*t}%`,a.width=`${100*r}%`,a.height=`${100*s}%`},Po=new WeakSet,Ty=function(e){var i;const t=Dt._svgFactory.create(1,1,!0);return c(this,Yi).append(t),t.setAttribute("aria-hidden",!0),_(i=Dt,md,ky).call(i,t,e),t},B1=function(e,t){const i=Dt._svgFactory.createElement("clipPath");e.append(i);const r=`clip_${t}`;i.setAttribute("id",r),i.setAttribute("clipPathUnits","objectBoundingBox");const s=Dt._svgFactory.createElement("use");return i.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),r},E(Dt,md);let Cy=Dt;var kL=le.AbortException,TL=le.AnnotationEditorLayer,PL=le.AnnotationEditorParamsType,RL=le.AnnotationEditorType,LL=le.AnnotationEditorUIManager,U1=le.AnnotationLayer,$1=le.AnnotationMode,ML=le.CMapCompressionType,DL=le.ColorPicker,IL=le.DOMSVGFactory,FL=le.DrawLayer,NL=le.FeatureTest,B0=le.GlobalWorkerOptions,OL=le.ImageKind,jL=le.InvalidPDFException,zL=le.MissingPDFException,HL=le.OPS,BL=le.Outliner,UL=le.PDFDataRangeTransport,$L=le.PDFDateString,VL=le.PDFWorker,WL=le.PasswordResponses,GL=le.PermissionFlag,XL=le.PixelsPerInch,KL=le.RenderingCancelledException,V1=le.TextLayer,qL=le.UnexpectedResponseException,YL=le.Util,QL=le.VerbosityLevel,JL=le.XfaLayer,ZL=le.build,eM=le.createValidAbsoluteUrl,tM=le.fetchData,W1=le.getDocument,nM=le.getFilenameFromUrl,iM=le.getPdfFilenameFromUrl,rM=le.getXfaPageViewport,sM=le.isDataScheme,aM=le.isPdfFile,oM=le.noContextMenu,lM=le.normalizeUnicode,cM=le.renderTextLayer,uM=le.setLayerDimensions,hM=le.shadow,dM=le.updateTextLayer,G1=le.version;const fM=Object.freeze(Object.defineProperty({__proto__:null,AbortException:kL,AnnotationEditorLayer:TL,AnnotationEditorParamsType:PL,AnnotationEditorType:RL,AnnotationEditorUIManager:LL,AnnotationLayer:U1,AnnotationMode:$1,CMapCompressionType:ML,ColorPicker:DL,DOMSVGFactory:IL,DrawLayer:FL,FeatureTest:NL,GlobalWorkerOptions:B0,ImageKind:OL,InvalidPDFException:jL,MissingPDFException:zL,OPS:HL,Outliner:BL,PDFDataRangeTransport:UL,PDFDateString:$L,PDFWorker:VL,PasswordResponses:WL,PermissionFlag:GL,PixelsPerInch:XL,RenderingCancelledException:KL,TextLayer:V1,UnexpectedResponseException:qL,Util:YL,VerbosityLevel:QL,XfaLayer:JL,build:ZL,createValidAbsoluteUrl:eM,fetchData:tM,getDocument:W1,getFilenameFromUrl:nM,getPdfFilenameFromUrl:iM,getXfaPageViewport:rM,isDataScheme:sM,isPdfFile:aM,noContextMenu:oM,normalizeUnicode:lM,renderTextLayer:cM,setLayerDimensions:uM,shadow:hM,updateTextLayer:dM,version:G1},Symbol.toStringTag,{value:"Module"}));var kt=function(n,e,t){if(t||arguments.length===2)for(var i=0,r=e.length,s;i<r;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return n.concat(s||Array.prototype.slice.call(e))},pM=["onCopy","onCut","onPaste"],gM=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],mM=["onFocus","onBlur"],vM=["onInput","onInvalid","onReset","onSubmit"],yM=["onLoad","onError"],wM=["onKeyDown","onKeyPress","onKeyUp"],_M=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],AM=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],EM=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],SM=["onSelect"],bM=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],xM=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],CM=["onScroll"],kM=["onWheel"],TM=["onAnimationStart","onAnimationEnd","onAnimationIteration"],PM=["onTransitionEnd"],RM=["onToggle"],LM=["onChange"],MM=kt(kt(kt(kt(kt(kt(kt(kt(kt(kt(kt(kt(kt(kt(kt(kt(kt(kt([],pM,!0),gM,!0),mM,!0),vM,!0),yM,!0),wM,!0),_M,!0),AM,!0),EM,!0),SM,!0),bM,!0),xM,!0),CM,!0),kM,!0),TM,!0),PM,!0),LM,!0),RM,!0);function X1(n,e){var t={};return MM.forEach(function(i){var r=n[i];r&&(e?t[i]=function(s){return r(s,e(i))}:t[i]=r)}),t}function Td(n){var e=!1,t=new Promise(function(i,r){n.then(function(s){return!e&&i(s)}).catch(function(s){return!e&&r(s)})});return{promise:t,cancel:function(){e=!0}}}function K1(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(e=0;e<r;e++)n[e]&&(t=K1(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function bg(){for(var n,e,t=0,i="",r=arguments.length;t<r;t++)(n=arguments[t])&&(e=K1(n))&&(i&&(i+=" "),i+=e);return i}var DM="Invariant failed";function Ue(n,e){if(!n)throw new Error(DM)}var IM=function(){},FM=IM;const Qt=Xp(FM);var eA=Object.prototype.hasOwnProperty;function tA(n,e,t){for(t of n.keys())if(ml(t,e))return t}function ml(n,e){var t,i,r;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((i=n.length)===e.length)for(;i--&&ml(n[i],e[i]););return i===-1}if(t===Set){if(n.size!==e.size)return!1;for(i of n)if(r=i,r&&typeof r=="object"&&(r=tA(e,r),!r)||!e.has(r))return!1;return!0}if(t===Map){if(n.size!==e.size)return!1;for(i of n)if(r=i[0],r&&typeof r=="object"&&(r=tA(e,r),!r)||!ml(i[1],e.get(r)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(t===DataView){if((i=n.byteLength)===e.byteLength)for(;i--&&n.getInt8(i)===e.getInt8(i););return i===-1}if(ArrayBuffer.isView(n)){if((i=n.byteLength)===e.byteLength)for(;i--&&n[i]===e[i];);return i===-1}if(!t||typeof n=="object"){i=0;for(t in n)if(eA.call(n,t)&&++i&&!eA.call(e,t)||!(t in e)||!ml(n[t],e[t]))return!1;return Object.keys(e).length===i}}return n!==n&&e!==e}const q1=z.createContext(null);function vl({children:n,type:e}){return C.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:n})}const NM="noopener noreferrer nofollow";class OM{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Ue(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){Ue(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(t=>{Ue(this.pdfDocument),Ue(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{Ue(Array.isArray(t));const i=t[0];new Promise(r=>{Ue(this.pdfDocument),i instanceof Object?this.pdfDocument.getPageIndex(i).then(s=>{r(s)}).catch(()=>{Ue(!1)}):typeof i=="number"?r(i):Ue(!1)}).then(r=>{const s=r+1;Ue(this.pdfViewer),Ue(s>=1&&s<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:r,pageNumber:s})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const t=e-1;Ue(this.pdfViewer),Ue(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}addLinkAttributes(e,t,i){e.href=t,e.rel=this.externalLinkRel||NM,e.target=i?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const nA={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},xg=typeof document<"u",Y1=xg&&window.location.protocol==="file:";function jM(n){return typeof n<"u"}function sa(n){return jM(n)&&n!==null}function zM(n){return typeof n=="string"}function HM(n){return n instanceof ArrayBuffer}function BM(n){return Ue(xg),n instanceof Blob}function Py(n){return zM(n)&&/^data:/.test(n)}function iA(n){Ue(Py(n));const[e="",t=""]=n.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function UM(){return xg&&window.devicePixelRatio||1}const Q1="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function rA(){Qt(!Y1,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${Q1}`)}function $M(){Qt(!Y1,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${Q1}`)}function ko(n){n!=null&&n.cancel&&n.cancel()}function Ry(n,e){return Object.defineProperty(n,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(n,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(n,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(n,"originalHeight",{get(){return this.view[3]},configurable:!0}),n}function VM(n){return n.name==="RenderingCancelledException"}function WM(n){return new Promise((e,t)=>{const i=new FileReader;i.onload=()=>{if(!i.result)return t(new Error("Error while reading a file."));e(i.result)},i.onerror=r=>{if(!r.target)return t(new Error("Error while reading a file."));const{error:s}=r.target;if(!s)return t(new Error("Error while reading a file."));switch(s.code){case s.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case s.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case s.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},i.readAsArrayBuffer(n)})}function GM(n,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return n}}function _c(){return z.useReducer(GM,{value:void 0,error:void 0})}var XM=function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(h){try{u(i.next(h))}catch(d){a(d)}}function l(h){try{u(i.throw(h))}catch(d){a(d)}}function u(h){h.done?s(h.value):r(h.value).then(o,l)}u((i=i.apply(n,e||[])).next())})},sA=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const{PDFDataRangeTransport:KM}=fM,qM=(n,e)=>{switch(e){case nA.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");n(t);break}case nA.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");n(t);break}}};function aA(n){return typeof n=="object"&&n!==null&&("data"in n||"range"in n||"url"in n)}const YM=z.forwardRef(function(e,t){var{children:i,className:r,error:s="Failed to load PDF file.",externalLinkRel:a,externalLinkTarget:o,file:l,inputRef:u,imageResourcesPath:h,loading:d="Loading PDF…",noData:f="No PDF file specified.",onItemClick:p,onLoadError:g,onLoadProgress:v,onLoadSuccess:S,onPassword:m=qM,onSourceError:y,onSourceSuccess:A,options:x,renderMode:T,rotate:L}=e,F=sA(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[b,O]=_c(),{value:B,error:U}=b,[ee,Z]=_c(),{value:I,error:M}=ee,N=z.useRef(new OM),D=z.useRef([]),P=z.useRef(void 0),H=z.useRef(void 0);l&&l!==P.current&&aA(l)&&(Qt(!ml(l,P.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),P.current=l),x&&x!==H.current&&(Qt(!ml(x,H.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),H.current=x);const W=z.useRef({scrollPageIntoView:Ie=>{const{dest:Ee,pageNumber:Ze,pageIndex:ct=Ze-1}=Ie;if(p){p({dest:Ee,pageIndex:ct,pageNumber:Ze});return}const Ri=D.current[ct];if(Ri){Ri.scrollIntoView();return}Qt(!1,`An internal link leading to page ${Ze} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});z.useImperativeHandle(t,()=>({linkService:N,pages:D,viewer:W}),[]);function ie(){A&&A()}function Y(){U&&(Qt(!1,U.toString()),y&&y(U))}function re(){O({type:"RESET"})}z.useEffect(re,[l,O]);const ue=z.useCallback(()=>XM(this,void 0,void 0,function*(){if(!l)return null;if(typeof l=="string")return Py(l)?{data:iA(l)}:(rA(),{url:l});if(l instanceof KM)return{range:l};if(HM(l))return{data:l};if(xg&&BM(l))return{data:yield WM(l)};if(Ue(typeof l=="object"),Ue(aA(l)),"url"in l&&typeof l.url=="string"){if(Py(l.url)){const{url:Ie}=l,Ee=sA(l,["url"]),Ze=iA(Ie);return Object.assign({data:Ze},Ee)}rA()}return l}),[l]);z.useEffect(()=>{const Ie=Td(ue());return Ie.promise.then(Ee=>{O({type:"RESOLVE",value:Ee})}).catch(Ee=>{O({type:"REJECT",error:Ee})}),()=>{ko(Ie)}},[ue,O]),z.useEffect(()=>{if(!(typeof B>"u")){if(B===!1){Y();return}ie()}},[B]);function Ve(){I&&(S&&S(I),D.current=new Array(I.numPages),N.current.setDocument(I))}function Ae(){M&&(Qt(!1,M.toString()),g&&g(M))}z.useEffect(function(){Z({type:"RESET"})},[Z,B]),z.useEffect(function(){if(!B)return;const Ee=Object.assign(Object.assign({},B),x),Ze=W1(Ee);v&&(Ze.onProgress=v),m&&(Ze.onPassword=m);const ct=Ze;return ct.promise.then(Ri=>{Z({type:"RESOLVE",value:Ri})}).catch(Ri=>{ct.destroyed||Z({type:"REJECT",error:Ri})}),()=>{ct.destroy()}},[x,Z,B]),z.useEffect(()=>{if(!(typeof I>"u")){if(I===!1){Ae();return}Ve()}},[I]),z.useEffect(function(){N.current.setViewer(W.current),N.current.setExternalLinkRel(a),N.current.setExternalLinkTarget(o)},[a,o]);const he=z.useCallback((Ie,Ee)=>{D.current[Ie]=Ee},[]),Ke=z.useCallback(Ie=>{delete D.current[Ie]},[]),Vn=z.useMemo(()=>({imageResourcesPath:h,linkService:N.current,onItemClick:p,pdf:I,registerPage:he,renderMode:T,rotate:L,unregisterPage:Ke}),[h,p,I,he,T,L,Ke]),We=z.useMemo(()=>X1(F,()=>I),[F,I]);function ea(){return C.jsx(q1.Provider,{value:Vn,children:i})}function ta(){return l?I==null?C.jsx(vl,{type:"loading",children:typeof d=="function"?d():d}):I===!1?C.jsx(vl,{type:"error",children:typeof s=="function"?s():s}):ea():C.jsx(vl,{type:"no-data",children:typeof f=="function"?f():f})}return C.jsx("div",Object.assign({className:bg("react-pdf__Document",r),ref:u,style:{"--scale-factor":"1"}},We,{children:ta()}))});function J1(){return z.useContext(q1)}function Z1(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=n.filter(Boolean);if(t.length<=1){var i=t[0];return i||null}return function(s){t.forEach(function(a){typeof a=="function"?a(s):a&&(a.current=s)})}}const ex=z.createContext(null),tx={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},QM=/^H(\d+)$/;function JM(n){return n in tx}function Cg(n){return"children"in n}function nx(n){return Cg(n)?n.children.length===1&&0 in n.children&&"id"in n.children[0]:!1}function ZM(n){const e={};if(Cg(n)){const{role:t}=n,i=t.match(QM);if(i)e.role="heading",e["aria-level"]=Number(i[1]);else if(JM(t)){const r=tx[t];r&&(e.role=r)}}return e}function ix(n){const e={};if(Cg(n)){if(n.alt!==void 0&&(e["aria-label"]=n.alt),n.lang!==void 0&&(e.lang=n.lang),nx(n)){const[t]=n.children;if(t){const i=ix(t);return Object.assign(Object.assign({},e),i)}}}else"id"in n&&(e["aria-owns"]=n.id);return e}function eD(n){return n?Object.assign(Object.assign({},ZM(n)),ix(n)):null}function rx({className:n,node:e}){const t=z.useMemo(()=>eD(e),[e]),i=z.useMemo(()=>!Cg(e)||nx(e)?null:e.children.map((r,s)=>C.jsx(rx,{node:r},s)),[e]);return C.jsx("span",Object.assign({className:n},t,{children:i}))}function kg(){return z.useContext(ex)}function tD(){const n=kg();Ue(n);const{onGetStructTreeError:e,onGetStructTreeSuccess:t}=n,[i,r]=_c(),{value:s,error:a}=i,{customTextRenderer:o,page:l}=n;function u(){s&&t&&t(s)}function h(){a&&(Qt(!1,a.toString()),e&&e(a))}return z.useEffect(function(){r({type:"RESET"})},[r,l]),z.useEffect(function(){if(o||!l)return;const f=Td(l.getStructTree()),p=f;return f.promise.then(g=>{r({type:"RESOLVE",value:g})}).catch(g=>{r({type:"REJECT",error:g})}),()=>ko(p)},[o,l,r]),z.useEffect(()=>{if(s!==void 0){if(s===!1){h();return}u()}},[s]),s?C.jsx(rx,{className:"react-pdf__Page__structTree structTree",node:s}):null}const oA=$1;function nD(n){const e=kg();Ue(e);const t=Object.assign(Object.assign({},e),n),{_className:i,canvasBackground:r,devicePixelRatio:s=UM(),onRenderError:a,onRenderSuccess:o,page:l,renderForms:u,renderTextLayer:h,rotate:d,scale:f}=t,{canvasRef:p}=n;Ue(l);const g=z.useRef(null);function v(){l&&o&&o(Ry(l,f))}function S(x){VM(x)||(Qt(!1,x.toString()),a&&a(x))}const m=z.useMemo(()=>l.getViewport({scale:f*s,rotation:d}),[s,l,d,f]),y=z.useMemo(()=>l.getViewport({scale:f,rotation:d}),[l,d,f]);z.useEffect(function(){if(!l)return;l.cleanup();const{current:T}=g;if(!T)return;T.width=m.width,T.height=m.height,T.style.width=`${Math.floor(y.width)}px`,T.style.height=`${Math.floor(y.height)}px`,T.style.visibility="hidden";const L={annotationMode:u?oA.ENABLE_FORMS:oA.ENABLE,canvasContext:T.getContext("2d",{alpha:!1}),viewport:m};r&&(L.background=r);const F=l.render(L),b=F;return F.promise.then(()=>{T.style.visibility="",v()}).catch(S),()=>ko(b)},[r,l,u,m,y]);const A=z.useCallback(()=>{const{current:x}=g;x&&(x.width=0,x.height=0)},[]);return z.useEffect(()=>A,[A]),C.jsx("canvas",{className:`${i}__canvas`,dir:"ltr",ref:Z1(p,g),style:{display:"block",userSelect:"none"},children:h?C.jsx(tD,{}):null})}function iD(n){return"str"in n}function rD(){const n=kg();Ue(n);const{customTextRenderer:e,onGetTextError:t,onGetTextSuccess:i,onRenderTextLayerError:r,onRenderTextLayerSuccess:s,page:a,pageIndex:o,pageNumber:l,rotate:u,scale:h}=n;Ue(a);const[d,f]=_c(),{value:p,error:g}=d,v=z.useRef(null),S=z.useRef(void 0);Qt(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function m(){p&&i&&i(p)}function y(){g&&(Qt(!1,g.toString()),t&&t(g))}z.useEffect(function(){f({type:"RESET"})},[a,f]),z.useEffect(function(){if(!a)return;const O=Td(a.getTextContent()),B=O;return O.promise.then(U=>{f({type:"RESOLVE",value:U})}).catch(U=>{f({type:"REJECT",error:U})}),()=>ko(B)},[a,f]),z.useEffect(()=>{if(p!==void 0){if(p===!1){y();return}m()}},[p]);const A=z.useCallback(()=>{s&&s()},[s]),x=z.useCallback(b=>{Qt(!1,b.toString()),r&&r(b)},[r]);function T(){const b=S.current;b&&b.classList.add("active")}function L(){const b=S.current;b&&b.classList.remove("active")}const F=z.useMemo(()=>a.getViewport({scale:h,rotation:u}),[a,u,h]);return z.useLayoutEffect(function(){if(!a||!p)return;const{current:O}=v;if(!O)return;O.innerHTML="";const B=a.streamTextContent({includeMarkedContent:!0}),U={container:O,textContentSource:B,viewport:F},ee=new V1(U),Z=ee;return ee.render().then(()=>{const I=document.createElement("div");I.className="endOfContent",O.append(I),S.current=I;const M=O.querySelectorAll('[role="presentation"]');if(e){let N=0;p.items.forEach((D,P)=>{if(!iD(D))return;const H=M[N];if(!H)return;const W=e(Object.assign({pageIndex:o,pageNumber:l,itemIndex:P},D));H.innerHTML=W,N+=D.str&&D.hasEOL?2:1})}A()}).catch(x),()=>ko(Z)},[e,x,A,a,o,l,p,F]),C.jsx("div",{className:bg("react-pdf__Page__textContent","textLayer"),onMouseUp:L,onMouseDown:T,ref:v})}function sD(){const n=J1(),e=kg();Ue(e);const t=Object.assign(Object.assign({},n),e),{imageResourcesPath:i,linkService:r,onGetAnnotationsError:s,onGetAnnotationsSuccess:a,onRenderAnnotationLayerError:o,onRenderAnnotationLayerSuccess:l,page:u,pdf:h,renderForms:d,rotate:f,scale:p=1}=t;Ue(h),Ue(u),Ue(r);const[g,v]=_c(),{value:S,error:m}=g,y=z.useRef(null);Qt(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function A(){S&&a&&a(S)}function x(){m&&(Qt(!1,m.toString()),s&&s(m))}z.useEffect(function(){v({type:"RESET"})},[v,u]),z.useEffect(function(){if(!u)return;const O=Td(u.getAnnotations()),B=O;return O.promise.then(U=>{v({type:"RESOLVE",value:U})}).catch(U=>{v({type:"REJECT",error:U})}),()=>{ko(B)}},[v,u]),z.useEffect(()=>{if(S!==void 0){if(S===!1){x();return}A()}},[S]);function T(){l&&l()}function L(b){Qt(!1,`${b}`),o&&o(b)}const F=z.useMemo(()=>u.getViewport({scale:p,rotation:f}),[u,f,p]);return z.useEffect(function(){if(!h||!u||!r||!S)return;const{current:O}=y;if(!O)return;const B=F.clone({dontFlip:!0}),U={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:O,l10n:null,page:u,viewport:B},ee={annotations:S,annotationStorage:h.annotationStorage,div:O,imageResourcesPath:i,linkService:r,page:u,renderForms:d,viewport:B};O.innerHTML="";try{new U1(U).render(ee),T()}catch(Z){L(Z)}return()=>{}},[S,i,r,u,h,d,F]),C.jsx("div",{className:bg("react-pdf__Page__annotations","annotationLayer"),ref:y})}var aD=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const lA=1;function oD(n){const e=J1(),t=Object.assign(Object.assign({},e),n),{_className:i="react-pdf__Page",_enableRegisterUnregisterPage:r=!0,canvasBackground:s,canvasRef:a,children:o,className:l,customRenderer:u,customTextRenderer:h,devicePixelRatio:d,error:f="Failed to load the page.",height:p,inputRef:g,loading:v="Loading page…",noData:S="No page specified.",onGetAnnotationsError:m,onGetAnnotationsSuccess:y,onGetStructTreeError:A,onGetStructTreeSuccess:x,onGetTextError:T,onGetTextSuccess:L,onLoadError:F,onLoadSuccess:b,onRenderAnnotationLayerError:O,onRenderAnnotationLayerSuccess:B,onRenderError:U,onRenderSuccess:ee,onRenderTextLayerError:Z,onRenderTextLayerSuccess:I,pageIndex:M,pageNumber:N,pdf:D,registerPage:P,renderAnnotationLayer:H=!0,renderForms:W=!1,renderMode:ie="canvas",renderTextLayer:Y=!0,rotate:re,scale:ue=lA,unregisterPage:Ve,width:Ae}=t,he=aD(t,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Ke,Vn]=_c(),{value:We,error:ea}=Ke,ta=z.useRef(null);Ue(D);const Ie=sa(N)?N-1:M??null,Ee=N??(sa(M)?M+1:null),Ze=re??(We?We.rotate:null),ct=z.useMemo(()=>{if(!We)return null;let Wn=1;const ra=ue??lA;if(Ae||p){const ts=We.getViewport({scale:1,rotation:Ze});Ae?Wn=Ae/ts.width:p&&(Wn=p/ts.height)}return ra*Wn},[p,We,Ze,ue,Ae]);z.useEffect(function(){return()=>{sa(Ie)&&r&&Ve&&Ve(Ie)}},[r,D,Ie,Ve]);function Ri(){if(b){if(!We||!ct)return;b(Ry(We,ct))}if(r&&P){if(!sa(Ie)||!ta.current)return;P(Ie,ta.current)}}function ir(){ea&&(Qt(!1,ea.toString()),F&&F(ea))}z.useEffect(function(){Vn({type:"RESET"})},[Vn,D,Ie]),z.useEffect(function(){if(!D||!Ee)return;const ra=Td(D.getPage(Ee)),ts=ra;return ra.promise.then(Gn=>{Vn({type:"RESOLVE",value:Gn})}).catch(Gn=>{Vn({type:"REJECT",error:Gn})}),()=>ko(ts)},[Vn,D,Ee]),z.useEffect(()=>{if(We!==void 0){if(We===!1){ir();return}Ri()}},[We,ct]);const Tg=z.useMemo(()=>We&&sa(Ie)&&Ee&&sa(Ze)&&sa(ct)?{_className:i,canvasBackground:s,customTextRenderer:h,devicePixelRatio:d,onGetAnnotationsError:m,onGetAnnotationsSuccess:y,onGetStructTreeError:A,onGetStructTreeSuccess:x,onGetTextError:T,onGetTextSuccess:L,onRenderAnnotationLayerError:O,onRenderAnnotationLayerSuccess:B,onRenderError:U,onRenderSuccess:ee,onRenderTextLayerError:Z,onRenderTextLayerSuccess:I,page:We,pageIndex:Ie,pageNumber:Ee,renderForms:W,renderTextLayer:Y,rotate:Ze,scale:ct}:null,[i,s,h,d,m,y,A,x,T,L,O,B,U,ee,Z,I,We,Ie,Ee,W,Y,Ze,ct]),Pg=z.useMemo(()=>X1(he,()=>We&&(ct?Ry(We,ct):void 0)),[he,We,ct]),na=`${Ie}@${ct}/${Ze}`;function Rg(){switch(ie){case"custom":return Ue(u),C.jsx(u,{},`${na}_custom`);case"none":return null;case"canvas":default:return C.jsx(nD,{canvasRef:a},`${na}_canvas`)}}function Lg(){return Y?C.jsx(rD,{},`${na}_text`):null}function Mg(){return H?C.jsx(sD,{},`${na}_annotations`):null}function Dg(){return C.jsxs(ex.Provider,{value:Tg,children:[Rg(),Lg(),Mg(),o]})}function ia(){return Ee?D===null||We===void 0||We===null?C.jsx(vl,{type:"loading",children:typeof v=="function"?v():v}):D===!1||We===!1?C.jsx(vl,{type:"error",children:typeof f=="function"?f():f}):Dg():C.jsx(vl,{type:"no-data",children:typeof S=="function"?S():S})}return C.jsx("div",Object.assign({className:bg(i,l),"data-page-number":Ee,ref:Z1(g,ta),style:{"--scale-factor":`${ct}`,backgroundColor:s||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},Pg,{children:ia()}))}$M();B0.workerSrc="pdf.worker.mjs";B0.workerSrc=`//unpkg.com/pdfjs-dist@${G1}/build/pdf.worker.min.mjs`;const lD=()=>C.jsx(YM,{file:"/assets/BinhLeResume.pdf",children:C.jsx(oD,{pageNumber:1})}),cD=aP([{path:"/",element:C.jsx(EP,{})},{path:"/experience",element:C.jsx(SP,{})},{path:"/projects",element:C.jsx(bP,{})},{path:"/about",element:C.jsx(xP,{})},{path:"/resume",element:C.jsx(lD,{})}]);ym.createRoot(document.getElementById("root")).render(C.jsx(EA.StrictMode,{children:C.jsx(gP,{router:cD})}));
