var px=Object.defineProperty;var aw=n=>{throw TypeError(n)};var gx=(n,e,t)=>e in n?px(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var le=(n,e,t)=>gx(n,typeof e!="symbol"?e+"":e,t),jg=(n,e,t)=>e.has(n)||aw("Cannot "+t);var c=(n,e,t)=>(jg(n,e,"read from private field"),t?t.call(n):e.get(n)),E=(n,e,t)=>e.has(n)?aw("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),w=(n,e,t,i)=>(jg(n,e,"write to private field"),i?i.call(n,t):e.set(n,t),t),_=(n,e,t)=>(jg(n,e,"access private method"),t);var xn=(n,e,t,i)=>({set _(r){w(n,e,r,t)},get _(){return c(n,e,i)}});function vE(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function Dy(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var yE={exports:{}},Yp={},wE={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yd=Symbol.for("react.element"),mx=Symbol.for("react.portal"),vx=Symbol.for("react.fragment"),yx=Symbol.for("react.strict_mode"),wx=Symbol.for("react.profiler"),_x=Symbol.for("react.provider"),Ex=Symbol.for("react.context"),Ax=Symbol.for("react.forward_ref"),Sx=Symbol.for("react.suspense"),bx=Symbol.for("react.memo"),xx=Symbol.for("react.lazy"),ow=Symbol.iterator;function Cx(n){return n===null||typeof n!="object"?null:(n=ow&&n[ow]||n["@@iterator"],typeof n=="function"?n:null)}var _E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},EE=Object.assign,AE={};function Ac(n,e,t){this.props=n,this.context=e,this.refs=AE,this.updater=t||_E}Ac.prototype.isReactComponent={};Ac.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Ac.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function SE(){}SE.prototype=Ac.prototype;function Ny(n,e,t){this.props=n,this.context=e,this.refs=AE,this.updater=t||_E}var Iy=Ny.prototype=new SE;Iy.constructor=Ny;EE(Iy,Ac.prototype);Iy.isPureReactComponent=!0;var lw=Array.isArray,bE=Object.prototype.hasOwnProperty,Fy={current:null},xE={key:!0,ref:!0,__self:!0,__source:!0};function CE(n,e,t){var i,r={},s=null,a=null;if(e!=null)for(i in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)bE.call(e,i)&&!xE.hasOwnProperty(i)&&(r[i]=e[i]);var o=arguments.length-2;if(o===1)r.children=t;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];r.children=l}if(n&&n.defaultProps)for(i in o=n.defaultProps,o)r[i]===void 0&&(r[i]=o[i]);return{$$typeof:yd,type:n,key:s,ref:a,props:r,_owner:Fy.current}}function kx(n,e){return{$$typeof:yd,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function Oy(n){return typeof n=="object"&&n!==null&&n.$$typeof===yd}function Tx(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var cw=/\/+/g;function zg(n,e){return typeof n=="object"&&n!==null&&n.key!=null?Tx(""+n.key):e.toString(36)}function lf(n,e,t,i,r){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var a=!1;if(n===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(n.$$typeof){case yd:case mx:a=!0}}if(a)return a=n,r=r(a),n=i===""?"."+zg(a,0):i,lw(r)?(t="",n!=null&&(t=n.replace(cw,"$&/")+"/"),lf(r,e,t,"",function(u){return u})):r!=null&&(Oy(r)&&(r=kx(r,t+(!r.key||a&&a.key===r.key?"":(""+r.key).replace(cw,"$&/")+"/")+n)),e.push(r)),1;if(a=0,i=i===""?".":i+":",lw(n))for(var o=0;o<n.length;o++){s=n[o];var l=i+zg(s,o);a+=lf(s,e,t,l,r)}else if(l=Cx(n),typeof l=="function")for(n=l.call(n),o=0;!(s=n.next()).done;)s=s.value,l=i+zg(s,o++),a+=lf(s,e,t,l,r);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Od(n,e,t){if(n==null)return n;var i=[],r=0;return lf(n,i,"","",function(s){return e.call(t,s,r++)}),i}function Px(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var un={current:null},cf={transition:null},Rx={ReactCurrentDispatcher:un,ReactCurrentBatchConfig:cf,ReactCurrentOwner:Fy};function kE(){throw Error("act(...) is not supported in production builds of React.")}ye.Children={map:Od,forEach:function(n,e,t){Od(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Od(n,function(){e++}),e},toArray:function(n){return Od(n,function(e){return e})||[]},only:function(n){if(!Oy(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};ye.Component=Ac;ye.Fragment=vx;ye.Profiler=wx;ye.PureComponent=Ny;ye.StrictMode=yx;ye.Suspense=Sx;ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Rx;ye.act=kE;ye.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=EE({},n.props),r=n.key,s=n.ref,a=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=Fy.current),e.key!==void 0&&(r=""+e.key),n.type&&n.type.defaultProps)var o=n.type.defaultProps;for(l in e)bE.call(e,l)&&!xE.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=t;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];i.children=o}return{$$typeof:yd,type:n.type,key:r,ref:s,props:i,_owner:a}};ye.createContext=function(n){return n={$$typeof:Ex,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:_x,_context:n},n.Consumer=n};ye.createElement=CE;ye.createFactory=function(n){var e=CE.bind(null,n);return e.type=n,e};ye.createRef=function(){return{current:null}};ye.forwardRef=function(n){return{$$typeof:Ax,render:n}};ye.isValidElement=Oy;ye.lazy=function(n){return{$$typeof:xx,_payload:{_status:-1,_result:n},_init:Px}};ye.memo=function(n,e){return{$$typeof:bx,type:n,compare:e===void 0?null:e}};ye.startTransition=function(n){var e=cf.transition;cf.transition={};try{n()}finally{cf.transition=e}};ye.unstable_act=kE;ye.useCallback=function(n,e){return un.current.useCallback(n,e)};ye.useContext=function(n){return un.current.useContext(n)};ye.useDebugValue=function(){};ye.useDeferredValue=function(n){return un.current.useDeferredValue(n)};ye.useEffect=function(n,e){return un.current.useEffect(n,e)};ye.useId=function(){return un.current.useId()};ye.useImperativeHandle=function(n,e,t){return un.current.useImperativeHandle(n,e,t)};ye.useInsertionEffect=function(n,e){return un.current.useInsertionEffect(n,e)};ye.useLayoutEffect=function(n,e){return un.current.useLayoutEffect(n,e)};ye.useMemo=function(n,e){return un.current.useMemo(n,e)};ye.useReducer=function(n,e,t){return un.current.useReducer(n,e,t)};ye.useRef=function(n){return un.current.useRef(n)};ye.useState=function(n){return un.current.useState(n)};ye.useSyncExternalStore=function(n,e,t){return un.current.useSyncExternalStore(n,e,t)};ye.useTransition=function(){return un.current.useTransition()};ye.version="18.3.1";wE.exports=ye;var D=wE.exports;const Br=Dy(D),Lx=vE({__proto__:null,default:Br},[D]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mx=D,Dx=Symbol.for("react.element"),Nx=Symbol.for("react.fragment"),Ix=Object.prototype.hasOwnProperty,Fx=Mx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ox={key:!0,ref:!0,__self:!0,__source:!0};function TE(n,e,t){var i,r={},s=null,a=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(i in e)Ix.call(e,i)&&!Ox.hasOwnProperty(i)&&(r[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:Dx,type:n,key:s,ref:a,props:r,_owner:Fx.current}}Yp.Fragment=Nx;Yp.jsx=TE;Yp.jsxs=TE;yE.exports=Yp;var S=yE.exports,_m={},PE={exports:{}},Un={},RE={exports:{}},LE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(F,B){var Z=F.length;F.push(B);e:for(;0<Z;){var we=Z-1>>>1,ne=F[we];if(0<r(ne,B))F[we]=B,F[Z]=ne,Z=we;else break e}}function t(F){return F.length===0?null:F[0]}function i(F){if(F.length===0)return null;var B=F[0],Z=F.pop();if(Z!==B){F[0]=Z;e:for(var we=0,ne=F.length,de=ne>>>1;we<de;){var ze=2*(we+1)-1,Qe=F[ze],Se=ze+1,fe=F[Se];if(0>r(Qe,Z))Se<ne&&0>r(fe,Qe)?(F[we]=fe,F[Se]=Z,we=Se):(F[we]=Qe,F[ze]=Z,we=ze);else if(Se<ne&&0>r(fe,Z))F[we]=fe,F[Se]=Z,we=Se;else break e}}return B}function r(F,B){var Z=F.sortIndex-B.sortIndex;return Z!==0?Z:F.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();n.unstable_now=function(){return a.now()-o}}var l=[],u=[],h=1,d=null,f=3,p=!1,g=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(F){for(var B=t(u);B!==null;){if(B.callback===null)i(u);else if(B.startTime<=F)i(u),B.sortIndex=B.expirationTime,e(l,B);else break;B=t(u)}}function C(F){if(y=!1,A(F),!g)if(t(l)!==null)g=!0,oe(T);else{var B=t(u);B!==null&&U(C,B.startTime-F)}}function T(F,B){g=!1,y&&(y=!1,m(x),x=-1),p=!0;var Z=f;try{for(A(B),d=t(l);d!==null&&(!(d.expirationTime>B)||F&&!O());){var we=d.callback;if(typeof we=="function"){d.callback=null,f=d.priorityLevel;var ne=we(d.expirationTime<=B);B=n.unstable_now(),typeof ne=="function"?d.callback=ne:d===t(l)&&i(l),A(B)}else i(l);d=t(l)}if(d!==null)var de=!0;else{var ze=t(u);ze!==null&&U(C,ze.startTime-B),de=!1}return de}finally{d=null,f=Z,p=!1}}var R=!1,L=null,x=-1,N=5,I=-1;function O(){return!(n.unstable_now()-I<N)}function J(){if(L!==null){var F=n.unstable_now();I=F;var B=!0;try{B=L(!0,F)}finally{B?Y():(R=!1,L=null)}}else R=!1}var Y;if(typeof v=="function")Y=function(){v(J)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,se=W.port2;W.port1.onmessage=J,Y=function(){se.postMessage(null)}}else Y=function(){b(J,0)};function oe(F){L=F,R||(R=!0,Y())}function U(F,B){x=b(function(){F(n.unstable_now())},B)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(F){F.callback=null},n.unstable_continueExecution=function(){g||p||(g=!0,oe(T))},n.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<F?Math.floor(1e3/F):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(F){switch(f){case 1:case 2:case 3:var B=3;break;default:B=f}var Z=f;f=B;try{return F()}finally{f=Z}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(F,B){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var Z=f;f=F;try{return B()}finally{f=Z}},n.unstable_scheduleCallback=function(F,B,Z){var we=n.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?we+Z:we):Z=we,F){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=Z+ne,F={id:h++,callback:B,priorityLevel:F,startTime:Z,expirationTime:ne,sortIndex:-1},Z>we?(F.sortIndex=Z,e(u,F),t(l)===null&&F===t(u)&&(y?(m(x),x=-1):y=!0,U(C,Z-we))):(F.sortIndex=ne,e(l,F),g||p||(g=!0,oe(T))),F},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(F){var B=f;return function(){var Z=f;f=B;try{return F.apply(this,arguments)}finally{f=Z}}}})(LE);RE.exports=LE;var jx=RE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zx=D,Bn=jx;function z(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ME=new Set,wu={};function Lo(n,e){pc(n,e),pc(n+"Capture",e)}function pc(n,e){for(wu[n]=e,n=0;n<e.length;n++)ME.add(e[n])}var Kr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Em=Object.prototype.hasOwnProperty,Hx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,uw={},hw={};function Bx(n){return Em.call(hw,n)?!0:Em.call(uw,n)?!1:Hx.test(n)?hw[n]=!0:(uw[n]=!0,!1)}function Ux(n,e,t,i){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function $x(n,e,t,i){if(e===null||typeof e>"u"||Ux(n,e,t,i))return!0;if(i)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function hn(n,e,t,i,r,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var $t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){$t[n]=new hn(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];$t[e]=new hn(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){$t[n]=new hn(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){$t[n]=new hn(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){$t[n]=new hn(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){$t[n]=new hn(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){$t[n]=new hn(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){$t[n]=new hn(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){$t[n]=new hn(n,5,!1,n.toLowerCase(),null,!1,!1)});var jy=/[\-:]([a-z])/g;function zy(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(jy,zy);$t[e]=new hn(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(jy,zy);$t[e]=new hn(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(jy,zy);$t[e]=new hn(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){$t[n]=new hn(n,1,!1,n.toLowerCase(),null,!1,!1)});$t.xlinkHref=new hn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){$t[n]=new hn(n,1,!1,n.toLowerCase(),null,!0,!0)});function Hy(n,e,t,i){var r=$t.hasOwnProperty(e)?$t[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&($x(e,t,r,i)&&(t=null),i||r===null?Bx(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):r.mustUseProperty?n[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,i=r.attributeNamespace,t===null?n.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,i?n.setAttributeNS(i,e,t):n.setAttribute(e,t))))}var es=zx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,jd=Symbol.for("react.element"),Yo=Symbol.for("react.portal"),qo=Symbol.for("react.fragment"),By=Symbol.for("react.strict_mode"),Am=Symbol.for("react.profiler"),DE=Symbol.for("react.provider"),NE=Symbol.for("react.context"),Uy=Symbol.for("react.forward_ref"),Sm=Symbol.for("react.suspense"),bm=Symbol.for("react.suspense_list"),$y=Symbol.for("react.memo"),us=Symbol.for("react.lazy"),IE=Symbol.for("react.offscreen"),dw=Symbol.iterator;function kc(n){return n===null||typeof n!="object"?null:(n=dw&&n[dw]||n["@@iterator"],typeof n=="function"?n:null)}var rt=Object.assign,Hg;function Bc(n){if(Hg===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);Hg=e&&e[1]||""}return`
`+Hg+n}var Bg=!1;function Ug(n,e){if(!n||Bg)return"";Bg=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var i=u}Reflect.construct(n,[],e)}else{try{e.call()}catch(u){i=u}n.call(e.prototype)}else{try{throw Error()}catch(u){i=u}n()}}catch(u){if(u&&i&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),s=i.stack.split(`
`),a=r.length-1,o=s.length-1;1<=a&&0<=o&&r[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(r[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||r[a]!==s[o]){var l=`
`+r[a].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=a&&0<=o);break}}}finally{Bg=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Bc(n):""}function Vx(n){switch(n.tag){case 5:return Bc(n.type);case 16:return Bc("Lazy");case 13:return Bc("Suspense");case 19:return Bc("SuspenseList");case 0:case 2:case 15:return n=Ug(n.type,!1),n;case 11:return n=Ug(n.type.render,!1),n;case 1:return n=Ug(n.type,!0),n;default:return""}}function xm(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case qo:return"Fragment";case Yo:return"Portal";case Am:return"Profiler";case By:return"StrictMode";case Sm:return"Suspense";case bm:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case NE:return(n.displayName||"Context")+".Consumer";case DE:return(n._context.displayName||"Context")+".Provider";case Uy:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case $y:return e=n.displayName||null,e!==null?e:xm(n.type)||"Memo";case us:e=n._payload,n=n._init;try{return xm(n(e))}catch{}}return null}function Wx(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xm(e);case 8:return e===By?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Gs(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function FE(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Gx(n){var e=FE(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return r.call(this)},set:function(a){i=""+a,s.call(this,a)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function zd(n){n._valueTracker||(n._valueTracker=Gx(n))}function OE(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return n&&(i=FE(n)?n.checked?"true":"false":n.value),n=i,n!==t?(e.setValue(n),!0):!1}function Xf(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Cm(n,e){var t=e.checked;return rt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function fw(n,e){var t=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;t=Gs(e.value!=null?e.value:t),n._wrapperState={initialChecked:i,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function jE(n,e){e=e.checked,e!=null&&Hy(n,"checked",e,!1)}function km(n,e){jE(n,e);var t=Gs(e.value),i=e.type;if(t!=null)i==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?Tm(n,e.type,t):e.hasOwnProperty("defaultValue")&&Tm(n,e.type,Gs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function pw(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function Tm(n,e,t){(e!=="number"||Xf(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Uc=Array.isArray;function cl(n,e,t,i){if(n=n.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<n.length;t++)r=e.hasOwnProperty("$"+n[t].value),n[t].selected!==r&&(n[t].selected=r),r&&i&&(n[t].defaultSelected=!0)}else{for(t=""+Gs(t),e=null,r=0;r<n.length;r++){if(n[r].value===t){n[r].selected=!0,i&&(n[r].defaultSelected=!0);return}e!==null||n[r].disabled||(e=n[r])}e!==null&&(e.selected=!0)}}function Pm(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return rt({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function gw(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(z(92));if(Uc(t)){if(1<t.length)throw Error(z(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Gs(t)}}function zE(n,e){var t=Gs(e.value),i=Gs(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),i!=null&&(n.defaultValue=""+i)}function mw(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function HE(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rm(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?HE(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Hd,BE=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,i,r){MSApp.execUnsafeLocalFunction(function(){return n(e,t,i,r)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Hd=Hd||document.createElement("div"),Hd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Hd.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function _u(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var ou={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xx=["Webkit","ms","Moz","O"];Object.keys(ou).forEach(function(n){Xx.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),ou[e]=ou[n]})});function UE(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||ou.hasOwnProperty(n)&&ou[n]?(""+e).trim():e+"px"}function $E(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var i=t.indexOf("--")===0,r=UE(t,e[t],i);t==="float"&&(t="cssFloat"),i?n.setProperty(t,r):n[t]=r}}var Kx=rt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lm(n,e){if(e){if(Kx[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function Mm(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dm=null;function Vy(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Nm=null,ul=null,hl=null;function vw(n){if(n=Ed(n)){if(typeof Nm!="function")throw Error(z(280));var e=n.stateNode;e&&(e=eg(e),Nm(n.stateNode,n.type,e))}}function VE(n){ul?hl?hl.push(n):hl=[n]:ul=n}function WE(){if(ul){var n=ul,e=hl;if(hl=ul=null,vw(n),e)for(n=0;n<e.length;n++)vw(e[n])}}function GE(n,e){return n(e)}function XE(){}var $g=!1;function KE(n,e,t){if($g)return n(e,t);$g=!0;try{return GE(n,e,t)}finally{$g=!1,(ul!==null||hl!==null)&&(XE(),WE())}}function Eu(n,e){var t=n.stateNode;if(t===null)return null;var i=eg(t);if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(z(231,e,typeof t));return t}var Im=!1;if(Kr)try{var Tc={};Object.defineProperty(Tc,"passive",{get:function(){Im=!0}}),window.addEventListener("test",Tc,Tc),window.removeEventListener("test",Tc,Tc)}catch{Im=!1}function Yx(n,e,t,i,r,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(t,u)}catch(h){this.onError(h)}}var lu=!1,Kf=null,Yf=!1,Fm=null,qx={onError:function(n){lu=!0,Kf=n}};function Qx(n,e,t,i,r,s,a,o,l){lu=!1,Kf=null,Yx.apply(qx,arguments)}function Jx(n,e,t,i,r,s,a,o,l){if(Qx.apply(this,arguments),lu){if(lu){var u=Kf;lu=!1,Kf=null}else throw Error(z(198));Yf||(Yf=!0,Fm=u)}}function Mo(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function YE(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function yw(n){if(Mo(n)!==n)throw Error(z(188))}function Zx(n){var e=n.alternate;if(!e){if(e=Mo(n),e===null)throw Error(z(188));return e!==n?null:n}for(var t=n,i=e;;){var r=t.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){t=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===t)return yw(r),n;if(s===i)return yw(r),e;s=s.sibling}throw Error(z(188))}if(t.return!==i.return)t=r,i=s;else{for(var a=!1,o=r.child;o;){if(o===t){a=!0,t=r,i=s;break}if(o===i){a=!0,i=r,t=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===t){a=!0,t=s,i=r;break}if(o===i){a=!0,i=s,t=r;break}o=o.sibling}if(!a)throw Error(z(189))}}if(t.alternate!==i)throw Error(z(190))}if(t.tag!==3)throw Error(z(188));return t.stateNode.current===t?n:e}function qE(n){return n=Zx(n),n!==null?QE(n):null}function QE(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=QE(n);if(e!==null)return e;n=n.sibling}return null}var JE=Bn.unstable_scheduleCallback,ww=Bn.unstable_cancelCallback,eC=Bn.unstable_shouldYield,tC=Bn.unstable_requestPaint,ht=Bn.unstable_now,nC=Bn.unstable_getCurrentPriorityLevel,Wy=Bn.unstable_ImmediatePriority,ZE=Bn.unstable_UserBlockingPriority,qf=Bn.unstable_NormalPriority,iC=Bn.unstable_LowPriority,eA=Bn.unstable_IdlePriority,qp=null,Ji=null;function rC(n){if(Ji&&typeof Ji.onCommitFiberRoot=="function")try{Ji.onCommitFiberRoot(qp,n,void 0,(n.current.flags&128)===128)}catch{}}var ki=Math.clz32?Math.clz32:oC,sC=Math.log,aC=Math.LN2;function oC(n){return n>>>=0,n===0?32:31-(sC(n)/aC|0)|0}var Bd=64,Ud=4194304;function $c(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Qf(n,e){var t=n.pendingLanes;if(t===0)return 0;var i=0,r=n.suspendedLanes,s=n.pingedLanes,a=t&268435455;if(a!==0){var o=a&~r;o!==0?i=$c(o):(s&=a,s!==0&&(i=$c(s)))}else a=t&~r,a!==0?i=$c(a):s!==0&&(i=$c(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)t=31-ki(e),r=1<<t,i|=n[t],e&=~r;return i}function lC(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cC(n,e){for(var t=n.suspendedLanes,i=n.pingedLanes,r=n.expirationTimes,s=n.pendingLanes;0<s;){var a=31-ki(s),o=1<<a,l=r[a];l===-1?(!(o&t)||o&i)&&(r[a]=lC(o,e)):l<=e&&(n.expiredLanes|=o),s&=~o}}function Om(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function tA(){var n=Bd;return Bd<<=1,!(Bd&4194240)&&(Bd=64),n}function Vg(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function wd(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-ki(e),n[e]=t}function uC(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<t;){var r=31-ki(t),s=1<<r;e[r]=0,i[r]=-1,n[r]=-1,t&=~s}}function Gy(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var i=31-ki(t),r=1<<i;r&e|n[i]&e&&(n[i]|=e),t&=~r}}var Me=0;function nA(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var iA,Xy,rA,sA,aA,jm=!1,$d=[],js=null,zs=null,Hs=null,Au=new Map,Su=new Map,ds=[],hC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _w(n,e){switch(n){case"focusin":case"focusout":js=null;break;case"dragenter":case"dragleave":zs=null;break;case"mouseover":case"mouseout":Hs=null;break;case"pointerover":case"pointerout":Au.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Su.delete(e.pointerId)}}function Pc(n,e,t,i,r,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=Ed(e),e!==null&&Xy(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),n)}function dC(n,e,t,i,r){switch(e){case"focusin":return js=Pc(js,n,e,t,i,r),!0;case"dragenter":return zs=Pc(zs,n,e,t,i,r),!0;case"mouseover":return Hs=Pc(Hs,n,e,t,i,r),!0;case"pointerover":var s=r.pointerId;return Au.set(s,Pc(Au.get(s)||null,n,e,t,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Su.set(s,Pc(Su.get(s)||null,n,e,t,i,r)),!0}return!1}function oA(n){var e=ga(n.target);if(e!==null){var t=Mo(e);if(t!==null){if(e=t.tag,e===13){if(e=YE(t),e!==null){n.blockedOn=e,aA(n.priority,function(){rA(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function uf(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=zm(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var i=new t.constructor(t.type,t);Dm=i,t.target.dispatchEvent(i),Dm=null}else return e=Ed(t),e!==null&&Xy(e),n.blockedOn=t,!1;e.shift()}return!0}function Ew(n,e,t){uf(n)&&t.delete(e)}function fC(){jm=!1,js!==null&&uf(js)&&(js=null),zs!==null&&uf(zs)&&(zs=null),Hs!==null&&uf(Hs)&&(Hs=null),Au.forEach(Ew),Su.forEach(Ew)}function Rc(n,e){n.blockedOn===e&&(n.blockedOn=null,jm||(jm=!0,Bn.unstable_scheduleCallback(Bn.unstable_NormalPriority,fC)))}function bu(n){function e(r){return Rc(r,n)}if(0<$d.length){Rc($d[0],n);for(var t=1;t<$d.length;t++){var i=$d[t];i.blockedOn===n&&(i.blockedOn=null)}}for(js!==null&&Rc(js,n),zs!==null&&Rc(zs,n),Hs!==null&&Rc(Hs,n),Au.forEach(e),Su.forEach(e),t=0;t<ds.length;t++)i=ds[t],i.blockedOn===n&&(i.blockedOn=null);for(;0<ds.length&&(t=ds[0],t.blockedOn===null);)oA(t),t.blockedOn===null&&ds.shift()}var dl=es.ReactCurrentBatchConfig,Jf=!0;function pC(n,e,t,i){var r=Me,s=dl.transition;dl.transition=null;try{Me=1,Ky(n,e,t,i)}finally{Me=r,dl.transition=s}}function gC(n,e,t,i){var r=Me,s=dl.transition;dl.transition=null;try{Me=4,Ky(n,e,t,i)}finally{Me=r,dl.transition=s}}function Ky(n,e,t,i){if(Jf){var r=zm(n,e,t,i);if(r===null)em(n,e,i,Zf,t),_w(n,i);else if(dC(r,n,e,t,i))i.stopPropagation();else if(_w(n,i),e&4&&-1<hC.indexOf(n)){for(;r!==null;){var s=Ed(r);if(s!==null&&iA(s),s=zm(n,e,t,i),s===null&&em(n,e,i,Zf,t),s===r)break;r=s}r!==null&&i.stopPropagation()}else em(n,e,i,null,t)}}var Zf=null;function zm(n,e,t,i){if(Zf=null,n=Vy(i),n=ga(n),n!==null)if(e=Mo(n),e===null)n=null;else if(t=e.tag,t===13){if(n=YE(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Zf=n,null}function lA(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nC()){case Wy:return 1;case ZE:return 4;case qf:case iC:return 16;case eA:return 536870912;default:return 16}default:return 16}}var Fs=null,Yy=null,hf=null;function cA(){if(hf)return hf;var n,e=Yy,t=e.length,i,r="value"in Fs?Fs.value:Fs.textContent,s=r.length;for(n=0;n<t&&e[n]===r[n];n++);var a=t-n;for(i=1;i<=a&&e[t-i]===r[s-i];i++);return hf=r.slice(n,1<i?1-i:void 0)}function df(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Vd(){return!0}function Aw(){return!1}function $n(n){function e(t,i,r,s,a){this._reactName=t,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in n)n.hasOwnProperty(o)&&(t=n[o],this[o]=t?t(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Vd:Aw,this.isPropagationStopped=Aw,this}return rt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Vd)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Vd)},persist:function(){},isPersistent:Vd}),e}var Sc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qy=$n(Sc),_d=rt({},Sc,{view:0,detail:0}),mC=$n(_d),Wg,Gg,Lc,Qp=rt({},_d,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qy,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Lc&&(Lc&&n.type==="mousemove"?(Wg=n.screenX-Lc.screenX,Gg=n.screenY-Lc.screenY):Gg=Wg=0,Lc=n),Wg)},movementY:function(n){return"movementY"in n?n.movementY:Gg}}),Sw=$n(Qp),vC=rt({},Qp,{dataTransfer:0}),yC=$n(vC),wC=rt({},_d,{relatedTarget:0}),Xg=$n(wC),_C=rt({},Sc,{animationName:0,elapsedTime:0,pseudoElement:0}),EC=$n(_C),AC=rt({},Sc,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),SC=$n(AC),bC=rt({},Sc,{data:0}),bw=$n(bC),xC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},CC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function TC(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=kC[n])?!!e[n]:!1}function Qy(){return TC}var PC=rt({},_d,{key:function(n){if(n.key){var e=xC[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=df(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?CC[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qy,charCode:function(n){return n.type==="keypress"?df(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?df(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),RC=$n(PC),LC=rt({},Qp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xw=$n(LC),MC=rt({},_d,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qy}),DC=$n(MC),NC=rt({},Sc,{propertyName:0,elapsedTime:0,pseudoElement:0}),IC=$n(NC),FC=rt({},Qp,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),OC=$n(FC),jC=[9,13,27,32],Jy=Kr&&"CompositionEvent"in window,cu=null;Kr&&"documentMode"in document&&(cu=document.documentMode);var zC=Kr&&"TextEvent"in window&&!cu,uA=Kr&&(!Jy||cu&&8<cu&&11>=cu),Cw=" ",kw=!1;function hA(n,e){switch(n){case"keyup":return jC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dA(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Qo=!1;function HC(n,e){switch(n){case"compositionend":return dA(e);case"keypress":return e.which!==32?null:(kw=!0,Cw);case"textInput":return n=e.data,n===Cw&&kw?null:n;default:return null}}function BC(n,e){if(Qo)return n==="compositionend"||!Jy&&hA(n,e)?(n=cA(),hf=Yy=Fs=null,Qo=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return uA&&e.locale!=="ko"?null:e.data;default:return null}}var UC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tw(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!UC[n.type]:e==="textarea"}function fA(n,e,t,i){VE(i),e=ep(e,"onChange"),0<e.length&&(t=new qy("onChange","change",null,t,i),n.push({event:t,listeners:e}))}var uu=null,xu=null;function $C(n){bA(n,0)}function Jp(n){var e=el(n);if(OE(e))return n}function VC(n,e){if(n==="change")return e}var pA=!1;if(Kr){var Kg;if(Kr){var Yg="oninput"in document;if(!Yg){var Pw=document.createElement("div");Pw.setAttribute("oninput","return;"),Yg=typeof Pw.oninput=="function"}Kg=Yg}else Kg=!1;pA=Kg&&(!document.documentMode||9<document.documentMode)}function Rw(){uu&&(uu.detachEvent("onpropertychange",gA),xu=uu=null)}function gA(n){if(n.propertyName==="value"&&Jp(xu)){var e=[];fA(e,xu,n,Vy(n)),KE($C,e)}}function WC(n,e,t){n==="focusin"?(Rw(),uu=e,xu=t,uu.attachEvent("onpropertychange",gA)):n==="focusout"&&Rw()}function GC(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Jp(xu)}function XC(n,e){if(n==="click")return Jp(e)}function KC(n,e){if(n==="input"||n==="change")return Jp(e)}function YC(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Pi=typeof Object.is=="function"?Object.is:YC;function Cu(n,e){if(Pi(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var r=t[i];if(!Em.call(e,r)||!Pi(n[r],e[r]))return!1}return!0}function Lw(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Mw(n,e){var t=Lw(n);n=0;for(var i;t;){if(t.nodeType===3){if(i=n+t.textContent.length,n<=e&&i>=e)return{node:t,offset:e-n};n=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=Lw(t)}}function mA(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?mA(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function vA(){for(var n=window,e=Xf();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Xf(n.document)}return e}function Zy(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function qC(n){var e=vA(),t=n.focusedElem,i=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&mA(t.ownerDocument.documentElement,t)){if(i!==null&&Zy(t)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var r=t.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!n.extend&&s>i&&(r=i,i=s,s=r),r=Mw(t,s);var a=Mw(t,i);r&&a&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==a.node||n.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),n.removeAllRanges(),s>i?(n.addRange(e),n.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var QC=Kr&&"documentMode"in document&&11>=document.documentMode,Jo=null,Hm=null,hu=null,Bm=!1;function Dw(n,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;Bm||Jo==null||Jo!==Xf(i)||(i=Jo,"selectionStart"in i&&Zy(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),hu&&Cu(hu,i)||(hu=i,i=ep(Hm,"onSelect"),0<i.length&&(e=new qy("onSelect","select",null,e,t),n.push({event:e,listeners:i}),e.target=Jo)))}function Wd(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Zo={animationend:Wd("Animation","AnimationEnd"),animationiteration:Wd("Animation","AnimationIteration"),animationstart:Wd("Animation","AnimationStart"),transitionend:Wd("Transition","TransitionEnd")},qg={},yA={};Kr&&(yA=document.createElement("div").style,"AnimationEvent"in window||(delete Zo.animationend.animation,delete Zo.animationiteration.animation,delete Zo.animationstart.animation),"TransitionEvent"in window||delete Zo.transitionend.transition);function Zp(n){if(qg[n])return qg[n];if(!Zo[n])return n;var e=Zo[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in yA)return qg[n]=e[t];return n}var wA=Zp("animationend"),_A=Zp("animationiteration"),EA=Zp("animationstart"),AA=Zp("transitionend"),SA=new Map,Nw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qs(n,e){SA.set(n,e),Lo(e,[n])}for(var Qg=0;Qg<Nw.length;Qg++){var Jg=Nw[Qg],JC=Jg.toLowerCase(),ZC=Jg[0].toUpperCase()+Jg.slice(1);Qs(JC,"on"+ZC)}Qs(wA,"onAnimationEnd");Qs(_A,"onAnimationIteration");Qs(EA,"onAnimationStart");Qs("dblclick","onDoubleClick");Qs("focusin","onFocus");Qs("focusout","onBlur");Qs(AA,"onTransitionEnd");pc("onMouseEnter",["mouseout","mouseover"]);pc("onMouseLeave",["mouseout","mouseover"]);pc("onPointerEnter",["pointerout","pointerover"]);pc("onPointerLeave",["pointerout","pointerover"]);Lo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Lo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Lo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Lo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Lo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Lo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ek=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vc));function Iw(n,e,t){var i=n.type||"unknown-event";n.currentTarget=t,Jx(i,e,void 0,n),n.currentTarget=null}function bA(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var i=n[t],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var a=i.length-1;0<=a;a--){var o=i[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&r.isPropagationStopped())break e;Iw(r,o,u),s=l}else for(a=0;a<i.length;a++){if(o=i[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&r.isPropagationStopped())break e;Iw(r,o,u),s=l}}}if(Yf)throw n=Fm,Yf=!1,Fm=null,n}function Xe(n,e){var t=e[Gm];t===void 0&&(t=e[Gm]=new Set);var i=n+"__bubble";t.has(i)||(xA(e,n,2,!1),t.add(i))}function Zg(n,e,t){var i=0;e&&(i|=4),xA(t,n,i,e)}var Gd="_reactListening"+Math.random().toString(36).slice(2);function ku(n){if(!n[Gd]){n[Gd]=!0,ME.forEach(function(t){t!=="selectionchange"&&(ek.has(t)||Zg(t,!1,n),Zg(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Gd]||(e[Gd]=!0,Zg("selectionchange",!1,e))}}function xA(n,e,t,i){switch(lA(e)){case 1:var r=pC;break;case 4:r=gC;break;default:r=Ky}t=r.bind(null,e,t,n),r=void 0,!Im||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?n.addEventListener(e,t,{capture:!0,passive:r}):n.addEventListener(e,t,!0):r!==void 0?n.addEventListener(e,t,{passive:r}):n.addEventListener(e,t,!1)}function em(n,e,t,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var o=i.stateNode.containerInfo;if(o===r||o.nodeType===8&&o.parentNode===r)break;if(a===4)for(a=i.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;a=a.return}for(;o!==null;){if(a=ga(o),a===null)return;if(l=a.tag,l===5||l===6){i=s=a;continue e}o=o.parentNode}}i=i.return}KE(function(){var u=s,h=Vy(t),d=[];e:{var f=SA.get(n);if(f!==void 0){var p=qy,g=n;switch(n){case"keypress":if(df(t)===0)break e;case"keydown":case"keyup":p=RC;break;case"focusin":g="focus",p=Xg;break;case"focusout":g="blur",p=Xg;break;case"beforeblur":case"afterblur":p=Xg;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Sw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=yC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=DC;break;case wA:case _A:case EA:p=EC;break;case AA:p=IC;break;case"scroll":p=mC;break;case"wheel":p=OC;break;case"copy":case"cut":case"paste":p=SC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=xw}var y=(e&4)!==0,b=!y&&n==="scroll",m=y?f!==null?f+"Capture":null:f;y=[];for(var v=u,A;v!==null;){A=v;var C=A.stateNode;if(A.tag===5&&C!==null&&(A=C,m!==null&&(C=Eu(v,m),C!=null&&y.push(Tu(v,C,A)))),b)break;v=v.return}0<y.length&&(f=new p(f,g,null,t,h),d.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=n==="mouseover"||n==="pointerover",p=n==="mouseout"||n==="pointerout",f&&t!==Dm&&(g=t.relatedTarget||t.fromElement)&&(ga(g)||g[Yr]))break e;if((p||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=t.relatedTarget||t.toElement,p=u,g=g?ga(g):null,g!==null&&(b=Mo(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(y=Sw,C="onMouseLeave",m="onMouseEnter",v="mouse",(n==="pointerout"||n==="pointerover")&&(y=xw,C="onPointerLeave",m="onPointerEnter",v="pointer"),b=p==null?f:el(p),A=g==null?f:el(g),f=new y(C,v+"leave",p,t,h),f.target=b,f.relatedTarget=A,C=null,ga(h)===u&&(y=new y(m,v+"enter",g,t,h),y.target=A,y.relatedTarget=b,C=y),b=C,p&&g)t:{for(y=p,m=g,v=0,A=y;A;A=Bo(A))v++;for(A=0,C=m;C;C=Bo(C))A++;for(;0<v-A;)y=Bo(y),v--;for(;0<A-v;)m=Bo(m),A--;for(;v--;){if(y===m||m!==null&&y===m.alternate)break t;y=Bo(y),m=Bo(m)}y=null}else y=null;p!==null&&Fw(d,f,p,y,!1),g!==null&&b!==null&&Fw(d,b,g,y,!0)}}e:{if(f=u?el(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var T=VC;else if(Tw(f))if(pA)T=KC;else{T=GC;var R=WC}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(T=XC);if(T&&(T=T(n,u))){fA(d,T,t,h);break e}R&&R(n,f,u),n==="focusout"&&(R=f._wrapperState)&&R.controlled&&f.type==="number"&&Tm(f,"number",f.value)}switch(R=u?el(u):window,n){case"focusin":(Tw(R)||R.contentEditable==="true")&&(Jo=R,Hm=u,hu=null);break;case"focusout":hu=Hm=Jo=null;break;case"mousedown":Bm=!0;break;case"contextmenu":case"mouseup":case"dragend":Bm=!1,Dw(d,t,h);break;case"selectionchange":if(QC)break;case"keydown":case"keyup":Dw(d,t,h)}var L;if(Jy)e:{switch(n){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Qo?hA(n,t)&&(x="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(x="onCompositionStart");x&&(uA&&t.locale!=="ko"&&(Qo||x!=="onCompositionStart"?x==="onCompositionEnd"&&Qo&&(L=cA()):(Fs=h,Yy="value"in Fs?Fs.value:Fs.textContent,Qo=!0)),R=ep(u,x),0<R.length&&(x=new bw(x,n,null,t,h),d.push({event:x,listeners:R}),L?x.data=L:(L=dA(t),L!==null&&(x.data=L)))),(L=zC?HC(n,t):BC(n,t))&&(u=ep(u,"onBeforeInput"),0<u.length&&(h=new bw("onBeforeInput","beforeinput",null,t,h),d.push({event:h,listeners:u}),h.data=L))}bA(d,e)})}function Tu(n,e,t){return{instance:n,listener:e,currentTarget:t}}function ep(n,e){for(var t=e+"Capture",i=[];n!==null;){var r=n,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=Eu(n,t),s!=null&&i.unshift(Tu(n,s,r)),s=Eu(n,e),s!=null&&i.push(Tu(n,s,r))),n=n.return}return i}function Bo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Fw(n,e,t,i,r){for(var s=e._reactName,a=[];t!==null&&t!==i;){var o=t,l=o.alternate,u=o.stateNode;if(l!==null&&l===i)break;o.tag===5&&u!==null&&(o=u,r?(l=Eu(t,s),l!=null&&a.unshift(Tu(t,l,o))):r||(l=Eu(t,s),l!=null&&a.push(Tu(t,l,o)))),t=t.return}a.length!==0&&n.push({event:e,listeners:a})}var tk=/\r\n?/g,nk=/\u0000|\uFFFD/g;function Ow(n){return(typeof n=="string"?n:""+n).replace(tk,`
`).replace(nk,"")}function Xd(n,e,t){if(e=Ow(e),Ow(n)!==e&&t)throw Error(z(425))}function tp(){}var Um=null,$m=null;function Vm(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Wm=typeof setTimeout=="function"?setTimeout:void 0,ik=typeof clearTimeout=="function"?clearTimeout:void 0,jw=typeof Promise=="function"?Promise:void 0,rk=typeof queueMicrotask=="function"?queueMicrotask:typeof jw<"u"?function(n){return jw.resolve(null).then(n).catch(sk)}:Wm;function sk(n){setTimeout(function(){throw n})}function tm(n,e){var t=e,i=0;do{var r=t.nextSibling;if(n.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(i===0){n.removeChild(r),bu(e);return}i--}else t!=="$"&&t!=="$?"&&t!=="$!"||i++;t=r}while(t);bu(e)}function Bs(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function zw(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var bc=Math.random().toString(36).slice(2),Qi="__reactFiber$"+bc,Pu="__reactProps$"+bc,Yr="__reactContainer$"+bc,Gm="__reactEvents$"+bc,ak="__reactListeners$"+bc,ok="__reactHandles$"+bc;function ga(n){var e=n[Qi];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Yr]||t[Qi]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=zw(n);n!==null;){if(t=n[Qi])return t;n=zw(n)}return e}n=t,t=n.parentNode}return null}function Ed(n){return n=n[Qi]||n[Yr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function el(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(z(33))}function eg(n){return n[Pu]||null}var Xm=[],tl=-1;function Js(n){return{current:n}}function Ke(n){0>tl||(n.current=Xm[tl],Xm[tl]=null,tl--)}function Ge(n,e){tl++,Xm[tl]=n.current,n.current=e}var Xs={},Zt=Js(Xs),_n=Js(!1),yo=Xs;function gc(n,e){var t=n.type.contextTypes;if(!t)return Xs;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in t)r[s]=e[s];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=r),r}function En(n){return n=n.childContextTypes,n!=null}function np(){Ke(_n),Ke(Zt)}function Hw(n,e,t){if(Zt.current!==Xs)throw Error(z(168));Ge(Zt,e),Ge(_n,t)}function CA(n,e,t){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return t;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(z(108,Wx(n)||"Unknown",r));return rt({},t,i)}function ip(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Xs,yo=Zt.current,Ge(Zt,n),Ge(_n,_n.current),!0}function Bw(n,e,t){var i=n.stateNode;if(!i)throw Error(z(169));t?(n=CA(n,e,yo),i.__reactInternalMemoizedMergedChildContext=n,Ke(_n),Ke(Zt),Ge(Zt,n)):Ke(_n),Ge(_n,t)}var fr=null,tg=!1,nm=!1;function kA(n){fr===null?fr=[n]:fr.push(n)}function lk(n){tg=!0,kA(n)}function Zs(){if(!nm&&fr!==null){nm=!0;var n=0,e=Me;try{var t=fr;for(Me=1;n<t.length;n++){var i=t[n];do i=i(!0);while(i!==null)}fr=null,tg=!1}catch(r){throw fr!==null&&(fr=fr.slice(n+1)),JE(Wy,Zs),r}finally{Me=e,nm=!1}}return null}var nl=[],il=0,rp=null,sp=0,Zn=[],ei=0,wo=null,zr=1,Hr="";function oa(n,e){nl[il++]=sp,nl[il++]=rp,rp=n,sp=e}function TA(n,e,t){Zn[ei++]=zr,Zn[ei++]=Hr,Zn[ei++]=wo,wo=n;var i=zr;n=Hr;var r=32-ki(i)-1;i&=~(1<<r),t+=1;var s=32-ki(e)+r;if(30<s){var a=r-r%5;s=(i&(1<<a)-1).toString(32),i>>=a,r-=a,zr=1<<32-ki(e)+r|t<<r|i,Hr=s+n}else zr=1<<s|t<<r|i,Hr=n}function e0(n){n.return!==null&&(oa(n,1),TA(n,1,0))}function t0(n){for(;n===rp;)rp=nl[--il],nl[il]=null,sp=nl[--il],nl[il]=null;for(;n===wo;)wo=Zn[--ei],Zn[ei]=null,Hr=Zn[--ei],Zn[ei]=null,zr=Zn[--ei],Zn[ei]=null}var Hn=null,zn=null,qe=!1,Ci=null;function PA(n,e){var t=ii(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function Uw(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Hn=n,zn=Bs(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Hn=n,zn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=wo!==null?{id:zr,overflow:Hr}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=ii(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Hn=n,zn=null,!0):!1;default:return!1}}function Km(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Ym(n){if(qe){var e=zn;if(e){var t=e;if(!Uw(n,e)){if(Km(n))throw Error(z(418));e=Bs(t.nextSibling);var i=Hn;e&&Uw(n,e)?PA(i,t):(n.flags=n.flags&-4097|2,qe=!1,Hn=n)}}else{if(Km(n))throw Error(z(418));n.flags=n.flags&-4097|2,qe=!1,Hn=n}}}function $w(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Hn=n}function Kd(n){if(n!==Hn)return!1;if(!qe)return $w(n),qe=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!Vm(n.type,n.memoizedProps)),e&&(e=zn)){if(Km(n))throw RA(),Error(z(418));for(;e;)PA(n,e),e=Bs(e.nextSibling)}if($w(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(z(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){zn=Bs(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}zn=null}}else zn=Hn?Bs(n.stateNode.nextSibling):null;return!0}function RA(){for(var n=zn;n;)n=Bs(n.nextSibling)}function mc(){zn=Hn=null,qe=!1}function n0(n){Ci===null?Ci=[n]:Ci.push(n)}var ck=es.ReactCurrentBatchConfig;function Mc(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(z(309));var i=t.stateNode}if(!i)throw Error(z(147,n));var r=i,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=r.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof n!="string")throw Error(z(284));if(!t._owner)throw Error(z(290,n))}return n}function Yd(n,e){throw n=Object.prototype.toString.call(e),Error(z(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function Vw(n){var e=n._init;return e(n._payload)}function LA(n){function e(m,v){if(n){var A=m.deletions;A===null?(m.deletions=[v],m.flags|=16):A.push(v)}}function t(m,v){if(!n)return null;for(;v!==null;)e(m,v),v=v.sibling;return null}function i(m,v){for(m=new Map;v!==null;)v.key!==null?m.set(v.key,v):m.set(v.index,v),v=v.sibling;return m}function r(m,v){return m=Ws(m,v),m.index=0,m.sibling=null,m}function s(m,v,A){return m.index=A,n?(A=m.alternate,A!==null?(A=A.index,A<v?(m.flags|=2,v):A):(m.flags|=2,v)):(m.flags|=1048576,v)}function a(m){return n&&m.alternate===null&&(m.flags|=2),m}function o(m,v,A,C){return v===null||v.tag!==6?(v=cm(A,m.mode,C),v.return=m,v):(v=r(v,A),v.return=m,v)}function l(m,v,A,C){var T=A.type;return T===qo?h(m,v,A.props.children,C,A.key):v!==null&&(v.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===us&&Vw(T)===v.type)?(C=r(v,A.props),C.ref=Mc(m,v,A),C.return=m,C):(C=wf(A.type,A.key,A.props,null,m.mode,C),C.ref=Mc(m,v,A),C.return=m,C)}function u(m,v,A,C){return v===null||v.tag!==4||v.stateNode.containerInfo!==A.containerInfo||v.stateNode.implementation!==A.implementation?(v=um(A,m.mode,C),v.return=m,v):(v=r(v,A.children||[]),v.return=m,v)}function h(m,v,A,C,T){return v===null||v.tag!==7?(v=vo(A,m.mode,C,T),v.return=m,v):(v=r(v,A),v.return=m,v)}function d(m,v,A){if(typeof v=="string"&&v!==""||typeof v=="number")return v=cm(""+v,m.mode,A),v.return=m,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case jd:return A=wf(v.type,v.key,v.props,null,m.mode,A),A.ref=Mc(m,null,v),A.return=m,A;case Yo:return v=um(v,m.mode,A),v.return=m,v;case us:var C=v._init;return d(m,C(v._payload),A)}if(Uc(v)||kc(v))return v=vo(v,m.mode,A,null),v.return=m,v;Yd(m,v)}return null}function f(m,v,A,C){var T=v!==null?v.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return T!==null?null:o(m,v,""+A,C);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case jd:return A.key===T?l(m,v,A,C):null;case Yo:return A.key===T?u(m,v,A,C):null;case us:return T=A._init,f(m,v,T(A._payload),C)}if(Uc(A)||kc(A))return T!==null?null:h(m,v,A,C,null);Yd(m,A)}return null}function p(m,v,A,C,T){if(typeof C=="string"&&C!==""||typeof C=="number")return m=m.get(A)||null,o(v,m,""+C,T);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case jd:return m=m.get(C.key===null?A:C.key)||null,l(v,m,C,T);case Yo:return m=m.get(C.key===null?A:C.key)||null,u(v,m,C,T);case us:var R=C._init;return p(m,v,A,R(C._payload),T)}if(Uc(C)||kc(C))return m=m.get(A)||null,h(v,m,C,T,null);Yd(v,C)}return null}function g(m,v,A,C){for(var T=null,R=null,L=v,x=v=0,N=null;L!==null&&x<A.length;x++){L.index>x?(N=L,L=null):N=L.sibling;var I=f(m,L,A[x],C);if(I===null){L===null&&(L=N);break}n&&L&&I.alternate===null&&e(m,L),v=s(I,v,x),R===null?T=I:R.sibling=I,R=I,L=N}if(x===A.length)return t(m,L),qe&&oa(m,x),T;if(L===null){for(;x<A.length;x++)L=d(m,A[x],C),L!==null&&(v=s(L,v,x),R===null?T=L:R.sibling=L,R=L);return qe&&oa(m,x),T}for(L=i(m,L);x<A.length;x++)N=p(L,m,x,A[x],C),N!==null&&(n&&N.alternate!==null&&L.delete(N.key===null?x:N.key),v=s(N,v,x),R===null?T=N:R.sibling=N,R=N);return n&&L.forEach(function(O){return e(m,O)}),qe&&oa(m,x),T}function y(m,v,A,C){var T=kc(A);if(typeof T!="function")throw Error(z(150));if(A=T.call(A),A==null)throw Error(z(151));for(var R=T=null,L=v,x=v=0,N=null,I=A.next();L!==null&&!I.done;x++,I=A.next()){L.index>x?(N=L,L=null):N=L.sibling;var O=f(m,L,I.value,C);if(O===null){L===null&&(L=N);break}n&&L&&O.alternate===null&&e(m,L),v=s(O,v,x),R===null?T=O:R.sibling=O,R=O,L=N}if(I.done)return t(m,L),qe&&oa(m,x),T;if(L===null){for(;!I.done;x++,I=A.next())I=d(m,I.value,C),I!==null&&(v=s(I,v,x),R===null?T=I:R.sibling=I,R=I);return qe&&oa(m,x),T}for(L=i(m,L);!I.done;x++,I=A.next())I=p(L,m,x,I.value,C),I!==null&&(n&&I.alternate!==null&&L.delete(I.key===null?x:I.key),v=s(I,v,x),R===null?T=I:R.sibling=I,R=I);return n&&L.forEach(function(J){return e(m,J)}),qe&&oa(m,x),T}function b(m,v,A,C){if(typeof A=="object"&&A!==null&&A.type===qo&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case jd:e:{for(var T=A.key,R=v;R!==null;){if(R.key===T){if(T=A.type,T===qo){if(R.tag===7){t(m,R.sibling),v=r(R,A.props.children),v.return=m,m=v;break e}}else if(R.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===us&&Vw(T)===R.type){t(m,R.sibling),v=r(R,A.props),v.ref=Mc(m,R,A),v.return=m,m=v;break e}t(m,R);break}else e(m,R);R=R.sibling}A.type===qo?(v=vo(A.props.children,m.mode,C,A.key),v.return=m,m=v):(C=wf(A.type,A.key,A.props,null,m.mode,C),C.ref=Mc(m,v,A),C.return=m,m=C)}return a(m);case Yo:e:{for(R=A.key;v!==null;){if(v.key===R)if(v.tag===4&&v.stateNode.containerInfo===A.containerInfo&&v.stateNode.implementation===A.implementation){t(m,v.sibling),v=r(v,A.children||[]),v.return=m,m=v;break e}else{t(m,v);break}else e(m,v);v=v.sibling}v=um(A,m.mode,C),v.return=m,m=v}return a(m);case us:return R=A._init,b(m,v,R(A._payload),C)}if(Uc(A))return g(m,v,A,C);if(kc(A))return y(m,v,A,C);Yd(m,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,v!==null&&v.tag===6?(t(m,v.sibling),v=r(v,A),v.return=m,m=v):(t(m,v),v=cm(A,m.mode,C),v.return=m,m=v),a(m)):t(m,v)}return b}var vc=LA(!0),MA=LA(!1),ap=Js(null),op=null,rl=null,i0=null;function r0(){i0=rl=op=null}function s0(n){var e=ap.current;Ke(ap),n._currentValue=e}function qm(n,e,t){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===t)break;n=n.return}}function fl(n,e){op=n,i0=rl=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(vn=!0),n.firstContext=null)}function si(n){var e=n._currentValue;if(i0!==n)if(n={context:n,memoizedValue:e,next:null},rl===null){if(op===null)throw Error(z(308));rl=n,op.dependencies={lanes:0,firstContext:n}}else rl=rl.next=n;return e}var ma=null;function a0(n){ma===null?ma=[n]:ma.push(n)}function DA(n,e,t,i){var r=e.interleaved;return r===null?(t.next=t,a0(e)):(t.next=r.next,r.next=t),e.interleaved=t,qr(n,i)}function qr(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var hs=!1;function o0(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function NA(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Ur(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Us(n,e,t){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,xe&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,qr(n,t)}return r=i.interleaved,r===null?(e.next=e,a0(i)):(e.next=r.next,r.next=e),i.interleaved=e,qr(n,t)}function ff(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,Gy(n,t)}}function Ww(n,e){var t=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var r=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var a={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?r=s=a:s=s.next=a,t=t.next}while(t!==null);s===null?r=s=e:s=s.next=e}else r=s=e;t={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function lp(n,e,t,i){var r=n.updateQueue;hs=!1;var s=r.firstBaseUpdate,a=r.lastBaseUpdate,o=r.shared.pending;if(o!==null){r.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?s=u:a.next=u,a=l;var h=n.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==a&&(o===null?h.firstBaseUpdate=u:o.next=u,h.lastBaseUpdate=l))}if(s!==null){var d=r.baseState;a=0,h=u=l=null,o=s;do{var f=o.lane,p=o.eventTime;if((i&f)===f){h!==null&&(h=h.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=n,y=o;switch(f=e,p=t,y.tag){case 1:if(g=y.payload,typeof g=="function"){d=g.call(p,d,f);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,f=typeof g=="function"?g.call(p,d,f):g,f==null)break e;d=rt({},d,f);break e;case 2:hs=!0}}o.callback!==null&&o.lane!==0&&(n.flags|=64,f=r.effects,f===null?r.effects=[o]:f.push(o))}else p={eventTime:p,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(u=h=p,l=d):h=h.next=p,a|=f;if(o=o.next,o===null){if(o=r.shared.pending,o===null)break;f=o,o=f.next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}while(!0);if(h===null&&(l=d),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=h,e=r.shared.interleaved,e!==null){r=e;do a|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);Eo|=a,n.lanes=a,n.memoizedState=d}}function Gw(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],r=i.callback;if(r!==null){if(i.callback=null,i=t,typeof r!="function")throw Error(z(191,r));r.call(i)}}}var Ad={},Zi=Js(Ad),Ru=Js(Ad),Lu=Js(Ad);function va(n){if(n===Ad)throw Error(z(174));return n}function l0(n,e){switch(Ge(Lu,e),Ge(Ru,n),Ge(Zi,Ad),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Rm(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=Rm(e,n)}Ke(Zi),Ge(Zi,e)}function yc(){Ke(Zi),Ke(Ru),Ke(Lu)}function IA(n){va(Lu.current);var e=va(Zi.current),t=Rm(e,n.type);e!==t&&(Ge(Ru,n),Ge(Zi,t))}function c0(n){Ru.current===n&&(Ke(Zi),Ke(Ru))}var nt=Js(0);function cp(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var im=[];function u0(){for(var n=0;n<im.length;n++)im[n]._workInProgressVersionPrimary=null;im.length=0}var pf=es.ReactCurrentDispatcher,rm=es.ReactCurrentBatchConfig,_o=0,it=null,bt=null,Rt=null,up=!1,du=!1,Mu=0,uk=0;function Vt(){throw Error(z(321))}function h0(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Pi(n[t],e[t]))return!1;return!0}function d0(n,e,t,i,r,s){if(_o=s,it=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,pf.current=n===null||n.memoizedState===null?pk:gk,n=t(i,r),du){s=0;do{if(du=!1,Mu=0,25<=s)throw Error(z(301));s+=1,Rt=bt=null,e.updateQueue=null,pf.current=mk,n=t(i,r)}while(du)}if(pf.current=hp,e=bt!==null&&bt.next!==null,_o=0,Rt=bt=it=null,up=!1,e)throw Error(z(300));return n}function f0(){var n=Mu!==0;return Mu=0,n}function Ni(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?it.memoizedState=Rt=n:Rt=Rt.next=n,Rt}function ai(){if(bt===null){var n=it.alternate;n=n!==null?n.memoizedState:null}else n=bt.next;var e=Rt===null?it.memoizedState:Rt.next;if(e!==null)Rt=e,bt=n;else{if(n===null)throw Error(z(310));bt=n,n={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},Rt===null?it.memoizedState=Rt=n:Rt=Rt.next=n}return Rt}function Du(n,e){return typeof e=="function"?e(n):e}function sm(n){var e=ai(),t=e.queue;if(t===null)throw Error(z(311));t.lastRenderedReducer=n;var i=bt,r=i.baseQueue,s=t.pending;if(s!==null){if(r!==null){var a=r.next;r.next=s.next,s.next=a}i.baseQueue=r=s,t.pending=null}if(r!==null){s=r.next,i=i.baseState;var o=a=null,l=null,u=s;do{var h=u.lane;if((_o&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:n(i,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=d,a=i):l=l.next=d,it.lanes|=h,Eo|=h}u=u.next}while(u!==null&&u!==s);l===null?a=i:l.next=o,Pi(i,e.memoizedState)||(vn=!0),e.memoizedState=i,e.baseState=a,e.baseQueue=l,t.lastRenderedState=i}if(n=t.interleaved,n!==null){r=n;do s=r.lane,it.lanes|=s,Eo|=s,r=r.next;while(r!==n)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function am(n){var e=ai(),t=e.queue;if(t===null)throw Error(z(311));t.lastRenderedReducer=n;var i=t.dispatch,r=t.pending,s=e.memoizedState;if(r!==null){t.pending=null;var a=r=r.next;do s=n(s,a.action),a=a.next;while(a!==r);Pi(s,e.memoizedState)||(vn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,i]}function FA(){}function OA(n,e){var t=it,i=ai(),r=e(),s=!Pi(i.memoizedState,r);if(s&&(i.memoizedState=r,vn=!0),i=i.queue,p0(HA.bind(null,t,i,n),[n]),i.getSnapshot!==e||s||Rt!==null&&Rt.memoizedState.tag&1){if(t.flags|=2048,Nu(9,zA.bind(null,t,i,r,e),void 0,null),Lt===null)throw Error(z(349));_o&30||jA(t,e,r)}return r}function jA(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=it.updateQueue,e===null?(e={lastEffect:null,stores:null},it.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function zA(n,e,t,i){e.value=t,e.getSnapshot=i,BA(e)&&UA(n)}function HA(n,e,t){return t(function(){BA(e)&&UA(n)})}function BA(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Pi(n,t)}catch{return!0}}function UA(n){var e=qr(n,1);e!==null&&Ti(e,n,1,-1)}function Xw(n){var e=Ni();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Du,lastRenderedState:n},e.queue=n,n=n.dispatch=fk.bind(null,it,n),[e.memoizedState,n]}function Nu(n,e,t,i){return n={tag:n,create:e,destroy:t,deps:i,next:null},e=it.updateQueue,e===null?(e={lastEffect:null,stores:null},it.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(i=t.next,t.next=n,n.next=i,e.lastEffect=n)),n}function $A(){return ai().memoizedState}function gf(n,e,t,i){var r=Ni();it.flags|=n,r.memoizedState=Nu(1|e,t,void 0,i===void 0?null:i)}function ng(n,e,t,i){var r=ai();i=i===void 0?null:i;var s=void 0;if(bt!==null){var a=bt.memoizedState;if(s=a.destroy,i!==null&&h0(i,a.deps)){r.memoizedState=Nu(e,t,s,i);return}}it.flags|=n,r.memoizedState=Nu(1|e,t,s,i)}function Kw(n,e){return gf(8390656,8,n,e)}function p0(n,e){return ng(2048,8,n,e)}function VA(n,e){return ng(4,2,n,e)}function WA(n,e){return ng(4,4,n,e)}function GA(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function XA(n,e,t){return t=t!=null?t.concat([n]):null,ng(4,4,GA.bind(null,e,n),t)}function g0(){}function KA(n,e){var t=ai();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&h0(e,i[1])?i[0]:(t.memoizedState=[n,e],n)}function YA(n,e){var t=ai();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&h0(e,i[1])?i[0]:(n=n(),t.memoizedState=[n,e],n)}function qA(n,e,t){return _o&21?(Pi(t,e)||(t=tA(),it.lanes|=t,Eo|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,vn=!0),n.memoizedState=t)}function hk(n,e){var t=Me;Me=t!==0&&4>t?t:4,n(!0);var i=rm.transition;rm.transition={};try{n(!1),e()}finally{Me=t,rm.transition=i}}function QA(){return ai().memoizedState}function dk(n,e,t){var i=Vs(n);if(t={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null},JA(n))ZA(e,t);else if(t=DA(n,e,t,i),t!==null){var r=on();Ti(t,n,i,r),e1(t,e,i)}}function fk(n,e,t){var i=Vs(n),r={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null};if(JA(n))ZA(e,r);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,t);if(r.hasEagerState=!0,r.eagerState=o,Pi(o,a)){var l=e.interleaved;l===null?(r.next=r,a0(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}t=DA(n,e,r,i),t!==null&&(r=on(),Ti(t,n,i,r),e1(t,e,i))}}function JA(n){var e=n.alternate;return n===it||e!==null&&e===it}function ZA(n,e){du=up=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function e1(n,e,t){if(t&4194240){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,Gy(n,t)}}var hp={readContext:si,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},pk={readContext:si,useCallback:function(n,e){return Ni().memoizedState=[n,e===void 0?null:e],n},useContext:si,useEffect:Kw,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,gf(4194308,4,GA.bind(null,e,n),t)},useLayoutEffect:function(n,e){return gf(4194308,4,n,e)},useInsertionEffect:function(n,e){return gf(4,2,n,e)},useMemo:function(n,e){var t=Ni();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var i=Ni();return e=t!==void 0?t(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=dk.bind(null,it,n),[i.memoizedState,n]},useRef:function(n){var e=Ni();return n={current:n},e.memoizedState=n},useState:Xw,useDebugValue:g0,useDeferredValue:function(n){return Ni().memoizedState=n},useTransition:function(){var n=Xw(!1),e=n[0];return n=hk.bind(null,n[1]),Ni().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var i=it,r=Ni();if(qe){if(t===void 0)throw Error(z(407));t=t()}else{if(t=e(),Lt===null)throw Error(z(349));_o&30||jA(i,e,t)}r.memoizedState=t;var s={value:t,getSnapshot:e};return r.queue=s,Kw(HA.bind(null,i,s,n),[n]),i.flags|=2048,Nu(9,zA.bind(null,i,s,t,e),void 0,null),t},useId:function(){var n=Ni(),e=Lt.identifierPrefix;if(qe){var t=Hr,i=zr;t=(i&~(1<<32-ki(i)-1)).toString(32)+t,e=":"+e+"R"+t,t=Mu++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=uk++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},gk={readContext:si,useCallback:KA,useContext:si,useEffect:p0,useImperativeHandle:XA,useInsertionEffect:VA,useLayoutEffect:WA,useMemo:YA,useReducer:sm,useRef:$A,useState:function(){return sm(Du)},useDebugValue:g0,useDeferredValue:function(n){var e=ai();return qA(e,bt.memoizedState,n)},useTransition:function(){var n=sm(Du)[0],e=ai().memoizedState;return[n,e]},useMutableSource:FA,useSyncExternalStore:OA,useId:QA,unstable_isNewReconciler:!1},mk={readContext:si,useCallback:KA,useContext:si,useEffect:p0,useImperativeHandle:XA,useInsertionEffect:VA,useLayoutEffect:WA,useMemo:YA,useReducer:am,useRef:$A,useState:function(){return am(Du)},useDebugValue:g0,useDeferredValue:function(n){var e=ai();return bt===null?e.memoizedState=n:qA(e,bt.memoizedState,n)},useTransition:function(){var n=am(Du)[0],e=ai().memoizedState;return[n,e]},useMutableSource:FA,useSyncExternalStore:OA,useId:QA,unstable_isNewReconciler:!1};function ci(n,e){if(n&&n.defaultProps){e=rt({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function Qm(n,e,t,i){e=n.memoizedState,t=t(i,e),t=t==null?e:rt({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var ig={isMounted:function(n){return(n=n._reactInternals)?Mo(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var i=on(),r=Vs(n),s=Ur(i,r);s.payload=e,t!=null&&(s.callback=t),e=Us(n,s,r),e!==null&&(Ti(e,n,r,i),ff(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var i=on(),r=Vs(n),s=Ur(i,r);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=Us(n,s,r),e!==null&&(Ti(e,n,r,i),ff(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=on(),i=Vs(n),r=Ur(t,i);r.tag=2,e!=null&&(r.callback=e),e=Us(n,r,i),e!==null&&(Ti(e,n,i,t),ff(e,n,i))}};function Yw(n,e,t,i,r,s,a){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,s,a):e.prototype&&e.prototype.isPureReactComponent?!Cu(t,i)||!Cu(r,s):!0}function t1(n,e,t){var i=!1,r=Xs,s=e.contextType;return typeof s=="object"&&s!==null?s=si(s):(r=En(e)?yo:Zt.current,i=e.contextTypes,s=(i=i!=null)?gc(n,r):Xs),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ig,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=s),e}function qw(n,e,t,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==n&&ig.enqueueReplaceState(e,e.state,null)}function Jm(n,e,t,i){var r=n.stateNode;r.props=t,r.state=n.memoizedState,r.refs={},o0(n);var s=e.contextType;typeof s=="object"&&s!==null?r.context=si(s):(s=En(e)?yo:Zt.current,r.context=gc(n,s)),r.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Qm(n,e,s,t),r.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&ig.enqueueReplaceState(r,r.state,null),lp(n,t,r,i),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function wc(n,e){try{var t="",i=e;do t+=Vx(i),i=i.return;while(i);var r=t}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:r,digest:null}}function om(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function Zm(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var vk=typeof WeakMap=="function"?WeakMap:Map;function n1(n,e,t){t=Ur(-1,t),t.tag=3,t.payload={element:null};var i=e.value;return t.callback=function(){fp||(fp=!0,cv=i),Zm(n,e)},t}function i1(n,e,t){t=Ur(-1,t),t.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;t.payload=function(){return i(r)},t.callback=function(){Zm(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){Zm(n,e),typeof i!="function"&&($s===null?$s=new Set([this]):$s.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),t}function Qw(n,e,t){var i=n.pingCache;if(i===null){i=n.pingCache=new vk;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(t)||(r.add(t),n=Lk.bind(null,n,e,t),e.then(n,n))}function Jw(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function Zw(n,e,t,i,r){return n.mode&1?(n.flags|=65536,n.lanes=r,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Ur(-1,1),e.tag=2,Us(t,e,1))),t.lanes|=1),n)}var yk=es.ReactCurrentOwner,vn=!1;function sn(n,e,t,i){e.child=n===null?MA(e,null,t,i):vc(e,n.child,t,i)}function e_(n,e,t,i,r){t=t.render;var s=e.ref;return fl(e,r),i=d0(n,e,t,i,s,r),t=f0(),n!==null&&!vn?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,Qr(n,e,r)):(qe&&t&&e0(e),e.flags|=1,sn(n,e,i,r),e.child)}function t_(n,e,t,i,r){if(n===null){var s=t.type;return typeof s=="function"&&!S0(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,r1(n,e,s,i,r)):(n=wf(t.type,null,i,e,e.mode,r),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&r)){var a=s.memoizedProps;if(t=t.compare,t=t!==null?t:Cu,t(a,i)&&n.ref===e.ref)return Qr(n,e,r)}return e.flags|=1,n=Ws(s,i),n.ref=e.ref,n.return=e,e.child=n}function r1(n,e,t,i,r){if(n!==null){var s=n.memoizedProps;if(Cu(s,i)&&n.ref===e.ref)if(vn=!1,e.pendingProps=i=s,(n.lanes&r)!==0)n.flags&131072&&(vn=!0);else return e.lanes=n.lanes,Qr(n,e,r)}return ev(n,e,t,i,r)}function s1(n,e,t){var i=e.pendingProps,r=i.children,s=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ge(al,Fn),Fn|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Ge(al,Fn),Fn|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:t,Ge(al,Fn),Fn|=i}else s!==null?(i=s.baseLanes|t,e.memoizedState=null):i=t,Ge(al,Fn),Fn|=i;return sn(n,e,r,t),e.child}function a1(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function ev(n,e,t,i,r){var s=En(t)?yo:Zt.current;return s=gc(e,s),fl(e,r),t=d0(n,e,t,i,s,r),i=f0(),n!==null&&!vn?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,Qr(n,e,r)):(qe&&i&&e0(e),e.flags|=1,sn(n,e,t,r),e.child)}function n_(n,e,t,i,r){if(En(t)){var s=!0;ip(e)}else s=!1;if(fl(e,r),e.stateNode===null)mf(n,e),t1(e,t,i),Jm(e,t,i,r),i=!0;else if(n===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=t.contextType;typeof u=="object"&&u!==null?u=si(u):(u=En(t)?yo:Zt.current,u=gc(e,u));var h=t.getDerivedStateFromProps,d=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==i||l!==u)&&qw(e,a,i,u),hs=!1;var f=e.memoizedState;a.state=f,lp(e,i,a,r),l=e.memoizedState,o!==i||f!==l||_n.current||hs?(typeof h=="function"&&(Qm(e,t,h,i),l=e.memoizedState),(o=hs||Yw(e,t,o,i,f,l,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),a.props=i,a.state=l,a.context=u,i=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{a=e.stateNode,NA(n,e),o=e.memoizedProps,u=e.type===e.elementType?o:ci(e.type,o),a.props=u,d=e.pendingProps,f=a.context,l=t.contextType,typeof l=="object"&&l!==null?l=si(l):(l=En(t)?yo:Zt.current,l=gc(e,l));var p=t.getDerivedStateFromProps;(h=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||f!==l)&&qw(e,a,i,l),hs=!1,f=e.memoizedState,a.state=f,lp(e,i,a,r);var g=e.memoizedState;o!==d||f!==g||_n.current||hs?(typeof p=="function"&&(Qm(e,t,p,i),g=e.memoizedState),(u=hs||Yw(e,t,u,i,f,g,l)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,g,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,g,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=g),a.props=i,a.state=g,a.context=l,i=u):(typeof a.componentDidUpdate!="function"||o===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),i=!1)}return tv(n,e,t,i,s,r)}function tv(n,e,t,i,r,s){a1(n,e);var a=(e.flags&128)!==0;if(!i&&!a)return r&&Bw(e,t,!1),Qr(n,e,s);i=e.stateNode,yk.current=e;var o=a&&typeof t.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&a?(e.child=vc(e,n.child,null,s),e.child=vc(e,null,o,s)):sn(n,e,o,s),e.memoizedState=i.state,r&&Bw(e,t,!0),e.child}function o1(n){var e=n.stateNode;e.pendingContext?Hw(n,e.pendingContext,e.pendingContext!==e.context):e.context&&Hw(n,e.context,!1),l0(n,e.containerInfo)}function i_(n,e,t,i,r){return mc(),n0(r),e.flags|=256,sn(n,e,t,i),e.child}var nv={dehydrated:null,treeContext:null,retryLane:0};function iv(n){return{baseLanes:n,cachePool:null,transitions:null}}function l1(n,e,t){var i=e.pendingProps,r=nt.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=n!==null&&n.memoizedState===null?!1:(r&2)!==0),o?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),Ge(nt,r&1),n===null)return Ym(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=i.children,n=i.fallback,s?(i=e.mode,s=e.child,a={mode:"hidden",children:a},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=ag(a,i,0,null),n=vo(n,i,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=iv(t),e.memoizedState=nv,n):m0(e,a));if(r=n.memoizedState,r!==null&&(o=r.dehydrated,o!==null))return wk(n,e,a,i,o,r,t);if(s){s=i.fallback,a=e.mode,r=n.child,o=r.sibling;var l={mode:"hidden",children:i.children};return!(a&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=Ws(r,l),i.subtreeFlags=r.subtreeFlags&14680064),o!==null?s=Ws(o,s):(s=vo(s,a,t,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,a=n.child.memoizedState,a=a===null?iv(t):{baseLanes:a.baseLanes|t,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=n.childLanes&~t,e.memoizedState=nv,i}return s=n.child,n=s.sibling,i=Ws(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=t),i.return=e,i.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=i,e.memoizedState=null,i}function m0(n,e){return e=ag({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function qd(n,e,t,i){return i!==null&&n0(i),vc(e,n.child,null,t),n=m0(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function wk(n,e,t,i,r,s,a){if(t)return e.flags&256?(e.flags&=-257,i=om(Error(z(422))),qd(n,e,a,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=ag({mode:"visible",children:i.children},r,0,null),s=vo(s,r,a,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&vc(e,n.child,null,a),e.child.memoizedState=iv(a),e.memoizedState=nv,s);if(!(e.mode&1))return qd(n,e,a,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var o=i.dgst;return i=o,s=Error(z(419)),i=om(s,i,void 0),qd(n,e,a,i)}if(o=(a&n.childLanes)!==0,vn||o){if(i=Lt,i!==null){switch(a&-a){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|a)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,qr(n,r),Ti(i,n,r,-1))}return A0(),i=om(Error(z(421))),qd(n,e,a,i)}return r.data==="$?"?(e.flags|=128,e.child=n.child,e=Mk.bind(null,n),r._reactRetry=e,null):(n=s.treeContext,zn=Bs(r.nextSibling),Hn=e,qe=!0,Ci=null,n!==null&&(Zn[ei++]=zr,Zn[ei++]=Hr,Zn[ei++]=wo,zr=n.id,Hr=n.overflow,wo=e),e=m0(e,i.children),e.flags|=4096,e)}function r_(n,e,t){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),qm(n.return,e,t)}function lm(n,e,t,i,r){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=t,s.tailMode=r)}function c1(n,e,t){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(sn(n,e,i.children,t),i=nt.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&r_(n,t,e);else if(n.tag===19)r_(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(Ge(nt,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)n=t.alternate,n!==null&&cp(n)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),lm(e,!1,r,t,s);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(n=r.alternate,n!==null&&cp(n)===null){e.child=r;break}n=r.sibling,r.sibling=t,t=r,r=n}lm(e,!0,t,null,s);break;case"together":lm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function mf(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Qr(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Eo|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(z(153));if(e.child!==null){for(n=e.child,t=Ws(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Ws(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function _k(n,e,t){switch(e.tag){case 3:o1(e),mc();break;case 5:IA(e);break;case 1:En(e.type)&&ip(e);break;case 4:l0(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Ge(ap,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Ge(nt,nt.current&1),e.flags|=128,null):t&e.child.childLanes?l1(n,e,t):(Ge(nt,nt.current&1),n=Qr(n,e,t),n!==null?n.sibling:null);Ge(nt,nt.current&1);break;case 19:if(i=(t&e.childLanes)!==0,n.flags&128){if(i)return c1(n,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Ge(nt,nt.current),i)break;return null;case 22:case 23:return e.lanes=0,s1(n,e,t)}return Qr(n,e,t)}var u1,rv,h1,d1;u1=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};rv=function(){};h1=function(n,e,t,i){var r=n.memoizedProps;if(r!==i){n=e.stateNode,va(Zi.current);var s=null;switch(t){case"input":r=Cm(n,r),i=Cm(n,i),s=[];break;case"select":r=rt({},r,{value:void 0}),i=rt({},i,{value:void 0}),s=[];break;case"textarea":r=Pm(n,r),i=Pm(n,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=tp)}Lm(t,i);var a;t=null;for(u in r)if(!i.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var o=r[u];for(a in o)o.hasOwnProperty(a)&&(t||(t={}),t[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(wu.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in i){var l=i[u];if(o=r!=null?r[u]:void 0,i.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(t||(t={}),t[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(t||(t={}),t[a]=l[a])}else t||(s||(s=[]),s.push(u,t)),t=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(wu.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Xe("scroll",n),s||o===l||(s=[])):(s=s||[]).push(u,l))}t&&(s=s||[]).push("style",t);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};d1=function(n,e,t,i){t!==i&&(e.flags|=4)};function Dc(n,e){if(!qe)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function Wt(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,i=0;if(e)for(var r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=i,n.childLanes=t,e}function Ek(n,e,t){var i=e.pendingProps;switch(t0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(e),null;case 1:return En(e.type)&&np(),Wt(e),null;case 3:return i=e.stateNode,yc(),Ke(_n),Ke(Zt),u0(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(Kd(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ci!==null&&(dv(Ci),Ci=null))),rv(n,e),Wt(e),null;case 5:c0(e);var r=va(Lu.current);if(t=e.type,n!==null&&e.stateNode!=null)h1(n,e,t,i,r),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(z(166));return Wt(e),null}if(n=va(Zi.current),Kd(e)){i=e.stateNode,t=e.type;var s=e.memoizedProps;switch(i[Qi]=e,i[Pu]=s,n=(e.mode&1)!==0,t){case"dialog":Xe("cancel",i),Xe("close",i);break;case"iframe":case"object":case"embed":Xe("load",i);break;case"video":case"audio":for(r=0;r<Vc.length;r++)Xe(Vc[r],i);break;case"source":Xe("error",i);break;case"img":case"image":case"link":Xe("error",i),Xe("load",i);break;case"details":Xe("toggle",i);break;case"input":fw(i,s),Xe("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Xe("invalid",i);break;case"textarea":gw(i,s),Xe("invalid",i)}Lm(t,s),r=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?i.textContent!==o&&(s.suppressHydrationWarning!==!0&&Xd(i.textContent,o,n),r=["children",o]):typeof o=="number"&&i.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&Xd(i.textContent,o,n),r=["children",""+o]):wu.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Xe("scroll",i)}switch(t){case"input":zd(i),pw(i,s,!0);break;case"textarea":zd(i),mw(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=tp)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{a=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=HE(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=a.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=a.createElement(t,{is:i.is}):(n=a.createElement(t),t==="select"&&(a=n,i.multiple?a.multiple=!0:i.size&&(a.size=i.size))):n=a.createElementNS(n,t),n[Qi]=e,n[Pu]=i,u1(n,e,!1,!1),e.stateNode=n;e:{switch(a=Mm(t,i),t){case"dialog":Xe("cancel",n),Xe("close",n),r=i;break;case"iframe":case"object":case"embed":Xe("load",n),r=i;break;case"video":case"audio":for(r=0;r<Vc.length;r++)Xe(Vc[r],n);r=i;break;case"source":Xe("error",n),r=i;break;case"img":case"image":case"link":Xe("error",n),Xe("load",n),r=i;break;case"details":Xe("toggle",n),r=i;break;case"input":fw(n,i),r=Cm(n,i),Xe("invalid",n);break;case"option":r=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},r=rt({},i,{value:void 0}),Xe("invalid",n);break;case"textarea":gw(n,i),r=Pm(n,i),Xe("invalid",n);break;default:r=i}Lm(t,r),o=r;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?$E(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&BE(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&_u(n,l):typeof l=="number"&&_u(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(wu.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Xe("scroll",n):l!=null&&Hy(n,s,l,a))}switch(t){case"input":zd(n),pw(n,i,!1);break;case"textarea":zd(n),mw(n);break;case"option":i.value!=null&&n.setAttribute("value",""+Gs(i.value));break;case"select":n.multiple=!!i.multiple,s=i.value,s!=null?cl(n,!!i.multiple,s,!1):i.defaultValue!=null&&cl(n,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=tp)}switch(t){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Wt(e),null;case 6:if(n&&e.stateNode!=null)d1(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(z(166));if(t=va(Lu.current),va(Zi.current),Kd(e)){if(i=e.stateNode,t=e.memoizedProps,i[Qi]=e,(s=i.nodeValue!==t)&&(n=Hn,n!==null))switch(n.tag){case 3:Xd(i.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Xd(i.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else i=(t.nodeType===9?t:t.ownerDocument).createTextNode(i),i[Qi]=e,e.stateNode=i}return Wt(e),null;case 13:if(Ke(nt),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(qe&&zn!==null&&e.mode&1&&!(e.flags&128))RA(),mc(),e.flags|=98560,s=!1;else if(s=Kd(e),i!==null&&i.dehydrated!==null){if(n===null){if(!s)throw Error(z(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(z(317));s[Qi]=e}else mc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Wt(e),s=!1}else Ci!==null&&(dv(Ci),Ci=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(n===null||nt.current&1?Ct===0&&(Ct=3):A0())),e.updateQueue!==null&&(e.flags|=4),Wt(e),null);case 4:return yc(),rv(n,e),n===null&&ku(e.stateNode.containerInfo),Wt(e),null;case 10:return s0(e.type._context),Wt(e),null;case 17:return En(e.type)&&np(),Wt(e),null;case 19:if(Ke(nt),s=e.memoizedState,s===null)return Wt(e),null;if(i=(e.flags&128)!==0,a=s.rendering,a===null)if(i)Dc(s,!1);else{if(Ct!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(a=cp(n),a!==null){for(e.flags|=128,Dc(s,!1),i=a.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=t,t=e.child;t!==null;)s=t,n=i,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,n=a.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Ge(nt,nt.current&1|2),e.child}n=n.sibling}s.tail!==null&&ht()>_c&&(e.flags|=128,i=!0,Dc(s,!1),e.lanes=4194304)}else{if(!i)if(n=cp(a),n!==null){if(e.flags|=128,i=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Dc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!qe)return Wt(e),null}else 2*ht()-s.renderingStartTime>_c&&t!==1073741824&&(e.flags|=128,i=!0,Dc(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(t=s.last,t!==null?t.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ht(),e.sibling=null,t=nt.current,Ge(nt,i?t&1|2:t&1),e):(Wt(e),null);case 22:case 23:return E0(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Fn&1073741824&&(Wt(e),e.subtreeFlags&6&&(e.flags|=8192)):Wt(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function Ak(n,e){switch(t0(e),e.tag){case 1:return En(e.type)&&np(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return yc(),Ke(_n),Ke(Zt),u0(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return c0(e),null;case 13:if(Ke(nt),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(z(340));mc()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Ke(nt),null;case 4:return yc(),null;case 10:return s0(e.type._context),null;case 22:case 23:return E0(),null;case 24:return null;default:return null}}var Qd=!1,qt=!1,Sk=typeof WeakSet=="function"?WeakSet:Set,X=null;function sl(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(i){lt(n,e,i)}else t.current=null}function sv(n,e,t){try{t()}catch(i){lt(n,e,i)}}var s_=!1;function bk(n,e){if(Um=Jf,n=vA(),Zy(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var a=0,o=-1,l=-1,u=0,h=0,d=n,f=null;t:for(;;){for(var p;d!==t||r!==0&&d.nodeType!==3||(o=a+r),d!==s||i!==0&&d.nodeType!==3||(l=a+i),d.nodeType===3&&(a+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===n)break t;if(f===t&&++u===r&&(o=a),f===s&&++h===i&&(l=a),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}t=o===-1||l===-1?null:{start:o,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for($m={focusedElem:n,selectionRange:t},Jf=!1,X=e;X!==null;)if(e=X,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,X=n;else for(;X!==null;){e=X;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,b=g.memoizedState,m=e.stateNode,v=m.getSnapshotBeforeUpdate(e.elementType===e.type?y:ci(e.type,y),b);m.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var A=e.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(C){lt(e,e.return,C)}if(n=e.sibling,n!==null){n.return=e.return,X=n;break}X=e.return}return g=s_,s_=!1,g}function fu(n,e,t){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&n)===n){var s=r.destroy;r.destroy=void 0,s!==void 0&&sv(e,t,s)}r=r.next}while(r!==i)}}function rg(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}}function av(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function f1(n){var e=n.alternate;e!==null&&(n.alternate=null,f1(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Qi],delete e[Pu],delete e[Gm],delete e[ak],delete e[ok])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function p1(n){return n.tag===5||n.tag===3||n.tag===4}function a_(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||p1(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function ov(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=tp));else if(i!==4&&(n=n.child,n!==null))for(ov(n,e,t),n=n.sibling;n!==null;)ov(n,e,t),n=n.sibling}function lv(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(lv(n,e,t),n=n.sibling;n!==null;)lv(n,e,t),n=n.sibling}var Ht=null,bi=!1;function ss(n,e,t){for(t=t.child;t!==null;)g1(n,e,t),t=t.sibling}function g1(n,e,t){if(Ji&&typeof Ji.onCommitFiberUnmount=="function")try{Ji.onCommitFiberUnmount(qp,t)}catch{}switch(t.tag){case 5:qt||sl(t,e);case 6:var i=Ht,r=bi;Ht=null,ss(n,e,t),Ht=i,bi=r,Ht!==null&&(bi?(n=Ht,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Ht.removeChild(t.stateNode));break;case 18:Ht!==null&&(bi?(n=Ht,t=t.stateNode,n.nodeType===8?tm(n.parentNode,t):n.nodeType===1&&tm(n,t),bu(n)):tm(Ht,t.stateNode));break;case 4:i=Ht,r=bi,Ht=t.stateNode.containerInfo,bi=!0,ss(n,e,t),Ht=i,bi=r;break;case 0:case 11:case 14:case 15:if(!qt&&(i=t.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&sv(t,e,a),r=r.next}while(r!==i)}ss(n,e,t);break;case 1:if(!qt&&(sl(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(o){lt(t,e,o)}ss(n,e,t);break;case 21:ss(n,e,t);break;case 22:t.mode&1?(qt=(i=qt)||t.memoizedState!==null,ss(n,e,t),qt=i):ss(n,e,t);break;default:ss(n,e,t)}}function o_(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new Sk),e.forEach(function(i){var r=Dk.bind(null,n,i);t.has(i)||(t.add(i),i.then(r,r))})}}function oi(n,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];try{var s=n,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Ht=o.stateNode,bi=!1;break e;case 3:Ht=o.stateNode.containerInfo,bi=!0;break e;case 4:Ht=o.stateNode.containerInfo,bi=!0;break e}o=o.return}if(Ht===null)throw Error(z(160));g1(s,a,r),Ht=null,bi=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(u){lt(r,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)m1(e,n),e=e.sibling}function m1(n,e){var t=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(oi(e,n),Mi(n),i&4){try{fu(3,n,n.return),rg(3,n)}catch(y){lt(n,n.return,y)}try{fu(5,n,n.return)}catch(y){lt(n,n.return,y)}}break;case 1:oi(e,n),Mi(n),i&512&&t!==null&&sl(t,t.return);break;case 5:if(oi(e,n),Mi(n),i&512&&t!==null&&sl(t,t.return),n.flags&32){var r=n.stateNode;try{_u(r,"")}catch(y){lt(n,n.return,y)}}if(i&4&&(r=n.stateNode,r!=null)){var s=n.memoizedProps,a=t!==null?t.memoizedProps:s,o=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&jE(r,s),Mm(o,a);var u=Mm(o,s);for(a=0;a<l.length;a+=2){var h=l[a],d=l[a+1];h==="style"?$E(r,d):h==="dangerouslySetInnerHTML"?BE(r,d):h==="children"?_u(r,d):Hy(r,h,d,u)}switch(o){case"input":km(r,s);break;case"textarea":zE(r,s);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?cl(r,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?cl(r,!!s.multiple,s.defaultValue,!0):cl(r,!!s.multiple,s.multiple?[]:"",!1))}r[Pu]=s}catch(y){lt(n,n.return,y)}}break;case 6:if(oi(e,n),Mi(n),i&4){if(n.stateNode===null)throw Error(z(162));r=n.stateNode,s=n.memoizedProps;try{r.nodeValue=s}catch(y){lt(n,n.return,y)}}break;case 3:if(oi(e,n),Mi(n),i&4&&t!==null&&t.memoizedState.isDehydrated)try{bu(e.containerInfo)}catch(y){lt(n,n.return,y)}break;case 4:oi(e,n),Mi(n);break;case 13:oi(e,n),Mi(n),r=n.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(w0=ht())),i&4&&o_(n);break;case 22:if(h=t!==null&&t.memoizedState!==null,n.mode&1?(qt=(u=qt)||h,oi(e,n),qt=u):oi(e,n),Mi(n),i&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!h&&n.mode&1)for(X=n,h=n.child;h!==null;){for(d=X=h;X!==null;){switch(f=X,p=f.child,f.tag){case 0:case 11:case 14:case 15:fu(4,f,f.return);break;case 1:sl(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){i=f,t=f.return;try{e=i,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){lt(i,t,y)}}break;case 5:sl(f,f.return);break;case 22:if(f.memoizedState!==null){c_(d);continue}}p!==null?(p.return=f,X=p):c_(d)}h=h.sibling}e:for(h=null,d=n;;){if(d.tag===5){if(h===null){h=d;try{r=d.stateNode,u?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=UE("display",a))}catch(y){lt(n,n.return,y)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(y){lt(n,n.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===n)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:oi(e,n),Mi(n),i&4&&o_(n);break;case 21:break;default:oi(e,n),Mi(n)}}function Mi(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(p1(t)){var i=t;break e}t=t.return}throw Error(z(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(_u(r,""),i.flags&=-33);var s=a_(n);lv(n,s,r);break;case 3:case 4:var a=i.stateNode.containerInfo,o=a_(n);ov(n,o,a);break;default:throw Error(z(161))}}catch(l){lt(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function xk(n,e,t){X=n,v1(n)}function v1(n,e,t){for(var i=(n.mode&1)!==0;X!==null;){var r=X,s=r.child;if(r.tag===22&&i){var a=r.memoizedState!==null||Qd;if(!a){var o=r.alternate,l=o!==null&&o.memoizedState!==null||qt;o=Qd;var u=qt;if(Qd=a,(qt=l)&&!u)for(X=r;X!==null;)a=X,l=a.child,a.tag===22&&a.memoizedState!==null?u_(r):l!==null?(l.return=a,X=l):u_(r);for(;s!==null;)X=s,v1(s),s=s.sibling;X=r,Qd=o,qt=u}l_(n)}else r.subtreeFlags&8772&&s!==null?(s.return=r,X=s):l_(n)}}function l_(n){for(;X!==null;){var e=X;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:qt||rg(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!qt)if(t===null)i.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:ci(e.type,t.memoizedProps);i.componentDidUpdate(r,t.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Gw(e,s,i);break;case 3:var a=e.updateQueue;if(a!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}Gw(e,a,t)}break;case 5:var o=e.stateNode;if(t===null&&e.flags&4){t=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&bu(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}qt||e.flags&512&&av(e)}catch(f){lt(e,e.return,f)}}if(e===n){X=null;break}if(t=e.sibling,t!==null){t.return=e.return,X=t;break}X=e.return}}function c_(n){for(;X!==null;){var e=X;if(e===n){X=null;break}var t=e.sibling;if(t!==null){t.return=e.return,X=t;break}X=e.return}}function u_(n){for(;X!==null;){var e=X;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{rg(4,e)}catch(l){lt(e,t,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){lt(e,r,l)}}var s=e.return;try{av(e)}catch(l){lt(e,s,l)}break;case 5:var a=e.return;try{av(e)}catch(l){lt(e,a,l)}}}catch(l){lt(e,e.return,l)}if(e===n){X=null;break}var o=e.sibling;if(o!==null){o.return=e.return,X=o;break}X=e.return}}var Ck=Math.ceil,dp=es.ReactCurrentDispatcher,v0=es.ReactCurrentOwner,ri=es.ReactCurrentBatchConfig,xe=0,Lt=null,mt=null,Bt=0,Fn=0,al=Js(0),Ct=0,Iu=null,Eo=0,sg=0,y0=0,pu=null,mn=null,w0=0,_c=1/0,cr=null,fp=!1,cv=null,$s=null,Jd=!1,Os=null,pp=0,gu=0,uv=null,vf=-1,yf=0;function on(){return xe&6?ht():vf!==-1?vf:vf=ht()}function Vs(n){return n.mode&1?xe&2&&Bt!==0?Bt&-Bt:ck.transition!==null?(yf===0&&(yf=tA()),yf):(n=Me,n!==0||(n=window.event,n=n===void 0?16:lA(n.type)),n):1}function Ti(n,e,t,i){if(50<gu)throw gu=0,uv=null,Error(z(185));wd(n,t,i),(!(xe&2)||n!==Lt)&&(n===Lt&&(!(xe&2)&&(sg|=t),Ct===4&&fs(n,Bt)),An(n,i),t===1&&xe===0&&!(e.mode&1)&&(_c=ht()+500,tg&&Zs()))}function An(n,e){var t=n.callbackNode;cC(n,e);var i=Qf(n,n===Lt?Bt:0);if(i===0)t!==null&&ww(t),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(t!=null&&ww(t),e===1)n.tag===0?lk(h_.bind(null,n)):kA(h_.bind(null,n)),rk(function(){!(xe&6)&&Zs()}),t=null;else{switch(nA(i)){case 1:t=Wy;break;case 4:t=ZE;break;case 16:t=qf;break;case 536870912:t=eA;break;default:t=qf}t=x1(t,y1.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function y1(n,e){if(vf=-1,yf=0,xe&6)throw Error(z(327));var t=n.callbackNode;if(pl()&&n.callbackNode!==t)return null;var i=Qf(n,n===Lt?Bt:0);if(i===0)return null;if(i&30||i&n.expiredLanes||e)e=gp(n,i);else{e=i;var r=xe;xe|=2;var s=_1();(Lt!==n||Bt!==e)&&(cr=null,_c=ht()+500,mo(n,e));do try{Pk();break}catch(o){w1(n,o)}while(!0);r0(),dp.current=s,xe=r,mt!==null?e=0:(Lt=null,Bt=0,e=Ct)}if(e!==0){if(e===2&&(r=Om(n),r!==0&&(i=r,e=hv(n,r))),e===1)throw t=Iu,mo(n,0),fs(n,i),An(n,ht()),t;if(e===6)fs(n,i);else{if(r=n.current.alternate,!(i&30)&&!kk(r)&&(e=gp(n,i),e===2&&(s=Om(n),s!==0&&(i=s,e=hv(n,s))),e===1))throw t=Iu,mo(n,0),fs(n,i),An(n,ht()),t;switch(n.finishedWork=r,n.finishedLanes=i,e){case 0:case 1:throw Error(z(345));case 2:la(n,mn,cr);break;case 3:if(fs(n,i),(i&130023424)===i&&(e=w0+500-ht(),10<e)){if(Qf(n,0)!==0)break;if(r=n.suspendedLanes,(r&i)!==i){on(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=Wm(la.bind(null,n,mn,cr),e);break}la(n,mn,cr);break;case 4:if(fs(n,i),(i&4194240)===i)break;for(e=n.eventTimes,r=-1;0<i;){var a=31-ki(i);s=1<<a,a=e[a],a>r&&(r=a),i&=~s}if(i=r,i=ht()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Ck(i/1960))-i,10<i){n.timeoutHandle=Wm(la.bind(null,n,mn,cr),i);break}la(n,mn,cr);break;case 5:la(n,mn,cr);break;default:throw Error(z(329))}}}return An(n,ht()),n.callbackNode===t?y1.bind(null,n):null}function hv(n,e){var t=pu;return n.current.memoizedState.isDehydrated&&(mo(n,e).flags|=256),n=gp(n,e),n!==2&&(e=mn,mn=t,e!==null&&dv(e)),n}function dv(n){mn===null?mn=n:mn.push.apply(mn,n)}function kk(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var i=0;i<t.length;i++){var r=t[i],s=r.getSnapshot;r=r.value;try{if(!Pi(s(),r))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function fs(n,e){for(e&=~y0,e&=~sg,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-ki(e),i=1<<t;n[t]=-1,e&=~i}}function h_(n){if(xe&6)throw Error(z(327));pl();var e=Qf(n,0);if(!(e&1))return An(n,ht()),null;var t=gp(n,e);if(n.tag!==0&&t===2){var i=Om(n);i!==0&&(e=i,t=hv(n,i))}if(t===1)throw t=Iu,mo(n,0),fs(n,e),An(n,ht()),t;if(t===6)throw Error(z(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,la(n,mn,cr),An(n,ht()),null}function _0(n,e){var t=xe;xe|=1;try{return n(e)}finally{xe=t,xe===0&&(_c=ht()+500,tg&&Zs())}}function Ao(n){Os!==null&&Os.tag===0&&!(xe&6)&&pl();var e=xe;xe|=1;var t=ri.transition,i=Me;try{if(ri.transition=null,Me=1,n)return n()}finally{Me=i,ri.transition=t,xe=e,!(xe&6)&&Zs()}}function E0(){Fn=al.current,Ke(al)}function mo(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,ik(t)),mt!==null)for(t=mt.return;t!==null;){var i=t;switch(t0(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&np();break;case 3:yc(),Ke(_n),Ke(Zt),u0();break;case 5:c0(i);break;case 4:yc();break;case 13:Ke(nt);break;case 19:Ke(nt);break;case 10:s0(i.type._context);break;case 22:case 23:E0()}t=t.return}if(Lt=n,mt=n=Ws(n.current,null),Bt=Fn=e,Ct=0,Iu=null,y0=sg=Eo=0,mn=pu=null,ma!==null){for(e=0;e<ma.length;e++)if(t=ma[e],i=t.interleaved,i!==null){t.interleaved=null;var r=i.next,s=t.pending;if(s!==null){var a=s.next;s.next=r,i.next=a}t.pending=i}ma=null}return n}function w1(n,e){do{var t=mt;try{if(r0(),pf.current=hp,up){for(var i=it.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}up=!1}if(_o=0,Rt=bt=it=null,du=!1,Mu=0,v0.current=null,t===null||t.return===null){Ct=1,Iu=e,mt=null;break}e:{var s=n,a=t.return,o=t,l=e;if(e=Bt,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=o,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=Jw(a);if(p!==null){p.flags&=-257,Zw(p,a,o,s,e),p.mode&1&&Qw(s,u,e),e=p,l=u;var g=e.updateQueue;if(g===null){var y=new Set;y.add(l),e.updateQueue=y}else g.add(l);break e}else{if(!(e&1)){Qw(s,u,e),A0();break e}l=Error(z(426))}}else if(qe&&o.mode&1){var b=Jw(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Zw(b,a,o,s,e),n0(wc(l,o));break e}}s=l=wc(l,o),Ct!==4&&(Ct=2),pu===null?pu=[s]:pu.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=n1(s,l,e);Ww(s,m);break e;case 1:o=l;var v=s.type,A=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&($s===null||!$s.has(A)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=i1(s,o,e);Ww(s,C);break e}}s=s.return}while(s!==null)}A1(t)}catch(T){e=T,mt===t&&t!==null&&(mt=t=t.return);continue}break}while(!0)}function _1(){var n=dp.current;return dp.current=hp,n===null?hp:n}function A0(){(Ct===0||Ct===3||Ct===2)&&(Ct=4),Lt===null||!(Eo&268435455)&&!(sg&268435455)||fs(Lt,Bt)}function gp(n,e){var t=xe;xe|=2;var i=_1();(Lt!==n||Bt!==e)&&(cr=null,mo(n,e));do try{Tk();break}catch(r){w1(n,r)}while(!0);if(r0(),xe=t,dp.current=i,mt!==null)throw Error(z(261));return Lt=null,Bt=0,Ct}function Tk(){for(;mt!==null;)E1(mt)}function Pk(){for(;mt!==null&&!eC();)E1(mt)}function E1(n){var e=b1(n.alternate,n,Fn);n.memoizedProps=n.pendingProps,e===null?A1(n):mt=e,v0.current=null}function A1(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=Ak(t,e),t!==null){t.flags&=32767,mt=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Ct=6,mt=null;return}}else if(t=Ek(t,e,Fn),t!==null){mt=t;return}if(e=e.sibling,e!==null){mt=e;return}mt=e=n}while(e!==null);Ct===0&&(Ct=5)}function la(n,e,t){var i=Me,r=ri.transition;try{ri.transition=null,Me=1,Rk(n,e,t,i)}finally{ri.transition=r,Me=i}return null}function Rk(n,e,t,i){do pl();while(Os!==null);if(xe&6)throw Error(z(327));t=n.finishedWork;var r=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(z(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(uC(n,s),n===Lt&&(mt=Lt=null,Bt=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Jd||(Jd=!0,x1(qf,function(){return pl(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=ri.transition,ri.transition=null;var a=Me;Me=1;var o=xe;xe|=4,v0.current=null,bk(n,t),m1(t,n),qC($m),Jf=!!Um,$m=Um=null,n.current=t,xk(t),tC(),xe=o,Me=a,ri.transition=s}else n.current=t;if(Jd&&(Jd=!1,Os=n,pp=r),s=n.pendingLanes,s===0&&($s=null),rC(t.stateNode),An(n,ht()),e!==null)for(i=n.onRecoverableError,t=0;t<e.length;t++)r=e[t],i(r.value,{componentStack:r.stack,digest:r.digest});if(fp)throw fp=!1,n=cv,cv=null,n;return pp&1&&n.tag!==0&&pl(),s=n.pendingLanes,s&1?n===uv?gu++:(gu=0,uv=n):gu=0,Zs(),null}function pl(){if(Os!==null){var n=nA(pp),e=ri.transition,t=Me;try{if(ri.transition=null,Me=16>n?16:n,Os===null)var i=!1;else{if(n=Os,Os=null,pp=0,xe&6)throw Error(z(331));var r=xe;for(xe|=4,X=n.current;X!==null;){var s=X,a=s.child;if(X.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(X=u;X!==null;){var h=X;switch(h.tag){case 0:case 11:case 15:fu(8,h,s)}var d=h.child;if(d!==null)d.return=h,X=d;else for(;X!==null;){h=X;var f=h.sibling,p=h.return;if(f1(h),h===u){X=null;break}if(f!==null){f.return=p,X=f;break}X=p}}}var g=s.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}X=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,X=a;else e:for(;X!==null;){if(s=X,s.flags&2048)switch(s.tag){case 0:case 11:case 15:fu(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,X=m;break e}X=s.return}}var v=n.current;for(X=v;X!==null;){a=X;var A=a.child;if(a.subtreeFlags&2064&&A!==null)A.return=a,X=A;else e:for(a=v;X!==null;){if(o=X,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:rg(9,o)}}catch(T){lt(o,o.return,T)}if(o===a){X=null;break e}var C=o.sibling;if(C!==null){C.return=o.return,X=C;break e}X=o.return}}if(xe=r,Zs(),Ji&&typeof Ji.onPostCommitFiberRoot=="function")try{Ji.onPostCommitFiberRoot(qp,n)}catch{}i=!0}return i}finally{Me=t,ri.transition=e}}return!1}function d_(n,e,t){e=wc(t,e),e=n1(n,e,1),n=Us(n,e,1),e=on(),n!==null&&(wd(n,1,e),An(n,e))}function lt(n,e,t){if(n.tag===3)d_(n,n,t);else for(;e!==null;){if(e.tag===3){d_(e,n,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&($s===null||!$s.has(i))){n=wc(t,n),n=i1(e,n,1),e=Us(e,n,1),n=on(),e!==null&&(wd(e,1,n),An(e,n));break}}e=e.return}}function Lk(n,e,t){var i=n.pingCache;i!==null&&i.delete(e),e=on(),n.pingedLanes|=n.suspendedLanes&t,Lt===n&&(Bt&t)===t&&(Ct===4||Ct===3&&(Bt&130023424)===Bt&&500>ht()-w0?mo(n,0):y0|=t),An(n,e)}function S1(n,e){e===0&&(n.mode&1?(e=Ud,Ud<<=1,!(Ud&130023424)&&(Ud=4194304)):e=1);var t=on();n=qr(n,e),n!==null&&(wd(n,e,t),An(n,t))}function Mk(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),S1(n,t)}function Dk(n,e){var t=0;switch(n.tag){case 13:var i=n.stateNode,r=n.memoizedState;r!==null&&(t=r.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(z(314))}i!==null&&i.delete(e),S1(n,t)}var b1;b1=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||_n.current)vn=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return vn=!1,_k(n,e,t);vn=!!(n.flags&131072)}else vn=!1,qe&&e.flags&1048576&&TA(e,sp,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;mf(n,e),n=e.pendingProps;var r=gc(e,Zt.current);fl(e,t),r=d0(null,e,i,n,r,t);var s=f0();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,En(i)?(s=!0,ip(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,o0(e),r.updater=ig,e.stateNode=r,r._reactInternals=e,Jm(e,i,n,t),e=tv(null,e,i,!0,s,t)):(e.tag=0,qe&&s&&e0(e),sn(null,e,r,t),e=e.child),e;case 16:i=e.elementType;e:{switch(mf(n,e),n=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=Ik(i),n=ci(i,n),r){case 0:e=ev(null,e,i,n,t);break e;case 1:e=n_(null,e,i,n,t);break e;case 11:e=e_(null,e,i,n,t);break e;case 14:e=t_(null,e,i,ci(i.type,n),t);break e}throw Error(z(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:ci(i,r),ev(n,e,i,r,t);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:ci(i,r),n_(n,e,i,r,t);case 3:e:{if(o1(e),n===null)throw Error(z(387));i=e.pendingProps,s=e.memoizedState,r=s.element,NA(n,e),lp(e,i,null,t);var a=e.memoizedState;if(i=a.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=wc(Error(z(423)),e),e=i_(n,e,i,t,r);break e}else if(i!==r){r=wc(Error(z(424)),e),e=i_(n,e,i,t,r);break e}else for(zn=Bs(e.stateNode.containerInfo.firstChild),Hn=e,qe=!0,Ci=null,t=MA(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(mc(),i===r){e=Qr(n,e,t);break e}sn(n,e,i,t)}e=e.child}return e;case 5:return IA(e),n===null&&Ym(e),i=e.type,r=e.pendingProps,s=n!==null?n.memoizedProps:null,a=r.children,Vm(i,r)?a=null:s!==null&&Vm(i,s)&&(e.flags|=32),a1(n,e),sn(n,e,a,t),e.child;case 6:return n===null&&Ym(e),null;case 13:return l1(n,e,t);case 4:return l0(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=vc(e,null,i,t):sn(n,e,i,t),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:ci(i,r),e_(n,e,i,r,t);case 7:return sn(n,e,e.pendingProps,t),e.child;case 8:return sn(n,e,e.pendingProps.children,t),e.child;case 12:return sn(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,a=r.value,Ge(ap,i._currentValue),i._currentValue=a,s!==null)if(Pi(s.value,a)){if(s.children===r.children&&!_n.current){e=Qr(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=Ur(-1,t&-t),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),qm(s.return,t,e),o.lanes|=t;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(z(341));a.lanes|=t,o=a.alternate,o!==null&&(o.lanes|=t),qm(a,t,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}sn(n,e,r.children,t),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,fl(e,t),r=si(r),i=i(r),e.flags|=1,sn(n,e,i,t),e.child;case 14:return i=e.type,r=ci(i,e.pendingProps),r=ci(i.type,r),t_(n,e,i,r,t);case 15:return r1(n,e,e.type,e.pendingProps,t);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:ci(i,r),mf(n,e),e.tag=1,En(i)?(n=!0,ip(e)):n=!1,fl(e,t),t1(e,i,r),Jm(e,i,r,t),tv(null,e,i,!0,n,t);case 19:return c1(n,e,t);case 22:return s1(n,e,t)}throw Error(z(156,e.tag))};function x1(n,e){return JE(n,e)}function Nk(n,e,t,i){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ii(n,e,t,i){return new Nk(n,e,t,i)}function S0(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Ik(n){if(typeof n=="function")return S0(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Uy)return 11;if(n===$y)return 14}return 2}function Ws(n,e){var t=n.alternate;return t===null?(t=ii(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function wf(n,e,t,i,r,s){var a=2;if(i=n,typeof n=="function")S0(n)&&(a=1);else if(typeof n=="string")a=5;else e:switch(n){case qo:return vo(t.children,r,s,e);case By:a=8,r|=8;break;case Am:return n=ii(12,t,e,r|2),n.elementType=Am,n.lanes=s,n;case Sm:return n=ii(13,t,e,r),n.elementType=Sm,n.lanes=s,n;case bm:return n=ii(19,t,e,r),n.elementType=bm,n.lanes=s,n;case IE:return ag(t,r,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case DE:a=10;break e;case NE:a=9;break e;case Uy:a=11;break e;case $y:a=14;break e;case us:a=16,i=null;break e}throw Error(z(130,n==null?n:typeof n,""))}return e=ii(a,t,e,r),e.elementType=n,e.type=i,e.lanes=s,e}function vo(n,e,t,i){return n=ii(7,n,i,e),n.lanes=t,n}function ag(n,e,t,i){return n=ii(22,n,i,e),n.elementType=IE,n.lanes=t,n.stateNode={isHidden:!1},n}function cm(n,e,t){return n=ii(6,n,null,e),n.lanes=t,n}function um(n,e,t){return e=ii(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function Fk(n,e,t,i,r){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vg(0),this.expirationTimes=Vg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vg(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function b0(n,e,t,i,r,s,a,o,l){return n=new Fk(n,e,t,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ii(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:i,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},o0(s),n}function Ok(n,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Yo,key:i==null?null:""+i,children:n,containerInfo:e,implementation:t}}function C1(n){if(!n)return Xs;n=n._reactInternals;e:{if(Mo(n)!==n||n.tag!==1)throw Error(z(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(En(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(n.tag===1){var t=n.type;if(En(t))return CA(n,t,e)}return e}function k1(n,e,t,i,r,s,a,o,l){return n=b0(t,i,!0,n,r,s,a,o,l),n.context=C1(null),t=n.current,i=on(),r=Vs(t),s=Ur(i,r),s.callback=e??null,Us(t,s,r),n.current.lanes=r,wd(n,r,i),An(n,i),n}function og(n,e,t,i){var r=e.current,s=on(),a=Vs(r);return t=C1(t),e.context===null?e.context=t:e.pendingContext=t,e=Ur(s,a),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=Us(r,e,a),n!==null&&(Ti(n,r,a,s),ff(n,r,a)),a}function mp(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function f_(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function x0(n,e){f_(n,e),(n=n.alternate)&&f_(n,e)}function jk(){return null}var T1=typeof reportError=="function"?reportError:function(n){console.error(n)};function C0(n){this._internalRoot=n}lg.prototype.render=C0.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(z(409));og(n,e,null,null)};lg.prototype.unmount=C0.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Ao(function(){og(null,n,null,null)}),e[Yr]=null}};function lg(n){this._internalRoot=n}lg.prototype.unstable_scheduleHydration=function(n){if(n){var e=sA();n={blockedOn:null,target:n,priority:e};for(var t=0;t<ds.length&&e!==0&&e<ds[t].priority;t++);ds.splice(t,0,n),t===0&&oA(n)}};function k0(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function cg(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function p_(){}function zk(n,e,t,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var u=mp(a);s.call(u)}}var a=k1(e,i,n,0,null,!1,!1,"",p_);return n._reactRootContainer=a,n[Yr]=a.current,ku(n.nodeType===8?n.parentNode:n),Ao(),a}for(;r=n.lastChild;)n.removeChild(r);if(typeof i=="function"){var o=i;i=function(){var u=mp(l);o.call(u)}}var l=b0(n,0,!1,null,null,!1,!1,"",p_);return n._reactRootContainer=l,n[Yr]=l.current,ku(n.nodeType===8?n.parentNode:n),Ao(function(){og(e,l,t,i)}),l}function ug(n,e,t,i,r){var s=t._reactRootContainer;if(s){var a=s;if(typeof r=="function"){var o=r;r=function(){var l=mp(a);o.call(l)}}og(e,a,n,r)}else a=zk(t,e,n,r,i);return mp(a)}iA=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=$c(e.pendingLanes);t!==0&&(Gy(e,t|1),An(e,ht()),!(xe&6)&&(_c=ht()+500,Zs()))}break;case 13:Ao(function(){var i=qr(n,1);if(i!==null){var r=on();Ti(i,n,1,r)}}),x0(n,1)}};Xy=function(n){if(n.tag===13){var e=qr(n,134217728);if(e!==null){var t=on();Ti(e,n,134217728,t)}x0(n,134217728)}};rA=function(n){if(n.tag===13){var e=Vs(n),t=qr(n,e);if(t!==null){var i=on();Ti(t,n,e,i)}x0(n,e)}};sA=function(){return Me};aA=function(n,e){var t=Me;try{return Me=n,e()}finally{Me=t}};Nm=function(n,e,t){switch(e){case"input":if(km(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==n&&i.form===n.form){var r=eg(i);if(!r)throw Error(z(90));OE(i),km(i,r)}}}break;case"textarea":zE(n,t);break;case"select":e=t.value,e!=null&&cl(n,!!t.multiple,e,!1)}};GE=_0;XE=Ao;var Hk={usingClientEntryPoint:!1,Events:[Ed,el,eg,VE,WE,_0]},Nc={findFiberByHostInstance:ga,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Bk={bundleType:Nc.bundleType,version:Nc.version,rendererPackageName:Nc.rendererPackageName,rendererConfig:Nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:es.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=qE(n),n===null?null:n.stateNode},findFiberByHostInstance:Nc.findFiberByHostInstance||jk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zd.isDisabled&&Zd.supportsFiber)try{qp=Zd.inject(Bk),Ji=Zd}catch{}}Un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hk;Un.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!k0(e))throw Error(z(200));return Ok(n,e,null,t)};Un.createRoot=function(n,e){if(!k0(n))throw Error(z(299));var t=!1,i="",r=T1;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=b0(n,1,!1,null,null,t,!1,i,r),n[Yr]=e.current,ku(n.nodeType===8?n.parentNode:n),new C0(e)};Un.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(z(188)):(n=Object.keys(n).join(","),Error(z(268,n)));return n=qE(e),n=n===null?null:n.stateNode,n};Un.flushSync=function(n){return Ao(n)};Un.hydrate=function(n,e,t){if(!cg(e))throw Error(z(200));return ug(null,n,e,!0,t)};Un.hydrateRoot=function(n,e,t){if(!k0(n))throw Error(z(405));var i=t!=null&&t.hydratedSources||null,r=!1,s="",a=T1;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),e=k1(e,null,n,1,t??null,r,!1,s,a),n[Yr]=e.current,ku(n),i)for(n=0;n<i.length;n++)t=i[n],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new lg(e)};Un.render=function(n,e,t){if(!cg(e))throw Error(z(200));return ug(null,n,e,!1,t)};Un.unmountComponentAtNode=function(n){if(!cg(n))throw Error(z(40));return n._reactRootContainer?(Ao(function(){ug(null,null,n,!1,function(){n._reactRootContainer=null,n[Yr]=null})}),!0):!1};Un.unstable_batchedUpdates=_0;Un.unstable_renderSubtreeIntoContainer=function(n,e,t,i){if(!cg(t))throw Error(z(200));if(n==null||n._reactInternals===void 0)throw Error(z(38));return ug(n,e,t,!1,i)};Un.version="18.3.1-next-f1338f8080-20240426";function P1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(P1)}catch(n){console.error(n)}}P1(),PE.exports=Un;var T0=PE.exports;const Uk=Dy(T0),$k=vE({__proto__:null,default:Uk},[T0]);var g_=T0;_m.createRoot=g_.createRoot,_m.hydrateRoot=g_.hydrateRoot;/**
 * @remix-run/router v1.19.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tt(){return tt=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},tt.apply(this,arguments)}var gt;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(gt||(gt={}));const m_="popstate";function Vk(n){n===void 0&&(n={});function e(r,s){let{pathname:a="/",search:o="",hash:l=""}=ts(r.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),Fu("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){let a=r.document.querySelector("base"),o="";if(a&&a.getAttribute("href")){let l=r.location.href,u=l.indexOf("#");o=u===-1?l:l.slice(0,u)}return o+"#"+(typeof s=="string"?s:bo(s))}function i(r,s){So(r.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return Gk(e,t,i,n)}function pe(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function So(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Wk(){return Math.random().toString(36).substr(2,8)}function v_(n,e){return{usr:n.state,key:n.key,idx:e}}function Fu(n,e,t,i){return t===void 0&&(t=null),tt({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?ts(e):e,{state:t,key:e&&e.key||i||Wk()})}function bo(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function ts(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function Gk(n,e,t,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,a=r.history,o=gt.Pop,l=null,u=h();u==null&&(u=0,a.replaceState(tt({},a.state,{idx:u}),""));function h(){return(a.state||{idx:null}).idx}function d(){o=gt.Pop;let b=h(),m=b==null?null:b-u;u=b,l&&l({action:o,location:y.location,delta:m})}function f(b,m){o=gt.Push;let v=Fu(y.location,b,m);t&&t(v,b),u=h()+1;let A=v_(v,u),C=y.createHref(v);try{a.pushState(A,"",C)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;r.location.assign(C)}s&&l&&l({action:o,location:y.location,delta:1})}function p(b,m){o=gt.Replace;let v=Fu(y.location,b,m);t&&t(v,b),u=h();let A=v_(v,u),C=y.createHref(v);a.replaceState(A,"",C),s&&l&&l({action:o,location:y.location,delta:0})}function g(b){let m=r.location.origin!=="null"?r.location.origin:r.location.href,v=typeof b=="string"?b:bo(b);return v=v.replace(/ $/,"%20"),pe(m,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,m)}let y={get action(){return o},get location(){return n(r,a)},listen(b){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(m_,d),l=b,()=>{r.removeEventListener(m_,d),l=null}},createHref(b){return e(r,b)},createURL:g,encodeLocation(b){let m=g(b);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:p,go(b){return a.go(b)}};return y}var Fe;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Fe||(Fe={}));const Xk=new Set(["lazy","caseSensitive","path","id","index","children"]);function Kk(n){return n.index===!0}function Ou(n,e,t,i){return t===void 0&&(t=[]),i===void 0&&(i={}),n.map((r,s)=>{let a=[...t,String(s)],o=typeof r.id=="string"?r.id:a.join("-");if(pe(r.index!==!0||!r.children,"Cannot specify children on an index route"),pe(!i[o],'Found a route id collision on id "'+o+`".  Route id's must be globally unique within Data Router usages`),Kk(r)){let l=tt({},r,e(r),{id:o});return i[o]=l,l}else{let l=tt({},r,e(r),{id:o,children:void 0});return i[o]=l,r.children&&(l.children=Ou(r.children,e,a,i)),l}})}function da(n,e,t){return t===void 0&&(t="/"),_f(n,e,t,!1)}function _f(n,e,t,i){let r=typeof e=="string"?ts(e):e,s=xc(r.pathname||"/",t);if(s==null)return null;let a=R1(n);qk(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=oT(s);o=sT(a[l],u,i)}return o}function Yk(n,e){let{route:t,pathname:i,params:r}=n;return{id:t.id,pathname:i,params:r,data:e[t.id],handle:t.handle}}function R1(n,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let r=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(pe(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let u=$r([i,l.relativePath]),h=t.concat(l);s.children&&s.children.length>0&&(pe(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),R1(s.children,e,h,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:iT(u,s.index),routesMeta:h})};return n.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))r(s,a);else for(let l of L1(s.path))r(s,a,l)}),e}function L1(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),s=t.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let a=L1(i.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),r&&o.push(...a),o.map(l=>n.startsWith("/")&&l===""?"/":l)}function qk(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:rT(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const Qk=/^:[\w-]+$/,Jk=3,Zk=2,eT=1,tT=10,nT=-2,y_=n=>n==="*";function iT(n,e){let t=n.split("/"),i=t.length;return t.some(y_)&&(i+=nT),e&&(i+=Zk),t.filter(r=>!y_(r)).reduce((r,s)=>r+(Qk.test(s)?Jk:s===""?eT:tT),i)}function rT(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function sT(n,e,t){t===void 0&&(t=!1);let{routesMeta:i}=n,r={},s="/",a=[];for(let o=0;o<i.length;++o){let l=i[o],u=o===i.length-1,h=s==="/"?e:e.slice(s.length)||"/",d=w_({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},h),f=l.route;if(!d&&u&&t&&!i[i.length-1].route.index&&(d=w_({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!d)return null;Object.assign(r,d.params),a.push({params:r,pathname:$r([s,d.pathname]),pathnameBase:uT($r([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=$r([s,d.pathnameBase]))}return a}function w_(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=aT(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let s=r[0],a=s.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:i.reduce((u,h,d)=>{let{paramName:f,isOptional:p}=h;if(f==="*"){let y=o[d]||"";a=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const g=o[d];return p&&!g?u[f]=void 0:u[f]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:n}}function aT(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),So(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(i.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function oT(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return So(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function xc(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function lT(n,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?ts(n):n;return{pathname:t?t.startsWith("/")?t:cT(t,e):e,search:hT(i),hash:dT(r)}}function cT(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function hm(n,e,t,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function M1(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function P0(n,e){let t=M1(n);return e?t.map((i,r)=>r===t.length-1?i.pathname:i.pathnameBase):t.map(i=>i.pathnameBase)}function R0(n,e,t,i){i===void 0&&(i=!1);let r;typeof n=="string"?r=ts(n):(r=tt({},n),pe(!r.pathname||!r.pathname.includes("?"),hm("?","pathname","search",r)),pe(!r.pathname||!r.pathname.includes("#"),hm("#","pathname","hash",r)),pe(!r.search||!r.search.includes("#"),hm("#","search","hash",r)));let s=n===""||r.pathname==="",a=s?"/":r.pathname,o;if(a==null)o=t;else{let d=e.length-1;if(!i&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),d-=1;r.pathname=f.join("/")}o=d>=0?e[d]:"/"}let l=lT(r,o),u=a&&a!=="/"&&a.endsWith("/"),h=(s||a===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(u||h)&&(l.pathname+="/"),l}const $r=n=>n.join("/").replace(/\/\/+/g,"/"),uT=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),hT=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,dT=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;class vp{constructor(e,t,i,r){r===void 0&&(r=!1),this.status=e,this.statusText=t||"",this.internal=r,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}}function hg(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const D1=["post","put","patch","delete"],fT=new Set(D1),pT=["get",...D1],gT=new Set(pT),mT=new Set([301,302,303,307,308]),vT=new Set([307,308]),dm={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},yT={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ic={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},L0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wT=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),N1="remix-router-transitions";function _T(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",i=!t;pe(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let r;if(n.mapRouteProperties)r=n.mapRouteProperties;else if(n.detectErrorBoundary){let k=n.detectErrorBoundary;r=P=>({hasErrorBoundary:k(P)})}else r=wT;let s={},a=Ou(n.routes,r,void 0,s),o,l=n.basename||"/",u=n.unstable_dataStrategy||xT,h=n.unstable_patchRoutesOnNavigation,d=tt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},n.future),f=null,p=new Set,g=1e3,y=new Set,b=null,m=null,v=null,A=n.hydrationData!=null,C=da(a,n.history.location,l),T=null;if(C==null&&!h){let k=rn(404,{pathname:n.history.location.pathname}),{matches:P,route:M}=P_(a);C=P,T={[M.id]:k}}C&&!n.hydrationData&&Md(C,a,n.history.location.pathname).active&&(C=null);let R;if(C)if(C.some(k=>k.route.lazy))R=!1;else if(!C.some(k=>k.route.loader))R=!0;else if(d.v7_partialHydration){let k=n.hydrationData?n.hydrationData.loaderData:null,P=n.hydrationData?n.hydrationData.errors:null,M=j=>j.route.loader?typeof j.route.loader=="function"&&j.route.loader.hydrate===!0?!1:k&&k[j.route.id]!==void 0||P&&P[j.route.id]!==void 0:!0;if(P){let j=C.findIndex(G=>P[G.route.id]!==void 0);R=C.slice(0,j+1).every(M)}else R=C.every(M)}else R=n.hydrationData!=null;else if(R=!1,C=[],d.v7_partialHydration){let k=Md(null,a,n.history.location.pathname);k.active&&k.matches&&(C=k.matches)}let L,x={historyAction:n.history.action,location:n.history.location,matches:C,initialized:R,navigation:dm,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||T,fetchers:new Map,blockers:new Map},N=gt.Pop,I=!1,O,J=!1,Y=new Map,W=null,se=!1,oe=!1,U=[],F=new Set,B=new Map,Z=0,we=-1,ne=new Map,de=new Set,ze=new Map,Qe=new Map,Se=new Set,fe=new Map,st=new Map,Vn=new Map,Ve=!1;function ta(){if(f=n.history.listen(k=>{let{action:P,location:M,delta:j}=k;if(Ve){Ve=!1;return}So(st.size===0||j!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let G=tw({currentLocation:x.location,nextLocation:M,historyAction:P});if(G&&j!=null){Ve=!0,n.history.go(j*-1),Rd(G,{state:"blocked",location:M,proceed(){Rd(G,{state:"proceeding",proceed:void 0,reset:void 0,location:M}),n.history.go(j)},reset(){let q=new Map(x.blockers);q.set(G,Ic),_e({blockers:q})}});return}return ir(P,M)}),t){jT(e,Y);let k=()=>zT(e,Y);e.addEventListener("pagehide",k),W=()=>e.removeEventListener("pagehide",k)}return x.initialized||ir(gt.Pop,x.location,{initialHydration:!0}),L}function na(){f&&f(),W&&W(),p.clear(),O&&O.abort(),x.fetchers.forEach((k,P)=>Pd(P)),x.blockers.forEach((k,P)=>ew(P))}function De(k){return p.add(k),()=>p.delete(k)}function _e(k,P){P===void 0&&(P={}),x=tt({},x,k);let M=[],j=[];d.v7_fetcherPersist&&x.fetchers.forEach((G,q)=>{G.state==="idle"&&(Se.has(q)?j.push(q):M.push(q))}),[...p].forEach(G=>G(x,{deletedFetchers:j,unstable_viewTransitionOpts:P.viewTransitionOpts,unstable_flushSync:P.flushSync===!0})),d.v7_fetcherPersist&&(M.forEach(G=>x.fetchers.delete(G)),j.forEach(G=>Pd(G)))}function Je(k,P,M){var j,G;let{flushSync:q}=M===void 0?{}:M,ie=x.actionData!=null&&x.navigation.formMethod!=null&&xi(x.navigation.formMethod)&&x.navigation.state==="loading"&&((j=k.state)==null?void 0:j._isRedirect)!==!0,H;P.actionData?Object.keys(P.actionData).length>0?H=P.actionData:H=null:ie?H=x.actionData:H=null;let ce=P.loaderData?k_(x.loaderData,P.loaderData,P.matches||[],P.errors):x.loaderData,te=x.blockers;te.size>0&&(te=new Map(te),te.forEach((Pe,He)=>te.set(He,Ic)));let ue=I===!0||x.navigation.formMethod!=null&&xi(x.navigation.formMethod)&&((G=k.state)==null?void 0:G._isRedirect)!==!0;o&&(a=o,o=void 0),se||N===gt.Pop||(N===gt.Push?n.history.push(k,k.state):N===gt.Replace&&n.history.replace(k,k.state));let Ne;if(N===gt.Pop){let Pe=Y.get(x.location.pathname);Pe&&Pe.has(k.pathname)?Ne={currentLocation:x.location,nextLocation:k}:Y.has(k.pathname)&&(Ne={currentLocation:k,nextLocation:x.location})}else if(J){let Pe=Y.get(x.location.pathname);Pe?Pe.add(k.pathname):(Pe=new Set([k.pathname]),Y.set(x.location.pathname,Pe)),Ne={currentLocation:x.location,nextLocation:k}}_e(tt({},P,{actionData:H,loaderData:ce,historyAction:N,location:k,initialized:!0,navigation:dm,revalidation:"idle",restoreScrollPosition:iw(k,P.matches||x.matches),preventScrollReset:ue,blockers:te}),{viewTransitionOpts:Ne,flushSync:q===!0}),N=gt.Pop,I=!1,J=!1,se=!1,oe=!1,U=[]}async function ct(k,P){if(typeof k=="number"){n.history.go(k);return}let M=fv(x.location,x.matches,l,d.v7_prependBasename,k,d.v7_relativeSplatPath,P==null?void 0:P.fromRouteId,P==null?void 0:P.relative),{path:j,submission:G,error:q}=__(d.v7_normalizeFormMethod,!1,M,P),ie=x.location,H=Fu(x.location,j,P&&P.state);H=tt({},H,n.history.encodeLocation(H));let ce=P&&P.replace!=null?P.replace:void 0,te=gt.Push;ce===!0?te=gt.Replace:ce===!1||G!=null&&xi(G.formMethod)&&G.formAction===x.location.pathname+x.location.search&&(te=gt.Replace);let ue=P&&"preventScrollReset"in P?P.preventScrollReset===!0:void 0,Ne=(P&&P.unstable_flushSync)===!0,Pe=tw({currentLocation:ie,nextLocation:H,historyAction:te});if(Pe){Rd(Pe,{state:"blocked",location:H,proceed(){Rd(Pe,{state:"proceeding",proceed:void 0,reset:void 0,location:H}),ct(k,P)},reset(){let He=new Map(x.blockers);He.set(Pe,Ic),_e({blockers:He})}});return}return await ir(te,H,{submission:G,pendingError:q,preventScrollReset:ue,replace:P&&P.replace,enableViewTransition:P&&P.unstable_viewTransition,flushSync:Ne})}function Ri(){if(ns(),_e({revalidation:"loading"}),x.navigation.state!=="submitting"){if(x.navigation.state==="idle"){ir(x.historyAction,x.location,{startUninterruptedRevalidation:!0});return}ir(N||x.historyAction,x.navigation.location,{overrideNavigation:x.navigation})}}async function ir(k,P,M){O&&O.abort(),O=null,N=k,se=(M&&M.startUninterruptedRevalidation)===!0,ux(x.location,x.matches),I=(M&&M.preventScrollReset)===!0,J=(M&&M.enableViewTransition)===!0;let j=o||a,G=M&&M.overrideNavigation,q=da(j,P,l),ie=(M&&M.flushSync)===!0,H=Md(q,j,P.pathname);if(H.active&&H.matches&&(q=H.matches),!q){let{error:Te,notFoundMatches:Mt,route:ft}=Fg(P.pathname);Je(P,{matches:Mt,loaderData:{},errors:{[ft.id]:Te}},{flushSync:ie});return}if(x.initialized&&!oe&&LT(x.location,P)&&!(M&&M.submission&&xi(M.submission.formMethod))){Je(P,{matches:q},{flushSync:ie});return}O=new AbortController;let ce=Uo(n.history,P,O.signal,M&&M.submission),te;if(M&&M.pendingError)te=[ol(q).route.id,{type:Fe.error,error:M.pendingError}];else if(M&&M.submission&&xi(M.submission.formMethod)){let Te=await Rg(ce,P,M.submission,q,H.active,{replace:M.replace,flushSync:ie});if(Te.shortCircuited)return;if(Te.pendingActionResult){let[Mt,ft]=Te.pendingActionResult;if(On(ft)&&hg(ft.error)&&ft.error.status===404){O=null,Je(P,{matches:Te.matches,loaderData:{},errors:{[Mt]:ft.error}});return}}q=Te.matches||q,te=Te.pendingActionResult,G=fm(P,M.submission),ie=!1,H.active=!1,ce=Uo(n.history,ce.url,ce.signal)}let{shortCircuited:ue,matches:Ne,loaderData:Pe,errors:He}=await Lg(ce,P,q,H.active,G,M&&M.submission,M&&M.fetcherSubmission,M&&M.replace,M&&M.initialHydration===!0,ie,te);ue||(O=null,Je(P,tt({matches:Ne||q},T_(te),{loaderData:Pe,errors:He})))}async function Rg(k,P,M,j,G,q){q===void 0&&(q={}),ns();let ie=FT(P,M);if(_e({navigation:ie},{flushSync:q.flushSync===!0}),G){let te=await Dd(j,P.pathname,k.signal);if(te.type==="aborted")return{shortCircuited:!0};if(te.type==="error"){let{boundaryId:ue,error:Ne}=Ld(P.pathname,te);return{matches:te.partialMatches,pendingActionResult:[ue,{type:Fe.error,error:Ne}]}}else if(te.matches)j=te.matches;else{let{notFoundMatches:ue,error:Ne,route:Pe}=Fg(P.pathname);return{matches:ue,pendingActionResult:[Pe.id,{type:Fe.error,error:Ne}]}}}let H,ce=Wc(j,P);if(!ce.route.action&&!ce.route.lazy)H={type:Fe.error,error:rn(405,{method:k.method,pathname:P.pathname,routeId:ce.route.id})};else if(H=(await Wn("action",k,[ce],j))[0],k.signal.aborted)return{shortCircuited:!0};if(wa(H)){let te;return q&&q.replace!=null?te=q.replace:te=b_(H.response.headers.get("Location"),new URL(k.url),l)===x.location.pathname+x.location.search,await ra(k,H,{submission:M,replace:te}),{shortCircuited:!0}}if(ya(H))throw rn(400,{type:"defer-action"});if(On(H)){let te=ol(j,ce.route.id);return(q&&q.replace)!==!0&&(N=gt.Push),{matches:j,pendingActionResult:[te.route.id,H]}}return{matches:j,pendingActionResult:[ce.route.id,H]}}async function Lg(k,P,M,j,G,q,ie,H,ce,te,ue){let Ne=G||fm(P,q),Pe=q||ie||D_(Ne),He=!se&&(!d.v7_partialHydration||!ce);if(j){if(He){let at=ia(ue);_e(tt({navigation:Ne},at!==void 0?{actionData:at}:{}),{flushSync:te})}let he=await Dd(M,P.pathname,k.signal);if(he.type==="aborted")return{shortCircuited:!0};if(he.type==="error"){let{boundaryId:at,error:bn}=Ld(P.pathname,he);return{matches:he.partialMatches,loaderData:{},errors:{[at]:bn}}}else if(he.matches)M=he.matches;else{let{error:at,notFoundMatches:bn,route:Ye}=Fg(P.pathname);return{matches:bn,loaderData:{},errors:{[Ye.id]:at}}}}let Te=o||a,[Mt,ft]=E_(n.history,x,M,Pe,P,d.v7_partialHydration&&ce===!0,d.v7_skipActionErrorRevalidation,oe,U,F,Se,ze,de,Te,l,ue);if(Og(he=>!(M&&M.some(at=>at.route.id===he))||Mt&&Mt.some(at=>at.route.id===he)),we=++Z,Mt.length===0&&ft.length===0){let he=J0();return Je(P,tt({matches:M,loaderData:{},errors:ue&&On(ue[1])?{[ue[0]]:ue[1].error}:null},T_(ue),he?{fetchers:new Map(x.fetchers)}:{}),{flushSync:te}),{shortCircuited:!0}}if(He){let he={};if(!j){he.navigation=Ne;let at=ia(ue);at!==void 0&&(he.actionData=at)}ft.length>0&&(he.fetchers=Mg(ft)),_e(he,{flushSync:te})}ft.forEach(he=>{B.has(he.key)&&is(he.key),he.controller&&B.set(he.key,he.controller)});let Cc=()=>ft.forEach(he=>is(he.key));O&&O.signal.addEventListener("abort",Cc);let{loaderResults:rs,fetcherResults:jo}=await sa(x.matches,M,Mt,ft,k);if(k.signal.aborted)return{shortCircuited:!0};O&&O.signal.removeEventListener("abort",Cc),ft.forEach(he=>B.delete(he.key));let zo=R_([...rs,...jo]);if(zo){if(zo.idx>=Mt.length){let he=ft[zo.idx-Mt.length].key;de.add(he)}return await ra(k,zo.result,{replace:H}),{shortCircuited:!0}}let{loaderData:Ho,errors:Li}=C_(x,M,Mt,rs,ue,ft,jo,fe);fe.forEach((he,at)=>{he.subscribe(bn=>{(bn||he.done)&&fe.delete(at)})}),d.v7_partialHydration&&ce&&x.errors&&Object.entries(x.errors).filter(he=>{let[at]=he;return!Mt.some(bn=>bn.route.id===at)}).forEach(he=>{let[at,bn]=he;Li=Object.assign(Li||{},{[at]:bn})});let Nd=J0(),Id=Z0(we),Fd=Nd||Id||ft.length>0;return tt({matches:M,loaderData:Ho,errors:Li},Fd?{fetchers:new Map(x.fetchers)}:{})}function ia(k){if(k&&!On(k[1]))return{[k[0]]:k[1].data};if(x.actionData)return Object.keys(x.actionData).length===0?null:x.actionData}function Mg(k){return k.forEach(P=>{let M=x.fetchers.get(P.key),j=Fc(void 0,M?M.data:void 0);x.fetchers.set(P.key,j)}),new Map(x.fetchers)}function Dg(k,P,M,j){if(i)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");B.has(k)&&is(k);let G=(j&&j.unstable_flushSync)===!0,q=o||a,ie=fv(x.location,x.matches,l,d.v7_prependBasename,M,d.v7_relativeSplatPath,P,j==null?void 0:j.relative),H=da(q,ie,l),ce=Md(H,q,ie);if(ce.active&&ce.matches&&(H=ce.matches),!H){rr(k,P,rn(404,{pathname:ie}),{flushSync:G});return}let{path:te,submission:ue,error:Ne}=__(d.v7_normalizeFormMethod,!0,ie,j);if(Ne){rr(k,P,Ne,{flushSync:G});return}let Pe=Wc(H,te);if(I=(j&&j.preventScrollReset)===!0,ue&&xi(ue.formMethod)){Ng(k,P,te,Pe,H,ce.active,G,ue);return}ze.set(k,{routeId:P,path:te}),Ig(k,P,te,Pe,H,ce.active,G,ue)}async function Ng(k,P,M,j,G,q,ie,H){ns(),ze.delete(k);function ce(Ye){if(!Ye.route.action&&!Ye.route.lazy){let sr=rn(405,{method:H.formMethod,pathname:M,routeId:P});return rr(k,P,sr,{flushSync:ie}),!0}return!1}if(!q&&ce(j))return;let te=x.fetchers.get(k);Gn(k,OT(H,te),{flushSync:ie});let ue=new AbortController,Ne=Uo(n.history,M,ue.signal,H);if(q){let Ye=await Dd(G,M,Ne.signal);if(Ye.type==="aborted")return;if(Ye.type==="error"){let{error:sr}=Ld(M,Ye);rr(k,P,sr,{flushSync:ie});return}else if(Ye.matches){if(G=Ye.matches,j=Wc(G,M),ce(j))return}else{rr(k,P,rn(404,{pathname:M}),{flushSync:ie});return}}B.set(k,ue);let Pe=Z,Te=(await Wn("action",Ne,[j],G))[0];if(Ne.signal.aborted){B.get(k)===ue&&B.delete(k);return}if(d.v7_fetcherPersist&&Se.has(k)){if(wa(Te)||On(Te)){Gn(k,as(void 0));return}}else{if(wa(Te))if(B.delete(k),we>Pe){Gn(k,as(void 0));return}else return de.add(k),Gn(k,Fc(H)),ra(Ne,Te,{fetcherSubmission:H});if(On(Te)){rr(k,P,Te.error);return}}if(ya(Te))throw rn(400,{type:"defer-action"});let Mt=x.navigation.location||x.location,ft=Uo(n.history,Mt,ue.signal),Cc=o||a,rs=x.navigation.state!=="idle"?da(Cc,x.navigation.location,l):x.matches;pe(rs,"Didn't find any matches after fetcher action");let jo=++Z;ne.set(k,jo);let zo=Fc(H,Te.data);x.fetchers.set(k,zo);let[Ho,Li]=E_(n.history,x,rs,H,Mt,!1,d.v7_skipActionErrorRevalidation,oe,U,F,Se,ze,de,Cc,l,[j.route.id,Te]);Li.filter(Ye=>Ye.key!==k).forEach(Ye=>{let sr=Ye.key,sw=x.fetchers.get(sr),fx=Fc(void 0,sw?sw.data:void 0);x.fetchers.set(sr,fx),B.has(sr)&&is(sr),Ye.controller&&B.set(sr,Ye.controller)}),_e({fetchers:new Map(x.fetchers)});let Nd=()=>Li.forEach(Ye=>is(Ye.key));ue.signal.addEventListener("abort",Nd);let{loaderResults:Id,fetcherResults:Fd}=await sa(x.matches,rs,Ho,Li,ft);if(ue.signal.aborted)return;ue.signal.removeEventListener("abort",Nd),ne.delete(k),B.delete(k),Li.forEach(Ye=>B.delete(Ye.key));let he=R_([...Id,...Fd]);if(he){if(he.idx>=Ho.length){let Ye=Li[he.idx-Ho.length].key;de.add(Ye)}return ra(ft,he.result)}let{loaderData:at,errors:bn}=C_(x,x.matches,Ho,Id,void 0,Li,Fd,fe);if(x.fetchers.has(k)){let Ye=as(Te.data);x.fetchers.set(k,Ye)}Z0(jo),x.navigation.state==="loading"&&jo>we?(pe(N,"Expected pending action"),O&&O.abort(),Je(x.navigation.location,{matches:rs,loaderData:at,errors:bn,fetchers:new Map(x.fetchers)})):(_e({errors:bn,loaderData:k_(x.loaderData,at,rs,bn),fetchers:new Map(x.fetchers)}),oe=!1)}async function Ig(k,P,M,j,G,q,ie,H){let ce=x.fetchers.get(k);Gn(k,Fc(H,ce?ce.data:void 0),{flushSync:ie});let te=new AbortController,ue=Uo(n.history,M,te.signal);if(q){let Te=await Dd(G,M,ue.signal);if(Te.type==="aborted")return;if(Te.type==="error"){let{error:Mt}=Ld(M,Te);rr(k,P,Mt,{flushSync:ie});return}else if(Te.matches)G=Te.matches,j=Wc(G,M);else{rr(k,P,rn(404,{pathname:M}),{flushSync:ie});return}}B.set(k,te);let Ne=Z,He=(await Wn("loader",ue,[j],G))[0];if(ya(He)&&(He=await z1(He,ue.signal,!0)||He),B.get(k)===te&&B.delete(k),!ue.signal.aborted){if(Se.has(k)){Gn(k,as(void 0));return}if(wa(He))if(we>Ne){Gn(k,as(void 0));return}else{de.add(k),await ra(ue,He);return}if(On(He)){rr(k,P,He.error);return}pe(!ya(He),"Unhandled fetcher deferred data"),Gn(k,as(He.data))}}async function ra(k,P,M){let{submission:j,fetcherSubmission:G,replace:q}=M===void 0?{}:M;P.response.headers.has("X-Remix-Revalidate")&&(oe=!0);let ie=P.response.headers.get("Location");pe(ie,"Expected a Location header on the redirect Response"),ie=b_(ie,new URL(k.url),l);let H=Fu(x.location,ie,{_isRedirect:!0});if(t){let He=!1;if(P.response.headers.has("X-Remix-Reload-Document"))He=!0;else if(L0.test(ie)){const Te=n.history.createURL(ie);He=Te.origin!==e.location.origin||xc(Te.pathname,l)==null}if(He){q?e.location.replace(ie):e.location.assign(ie);return}}O=null;let ce=q===!0||P.response.headers.has("X-Remix-Replace")?gt.Replace:gt.Push,{formMethod:te,formAction:ue,formEncType:Ne}=x.navigation;!j&&!G&&te&&ue&&Ne&&(j=D_(x.navigation));let Pe=j||G;if(vT.has(P.response.status)&&Pe&&xi(Pe.formMethod))await ir(ce,H,{submission:tt({},Pe,{formAction:ie}),preventScrollReset:I});else{let He=fm(H,j);await ir(ce,H,{overrideNavigation:He,fetcherSubmission:G,preventScrollReset:I})}}async function Wn(k,P,M,j){try{let G=await CT(u,k,P,M,j,s,r);return await Promise.all(G.map((q,ie)=>{if(DT(q)){let H=q.result;return{type:Fe.redirect,response:PT(H,P,M[ie].route.id,j,l,d.v7_relativeSplatPath)}}return TT(q)}))}catch(G){return M.map(()=>({type:Fe.error,error:G}))}}async function sa(k,P,M,j,G){let[q,...ie]=await Promise.all([M.length?Wn("loader",G,M,P):[],...j.map(H=>{if(H.matches&&H.match&&H.controller){let ce=Uo(n.history,H.path,H.controller.signal);return Wn("loader",ce,[H.match],H.matches).then(te=>te[0])}else return Promise.resolve({type:Fe.error,error:rn(404,{pathname:H.path})})})]);return await Promise.all([M_(k,M,q,q.map(()=>G.signal),!1,x.loaderData),M_(k,j.map(H=>H.match),ie,j.map(H=>H.controller?H.controller.signal:null),!0)]),{loaderResults:q,fetcherResults:ie}}function ns(){oe=!0,U.push(...Og()),ze.forEach((k,P)=>{B.has(P)&&(F.add(P),is(P))})}function Gn(k,P,M){M===void 0&&(M={}),x.fetchers.set(k,P),_e({fetchers:new Map(x.fetchers)},{flushSync:(M&&M.flushSync)===!0})}function rr(k,P,M,j){j===void 0&&(j={});let G=ol(x.matches,P);Pd(k),_e({errors:{[G.route.id]:M},fetchers:new Map(x.fetchers)},{flushSync:(j&&j.flushSync)===!0})}function q0(k){return d.v7_fetcherPersist&&(Qe.set(k,(Qe.get(k)||0)+1),Se.has(k)&&Se.delete(k)),x.fetchers.get(k)||yT}function Pd(k){let P=x.fetchers.get(k);B.has(k)&&!(P&&P.state==="loading"&&ne.has(k))&&is(k),ze.delete(k),ne.delete(k),de.delete(k),Se.delete(k),F.delete(k),x.fetchers.delete(k)}function ox(k){if(d.v7_fetcherPersist){let P=(Qe.get(k)||0)-1;P<=0?(Qe.delete(k),Se.add(k)):Qe.set(k,P)}else Pd(k);_e({fetchers:new Map(x.fetchers)})}function is(k){let P=B.get(k);pe(P,"Expected fetch controller: "+k),P.abort(),B.delete(k)}function Q0(k){for(let P of k){let M=q0(P),j=as(M.data);x.fetchers.set(P,j)}}function J0(){let k=[],P=!1;for(let M of de){let j=x.fetchers.get(M);pe(j,"Expected fetcher: "+M),j.state==="loading"&&(de.delete(M),k.push(M),P=!0)}return Q0(k),P}function Z0(k){let P=[];for(let[M,j]of ne)if(j<k){let G=x.fetchers.get(M);pe(G,"Expected fetcher: "+M),G.state==="loading"&&(is(M),ne.delete(M),P.push(M))}return Q0(P),P.length>0}function lx(k,P){let M=x.blockers.get(k)||Ic;return st.get(k)!==P&&st.set(k,P),M}function ew(k){x.blockers.delete(k),st.delete(k)}function Rd(k,P){let M=x.blockers.get(k)||Ic;pe(M.state==="unblocked"&&P.state==="blocked"||M.state==="blocked"&&P.state==="blocked"||M.state==="blocked"&&P.state==="proceeding"||M.state==="blocked"&&P.state==="unblocked"||M.state==="proceeding"&&P.state==="unblocked","Invalid blocker state transition: "+M.state+" -> "+P.state);let j=new Map(x.blockers);j.set(k,P),_e({blockers:j})}function tw(k){let{currentLocation:P,nextLocation:M,historyAction:j}=k;if(st.size===0)return;st.size>1&&So(!1,"A router only supports one blocker at a time");let G=Array.from(st.entries()),[q,ie]=G[G.length-1],H=x.blockers.get(q);if(!(H&&H.state==="proceeding")&&ie({currentLocation:P,nextLocation:M,historyAction:j}))return q}function Fg(k){let P=rn(404,{pathname:k}),M=o||a,{matches:j,route:G}=P_(M);return Og(),{notFoundMatches:j,route:G,error:P}}function Ld(k,P){return{boundaryId:ol(P.partialMatches).route.id,error:rn(400,{type:"route-discovery",pathname:k,message:P.error!=null&&"message"in P.error?P.error:String(P.error)})}}function Og(k){let P=[];return fe.forEach((M,j)=>{(!k||k(j))&&(M.cancel(),P.push(j),fe.delete(j))}),P}function cx(k,P,M){if(b=k,v=P,m=M||null,!A&&x.navigation===dm){A=!0;let j=iw(x.location,x.matches);j!=null&&_e({restoreScrollPosition:j})}return()=>{b=null,v=null,m=null}}function nw(k,P){return m&&m(k,P.map(j=>Yk(j,x.loaderData)))||k.key}function ux(k,P){if(b&&v){let M=nw(k,P);b[M]=v()}}function iw(k,P){if(b){let M=nw(k,P),j=b[M];if(typeof j=="number")return j}return null}function Md(k,P,M){if(h){if(y.has(M))return{active:!1,matches:k};if(k){if(Object.keys(k[0].params).length>0)return{active:!0,matches:_f(P,M,l,!0)}}else return{active:!0,matches:_f(P,M,l,!0)||[]}}return{active:!1,matches:null}}async function Dd(k,P,M){let j=k;for(;;){let G=o==null,q=o||a;try{await bT(h,P,j,q,s,r,Vn,M)}catch(ce){return{type:"error",error:ce,partialMatches:j}}finally{G&&(a=[...a])}if(M.aborted)return{type:"aborted"};let ie=da(q,P,l);if(ie)return rw(P,y),{type:"success",matches:ie};let H=_f(q,P,l,!0);if(!H||j.length===H.length&&j.every((ce,te)=>ce.route.id===H[te].route.id))return rw(P,y),{type:"success",matches:null};j=H}}function rw(k,P){if(P.size>=g){let M=P.values().next().value;P.delete(M)}P.add(k)}function hx(k){s={},o=Ou(k,r,void 0,s)}function dx(k,P){let M=o==null;F1(k,P,o||a,s,r),M&&(a=[...a],_e({}))}return L={get basename(){return l},get future(){return d},get state(){return x},get routes(){return a},get window(){return e},initialize:ta,subscribe:De,enableScrollRestoration:cx,navigate:ct,fetch:Dg,revalidate:Ri,createHref:k=>n.history.createHref(k),encodeLocation:k=>n.history.encodeLocation(k),getFetcher:q0,deleteFetcher:ox,dispose:na,getBlocker:lx,deleteBlocker:ew,patchRoutes:dx,_internalFetchControllers:B,_internalActiveDeferreds:fe,_internalSetRoutes:hx},L}function ET(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function fv(n,e,t,i,r,s,a,o){let l,u;if(a){l=[];for(let d of e)if(l.push(d),d.route.id===a){u=d;break}}else l=e,u=e[e.length-1];let h=R0(r||".",P0(l,s),xc(n.pathname,t)||n.pathname,o==="path");return r==null&&(h.search=n.search,h.hash=n.hash),(r==null||r===""||r===".")&&u&&u.route.index&&!M0(h.search)&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),i&&t!=="/"&&(h.pathname=h.pathname==="/"?t:$r([t,h.pathname])),bo(h)}function __(n,e,t,i){if(!i||!ET(i))return{path:t};if(i.formMethod&&!IT(i.formMethod))return{path:t,error:rn(405,{method:i.formMethod})};let r=()=>({path:t,error:rn(400,{type:"invalid-body"})}),s=i.formMethod||"get",a=n?s.toUpperCase():s.toLowerCase(),o=O1(t);if(i.body!==void 0){if(i.formEncType==="text/plain"){if(!xi(a))return r();let f=typeof i.body=="string"?i.body:i.body instanceof FormData||i.body instanceof URLSearchParams?Array.from(i.body.entries()).reduce((p,g)=>{let[y,b]=g;return""+p+y+"="+b+`
`},""):String(i.body);return{path:t,submission:{formMethod:a,formAction:o,formEncType:i.formEncType,formData:void 0,json:void 0,text:f}}}else if(i.formEncType==="application/json"){if(!xi(a))return r();try{let f=typeof i.body=="string"?JSON.parse(i.body):i.body;return{path:t,submission:{formMethod:a,formAction:o,formEncType:i.formEncType,formData:void 0,json:f,text:void 0}}}catch{return r()}}}pe(typeof FormData=="function","FormData is not available in this environment");let l,u;if(i.formData)l=pv(i.formData),u=i.formData;else if(i.body instanceof FormData)l=pv(i.body),u=i.body;else if(i.body instanceof URLSearchParams)l=i.body,u=x_(l);else if(i.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(i.body),u=x_(l)}catch{return r()}let h={formMethod:a,formAction:o,formEncType:i&&i.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(xi(h.formMethod))return{path:t,submission:h};let d=ts(t);return e&&d.search&&M0(d.search)&&l.append("index",""),d.search="?"+l,{path:bo(d),submission:h}}function AT(n,e){let t=n;if(e){let i=n.findIndex(r=>r.route.id===e);i>=0&&(t=n.slice(0,i))}return t}function E_(n,e,t,i,r,s,a,o,l,u,h,d,f,p,g,y){let b=y?On(y[1])?y[1].error:y[1].data:void 0,m=n.createURL(e.location),v=n.createURL(r),A=y&&On(y[1])?y[0]:void 0,C=A?AT(t,A):t,T=y?y[1].statusCode:void 0,R=a&&T&&T>=400,L=C.filter((N,I)=>{let{route:O}=N;if(O.lazy)return!0;if(O.loader==null)return!1;if(s)return typeof O.loader!="function"||O.loader.hydrate?!0:e.loaderData[O.id]===void 0&&(!e.errors||e.errors[O.id]===void 0);if(ST(e.loaderData,e.matches[I],N)||l.some(W=>W===N.route.id))return!0;let J=e.matches[I],Y=N;return A_(N,tt({currentUrl:m,currentParams:J.params,nextUrl:v,nextParams:Y.params},i,{actionResult:b,actionStatus:T,defaultShouldRevalidate:R?!1:o||m.pathname+m.search===v.pathname+v.search||m.search!==v.search||I1(J,Y)}))}),x=[];return d.forEach((N,I)=>{if(s||!t.some(se=>se.route.id===N.routeId)||h.has(I))return;let O=da(p,N.path,g);if(!O){x.push({key:I,routeId:N.routeId,path:N.path,matches:null,match:null,controller:null});return}let J=e.fetchers.get(I),Y=Wc(O,N.path),W=!1;f.has(I)?W=!1:u.has(I)?(u.delete(I),W=!0):J&&J.state!=="idle"&&J.data===void 0?W=o:W=A_(Y,tt({currentUrl:m,currentParams:e.matches[e.matches.length-1].params,nextUrl:v,nextParams:t[t.length-1].params},i,{actionResult:b,actionStatus:T,defaultShouldRevalidate:R?!1:o})),W&&x.push({key:I,routeId:N.routeId,path:N.path,matches:O,match:Y,controller:new AbortController})}),[L,x]}function ST(n,e,t){let i=!e||t.route.id!==e.route.id,r=n[t.route.id]===void 0;return i||r}function I1(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function A_(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}async function bT(n,e,t,i,r,s,a,o){let l=[e,...t.map(u=>u.route.id)].join("-");try{let u=a.get(l);u||(u=n({path:e,matches:t,patch:(h,d)=>{o.aborted||F1(h,d,i,r,s)}}),a.set(l,u)),u&&MT(u)&&await u}finally{a.delete(l)}}function F1(n,e,t,i,r){if(n){var s;let a=i[n];pe(a,"No route found to patch children into: routeId = "+n);let o=Ou(e,r,[n,"patch",String(((s=a.children)==null?void 0:s.length)||"0")],i);a.children?a.children.push(...o):a.children=o}else{let a=Ou(e,r,["patch",String(t.length||"0")],i);t.push(...a)}}async function S_(n,e,t){if(!n.lazy)return;let i=await n.lazy();if(!n.lazy)return;let r=t[n.id];pe(r,"No route found in manifest");let s={};for(let a in i){let l=r[a]!==void 0&&a!=="hasErrorBoundary";So(!l,'Route "'+r.id+'" has a static property "'+a+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+a+'" will be ignored.')),!l&&!Xk.has(a)&&(s[a]=i[a])}Object.assign(r,s),Object.assign(r,tt({},e(r),{lazy:void 0}))}function xT(n){return Promise.all(n.matches.map(e=>e.resolve()))}async function CT(n,e,t,i,r,s,a,o){let l=i.reduce((d,f)=>d.add(f.route.id),new Set),u=new Set,h=await n({matches:r.map(d=>{let f=l.has(d.route.id);return tt({},d,{shouldLoad:f,resolve:g=>(u.add(d.route.id),f?kT(e,t,d,s,a,g,o):Promise.resolve({type:Fe.data,result:void 0}))})}),request:t,params:r[0].params,context:o});return r.forEach(d=>pe(u.has(d.route.id),'`match.resolve()` was not called for route id "'+d.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),h.filter((d,f)=>l.has(r[f].route.id))}async function kT(n,e,t,i,r,s,a){let o,l,u=h=>{let d,f=new Promise((y,b)=>d=b);l=()=>d(),e.signal.addEventListener("abort",l);let p=y=>typeof h!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+n+'" [routeId: '+t.route.id+"]"))):h({request:e,params:t.params,context:a},...y!==void 0?[y]:[]),g;return s?g=s(y=>p(y)):g=(async()=>{try{return{type:"data",result:await p()}}catch(y){return{type:"error",result:y}}})(),Promise.race([g,f])};try{let h=t.route[n];if(t.route.lazy)if(h){let d,[f]=await Promise.all([u(h).catch(p=>{d=p}),S_(t.route,r,i)]);if(d!==void 0)throw d;o=f}else if(await S_(t.route,r,i),h=t.route[n],h)o=await u(h);else if(n==="action"){let d=new URL(e.url),f=d.pathname+d.search;throw rn(405,{method:e.method,pathname:f,routeId:t.route.id})}else return{type:Fe.data,result:void 0};else if(h)o=await u(h);else{let d=new URL(e.url),f=d.pathname+d.search;throw rn(404,{pathname:f})}pe(o.result!==void 0,"You defined "+(n==="action"?"an action":"a loader")+" for route "+('"'+t.route.id+"\" but didn't return anything from your `"+n+"` ")+"function. Please return a value or `null`.")}catch(h){return{type:Fe.error,result:h}}finally{l&&e.signal.removeEventListener("abort",l)}return o}async function TT(n){let{result:e,type:t}=n;if(j1(e)){let u;try{let h=e.headers.get("Content-Type");h&&/\bapplication\/json\b/.test(h)?e.body==null?u=null:u=await e.json():u=await e.text()}catch(h){return{type:Fe.error,error:h}}return t===Fe.error?{type:Fe.error,error:new vp(e.status,e.statusText,u),statusCode:e.status,headers:e.headers}:{type:Fe.data,data:u,statusCode:e.status,headers:e.headers}}if(t===Fe.error){if(L_(e)){var i;if(e.data instanceof Error){var r;return{type:Fe.error,error:e.data,statusCode:(r=e.init)==null?void 0:r.status}}e=new vp(((i=e.init)==null?void 0:i.status)||500,void 0,e.data)}return{type:Fe.error,error:e,statusCode:hg(e)?e.status:void 0}}if(NT(e)){var s,a;return{type:Fe.deferred,deferredData:e,statusCode:(s=e.init)==null?void 0:s.status,headers:((a=e.init)==null?void 0:a.headers)&&new Headers(e.init.headers)}}if(L_(e)){var o,l;return{type:Fe.data,data:e.data,statusCode:(o=e.init)==null?void 0:o.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:Fe.data,data:e}}function PT(n,e,t,i,r,s){let a=n.headers.get("Location");if(pe(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!L0.test(a)){let o=i.slice(0,i.findIndex(l=>l.route.id===t)+1);a=fv(new URL(e.url),o,r,!0,a,s),n.headers.set("Location",a)}return n}function b_(n,e,t){if(L0.test(n)){let i=n,r=i.startsWith("//")?new URL(e.protocol+i):new URL(i),s=xc(r.pathname,t)!=null;if(r.origin===e.origin&&s)return r.pathname+r.search+r.hash}return n}function Uo(n,e,t,i){let r=n.createURL(O1(e)).toString(),s={signal:t};if(i&&xi(i.formMethod)){let{formMethod:a,formEncType:o}=i;s.method=a.toUpperCase(),o==="application/json"?(s.headers=new Headers({"Content-Type":o}),s.body=JSON.stringify(i.json)):o==="text/plain"?s.body=i.text:o==="application/x-www-form-urlencoded"&&i.formData?s.body=pv(i.formData):s.body=i.formData}return new Request(r,s)}function pv(n){let e=new URLSearchParams;for(let[t,i]of n.entries())e.append(t,typeof i=="string"?i:i.name);return e}function x_(n){let e=new FormData;for(let[t,i]of n.entries())e.append(t,i);return e}function RT(n,e,t,i,r,s){let a={},o=null,l,u=!1,h={},d=i&&On(i[1])?i[1].error:void 0;return t.forEach((f,p)=>{let g=e[p].route.id;if(pe(!wa(f),"Cannot handle redirect results in processLoaderData"),On(f)){let y=f.error;d!==void 0&&(y=d,d=void 0),o=o||{};{let b=ol(n,g);o[b.route.id]==null&&(o[b.route.id]=y)}a[g]=void 0,u||(u=!0,l=hg(f.error)?f.error.status:500),f.headers&&(h[g]=f.headers)}else ya(f)?(r.set(g,f.deferredData),a[g]=f.deferredData.data,f.statusCode!=null&&f.statusCode!==200&&!u&&(l=f.statusCode),f.headers&&(h[g]=f.headers)):(a[g]=f.data,f.statusCode&&f.statusCode!==200&&!u&&(l=f.statusCode),f.headers&&(h[g]=f.headers))}),d!==void 0&&i&&(o={[i[0]]:d},a[i[0]]=void 0),{loaderData:a,errors:o,statusCode:l||200,loaderHeaders:h}}function C_(n,e,t,i,r,s,a,o){let{loaderData:l,errors:u}=RT(e,t,i,r,o);for(let h=0;h<s.length;h++){let{key:d,match:f,controller:p}=s[h];pe(a!==void 0&&a[h]!==void 0,"Did not find corresponding fetcher result");let g=a[h];if(!(p&&p.signal.aborted))if(On(g)){let y=ol(n.matches,f==null?void 0:f.route.id);u&&u[y.route.id]||(u=tt({},u,{[y.route.id]:g.error})),n.fetchers.delete(d)}else if(wa(g))pe(!1,"Unhandled fetcher revalidation redirect");else if(ya(g))pe(!1,"Unhandled fetcher deferred data");else{let y=as(g.data);n.fetchers.set(d,y)}}return{loaderData:l,errors:u}}function k_(n,e,t,i){let r=tt({},e);for(let s of t){let a=s.route.id;if(e.hasOwnProperty(a)?e[a]!==void 0&&(r[a]=e[a]):n[a]!==void 0&&s.route.loader&&(r[a]=n[a]),i&&i.hasOwnProperty(a))break}return r}function T_(n){return n?On(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function ol(n,e){return(e?n.slice(0,n.findIndex(i=>i.route.id===e)+1):[...n]).reverse().find(i=>i.route.hasErrorBoundary===!0)||n[0]}function P_(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function rn(n,e){let{pathname:t,routeId:i,method:r,type:s,message:a}=e===void 0?{}:e,o="Unknown Server Error",l="Unknown @remix-run/router error";return n===400?(o="Bad Request",s==="route-discovery"?l='Unable to match URL "'+t+'" - the `unstable_patchRoutesOnNavigation()` '+(`function threw the following error:
`+a):r&&t&&i?l="You made a "+r+' request to "'+t+'" but '+('did not provide a `loader` for route "'+i+'", ')+"so there is no way to handle the request.":s==="defer-action"?l="defer() is not supported in actions":s==="invalid-body"&&(l="Unable to encode submission body")):n===403?(o="Forbidden",l='Route "'+i+'" does not match URL "'+t+'"'):n===404?(o="Not Found",l='No route matches URL "'+t+'"'):n===405&&(o="Method Not Allowed",r&&t&&i?l="You made a "+r.toUpperCase()+' request to "'+t+'" but '+('did not provide an `action` for route "'+i+'", ')+"so there is no way to handle the request.":r&&(l='Invalid request method "'+r.toUpperCase()+'"')),new vp(n||500,o,new Error(l),!0)}function R_(n){for(let e=n.length-1;e>=0;e--){let t=n[e];if(wa(t))return{result:t,idx:e}}}function O1(n){let e=typeof n=="string"?ts(n):n;return bo(tt({},e,{hash:""}))}function LT(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function MT(n){return typeof n=="object"&&n!=null&&"then"in n}function DT(n){return j1(n.result)&&mT.has(n.result.status)}function ya(n){return n.type===Fe.deferred}function On(n){return n.type===Fe.error}function wa(n){return(n&&n.type)===Fe.redirect}function L_(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function NT(n){let e=n;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function j1(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function IT(n){return gT.has(n.toLowerCase())}function xi(n){return fT.has(n.toLowerCase())}async function M_(n,e,t,i,r,s){for(let a=0;a<t.length;a++){let o=t[a],l=e[a];if(!l)continue;let u=n.find(d=>d.route.id===l.route.id),h=u!=null&&!I1(u,l)&&(s&&s[l.route.id])!==void 0;if(ya(o)&&(r||h)){let d=i[a];pe(d,"Expected an AbortSignal for revalidating fetcher deferred result"),await z1(o,d,r).then(f=>{f&&(t[a]=f||t[a])})}}}async function z1(n,e,t){if(t===void 0&&(t=!1),!await n.deferredData.resolveData(e)){if(t)try{return{type:Fe.data,data:n.deferredData.unwrappedData}}catch(r){return{type:Fe.error,error:r}}return{type:Fe.data,data:n.deferredData.data}}}function M0(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Wc(n,e){let t=typeof e=="string"?ts(e).search:e.search;if(n[n.length-1].route.index&&M0(t||""))return n[n.length-1];let i=M1(n);return i[i.length-1]}function D_(n){let{formMethod:e,formAction:t,formEncType:i,text:r,formData:s,json:a}=n;if(!(!e||!t||!i)){if(r!=null)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:void 0,text:r};if(s!=null)return{formMethod:e,formAction:t,formEncType:i,formData:s,json:void 0,text:void 0};if(a!==void 0)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:a,text:void 0}}}function fm(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function FT(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Fc(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function OT(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function as(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function jT(n,e){try{let t=n.sessionStorage.getItem(N1);if(t){let i=JSON.parse(t);for(let[r,s]of Object.entries(i||{}))s&&Array.isArray(s)&&e.set(r,new Set(s||[]))}}catch{}}function zT(n,e){if(e.size>0){let t={};for(let[i,r]of e)t[i]=[...r];try{n.sessionStorage.setItem(N1,JSON.stringify(t))}catch(i){So(!1,"Failed to save applied view transitions in sessionStorage ("+i+").")}}}/**
 * React Router v6.26.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yp(){return yp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},yp.apply(this,arguments)}const dg=D.createContext(null),H1=D.createContext(null),Do=D.createContext(null),D0=D.createContext(null),No=D.createContext({outlet:null,matches:[],isDataRoute:!1}),B1=D.createContext(null);function HT(n,e){let{relative:t}=e===void 0?{}:e;Sd()||pe(!1);let{basename:i,navigator:r}=D.useContext(Do),{hash:s,pathname:a,search:o}=$1(n,{relative:t}),l=a;return i!=="/"&&(l=a==="/"?i:$r([i,a])),r.createHref({pathname:l,search:o,hash:s})}function Sd(){return D.useContext(D0)!=null}function fg(){return Sd()||pe(!1),D.useContext(D0).location}function U1(n){D.useContext(Do).static||D.useLayoutEffect(n)}function BT(){let{isDataRoute:n}=D.useContext(No);return n?ZT():UT()}function UT(){Sd()||pe(!1);let n=D.useContext(dg),{basename:e,future:t,navigator:i}=D.useContext(Do),{matches:r}=D.useContext(No),{pathname:s}=fg(),a=JSON.stringify(P0(r,t.v7_relativeSplatPath)),o=D.useRef(!1);return U1(()=>{o.current=!0}),D.useCallback(function(u,h){if(h===void 0&&(h={}),!o.current)return;if(typeof u=="number"){i.go(u);return}let d=R0(u,JSON.parse(a),s,h.relative==="path");n==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:$r([e,d.pathname])),(h.replace?i.replace:i.push)(d,h.state,h)},[e,i,a,s,n])}function $1(n,e){let{relative:t}=e===void 0?{}:e,{future:i}=D.useContext(Do),{matches:r}=D.useContext(No),{pathname:s}=fg(),a=JSON.stringify(P0(r,i.v7_relativeSplatPath));return D.useMemo(()=>R0(n,JSON.parse(a),s,t==="path"),[n,a,s,t])}function $T(n,e,t,i){Sd()||pe(!1);let{navigator:r}=D.useContext(Do),{matches:s}=D.useContext(No),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=fg(),h;h=u;let d=h.pathname||"/",f=d;if(l!=="/"){let y=l.replace(/^\//,"").split("/");f="/"+d.replace(/^\//,"").split("/").slice(y.length).join("/")}let p=da(n,{pathname:f});return KT(p&&p.map(y=>Object.assign({},y,{params:Object.assign({},o,y.params),pathname:$r([l,r.encodeLocation?r.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:$r([l,r.encodeLocation?r.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,t,i)}function VT(){let n=JT(),e=hg(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),t?D.createElement("pre",{style:r},t):null,null)}const WT=D.createElement(VT,null);class GT extends D.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?D.createElement(No.Provider,{value:this.props.routeContext},D.createElement(B1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function XT(n){let{routeContext:e,match:t,children:i}=n,r=D.useContext(dg);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),D.createElement(No.Provider,{value:e},i)}function KT(n,e,t,i){var r;if(e===void 0&&(e=[]),t===void 0&&(t=null),i===void 0&&(i=null),n==null){var s;if(!t)return null;if(t.errors)n=t.matches;else if((s=i)!=null&&s.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,o=(r=t)==null?void 0:r.errors;if(o!=null){let h=a.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);h>=0||pe(!1),a=a.slice(0,Math.min(a.length,h+1))}let l=!1,u=-1;if(t&&i&&i.v7_partialHydration)for(let h=0;h<a.length;h++){let d=a[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=h),d.route.id){let{loaderData:f,errors:p}=t,g=d.route.loader&&f[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||g){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((h,d,f)=>{let p,g=!1,y=null,b=null;t&&(p=o&&d.route.id?o[d.route.id]:void 0,y=d.route.errorElement||WT,l&&(u<0&&f===0?(eP("route-fallback"),g=!0,b=null):u===f&&(g=!0,b=d.route.hydrateFallbackElement||null)));let m=e.concat(a.slice(0,f+1)),v=()=>{let A;return p?A=y:g?A=b:d.route.Component?A=D.createElement(d.route.Component,null):d.route.element?A=d.route.element:A=h,D.createElement(XT,{match:d,routeContext:{outlet:h,matches:m,isDataRoute:t!=null},children:A})};return t&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?D.createElement(GT,{location:t.location,revalidation:t.revalidation,component:y,error:p,children:v(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):v()},null)}var V1=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(V1||{}),wp=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(wp||{});function YT(n){let e=D.useContext(dg);return e||pe(!1),e}function qT(n){let e=D.useContext(H1);return e||pe(!1),e}function QT(n){let e=D.useContext(No);return e||pe(!1),e}function W1(n){let e=QT(),t=e.matches[e.matches.length-1];return t.route.id||pe(!1),t.route.id}function JT(){var n;let e=D.useContext(B1),t=qT(wp.UseRouteError),i=W1(wp.UseRouteError);return e!==void 0?e:(n=t.errors)==null?void 0:n[i]}function ZT(){let{router:n}=YT(V1.UseNavigateStable),e=W1(wp.UseNavigateStable),t=D.useRef(!1);return U1(()=>{t.current=!0}),D.useCallback(function(r,s){s===void 0&&(s={}),t.current&&(typeof r=="number"?n.navigate(r):n.navigate(r,yp({fromRouteId:e},s)))},[n,e])}const N_={};function eP(n,e,t){N_[n]||(N_[n]=!0)}function tP(n){let{basename:e="/",children:t=null,location:i,navigationType:r=gt.Pop,navigator:s,static:a=!1,future:o}=n;Sd()&&pe(!1);let l=e.replace(/^\/*/,"/"),u=D.useMemo(()=>({basename:l,navigator:s,static:a,future:yp({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof i=="string"&&(i=ts(i));let{pathname:h="/",search:d="",hash:f="",state:p=null,key:g="default"}=i,y=D.useMemo(()=>{let b=xc(h,l);return b==null?null:{location:{pathname:b,search:d,hash:f,state:p,key:g},navigationType:r}},[l,h,d,f,p,g,r]);return y==null?null:D.createElement(Do.Provider,{value:u},D.createElement(D0.Provider,{children:t,value:y}))}new Promise(()=>{});function nP(n){let e={hasErrorBoundary:n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&Object.assign(e,{element:D.createElement(n.Component),Component:void 0}),n.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:D.createElement(n.HydrateFallback),HydrateFallback:void 0}),n.ErrorBoundary&&Object.assign(e,{errorElement:D.createElement(n.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.26.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ju(){return ju=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ju.apply(this,arguments)}function iP(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function rP(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function sP(n,e){return n.button===0&&(!e||e==="_self")&&!rP(n)}const aP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],oP="6";try{window.__reactRouterVersion=oP}catch{}function lP(n,e){return _T({basename:void 0,future:ju({},void 0,{v7_prependBasename:!0}),history:Vk({window:void 0}),hydrationData:cP(),routes:n,mapRouteProperties:nP,unstable_dataStrategy:void 0,unstable_patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function cP(){var n;let e=(n=window)==null?void 0:n.__staticRouterHydrationData;return e&&e.errors&&(e=ju({},e,{errors:uP(e.errors)})),e}function uP(n){if(!n)return null;let e=Object.entries(n),t={};for(let[i,r]of e)if(r&&r.__type==="RouteErrorResponse")t[i]=new vp(r.status,r.statusText,r.data,r.internal===!0);else if(r&&r.__type==="Error"){if(r.__subType){let s=window[r.__subType];if(typeof s=="function")try{let a=new s(r.message);a.stack="",t[i]=a}catch{}}if(t[i]==null){let s=new Error(r.message);s.stack="",t[i]=s}}else t[i]=r;return t}const hP=D.createContext({isTransitioning:!1}),dP=D.createContext(new Map),fP="startTransition",I_=Lx[fP],pP="flushSync",F_=$k[pP];function gP(n){I_?I_(n):n()}function Oc(n){F_?F_(n):n()}class mP{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",t(i))}})}}function vP(n){let{fallbackElement:e,router:t,future:i}=n,[r,s]=D.useState(t.state),[a,o]=D.useState(),[l,u]=D.useState({isTransitioning:!1}),[h,d]=D.useState(),[f,p]=D.useState(),[g,y]=D.useState(),b=D.useRef(new Map),{v7_startTransition:m}=i||{},v=D.useCallback(x=>{m?gP(x):x()},[m]),A=D.useCallback((x,N)=>{let{deletedFetchers:I,unstable_flushSync:O,unstable_viewTransitionOpts:J}=N;I.forEach(W=>b.current.delete(W)),x.fetchers.forEach((W,se)=>{W.data!==void 0&&b.current.set(se,W.data)});let Y=t.window==null||t.window.document==null||typeof t.window.document.startViewTransition!="function";if(!J||Y){O?Oc(()=>s(x)):v(()=>s(x));return}if(O){Oc(()=>{f&&(h&&h.resolve(),f.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:J.currentLocation,nextLocation:J.nextLocation})});let W=t.window.document.startViewTransition(()=>{Oc(()=>s(x))});W.finished.finally(()=>{Oc(()=>{d(void 0),p(void 0),o(void 0),u({isTransitioning:!1})})}),Oc(()=>p(W));return}f?(h&&h.resolve(),f.skipTransition(),y({state:x,currentLocation:J.currentLocation,nextLocation:J.nextLocation})):(o(x),u({isTransitioning:!0,flushSync:!1,currentLocation:J.currentLocation,nextLocation:J.nextLocation}))},[t.window,f,h,b,v]);D.useLayoutEffect(()=>t.subscribe(A),[t,A]),D.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new mP)},[l]),D.useEffect(()=>{if(h&&a&&t.window){let x=a,N=h.promise,I=t.window.document.startViewTransition(async()=>{v(()=>s(x)),await N});I.finished.finally(()=>{d(void 0),p(void 0),o(void 0),u({isTransitioning:!1})}),p(I)}},[v,a,h,t.window]),D.useEffect(()=>{h&&a&&r.location.key===a.location.key&&h.resolve()},[h,f,r.location,a]),D.useEffect(()=>{!l.isTransitioning&&g&&(o(g.state),u({isTransitioning:!0,flushSync:!1,currentLocation:g.currentLocation,nextLocation:g.nextLocation}),y(void 0))},[l.isTransitioning,g]),D.useEffect(()=>{},[]);let C=D.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:x=>t.navigate(x),push:(x,N,I)=>t.navigate(x,{state:N,preventScrollReset:I==null?void 0:I.preventScrollReset}),replace:(x,N,I)=>t.navigate(x,{replace:!0,state:N,preventScrollReset:I==null?void 0:I.preventScrollReset})}),[t]),T=t.basename||"/",R=D.useMemo(()=>({router:t,navigator:C,static:!1,basename:T}),[t,C,T]),L=D.useMemo(()=>({v7_relativeSplatPath:t.future.v7_relativeSplatPath}),[t.future.v7_relativeSplatPath]);return D.createElement(D.Fragment,null,D.createElement(dg.Provider,{value:R},D.createElement(H1.Provider,{value:r},D.createElement(dP.Provider,{value:b.current},D.createElement(hP.Provider,{value:l},D.createElement(tP,{basename:T,location:r.location,navigationType:r.historyAction,navigator:C,future:L},r.initialized||t.future.v7_partialHydration?D.createElement(yP,{routes:t.routes,future:t.future,state:r}):e))))),null)}const yP=D.memo(wP);function wP(n){let{routes:e,future:t,state:i}=n;return $T(e,void 0,i,t)}const _P=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",EP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ef=D.forwardRef(function(e,t){let{onClick:i,relative:r,reloadDocument:s,replace:a,state:o,target:l,to:u,preventScrollReset:h,unstable_viewTransition:d}=e,f=iP(e,aP),{basename:p}=D.useContext(Do),g,y=!1;if(typeof u=="string"&&EP.test(u)&&(g=u,_P))try{let A=new URL(window.location.href),C=u.startsWith("//")?new URL(A.protocol+u):new URL(u),T=xc(C.pathname,p);C.origin===A.origin&&T!=null?u=T+C.search+C.hash:y=!0}catch{}let b=HT(u,{relative:r}),m=AP(u,{replace:a,state:o,target:l,preventScrollReset:h,relative:r,unstable_viewTransition:d});function v(A){i&&i(A),A.defaultPrevented||m(A)}return D.createElement("a",ju({},f,{href:g||b,onClick:y||s?i:v,ref:t,target:l}))});var O_;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(O_||(O_={}));var j_;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(j_||(j_={}));function AP(n,e){let{target:t,replace:i,state:r,preventScrollReset:s,relative:a,unstable_viewTransition:o}=e===void 0?{}:e,l=BT(),u=fg(),h=$1(n,{relative:a});return D.useCallback(d=>{if(sP(d,t)){d.preventDefault();let f=i!==void 0?i:bo(u)===bo(h);l(n,{replace:f,state:r,preventScrollReset:s,relative:a,unstable_viewTransition:o})}},[u,l,h,i,r,t,n,s,a,o])}var G1={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},z_=Br.createContext&&Br.createContext(G1),SP=["attr","size","title"];function bP(n,e){if(n==null)return{};var t=xP(n,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function xP(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function _p(){return _p=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},_p.apply(this,arguments)}function H_(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Ep(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?H_(Object(t),!0).forEach(function(i){CP(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):H_(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function CP(n,e,t){return e=kP(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function kP(n){var e=TP(n,"string");return typeof e=="symbol"?e:e+""}function TP(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function X1(n){return n&&n.map((e,t)=>Br.createElement(e.tag,Ep({key:t},e.attr),X1(e.child)))}function N0(n){return e=>Br.createElement(PP,_p({attr:Ep({},n.attr)},e),X1(n.child))}function PP(n){var e=t=>{var{attr:i,size:r,title:s}=n,a=bP(n,SP),o=r||t.size||"1em",l;return t.className&&(l=t.className),n.className&&(l=(l?l+" ":"")+n.className),Br.createElement("svg",_p({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,a,{className:l,style:Ep(Ep({color:n.color||t.color},t.style),n.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),s&&Br.createElement("title",null,s),n.children)};return z_!==void 0?Br.createElement(z_.Consumer,null,t=>e(t)):e(G1)}function RP(n){return N0({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(n)}function LP(n){return N0({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(n)}function MP(n){return N0({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"},child:[]}]})(n)}function pg(n){return S.jsxs(S.Fragment,{children:[S.jsx("div",{children:S.jsxs("h1",{className:"headerStyle",children:[S.jsx("a",{className:"headerTitle",href:"https://binhl3.github.io/",children:"binh le"}),S.jsxs("div",{className:"iconContainer",children:[S.jsx("a",{className:"headerIcon",href:"https://linkedin.com/in/binhlee",target:"_blank",rel:"noopener noreferrer",children:S.jsx(LP,{size:24})}),S.jsx("a",{className:"headerIcon",href:"https://github.com/binhl3",target:"_blank",rel:"noopener noreferrer",children:S.jsx(RP,{size:24})}),S.jsx("a",{className:"headerIcon",href:"https://twitter.com/_binhle",target:"_blank",rel:"noopener noreferrer",children:S.jsx(MP,{size:24})})]})]})}),S.jsx("nav",{children:S.jsxs("ol",{children:[S.jsx("li",{children:S.jsx(ef,{to:"/",children:"home"})}),S.jsx("li",{children:S.jsx(ef,{to:"/experience",children:"experience"})}),S.jsx("li",{children:S.jsx(ef,{to:"/projects",children:"projects"})}),S.jsx("li",{children:S.jsx(ef,{to:"/about",children:"about"})})]})})]})}function gg(n){return S.jsx("footer",{children:S.jsxs("p",{children:["Copyright © ",new Date().getFullYear(),S.jsx("a",{href:"https://www.linkedin.com/in/binhlee/",target:"_blank",rel:"noopener noreferrer",children:"Binh Le"})]})})}function DP(){return S.jsxs("div",{className:"main-container",children:[S.jsx(pg,{}),S.jsx("img",{className:"header-image",src:"assets/nycsubway.jpg",loading:"lazy",alt:"NYC Subway"}),S.jsx("p",{children:"I'm Binh Le! A Computer Science senior at Drexel University. Interested in fullstack/backend development, AI/ML, and content creation."}),S.jsx("p",{children:"🚨 Actively looking for Software Engineering new graduate opportunities starting 9/2025 🚨"}),S.jsx("hr",{style:{border:"none",height:"1px",backgroundColor:"black"}}),S.jsxs("div",{className:"experience",style:{marginBottom:"1.75em"},children:[S.jsx("img",{src:"assets/drexel.png",alt:"Drexel",loading:"lazy"}),S.jsxs("div",{children:[S.jsxs("h2",{children:["Drexel University ",S.jsx("span",{className:"time",children:"6/2025"})]}),S.jsx("p",{children:"Bachelor of Science in Computer Science"})]})]}),S.jsxs("div",{className:"experience",children:[S.jsx("img",{src:"assets/stealth.jpeg",alt:"Hire Me",loading:"lazy"}),S.jsxs("div",{children:[S.jsxs("h2",{children:["This Could Be Your Company :)",S.jsx("span",{className:"time",children:" 9/2025 —"})]}),S.jsx("p",{children:"New Grad Software Engineer"})]})]}),S.jsxs("div",{className:"experience",children:[S.jsx("img",{src:"assets/bentley.png",alt:"Bentley"}),S.jsxs("div",{children:[S.jsxs("h2",{children:["Bentley Systems",S.jsx("span",{className:"time",children:" 3/2025 — 9/2025"})," "]}),S.jsx("p",{children:"Software Engineer Intern"})]})]}),S.jsxs("div",{className:"experience",children:[S.jsx("img",{src:"assets/stanford.webp",alt:"Stanford School of Engineering"}),S.jsxs("div",{children:[S.jsxs("h2",{children:["Stanford University ",S.jsx("span",{className:"time",children:" 1/2025 — 3/2025"})]}),S.jsx("p",{children:"Marketing Intern"})]})]}),S.jsxs("div",{className:"experience",children:[S.jsx("img",{src:"assets/google.png",alt:"Google"}),S.jsxs("div",{children:[S.jsxs("h2",{children:["Google ",S.jsx("span",{className:"time",children:" 6/2024 — 9/2024"})," "]}),S.jsx("p",{children:"Software Engineer Fellow"})]})]}),S.jsxs("div",{className:"experience",children:[S.jsx("img",{src:"assets/dataing.jpg",alt:"Dataing"}),S.jsxs("div",{children:[S.jsxs("h2",{children:["Dataing ",S.jsx("span",{className:"time",children:" 4/2024 — 9/2024"})]}),S.jsx("p",{children:"Software Engineer Intern"})]})]}),S.jsxs("div",{className:"experience",children:[S.jsx("img",{src:"assets/cci.png",alt:"Drexel CCI"}),S.jsxs("div",{children:[S.jsxs("h2",{children:["Drexel University ",S.jsx("span",{className:"time",children:" 9/2024 —"})]}),S.jsx("p",{children:"Teaching Assistant"})]})]}),S.jsxs("div",{className:"experience",children:[S.jsx("img",{src:"assets/soar.jpg",alt:"SOAR Lab"}),S.jsxs("div",{children:[S.jsxs("h2",{children:["SOAR Lab ",S.jsx("span",{className:"time",children:" 3/2024 — 10/2024"})]}),S.jsx("p",{children:"Research Engineer"})]})]}),S.jsxs("div",{className:"experience",children:[S.jsx("img",{src:"assets/stanford.webp",alt:"Stanford University"}),S.jsxs("div",{children:[S.jsxs("h2",{children:["Stanford University ",S.jsx("span",{className:"time",children:" 4/2024 — 6/2024"})]}),S.jsx("p",{children:"Section Leader"})]})]}),S.jsxs("div",{className:"experience",children:[S.jsx("img",{src:"assets/meta.png",alt:"Meta"}),S.jsxs("div",{children:[S.jsxs("h2",{children:["Meta ",S.jsx("span",{className:"time",children:" 1/2024 — 2/2024"})]}),S.jsx("p",{children:"Software Engineer Fellow"})]})]}),S.jsxs("div",{className:"experience",children:[S.jsx("img",{src:"assets/vnpt.webp",alt:"VNPT"}),S.jsxs("div",{children:[S.jsxs("h2",{children:["VNPT Technology ",S.jsx("span",{className:"time",children:" 4/2022 — 6/2022"})]}),S.jsx("p",{children:"Software Engineer Intern"})]})]}),S.jsx("div",{className:"resume",children:S.jsx("a",{href:"assets/BinhLe_Resume.pdf",target:"_blank",children:"view full resume"})}),S.jsx(gg,{})]})}const NP=()=>S.jsxs("div",{className:"main-container",children:[S.jsx(pg,{}),S.jsx("h2",{children:"professional experience"}),S.jsxs("ul",{children:[S.jsxs("li",{children:[S.jsx("span",{className:"date",children:"mar - sep 2025"}),S.jsxs("div",{className:"content",children:[S.jsx("span",{className:"role",children:S.jsx("a",{href:"https://bentley.com/",target:"_blank",rel:"noopener noreferrer",children:"software engineer co-op @ bentley systems"})}),S.jsx("p",{className:"description",children:"developing iTwin Viewer 5.0, a cloud-based infrastructure visualization platform. reduced internal tool latency by 65% (2000ms → 700ms) through implementing parallel HTTP schema fetches. optimized client-side state hydration, cutting cold start time from 6+ seconds to near zero."}),S.jsx("span",{className:"technologies",children:"react.js · typescript · c++"})]})]}),S.jsxs("li",{children:[S.jsx("span",{className:"date",children:"jan - mar 2025"}),S.jsxs("div",{className:"content",children:[S.jsx("span",{className:"role",children:S.jsx("a",{href:"https://codeinplace.stanford.edu/",target:"_blank",rel:"noopener noreferrer",children:"marketing + outreach intern @ stanford"})}),S.jsx("p",{className:"description",children:"generate online content and expose more students to free online cs education"}),S.jsx("span",{className:"technologies",children:"passion, cs knowledge, creativity"})]})]}),S.jsxs("li",{children:[S.jsx("span",{className:"date",children:"apr - sep 2024"}),S.jsxs("div",{className:"content",children:[S.jsx("span",{className:"role",children:S.jsx("a",{href:"https://dataing.io/",target:"_blank",rel:"noopener noreferrer",children:"software engineer co-op @ dataing"})}),S.jsx("p",{className:"description",children:"led efforts in automating user data retrievals from social media APIs, enhancing authentication processes and overall system efficiency. oversaw the integration of third-party services into an ios app and played a key role in qa to ensure seamless data extraction and feature reliability."}),S.jsx("span",{className:"technologies",children:"typescript, firestore, typesaurus, react, swift, api, aws, terraform, kubernetes, docker"})]})]}),S.jsxs("li",{children:[S.jsx("span",{className:"date",children:"mar - oct 2024"}),S.jsxs("div",{className:"content",children:[S.jsx("span",{className:"role",children:S.jsx("a",{href:"https://soar-lab.github.io/",target:"_blank",rel:"noopener noreferrer",children:"research assistant @ soar lab"})}),S.jsx("p",{className:"description",children:"co-authored a paper on security risks of llm-generated code. analyzed 1,000+ devgpt conversations, creating visualizations to highlight llm inaccuracies. developed scripts to fetch and clean github security data using python and pandas."}),S.jsx("span",{className:"technologies",children:"python, pandas, matplotlib, seaborn, jupyter notebook, numpy, github api"})]})]}),S.jsxs("li",{children:[S.jsx("span",{className:"date",children:"apr - jun 2024"}),S.jsxs("div",{className:"content",children:[S.jsx("span",{className:"role",children:S.jsx("a",{href:"https://codeinplace.stanford.edu/",target:"_blank",rel:"noopener noreferrer",children:"section leader @ stanford"})}),S.jsx("p",{className:"description",children:"taught cs106a introduction to programming course for stanford"})]})]}),S.jsxs("li",{children:[S.jsx("span",{className:"date",children:"apr - jun 2022"}),S.jsxs("div",{className:"content",children:[S.jsx("span",{className:"role",children:S.jsx("a",{href:"https://vnpt-technology.vn/en",target:"_blank",rel:"noopener noreferrer",children:"software engineer intern @ vnpt"})}),S.jsx("p",{className:"description",children:"conducted research to support error reduction in product development alongside fellow interns. developed a python script to streamline data cleaning, significantly enhancing work efficiency. gained insights into the product development process through factory tours."})]})]})]}),S.jsx("h2",{children:"campus activities"}),S.jsxs("ul",{children:[S.jsxs("li",{children:[S.jsx("span",{className:"date",children:"2024 - present"}),S.jsxs("div",{className:"content",children:[S.jsx("span",{className:"role",children:S.jsx("a",{href:"https://cci.drexel.edu/",target:"_blank",rel:"noopener noreferrer",children:"course assistant @ drexel"})}),S.jsx("p",{className:"description",children:"teaching assistant for software engineering course se 320 concerning software validation and verification"}),S.jsx("span",{className:"technologies",children:"java, junit, git, python, bash"})]})]}),S.jsxs("li",{children:[S.jsx("span",{className:"date",children:"2024 - present"}),S.jsxs("div",{className:"content",children:[S.jsx("span",{className:"role",children:S.jsx("a",{href:"https://cci.drexel.edu/",target:"_blank",rel:"noopener noreferrer",children:"dean's ambassador @ drexel"})}),S.jsx("p",{className:"description",children:"assisting the dean in managing student affairs and representing the student body in faculty meetings."}),S.jsx("span",{className:"technologies",children:"a lot of love for the school"})]})]})]}),S.jsx("h2",{children:"fellowships"}),S.jsxs("ul",{children:[S.jsxs("li",{children:[S.jsx("span",{className:"date",children:"jul - sep 2024"}),S.jsxs("div",{className:"content",children:[S.jsx("span",{className:"role",children:S.jsx("a",{href:"https://google.com/",target:"_blank",rel:"noopener noreferrer",children:"fellow @ google"})}),S.jsx("p",{className:"description",children:"participate in pair programming sessions with google engineer for 10 weeks, and receive mentorship to prepare for technical and behavioral interviews."})]})]}),S.jsxs("li",{children:[S.jsx("span",{className:"date",children:"jun - aug 2024"}),S.jsxs("div",{className:"content",children:[S.jsx("span",{className:"role",children:S.jsx("a",{href:"https://codepath.org/",target:"_blank",rel:"noopener noreferrer",children:"fellow @ codepath"})}),S.jsx("p",{className:"description",children:"took tip102 and participated in pair programming sessions with fellow fellows to prepare for technical interviews."})]})]}),S.jsxs("li",{children:[S.jsx("span",{className:"date",children:"jan - feb 2024"}),S.jsxs("div",{className:"content",children:[S.jsx("span",{className:"role",children:S.jsx("a",{href:"https://www.meta.com/",target:"_blank",rel:"noopener noreferrer",children:"fellow @ meta"})}),S.jsx("p",{className:"description",children:"participated in meta's winter cohort of abcs fellowship to learn about ds&a problem solving and meta's interview process"})]})]})]}),S.jsx("div",{className:"resume",children:S.jsx("a",{href:"assets/BinhLe_Resume.pdf",target:"_blank",children:"view full resume"})}),S.jsx(gg,{})]}),IP=()=>S.jsxs("div",{className:"main-container",children:[S.jsx(pg,{}),S.jsxs("ul",{children:[S.jsxs("li",{children:[S.jsx("span",{className:"date",children:"aug 2024 - "}),S.jsxs("div",{className:"content",children:[S.jsx("span",{className:"role",children:S.jsx("a",{href:"https://www.youtube.com/@binh",target:"_blank",rel:"noopener noreferrer",children:"tu dien - vietnamese urbandictionary"})}),S.jsx("p",{className:"description",children:"building a full-stack app providing accurate definitions and context for vietnamese slang, to reconnect and strengthen cultural ties."}),S.jsx("span",{className:"technologies",children:"react, node.js, scikit-learn, express.js, aws, postgresql"})]})]}),S.jsxs("li",{children:[S.jsx("span",{className:"date",children:"Sep 2024"}),S.jsxs("div",{className:"content",children:[S.jsx("span",{className:"role",children:S.jsx("a",{href:"https://donate.streamlit.app/",target:"_blank",rel:"noopener noreferrer",children:"donations dashboard for MTTQ"})}),S.jsx("p",{className:"description",children:"an effort to compile the latest information asap in service of MTTQ's initiatives, playing a vital role in coordinating relief efforts for those affected by the typhoon"}),S.jsx("span",{className:"technologies",children:"streamlit, python, jupyter notebook, pdf plumber, csv"})]})]}),S.jsxs("li",{children:[S.jsx("span",{className:"date",children:"2013 -"}),S.jsxs("div",{className:"content",children:[S.jsx("span",{className:"role",children:S.jsx("a",{href:"https://www.youtube.com/@binh",target:"_blank",rel:"noopener noreferrer",children:"content creator"})}),S.jsx("p",{className:"description",children:"amassed 1.3+ million followers by integrating cs education into engaging content for vietnamese teens. directed marketing strategies reaching 300+ million views with brands like tiktok, vng, acer, and vtc games."}),S.jsx("span",{className:"technologies",children:"youtube, tiktok, instagram, facebook, linkedin, marketing, content creation"})]})]}),S.jsxs("li",{children:[S.jsx("span",{className:"date",children:"aug 2024 - "}),S.jsxs("div",{className:"content",children:[S.jsx("span",{className:"role",children:S.jsx("a",{href:"https://binhl3.github.io/",children:"personal website"})}),S.jsx("p",{className:"description",children:"is this recursion"}),S.jsx("span",{className:"technologies",children:"react, javascript, html, css, node"})]})]}),S.jsxs("li",{children:[S.jsx("span",{className:"date",children:"apr 2024"}),S.jsxs("div",{className:"content",children:[S.jsx("span",{className:"role",children:S.jsx("a",{href:"https://github.com/mikth3372/DragonHacks",target:"_blank",rel:"noopener noreferrer",children:"serenity - dragonhacks 10"})}),S.jsx("p",{className:"description",children:"led a team of 3 to build an interview platform using humeapi for live emotional insights, winning best tech domain at dragonhacks 2024. designed the backend with session validation and integrated openai."}),S.jsx("span",{className:"technologies",children:"python, flask, humeapi, openai, react, tailwind, html, css, numpy, matplotlib"})]})]}),S.jsxs("li",{children:[S.jsx("span",{className:"date",children:"apr 2024"}),S.jsxs("div",{className:"content",children:[S.jsx("span",{className:"role",children:S.jsx("a",{href:"https://github.com/kxllydo/codefest24-25",target:"_blank",rel:"noopener noreferrer",children:"adopteam - philly codefest 2024"})}),S.jsx("p",{className:"description",children:"spearheaded ml model integration using multilayer perceptrons, achieving 80% success in parent-child pairings to make adoption more accessible and refine the process. used 1000 samples with various attributes for kids and adults, targeting compatibility."}),S.jsx("span",{className:"technologies",children:"python, keras, tensorflow, pandas, scikit-learn"})]})]}),S.jsxs("li",{children:[S.jsx("span",{className:"date",children:"dec 2023"}),S.jsxs("div",{className:"content",children:[S.jsx("span",{className:"role",children:"student survey & test system - drexel university"}),S.jsx("p",{className:"description",children:"leveraged 4+ design patterns in a java program to enable seamless future feature integration and optimized serialization for 50% faster runtime."}),S.jsx("span",{className:"technologies",children:"java, design patterns, serialization"})]})]}),S.jsxs("li",{children:[S.jsx("span",{className:"date",children:"aug 2023"}),S.jsxs("div",{className:"content",children:[S.jsx("span",{className:"role",children:S.jsx("a",{href:"https://github.com/BinhL3/MultiplayerSnake",target:"_blank",rel:"noopener noreferrer",children:"2d multiplayer snake"})}),S.jsx("p",{className:"description",children:"developed a 2d multiplayer snake game like slither.io using rest apis, phaser, and socket.io. led a team of 3 and implemented ci/cd with github actions."}),S.jsx("span",{className:"technologies",children:"javascript, react, socket.io, phaser, rest apis"})]})]}),S.jsxs("li",{children:[S.jsx("span",{className:"date",children:"aug 2023"}),S.jsxs("div",{className:"content",children:[S.jsx("span",{className:"role",children:"mini unix shell - drexel university"}),S.jsx("p",{className:"description",children:"engineered a c-based shell with system command execution, io redirection, and efficient process piping. added features like background task execution and directory navigation on tux servers."}),S.jsx("span",{className:"technologies",children:"c, tux servers, system programming"})]})]}),S.jsxs("li",{children:[S.jsx("span",{className:"date",children:"jan - jun 2023"}),S.jsxs("div",{className:"content",children:[S.jsx("span",{className:"role",children:S.jsx("a",{href:"https://github.com/BinhL3/Mangrove---Webagenda",target:"_blank",rel:"noopener noreferrer",children:"mangrove agenda"})}),S.jsx("p",{className:"description",children:"led a team-based agile full-stack project, mangrove agenda, at drexel to streamline student scheduling. designed the backend with python, flask, javascript for session validation, and sqlalchemy for database management. integrated openai and fullcalendar apis for a seamless user experience."}),S.jsx("span",{className:"technologies",children:"python, flask, javascript, sqlalchemy, openai, fullcalendar"})]})]}),S.jsxs("li",{children:[S.jsx("span",{className:"date",children:"apr - jun 2022"}),S.jsxs("div",{className:"content",children:[S.jsx("span",{className:"role",children:"pacman replication - vin university"}),S.jsx("p",{className:"description",children:"collaborated with 3 peers to develop a pacman replication game in java and javafx. reduced bugs by 70% with optimized collision detection to update the game state."}),S.jsx("span",{className:"technologies",children:"java, javafx, object-oriented programming, design patterns"})]})]}),S.jsxs("li",{children:[S.jsx("span",{className:"date",children:"2021 - 2022"}),S.jsxs("div",{className:"content",children:[S.jsx("span",{className:"role",children:"autonomous car - cecs day"}),S.jsx("p",{className:"description",children:"engineered a pre-trained model into an autonomous car, boosting track detection accuracy by 20% using opencv. secured top 2 best recycling solution at vinuni hackathon by implementing ar for cultural heritage preservation."}),S.jsx("span",{className:"technologies",children:"python, opencv, arduino, makerbot microcontroller, figma, esp32-cam module"})]})]})]}),S.jsx(gg,{})]}),FP=()=>S.jsxs("div",{className:"main-container",children:[S.jsx(pg,{}),S.jsx("img",{className:"header-image",src:"assets/icon.jpg",loading:"lazy",alt:"Fan Art"}),S.jsx("p",{children:"contact me: bql23@drexel.edu"}),S.jsx("hr",{style:{border:"none",height:"1px",backgroundColor:"black"}}),S.jsx("p",{style:{marginTop:"1em"},children:"hi i'm binh! i'm 21 years old and vietnamese :D"}),S.jsx("p",{children:"people probably know me mostly from youtube and tiktok just cause i've done that for 13 years"}),S.jsxs("p",{children:[S.jsx("strong",{children:"p.s. "}),"this picture here is fan art someone made of my minecraft character"]}),S.jsx(gg,{})]}),OP="modulepreload",jP=function(n){return"/"+n},B_={},tf=function(e,t,i){let r=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),a=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));r=Promise.all(t.map(o=>{if(o=jP(o),o in B_)return;B_[o]=!0;const l=o.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${u}`))return;const h=document.createElement("link");if(h.rel=l?"stylesheet":OP,l||(h.as="script",h.crossOrigin=""),h.href=o,a&&h.setAttribute("nonce",a),document.head.appendChild(h),l)return new Promise((d,f)=>{h.addEventListener("load",d),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${o}`)))})}))}return r.then(()=>e()).catch(s=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s})};var mu={};mu.d=(n,e)=>{for(var t in e)mu.o(e,t)&&!mu.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})};mu.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var re=globalThis.pdfjsLib={};mu.d(re,{AbortException:()=>Fo,AnnotationEditorLayer:()=>by,AnnotationEditorParamsType:()=>ae,AnnotationEditorType:()=>Ae,AnnotationEditorUIManager:()=>Co,AnnotationLayer:()=>FL,AnnotationMode:()=>ps,CMapCompressionType:()=>mv,ColorPicker:()=>Tp,DOMSVGFactory:()=>O0,DrawLayer:()=>Ty,FeatureTest:()=>yn,GlobalWorkerOptions:()=>Vr,ImageKind:()=>Ef,InvalidPDFException:()=>Y1,MissingPDFException:()=>Io,OPS:()=>ui,Outliner:()=>sy,PDFDataRangeTransport:()=>VS,PDFDateString:()=>nS,PDFWorker:()=>ml,PasswordResponses:()=>UP,PermissionFlag:()=>BP,PixelsPerInch:()=>Ks,RenderingCancelledException:()=>j0,TextLayer:()=>Cp,UnexpectedResponseException:()=>wg,Util:()=>Q,VerbosityLevel:()=>mg,XfaLayer:()=>GS,build:()=>mL,createValidAbsoluteUrl:()=>GP,fetchData:()=>bg,getDocument:()=>oL,getFilenameFromUrl:()=>nR,getPdfFilenameFromUrl:()=>iR,getXfaPageViewport:()=>rR,isDataScheme:()=>z0,isPdfFile:()=>H0,noContextMenu:()=>Sn,normalizeUnicode:()=>JP,renderTextLayer:()=>JR,setLayerDimensions:()=>xo,shadow:()=>be,updateTextLayer:()=>ZR,version:()=>gL});const Jt=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),K1=[1,0,0,1,0,0],gv=[.001,0,0,.001,0,0],zP=1e7,pm=1.35,Jn={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},ps={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},HP="pdfjs_internal_editor_",Ae={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},ae={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},BP={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Gt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Ef={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},yt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},jc={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},mg={ERRORS:0,WARNINGS:1,INFOS:5},mv={NONE:0,BINARY:1},ui={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},UP={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let vg=mg.WARNINGS;function $P(n){Number.isInteger(n)&&(vg=n)}function VP(){return vg}function yg(n){vg>=mg.INFOS&&console.log(`Info: ${n}`)}function ge(n){vg>=mg.WARNINGS&&console.log(`Warning: ${n}`)}function Oe(n){throw new Error(n)}function xt(n,e){n||Oe(e)}function WP(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function GP(n,e=null,t=null){if(!n)return null;try{if(t&&typeof n=="string"){if(t.addDefaultProtocol&&n.startsWith("www.")){const r=n.match(/\./g);(r==null?void 0:r.length)>=2&&(n=`http://${n}`)}if(t.tryConvertEncoding)try{n=QP(n)}catch{}}const i=e?new URL(n,e):new URL(n);if(WP(i))return i}catch{}return null}function be(n,e,t,i=!1){return Object.defineProperty(n,e,{value:t,enumerable:!i,configurable:!0,writable:!1}),t}const ea=function(){function e(t,i){this.constructor===e&&Oe("Cannot initialize BaseException."),this.message=t,this.name=i}return e.prototype=new Error,e.constructor=e,e}();class vv extends ea{constructor(e,t){super(e,"PasswordException"),this.code=t}}class yv extends ea{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class Y1 extends ea{constructor(e){super(e,"InvalidPDFException")}}class Io extends ea{constructor(e){super(e,"MissingPDFException")}}class wg extends ea{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class XP extends ea{constructor(e){super(e,"FormatError")}}class Fo extends ea{constructor(e){super(e,"AbortException")}}function q1(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&Oe("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const i=[];for(let r=0;r<e;r+=t){const s=Math.min(r+t,e),a=n.subarray(r,s);i.push(String.fromCharCode.apply(null,a))}return i.join("")}function _g(n){typeof n!="string"&&Oe("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let i=0;i<e;++i)t[i]=n.charCodeAt(i)&255;return t}function KP(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function I0(n){const e=Object.create(null);for(const[t,i]of n)e[t]=i;return e}function YP(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function qP(){try{return new Function(""),!0}catch{return!1}}class yn{static get isLittleEndian(){return be(this,"isLittleEndian",YP())}static get isEvalSupported(){return be(this,"isEvalSupported",qP())}static get isOffscreenCanvasSupported(){return be(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?be(this,"platform",{isMac:navigator.platform.includes("Mac")}):be(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){var e,t;return be(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const gm=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var Gr,Af,wv;class Q{static makeHexColor(e,t,i){return`#${gm[e]}${gm[t]}${gm[i]}`}static scaleMinMax(e,t){let i;e[0]?(e[0]<0&&(i=t[0],t[0]=t[2],t[2]=i),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(i=t[1],t[1]=t[3],t[3]=i),t[1]*=e[3],t[3]*=e[3]):(i=t[0],t[0]=t[1],t[1]=i,i=t[2],t[2]=t[3],t[3]=i,e[1]<0&&(i=t[1],t[1]=t[3],t[3]=i),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(i=t[0],t[0]=t[2],t[2]=i),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){const i=e[0]*t[0]+e[1]*t[2]+t[4],r=e[0]*t[1]+e[1]*t[3]+t[5];return[i,r]}static applyInverseTransform(e,t){const i=t[0]*t[3]-t[1]*t[2],r=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/i,s=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/i;return[r,s]}static getAxialAlignedBoundingBox(e,t){const i=this.applyTransform(e,t),r=this.applyTransform(e.slice(2,4),t),s=this.applyTransform([e[0],e[3]],t),a=this.applyTransform([e[2],e[1]],t);return[Math.min(i[0],r[0],s[0],a[0]),Math.min(i[1],r[1],s[1],a[1]),Math.max(i[0],r[0],s[0],a[0]),Math.max(i[1],r[1],s[1],a[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],i=e[0]*t[0]+e[1]*t[2],r=e[0]*t[1]+e[1]*t[3],s=e[2]*t[0]+e[3]*t[2],a=e[2]*t[1]+e[3]*t[3],o=(i+a)/2,l=Math.sqrt((i+a)**2-4*(i*a-s*r))/2,u=o+l||1,h=o-l||1;return[Math.sqrt(u),Math.sqrt(h)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const i=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(i>r)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>a?null:[i,s,r,a]}static bezierBoundingBox(e,t,i,r,s,a,o,l,u){return u?(u[0]=Math.min(u[0],e,o),u[1]=Math.min(u[1],t,l),u[2]=Math.max(u[2],e,o),u[3]=Math.max(u[3],t,l)):u=[Math.min(e,o),Math.min(t,l),Math.max(e,o),Math.max(t,l)],_(this,Gr,wv).call(this,e,i,s,o,t,r,a,l,3*(-e+3*(i-s)+o),6*(e-2*i+s),3*(i-e),u),_(this,Gr,wv).call(this,e,i,s,o,t,r,a,l,3*(-t+3*(r-a)+l),6*(t-2*r+a),3*(r-t),u),u}}Gr=new WeakSet,Af=function(e,t,i,r,s,a,o,l,u,h){if(u<=0||u>=1)return;const d=1-u,f=u*u,p=f*u,g=d*(d*(d*e+3*u*t)+3*f*i)+p*r,y=d*(d*(d*s+3*u*a)+3*f*o)+p*l;h[0]=Math.min(h[0],g),h[1]=Math.min(h[1],y),h[2]=Math.max(h[2],g),h[3]=Math.max(h[3],y)},wv=function(e,t,i,r,s,a,o,l,u,h,d,f){if(Math.abs(u)<1e-12){Math.abs(h)>=1e-12&&_(this,Gr,Af).call(this,e,t,i,r,s,a,o,l,-d/h,f);return}const p=h**2-4*d*u;if(p<0)return;const g=Math.sqrt(p),y=2*u;_(this,Gr,Af).call(this,e,t,i,r,s,a,o,l,(-h+g)/y,f),_(this,Gr,Af).call(this,e,t,i,r,s,a,o,l,(-h-g)/y,f)},E(Q,Gr);function QP(n){return decodeURIComponent(escape(n))}let mm=null,U_=null;function JP(n){return mm||(mm=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,U_=new Map([["ﬅ","ſt"]])),n.replaceAll(mm,(e,t,i)=>t?t.normalize("NFKC"):U_.get(i))}function ZP(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const n=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(n);else for(let e=0;e<32;e++)n[e]=Math.floor(Math.random()*255);return q1(n)}const Q1="pdfjs_internal_id_",ar={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};class Eg{constructor(){this.constructor===Eg&&Oe("Cannot initialize BaseFilterFactory.")}addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,i,r,s){return"none"}destroy(e=!1){}}var Hu;const G0=class G0{constructor({enableHWA:e=!1}={}){E(this,Hu,!1);this.constructor===G0&&Oe("Cannot initialize BaseCanvasFactory."),w(this,Hu,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(e,t);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!c(this,Hu)})}}reset(e,t,i){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||i<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=i}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){Oe("Abstract method `_createCanvas` called.")}};Hu=new WeakMap;let Ap=G0;class Ag{constructor({baseUrl:e=null,isCompressed:t=!0}){this.constructor===Ag&&Oe("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":""),i=this.isCompressed?mv.BINARY:mv.NONE;return this._fetchData(t,i).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}_fetchData(e,t){Oe("Abstract method `_fetchData` called.")}}class Sg{constructor({baseUrl:e=null}){this.constructor===Sg&&Oe("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetchData(t).catch(i=>{throw new Error(`Unable to load font data at: ${t}`)})}_fetchData(e){Oe("Abstract method `_fetchData` called.")}}class F0{constructor(){this.constructor===F0&&Oe("Cannot initialize BaseSVGFactory.")}create(e,t,i=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),i||(r.setAttribute("width",`${e}px`),r.setAttribute("height",`${t}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${e} ${t}`),r}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Oe("Abstract method `_createSVG` called.")}}const lr="http://www.w3.org/2000/svg",fa=class fa{};le(fa,"CSS",96),le(fa,"PDF",72),le(fa,"PDF_TO_CSS_UNITS",fa.CSS/fa.PDF);let Ks=fa;var _a,Ii,gr,fn,Rp,Ea,K,Xt,$o,Vo,Sf,J1,_v,Wo,Gc,Xc,Ev,Kc;class eR extends Eg{constructor({docId:t,ownerDocument:i=globalThis.document}={}){super();E(this,K);E(this,_a);E(this,Ii);E(this,gr);E(this,fn);E(this,Rp);E(this,Ea,0);w(this,gr,t),w(this,fn,i)}addFilter(t){if(!t)return"none";let i=c(this,K,Xt).get(t);if(i)return i;const[r,s,a]=_(this,K,Sf).call(this,t),o=t.length===1?r:`${r}${s}${a}`;if(i=c(this,K,Xt).get(o),i)return c(this,K,Xt).set(t,i),i;const l=`g_${c(this,gr)}_transfer_map_${xn(this,Ea)._++}`,u=`url(#${l})`;c(this,K,Xt).set(t,u),c(this,K,Xt).set(o,u);const h=_(this,K,Wo).call(this,l);return _(this,K,Xc).call(this,r,s,a,h),u}addHCMFilter(t,i){var g;const r=`${t}-${i}`,s="base";let a=c(this,K,$o).get(s);if((a==null?void 0:a.key)===r||(a?((g=a.filter)==null||g.remove(),a.key=r,a.url="none",a.filter=null):(a={key:r,url:"none",filter:null},c(this,K,$o).set(s,a)),!t||!i))return a.url;const o=_(this,K,Kc).call(this,t);t=Q.makeHexColor(...o);const l=_(this,K,Kc).call(this,i);if(i=Q.makeHexColor(...l),c(this,K,Vo).style.color="",t==="#000000"&&i==="#ffffff"||t===i)return a.url;const u=new Array(256);for(let y=0;y<=255;y++){const b=y/255;u[y]=b<=.03928?b/12.92:((b+.055)/1.055)**2.4}const h=u.join(","),d=`g_${c(this,gr)}_hcm_filter`,f=a.filter=_(this,K,Wo).call(this,d);_(this,K,Xc).call(this,h,h,h,f),_(this,K,_v).call(this,f);const p=(y,b)=>{const m=o[y]/255,v=l[y]/255,A=new Array(b+1);for(let C=0;C<=b;C++)A[C]=m+C/b*(v-m);return A.join(",")};return _(this,K,Xc).call(this,p(0,5),p(1,5),p(2,5),f),a.url=`url(#${d})`,a.url}addAlphaFilter(t){let i=c(this,K,Xt).get(t);if(i)return i;const[r]=_(this,K,Sf).call(this,[t]),s=`alpha_${r}`;if(i=c(this,K,Xt).get(s),i)return c(this,K,Xt).set(t,i),i;const a=`g_${c(this,gr)}_alpha_map_${xn(this,Ea)._++}`,o=`url(#${a})`;c(this,K,Xt).set(t,o),c(this,K,Xt).set(s,o);const l=_(this,K,Wo).call(this,a);return _(this,K,Ev).call(this,r,l),o}addLuminosityFilter(t){let i=c(this,K,Xt).get(t||"luminosity");if(i)return i;let r,s;if(t?([r]=_(this,K,Sf).call(this,[t]),s=`luminosity_${r}`):s="luminosity",i=c(this,K,Xt).get(s),i)return c(this,K,Xt).set(t,i),i;const a=`g_${c(this,gr)}_luminosity_map_${xn(this,Ea)._++}`,o=`url(#${a})`;c(this,K,Xt).set(t,o),c(this,K,Xt).set(s,o);const l=_(this,K,Wo).call(this,a);return _(this,K,J1).call(this,l),t&&_(this,K,Ev).call(this,r,l),o}addHighlightHCMFilter(t,i,r,s,a){var v;const o=`${i}-${r}-${s}-${a}`;let l=c(this,K,$o).get(t);if((l==null?void 0:l.key)===o||(l?((v=l.filter)==null||v.remove(),l.key=o,l.url="none",l.filter=null):(l={key:o,url:"none",filter:null},c(this,K,$o).set(t,l)),!i||!r))return l.url;const[u,h]=[i,r].map(_(this,K,Kc).bind(this));let d=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),f=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),[p,g]=[s,a].map(_(this,K,Kc).bind(this));f<d&&([d,f,p,g]=[f,d,g,p]),c(this,K,Vo).style.color="";const y=(A,C,T)=>{const R=new Array(256),L=(f-d)/T,x=A/255,N=(C-A)/(255*T);let I=0;for(let O=0;O<=T;O++){const J=Math.round(d+O*L),Y=x+O*N;for(let W=I;W<=J;W++)R[W]=Y;I=J+1}for(let O=I;O<256;O++)R[O]=R[I-1];return R.join(",")},b=`g_${c(this,gr)}_hcm_${t}_filter`,m=l.filter=_(this,K,Wo).call(this,b);return _(this,K,_v).call(this,m),_(this,K,Xc).call(this,y(p[0],g[0],5),y(p[1],g[1],5),y(p[2],g[2],5),m),l.url=`url(#${b})`,l.url}destroy(t=!1){t&&c(this,K,$o).size!==0||(c(this,Ii)&&(c(this,Ii).parentNode.parentNode.remove(),w(this,Ii,null)),c(this,_a)&&(c(this,_a).clear(),w(this,_a,null)),w(this,Ea,0))}}_a=new WeakMap,Ii=new WeakMap,gr=new WeakMap,fn=new WeakMap,Rp=new WeakMap,Ea=new WeakMap,K=new WeakSet,Xt=function(){return c(this,_a)||w(this,_a,new Map)},$o=function(){return c(this,Rp)||w(this,Rp,new Map)},Vo=function(){if(!c(this,Ii)){const t=c(this,fn).createElement("div"),{style:i}=t;i.visibility="hidden",i.contain="strict",i.width=i.height=0,i.position="absolute",i.top=i.left=0,i.zIndex=-1;const r=c(this,fn).createElementNS(lr,"svg");r.setAttribute("width",0),r.setAttribute("height",0),w(this,Ii,c(this,fn).createElementNS(lr,"defs")),t.append(r),r.append(c(this,Ii)),c(this,fn).body.append(t)}return c(this,Ii)},Sf=function(t){if(t.length===1){const u=t[0],h=new Array(256);for(let f=0;f<256;f++)h[f]=u[f]/255;const d=h.join(",");return[d,d,d]}const[i,r,s]=t,a=new Array(256),o=new Array(256),l=new Array(256);for(let u=0;u<256;u++)a[u]=i[u]/255,o[u]=r[u]/255,l[u]=s[u]/255;return[a.join(","),o.join(","),l.join(",")]},J1=function(t){const i=c(this,fn).createElementNS(lr,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(i)},_v=function(t){const i=c(this,fn).createElementNS(lr,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(i)},Wo=function(t){const i=c(this,fn).createElementNS(lr,"filter");return i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("id",t),c(this,K,Vo).append(i),i},Gc=function(t,i,r){const s=c(this,fn).createElementNS(lr,i);s.setAttribute("type","discrete"),s.setAttribute("tableValues",r),t.append(s)},Xc=function(t,i,r,s){const a=c(this,fn).createElementNS(lr,"feComponentTransfer");s.append(a),_(this,K,Gc).call(this,a,"feFuncR",t),_(this,K,Gc).call(this,a,"feFuncG",i),_(this,K,Gc).call(this,a,"feFuncB",r)},Ev=function(t,i){const r=c(this,fn).createElementNS(lr,"feComponentTransfer");i.append(r),_(this,K,Gc).call(this,r,"feFuncA",t)},Kc=function(t){return c(this,K,Vo).style.color=t,B0(getComputedStyle(c(this,K,Vo)).getPropertyValue("color"))};class tR extends Ap{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}={}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const i=this._document.createElement("canvas");return i.width=e,i.height=t,i}}async function bg(n,e="text"){if(Yc(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,i)=>{const r=new XMLHttpRequest;r.open("GET",n,!0),r.responseType=e,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(r.response);return}t(r.responseText);return}i(new Error(r.statusText))}},r.send(null)})}class Z1 extends Ag{_fetchData(e,t){return bg(e,this.isCompressed?"arraybuffer":"text").then(i=>({cMapData:i instanceof ArrayBuffer?new Uint8Array(i):_g(i),compressionType:t}))}}class eS extends Sg{_fetchData(e){return bg(e,"arraybuffer").then(t=>new Uint8Array(t))}}class O0 extends F0{_createSVG(e){return document.createElementNS(lr,e)}}class bd{constructor({viewBox:e,scale:t,rotation:i,offsetX:r=0,offsetY:s=0,dontFlip:a=!1}){this.viewBox=e,this.scale=t,this.rotation=i,this.offsetX=r,this.offsetY=s;const o=(e[2]+e[0])/2,l=(e[3]+e[1])/2;let u,h,d,f;switch(i%=360,i<0&&(i+=360),i){case 180:u=-1,h=0,d=0,f=1;break;case 90:u=0,h=1,d=1,f=0;break;case 270:u=0,h=-1,d=-1,f=0;break;case 0:u=1,h=0,d=0,f=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}a&&(d=-d,f=-f);let p,g,y,b;u===0?(p=Math.abs(l-e[1])*t+r,g=Math.abs(o-e[0])*t+s,y=(e[3]-e[1])*t,b=(e[2]-e[0])*t):(p=Math.abs(o-e[0])*t+r,g=Math.abs(l-e[1])*t+s,y=(e[2]-e[0])*t,b=(e[3]-e[1])*t),this.transform=[u*t,h*t,d*t,f*t,p-u*t*o-d*t*l,g-h*t*o-f*t*l],this.width=y,this.height=b}get rawDims(){const{viewBox:e}=this;return be(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:i=this.offsetX,offsetY:r=this.offsetY,dontFlip:s=!1}={}){return new bd({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:i,offsetY:r,dontFlip:s})}convertToViewportPoint(e,t){return Q.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=Q.applyTransform([e[0],e[1]],this.transform),i=Q.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],i[0],i[1]]}convertToPdfPoint(e,t){return Q.applyInverseTransform([e,t],this.transform)}}class j0 extends ea{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function z0(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function H0(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function nR(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function iR(n,e="document.pdf"){if(typeof n!="string")return e;if(z0(n))return ge('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,i=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=t.exec(n);let s=i.exec(r[1])||i.exec(r[2])||i.exec(r[3]);if(s&&(s=s[0],s.includes("%")))try{s=i.exec(decodeURIComponent(s))[0]}catch{}return s||e}class $_{constructor(){le(this,"started",Object.create(null));le(this,"times",[])}time(e){e in this.started&&ge(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||ge(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:i}of this.times)t=Math.max(i.length,t);for(const{name:i,start:r,end:s}of this.times)e.push(`${i.padEnd(t)} ${s-r}ms
`);return e.join("")}}function Yc(n,e){try{const{protocol:t}=e?new URL(n,e):new URL(n);return t==="http:"||t==="https:"}catch{return!1}}function Sn(n){n.preventDefault()}function tS(n){console.log("Deprecated API usage: "+n)}let V_;class nS{static toDateObject(e){if(!e||typeof e!="string")return null;V_||(V_=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=V_.exec(e);if(!t)return null;const i=parseInt(t[1],10);let r=parseInt(t[2],10);r=r>=1&&r<=12?r-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let a=parseInt(t[4],10);a=a>=0&&a<=23?a:0;let o=parseInt(t[5],10);o=o>=0&&o<=59?o:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;const u=t[7]||"Z";let h=parseInt(t[8],10);h=h>=0&&h<=23?h:0;let d=parseInt(t[9],10)||0;return d=d>=0&&d<=59?d:0,u==="-"?(a+=h,o+=d):u==="+"&&(a-=h,o-=d),new Date(Date.UTC(i,r,s,a,o,l))}}function rR(n,{scale:e=1,rotation:t=0}){const{width:i,height:r}=n.attributes.style,s=[0,0,parseInt(i),parseInt(r)];return new bd({viewBox:s,scale:e,rotation:t})}function B0(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(ge(`Not a valid color format: "${n}"`),[0,0,0])}function sR(n){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const t of n.keys()){e.style.color=t;const i=window.getComputedStyle(e).color;n.set(t,B0(i))}e.remove()}function et(n){const{a:e,b:t,c:i,d:r,e:s,f:a}=n.getTransform();return[e,t,i,r,s,a]}function or(n){const{a:e,b:t,c:i,d:r,e:s,f:a}=n.getTransform().invertSelf();return[e,t,i,r,s,a]}function xo(n,e,t=!1,i=!0){if(e instanceof bd){const{pageWidth:r,pageHeight:s}=e.rawDims,{style:a}=n,o=yn.isCSSRoundSupported,l=`var(--scale-factor) * ${r}px`,u=`var(--scale-factor) * ${s}px`,h=o?`round(${l}, 1px)`:`calc(${l})`,d=o?`round(${u}, 1px)`:`calc(${u})`;!t||e.rotation%180===0?(a.width=h,a.height=d):(a.width=d,a.height=h)}i&&n.setAttribute("data-main-rotation",e.rotation)}var Aa,Sa,Tn,ba,Lp,iS,ln,rS,sS,bf,aS,Sv;const Mp=class Mp{constructor(e){E(this,ln);E(this,Aa,null);E(this,Sa,null);E(this,Tn);E(this,ba,null);w(this,Tn,e)}render(){const e=w(this,Aa,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const t=c(this,Tn)._uiManager._signal;e.addEventListener("contextmenu",Sn,{signal:t}),e.addEventListener("pointerdown",_(Mp,Lp,iS),{signal:t});const i=w(this,ba,document.createElement("div"));i.className="buttons",e.append(i);const r=c(this,Tn).toolbarPosition;if(r){const{style:s}=e,a=c(this,Tn)._uiManager.direction==="ltr"?1-r[0]:r[0];s.insetInlineEnd=`${100*a}%`,s.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return _(this,ln,aS).call(this),e}hide(){var e;c(this,Aa).classList.add("hidden"),(e=c(this,Sa))==null||e.hideDropdown()}show(){c(this,Aa).classList.remove("hidden")}addAltTextButton(e){_(this,ln,bf).call(this,e),c(this,ba).prepend(e,c(this,ln,Sv))}addColorPicker(e){w(this,Sa,e);const t=e.renderButton();_(this,ln,bf).call(this,t),c(this,ba).prepend(t,c(this,ln,Sv))}remove(){var e;c(this,Aa).remove(),(e=c(this,Sa))==null||e.destroy(),w(this,Sa,null)}};Aa=new WeakMap,Sa=new WeakMap,Tn=new WeakMap,ba=new WeakMap,Lp=new WeakSet,iS=function(e){e.stopPropagation()},ln=new WeakSet,rS=function(e){c(this,Tn)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},sS=function(e){c(this,Tn)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},bf=function(e){const t=c(this,Tn)._uiManager._signal;e.addEventListener("focusin",_(this,ln,rS).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",_(this,ln,sS).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Sn,{signal:t})},aS=function(){const e=document.createElement("button");e.className="delete",e.tabIndex=0,e.setAttribute("data-l10n-id",`pdfjs-editor-remove-${c(this,Tn).editorType}-button`),_(this,ln,bf).call(this,e),e.addEventListener("click",t=>{c(this,Tn)._uiManager.delete()},{signal:c(this,Tn)._uiManager._signal}),c(this,ba).append(e)},Sv=function(){const e=document.createElement("div");return e.className="divider",e},E(Mp,Lp);let Av=Mp;var Bu,xa,Ca,Ys,oS,lS,cS;class aR{constructor(e){E(this,Ys);E(this,Bu,null);E(this,xa,null);E(this,Ca);w(this,Ca,e)}show(e,t,i){const[r,s]=_(this,Ys,lS).call(this,t,i),{style:a}=c(this,xa)||w(this,xa,_(this,Ys,oS).call(this));e.append(c(this,xa)),a.insetInlineEnd=`${100*r}%`,a.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){c(this,xa).remove()}}Bu=new WeakMap,xa=new WeakMap,Ca=new WeakMap,Ys=new WeakSet,oS=function(){const e=w(this,xa,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",Sn,{signal:c(this,Ca)._signal});const t=w(this,Bu,document.createElement("div"));return t.className="buttons",e.append(t),_(this,Ys,cS).call(this),e},lS=function(e,t){let i=0,r=0;for(const s of e){const a=s.y+s.height;if(a<i)continue;const o=s.x+(t?s.width:0);if(a>i){r=o,i=a;continue}t?o>r&&(r=o):o<r&&(r=o)}return[t?1-r:r,i]},cS=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const i=c(this,Ca)._signal;e.addEventListener("contextmenu",Sn,{signal:i}),e.addEventListener("click",()=>{c(this,Ca).highlightSelection("floating_button")},{signal:i}),c(this,Bu).append(e)};function Sp(n,e,t){for(const i of t)e.addEventListener(i,n[i].bind(n))}function oR(n){return Math.round(Math.min(255,Math.max(1,255*n))).toString(16).padStart(2,"0")}var Dp;class lR{constructor(){E(this,Dp,0)}get id(){return`${HP}${xn(this,Dp)._++}`}}Dp=new WeakMap;var Uu,Np,Kn,$u,xv;const X0=class X0{constructor(){E(this,$u);E(this,Uu,ZP());E(this,Np,0);E(this,Kn,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=e;const s=r.decode().then(()=>(i.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return be(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:t,name:i,size:r,type:s}=e;return _(this,$u,xv).call(this,`${t}_${i}_${r}_${s}`,e)}async getFromUrl(e){return _(this,$u,xv).call(this,e,e)}async getFromId(e){c(this,Kn)||w(this,Kn,new Map);const t=c(this,Kn).get(e);return t?t.bitmap?(t.refCounter+=1,t):t.file?this.getFromFile(t.file):this.getFromUrl(t.url):null}getSvgUrl(e){const t=c(this,Kn).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){c(this,Kn)||w(this,Kn,new Map);const t=c(this,Kn).get(e);t&&(t.refCounter-=1,t.refCounter===0&&(t.bitmap=null))}isValidId(e){return e.startsWith(`image_${c(this,Uu)}_`)}};Uu=new WeakMap,Np=new WeakMap,Kn=new WeakMap,$u=new WeakSet,xv=async function(e,t){c(this,Kn)||w(this,Kn,new Map);let i=c(this,Kn).get(e);if(i===null)return null;if(i!=null&&i.bitmap)return i.refCounter+=1,i;try{i||(i={bitmap:null,id:`image_${c(this,Uu)}_${xn(this,Np)._++}`,refCounter:0,isSvg:!1});let r;if(typeof t=="string"?(i.url=t,r=await bg(t,"blob")):r=i.file=t,r.type==="image/svg+xml"){const s=X0._isSVGFittingCanvas,a=new FileReader,o=new Image,l=new Promise((u,h)=>{o.onload=()=>{i.bitmap=o,i.isSvg=!0,u()},a.onload=async()=>{const d=i.svgUrl=a.result;o.src=await s?`${d}#svgView(preserveAspectRatio(none))`:d},o.onerror=a.onerror=h});a.readAsDataURL(r),await l}else i.bitmap=await createImageBitmap(r);i.refCounter=1}catch(r){console.error(r),i=null}return c(this,Kn).set(e,i),i&&c(this,Kn).set(i.id,i),i};let bv=X0;var Tt,gs,Vu,Pt;class cR{constructor(e=128){E(this,Tt,[]);E(this,gs,!1);E(this,Vu);E(this,Pt,-1);w(this,Vu,e)}add({cmd:e,undo:t,post:i,mustExec:r,type:s=NaN,overwriteIfSameType:a=!1,keepUndo:o=!1}){if(r&&e(),c(this,gs))return;const l={cmd:e,undo:t,post:i,type:s};if(c(this,Pt)===-1){c(this,Tt).length>0&&(c(this,Tt).length=0),w(this,Pt,0),c(this,Tt).push(l);return}if(a&&c(this,Tt)[c(this,Pt)].type===s){o&&(l.undo=c(this,Tt)[c(this,Pt)].undo),c(this,Tt)[c(this,Pt)]=l;return}const u=c(this,Pt)+1;u===c(this,Vu)?c(this,Tt).splice(0,1):(w(this,Pt,u),u<c(this,Tt).length&&c(this,Tt).splice(u)),c(this,Tt).push(l)}undo(){if(c(this,Pt)===-1)return;w(this,gs,!0);const{undo:e,post:t}=c(this,Tt)[c(this,Pt)];e(),t==null||t(),w(this,gs,!1),w(this,Pt,c(this,Pt)-1)}redo(){if(c(this,Pt)<c(this,Tt).length-1){w(this,Pt,c(this,Pt)+1),w(this,gs,!0);const{cmd:e,post:t}=c(this,Tt)[c(this,Pt)];e(),t==null||t(),w(this,gs,!1)}}hasSomethingToUndo(){return c(this,Pt)!==-1}hasSomethingToRedo(){return c(this,Pt)<c(this,Tt).length-1}destroy(){w(this,Tt,null)}}Tt=new WeakMap,gs=new WeakMap,Vu=new WeakMap,Pt=new WeakMap;var Ip,uS;class xd{constructor(e){E(this,Ip);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=yn.platform;for(const[i,r,s={}]of e)for(const a of i){const o=a.startsWith("mac+");t&&o?(this.callbacks.set(a.slice(4),{callback:r,options:s}),this.allKeys.add(a.split("+").at(-1))):!t&&!o&&(this.callbacks.set(a,{callback:r,options:s}),this.allKeys.add(a.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const i=this.callbacks.get(_(this,Ip,uS).call(this,t));if(!i)return;const{callback:r,options:{bubbles:s=!1,args:a=[],checker:o=null}}=i;o&&!o(e,t)||(r.bind(e,...a,t)(),s||(t.stopPropagation(),t.preventDefault()))}}Ip=new WeakSet,uS=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const Fp=class Fp{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return sR(e),be(this,"_colors",e)}convert(e){const t=B0(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[i,r]of this._colors)if(r.every((s,a)=>s===t[a]))return Fp._colorsMapping.get(i);return t}getHexCode(e){const t=this._colors.get(e);return t?Q.makeHexColor(...t):e}};le(Fp,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let Cv=Fp;var wl,Pn,wt,Nt,_l,mr,El,hi,Al,ka,Fi,di,Ta,Wu,Gu,Oi,Sl,ms,ji,Op,vs,Xu,Pa,Ku,bl,It,Re,vr,Ra,Yu,qu,Qu,Ju,Zu,eh,th,nh,ih,rh,sh,ah,oh,ys,zi,yr,lh,$,xf,hS,dS,Cf,fS,pS,gS,kv,mS,Tv,Pv,vS,en,os,yS,wS,Rv,_S,qc,Lv;const ll=class ll{constructor(e,t,i,r,s,a,o,l,u){E(this,$);E(this,wl,new AbortController);E(this,Pn,null);E(this,wt,new Map);E(this,Nt,new Map);E(this,_l,null);E(this,mr,null);E(this,El,null);E(this,hi,new cR);E(this,Al,0);E(this,ka,new Set);E(this,Fi,null);E(this,di,null);E(this,Ta,new Set);E(this,Wu,!1);E(this,Gu,null);E(this,Oi,null);E(this,Sl,null);E(this,ms,!1);E(this,ji,null);E(this,Op,new lR);E(this,vs,!1);E(this,Xu,!1);E(this,Pa,null);E(this,Ku,null);E(this,bl,null);E(this,It,Ae.NONE);E(this,Re,new Set);E(this,vr,null);E(this,Ra,null);E(this,Yu,null);E(this,qu,this.blur.bind(this));E(this,Qu,this.focus.bind(this));E(this,Ju,this.copy.bind(this));E(this,Zu,this.cut.bind(this));E(this,eh,this.paste.bind(this));E(this,th,this.keydown.bind(this));E(this,nh,this.keyup.bind(this));E(this,ih,this.onEditingAction.bind(this));E(this,rh,this.onPageChanging.bind(this));E(this,sh,this.onScaleChanging.bind(this));E(this,ah,this.onRotationChanging.bind(this));E(this,oh,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});E(this,ys,[0,0]);E(this,zi,null);E(this,yr,null);E(this,lh,null);this._signal=c(this,wl).signal,w(this,yr,e),w(this,lh,t),w(this,_l,i),this._eventBus=r,this._eventBus._on("editingaction",c(this,ih)),this._eventBus._on("pagechanging",c(this,rh)),this._eventBus._on("scalechanging",c(this,sh)),this._eventBus._on("rotationchanging",c(this,ah)),_(this,$,fS).call(this),_(this,$,vS).call(this),_(this,$,kv).call(this),w(this,mr,s.annotationStorage),w(this,Gu,s.filterFactory),w(this,Ra,a),w(this,Sl,o||null),w(this,Wu,l),w(this,bl,u||null),this.viewParameters={realScale:Ks.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=ll.prototype,t=a=>c(a,yr).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),i=(a,{target:o})=>{if(o instanceof HTMLInputElement){const{type:l}=o;return l!=="text"&&l!=="number"}return!0},r=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return be(this,"_keyboardManager",new xd([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],e.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:i}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&c(a,yr).contains(o)&&!a.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&c(a,yr).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}destroy(){var e,t,i;(e=c(this,wl))==null||e.abort(),w(this,wl,null),this._signal=null,this._eventBus._off("editingaction",c(this,ih)),this._eventBus._off("pagechanging",c(this,rh)),this._eventBus._off("scalechanging",c(this,sh)),this._eventBus._off("rotationchanging",c(this,ah));for(const r of c(this,Nt).values())r.destroy();c(this,Nt).clear(),c(this,wt).clear(),c(this,Ta).clear(),w(this,Pn,null),c(this,Re).clear(),c(this,hi).destroy(),(t=c(this,_l))==null||t.destroy(),(i=c(this,ji))==null||i.hide(),w(this,ji,null),c(this,Oi)&&(clearTimeout(c(this,Oi)),w(this,Oi,null)),c(this,zi)&&(clearTimeout(c(this,zi)),w(this,zi,null))}async mlGuess(e){var t;return((t=c(this,bl))==null?void 0:t.guess(e))||null}get hasMLManager(){return!!c(this,bl)}get hcmFilter(){return be(this,"hcmFilter",c(this,Ra)?c(this,Gu).addHCMFilter(c(this,Ra).foreground,c(this,Ra).background):"none")}get direction(){return be(this,"direction",getComputedStyle(c(this,yr)).direction)}get highlightColors(){return be(this,"highlightColors",c(this,Sl)?new Map(c(this,Sl).split(",").map(e=>e.split("=").map(t=>t.trim()))):null)}get highlightColorNames(){return be(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){w(this,Ku,e)}editAltText(e){var t;(t=c(this,_l))==null||t.editAltText(this,e)}onPageChanging({pageNumber:e}){w(this,Al,e-1)}focusMainContainer(){c(this,yr).focus()}findParent(e,t){for(const i of c(this,Nt).values()){const{x:r,y:s,width:a,height:o}=i.div.getBoundingClientRect();if(e>=r&&e<=r+a&&t>=s&&t<=s+o)return i}return null}disableUserSelect(e=!1){c(this,lh).classList.toggle("noUserSelect",e)}addShouldRescale(e){c(this,Ta).add(e)}removeShouldRescale(e){c(this,Ta).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*Ks.PDF_TO_CSS_UNITS;for(const t of c(this,Ta))t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:i,anchorOffset:r,focusNode:s,focusOffset:a}=t,o=t.toString(),u=_(this,$,xf).call(this,t).closest(".textLayer"),h=this.getSelectionBoxes(u);if(h){t.empty(),c(this,It)===Ae.NONE&&(this._eventBus.dispatch("showannotationeditorui",{source:this,mode:Ae.HIGHLIGHT}),this.showAllEditors("highlight",!0,!0));for(const d of c(this,Nt).values())if(d.hasTextLayer(u)){d.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:h,anchorNode:i,anchorOffset:r,focusNode:s,focusOffset:a,text:o});break}}}addToAnnotationStorage(e){!e.isEmpty()&&c(this,mr)&&!c(this,mr).has(e.id)&&c(this,mr).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,c(this,ms)&&(w(this,ms,!1),_(this,$,Cf).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of c(this,Re))if(t.div.contains(e)){w(this,Pa,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!c(this,Pa))return;const[e,t]=c(this,Pa);w(this,Pa,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){_(this,$,kv).call(this),_(this,$,Tv).call(this)}removeEditListeners(){_(this,$,mS).call(this),_(this,$,Pv).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const i of c(this,di))if(i.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const i of c(this,di))if(i.isHandlingMimeForPasting(t.type)){i.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var i;if(e.preventDefault(),(i=c(this,Pn))==null||i.commitOrRemove(),!this.hasSelection)return;const t=[];for(const r of c(this,Re)){const s=r.serialize(!0);s&&t.push(s)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const a of c(this,di))if(a.isHandlingMimeForPasting(s.type)){a.paste(s,this.currentLayer);return}let i=t.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(s){ge(`paste: "${s.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const r=this.currentLayer;try{const s=[];for(const l of i){const u=r.deserialize(l);if(!u)return;s.push(u)}const a=()=>{for(const l of s)_(this,$,Rv).call(this,l);_(this,$,Lv).call(this,s)},o=()=>{for(const l of s)l.remove()};this.addCommands({cmd:a,undo:o,mustExec:!0})}catch(s){ge(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),c(this,It)!==Ae.NONE&&!this.isEditorHandlingKeyboard&&ll._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,c(this,ms)&&(w(this,ms,!1),_(this,$,Cf).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(_(this,$,pS).call(this),_(this,$,Tv).call(this),_(this,$,en).call(this,{isEditing:c(this,It)!==Ae.NONE,isEmpty:_(this,$,qc).call(this),hasSomethingToUndo:c(this,hi).hasSomethingToUndo(),hasSomethingToRedo:c(this,hi).hasSomethingToRedo(),hasSelectedEditor:!1})):(_(this,$,gS).call(this),_(this,$,Pv).call(this),_(this,$,en).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!c(this,di)){w(this,di,e);for(const t of c(this,di))_(this,$,os).call(this,t.defaultPropertiesToUpdate)}}getId(){return c(this,Op).id}get currentLayer(){return c(this,Nt).get(c(this,Al))}getLayer(e){return c(this,Nt).get(e)}get currentPageIndex(){return c(this,Al)}addLayer(e){c(this,Nt).set(e.pageIndex,e),c(this,vs)?e.enable():e.disable()}removeLayer(e){c(this,Nt).delete(e.pageIndex)}updateMode(e,t=null,i=!1){if(c(this,It)!==e){if(w(this,It,e),e===Ae.NONE){this.setEditingState(!1),_(this,$,wS).call(this);return}this.setEditingState(!0),_(this,$,yS).call(this),this.unselectAll();for(const r of c(this,Nt).values())r.updateMode(e);if(!t&&i){this.addNewEditorFromKeyboard();return}if(t){for(const r of c(this,wt).values())if(r.annotationElementId===t){this.setSelected(r),r.enterInEditMode();break}}}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==c(this,It)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){var i;if(c(this,di)){switch(e){case ae.CREATE:this.currentLayer.addNewEditor();return;case ae.HIGHLIGHT_DEFAULT_COLOR:(i=c(this,Ku))==null||i.updateColor(t);break;case ae.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(c(this,Yu)||w(this,Yu,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const r of c(this,Re))r.updateParams(e,t);for(const r of c(this,di))r.updateDefaultParams(e,t)}}showAllEditors(e,t,i=!1){var s;for(const a of c(this,wt).values())a.editorType===e&&a.show(t);(((s=c(this,Yu))==null?void 0:s.get(ae.HIGHLIGHT_SHOW_ALL))??!0)!==t&&_(this,$,os).call(this,[[ae.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(c(this,Xu)!==e){w(this,Xu,e);for(const t of c(this,Nt).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const i of c(this,wt).values())i.pageIndex===e&&t.push(i);return t}getEditor(e){return c(this,wt).get(e)}addEditor(e){c(this,wt).set(e.id,e)}removeEditor(e){var t;e.div.contains(document.activeElement)&&(c(this,Oi)&&clearTimeout(c(this,Oi)),w(this,Oi,setTimeout(()=>{this.focusMainContainer(),w(this,Oi,null)},0))),c(this,wt).delete(e.id),this.unselect(e),(!e.annotationElementId||!c(this,ka).has(e.annotationElementId))&&((t=c(this,mr))==null||t.remove(e.id))}addDeletedAnnotationElement(e){c(this,ka).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return c(this,ka).has(e)}removeDeletedAnnotationElement(e){c(this,ka).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){c(this,Pn)!==e&&(w(this,Pn,e),e&&_(this,$,os).call(this,e.propertiesToUpdate))}updateUI(e){c(this,$,_S)===e&&_(this,$,os).call(this,e.propertiesToUpdate)}toggleSelected(e){if(c(this,Re).has(e)){c(this,Re).delete(e),e.unselect(),_(this,$,en).call(this,{hasSelectedEditor:this.hasSelection});return}c(this,Re).add(e),e.select(),_(this,$,os).call(this,e.propertiesToUpdate),_(this,$,en).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const t of c(this,Re))t!==e&&t.unselect();c(this,Re).clear(),c(this,Re).add(e),e.select(),_(this,$,os).call(this,e.propertiesToUpdate),_(this,$,en).call(this,{hasSelectedEditor:!0})}isSelected(e){return c(this,Re).has(e)}get firstSelectedEditor(){return c(this,Re).values().next().value}unselect(e){e.unselect(),c(this,Re).delete(e),_(this,$,en).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return c(this,Re).size!==0}get isEnterHandled(){return c(this,Re).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){c(this,hi).undo(),_(this,$,en).call(this,{hasSomethingToUndo:c(this,hi).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:_(this,$,qc).call(this)})}redo(){c(this,hi).redo(),_(this,$,en).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:c(this,hi).hasSomethingToRedo(),isEmpty:_(this,$,qc).call(this)})}addCommands(e){c(this,hi).add(e),_(this,$,en).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:_(this,$,qc).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...c(this,Re)],t=()=>{for(const r of e)r.remove()},i=()=>{for(const r of e)_(this,$,Rv).call(this,r)};this.addCommands({cmd:t,undo:i,mustExec:!0})}commitOrRemove(){var e;(e=c(this,Pn))==null||e.commitOrRemove()}hasSomethingToControl(){return c(this,Pn)||this.hasSelection}selectAll(){for(const e of c(this,Re))e.commit();_(this,$,Lv).call(this,c(this,wt).values())}unselectAll(){if(!(c(this,Pn)&&(c(this,Pn).commitOrRemove(),c(this,It)!==Ae.NONE))&&this.hasSelection){for(const e of c(this,Re))e.unselect();c(this,Re).clear(),_(this,$,en).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;c(this,ys)[0]+=e,c(this,ys)[1]+=t;const[r,s]=c(this,ys),a=[...c(this,Re)],o=1e3;c(this,zi)&&clearTimeout(c(this,zi)),w(this,zi,setTimeout(()=>{w(this,zi,null),c(this,ys)[0]=c(this,ys)[1]=0,this.addCommands({cmd:()=>{for(const l of a)c(this,wt).has(l.id)&&l.translateInPage(r,s)},undo:()=>{for(const l of a)c(this,wt).has(l.id)&&l.translateInPage(-r,-s)},mustExec:!1})},o));for(const l of a)l.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),w(this,Fi,new Map);for(const e of c(this,Re))c(this,Fi).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!c(this,Fi))return!1;this.disableUserSelect(!1);const e=c(this,Fi);w(this,Fi,null);let t=!1;for(const[{x:r,y:s,pageIndex:a},o]of e)o.newX=r,o.newY=s,o.newPageIndex=a,t||(t=r!==o.savedX||s!==o.savedY||a!==o.savedPageIndex);if(!t)return!1;const i=(r,s,a,o)=>{if(c(this,wt).has(r.id)){const l=c(this,Nt).get(o);l?r._setParentAndPosition(l,s,a):(r.pageIndex=o,r.x=s,r.y=a)}};return this.addCommands({cmd:()=>{for(const[r,{newX:s,newY:a,newPageIndex:o}]of e)i(r,s,a,o)},undo:()=>{for(const[r,{savedX:s,savedY:a,savedPageIndex:o}]of e)i(r,s,a,o)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(c(this,Fi))for(const i of c(this,Fi).keys())i.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||c(this,Re).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return c(this,Pn)===e}getActive(){return c(this,Pn)}getMode(){return c(this,It)}get imageManager(){return be(this,"imageManager",new bv)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let u=0,h=t.rangeCount;u<h;u++)if(!e.contains(t.getRangeAt(u).commonAncestorContainer))return null;const{x:i,y:r,width:s,height:a}=e.getBoundingClientRect();let o;switch(e.getAttribute("data-main-rotation")){case"90":o=(u,h,d,f)=>({x:(h-r)/a,y:1-(u+d-i)/s,width:f/a,height:d/s});break;case"180":o=(u,h,d,f)=>({x:1-(u+d-i)/s,y:1-(h+f-r)/a,width:d/s,height:f/a});break;case"270":o=(u,h,d,f)=>({x:1-(h+f-r)/a,y:(u-i)/s,width:f/a,height:d/s});break;default:o=(u,h,d,f)=>({x:(u-i)/s,y:(h-r)/a,width:d/s,height:f/a});break}const l=[];for(let u=0,h=t.rangeCount;u<h;u++){const d=t.getRangeAt(u);if(!d.collapsed)for(const{x:f,y:p,width:g,height:y}of d.getClientRects())g===0||y===0||l.push(o(f,p,g,y))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:t}){(c(this,El)||w(this,El,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=c(this,El))==null||t.delete(e)}renderAnnotationElement(e){var r;const t=(r=c(this,El))==null?void 0:r.get(e.data.id);if(!t)return;const i=c(this,mr).getRawValue(t);i&&(c(this,It)===Ae.NONE&&!i.hasBeenModified||i.renderAnnotationElement(e))}};wl=new WeakMap,Pn=new WeakMap,wt=new WeakMap,Nt=new WeakMap,_l=new WeakMap,mr=new WeakMap,El=new WeakMap,hi=new WeakMap,Al=new WeakMap,ka=new WeakMap,Fi=new WeakMap,di=new WeakMap,Ta=new WeakMap,Wu=new WeakMap,Gu=new WeakMap,Oi=new WeakMap,Sl=new WeakMap,ms=new WeakMap,ji=new WeakMap,Op=new WeakMap,vs=new WeakMap,Xu=new WeakMap,Pa=new WeakMap,Ku=new WeakMap,bl=new WeakMap,It=new WeakMap,Re=new WeakMap,vr=new WeakMap,Ra=new WeakMap,Yu=new WeakMap,qu=new WeakMap,Qu=new WeakMap,Ju=new WeakMap,Zu=new WeakMap,eh=new WeakMap,th=new WeakMap,nh=new WeakMap,ih=new WeakMap,rh=new WeakMap,sh=new WeakMap,ah=new WeakMap,oh=new WeakMap,ys=new WeakMap,zi=new WeakMap,yr=new WeakMap,lh=new WeakMap,$=new WeakSet,xf=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},hS=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const i=_(this,$,xf).call(this,e).closest(".textLayer"),r=this.getSelectionBoxes(i);r&&(c(this,ji)||w(this,ji,new aR(this)),c(this,ji).show(i,r,this.direction==="ltr"))},dS=function(){var s,a,o;const e=document.getSelection();if(!e||e.isCollapsed){c(this,vr)&&((s=c(this,ji))==null||s.hide(),w(this,vr,null),_(this,$,en).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===c(this,vr))return;if(!_(this,$,xf).call(this,e).closest(".textLayer")){c(this,vr)&&((a=c(this,ji))==null||a.hide(),w(this,vr,null),_(this,$,en).call(this,{hasSelectedText:!1}));return}if((o=c(this,ji))==null||o.hide(),w(this,vr,t),_(this,$,en).call(this,{hasSelectedText:!0}),!(c(this,It)!==Ae.HIGHLIGHT&&c(this,It)!==Ae.NONE)&&(c(this,It)===Ae.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),w(this,ms,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=this._signal,u=h=>{h.type==="pointerup"&&h.button!==0||(window.removeEventListener("pointerup",u),window.removeEventListener("blur",u),h.type==="pointerup"&&_(this,$,Cf).call(this,"main_toolbar"))};window.addEventListener("pointerup",u,{signal:l}),window.addEventListener("blur",u,{signal:l})}},Cf=function(e=""){c(this,It)===Ae.HIGHLIGHT?this.highlightSelection(e):c(this,Wu)&&_(this,$,hS).call(this)},fS=function(){document.addEventListener("selectionchange",_(this,$,dS).bind(this),{signal:this._signal})},pS=function(){const e=this._signal;window.addEventListener("focus",c(this,Qu),{signal:e}),window.addEventListener("blur",c(this,qu),{signal:e})},gS=function(){window.removeEventListener("focus",c(this,Qu)),window.removeEventListener("blur",c(this,qu))},kv=function(){const e=this._signal;window.addEventListener("keydown",c(this,th),{signal:e}),window.addEventListener("keyup",c(this,nh),{signal:e})},mS=function(){window.removeEventListener("keydown",c(this,th)),window.removeEventListener("keyup",c(this,nh))},Tv=function(){const e=this._signal;document.addEventListener("copy",c(this,Ju),{signal:e}),document.addEventListener("cut",c(this,Zu),{signal:e}),document.addEventListener("paste",c(this,eh),{signal:e})},Pv=function(){document.removeEventListener("copy",c(this,Ju)),document.removeEventListener("cut",c(this,Zu)),document.removeEventListener("paste",c(this,eh))},vS=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},en=function(e){Object.entries(e).some(([i,r])=>c(this,oh)[i]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(c(this,oh),e)}),c(this,It)===Ae.HIGHLIGHT&&e.hasSelectedEditor===!1&&_(this,$,os).call(this,[[ae.HIGHLIGHT_FREE,!0]]))},os=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},yS=function(){if(!c(this,vs)){w(this,vs,!0);for(const e of c(this,Nt).values())e.enable();for(const e of c(this,wt).values())e.enable()}},wS=function(){if(this.unselectAll(),c(this,vs)){w(this,vs,!1);for(const e of c(this,Nt).values())e.disable();for(const e of c(this,wt).values())e.disable()}},Rv=function(e){const t=c(this,Nt).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},_S=function(){let e=null;for(e of c(this,Re));return e},qc=function(){if(c(this,wt).size===0)return!0;if(c(this,wt).size===1)for(const e of c(this,wt).values())return e.isEmpty();return!1},Lv=function(e){for(const t of c(this,Re))t.unselect();c(this,Re).clear();for(const t of e)t.isEmpty()||(c(this,Re).add(t),t.select());_(this,$,en).call(this,{hasSelectedEditor:this.hasSelection})},le(ll,"TRANSLATE_SMALL",1),le(ll,"TRANSLATE_BIG",10);let Co=ll;var wr,_r,fi,Er,Rn,xl,pi,ch,Mv;const ur=class ur{constructor(e){E(this,ch);E(this,wr,"");E(this,_r,!1);E(this,fi,null);E(this,Er,null);E(this,Rn,null);E(this,xl,!1);E(this,pi,null);w(this,pi,e)}static initialize(e){ur._l10nPromise||(ur._l10nPromise=e)}async render(){const e=w(this,fi,document.createElement("button"));e.className="altText";const t=await ur._l10nPromise.get("pdfjs-editor-alt-text-button-label");e.textContent=t,e.setAttribute("aria-label",t),e.tabIndex="0";const i=c(this,pi)._uiManager._signal;e.addEventListener("contextmenu",Sn,{signal:i}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:i});const r=s=>{s.preventDefault(),c(this,pi)._uiManager.editAltText(c(this,pi))};return e.addEventListener("click",r,{capture:!0,signal:i}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(w(this,xl,!0),r(s))},{signal:i}),await _(this,ch,Mv).call(this),e}finish(){c(this,fi)&&(c(this,fi).focus({focusVisible:c(this,xl)}),w(this,xl,!1))}isEmpty(){return!c(this,wr)&&!c(this,_r)}get data(){return{altText:c(this,wr),decorative:c(this,_r)}}set data({altText:e,decorative:t}){c(this,wr)===e&&c(this,_r)===t||(w(this,wr,e),w(this,_r,t),_(this,ch,Mv).call(this))}toggle(e=!1){c(this,fi)&&(!e&&c(this,Rn)&&(clearTimeout(c(this,Rn)),w(this,Rn,null)),c(this,fi).disabled=!e)}destroy(){var e;(e=c(this,fi))==null||e.remove(),w(this,fi,null),w(this,Er,null)}};wr=new WeakMap,_r=new WeakMap,fi=new WeakMap,Er=new WeakMap,Rn=new WeakMap,xl=new WeakMap,pi=new WeakMap,ch=new WeakSet,Mv=async function(){var r;const e=c(this,fi);if(!e)return;if(!c(this,wr)&&!c(this,_r)){e.classList.remove("done"),(r=c(this,Er))==null||r.remove();return}e.classList.add("done"),ur._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(s=>{e.setAttribute("aria-label",s)});let t=c(this,Er);if(!t){w(this,Er,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip");const s=t.id=`alt-text-tooltip-${c(this,pi).id}`;e.setAttribute("aria-describedby",s);const a=100,o=c(this,pi)._uiManager._signal;o.addEventListener("abort",()=>{clearTimeout(c(this,Rn)),w(this,Rn,null)},{once:!0}),e.addEventListener("mouseenter",()=>{w(this,Rn,setTimeout(()=>{w(this,Rn,null),c(this,Er).classList.add("show"),c(this,pi)._reportTelemetry({action:"alt_text_tooltip"})},a))},{signal:o}),e.addEventListener("mouseleave",()=>{var l;c(this,Rn)&&(clearTimeout(c(this,Rn)),w(this,Rn,null)),(l=c(this,Er))==null||l.classList.remove("show")},{signal:o})}t.innerText=c(this,_r)?await ur._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):c(this,wr),t.parentNode||e.append(t);const i=c(this,pi).getImageForAltText();i==null||i.setAttribute("aria-describedby",t.id)},le(ur,"_l10nPromise",null);let bp=ur;var La,gi,Kt,Cl,Ma,Ft,Da,kl,Tl,Yt,uh,Na,ws,hh,Ia,Ar,Hi,Pl,Rl,Yn,dh,jp,me,Dv,fh,Nv,Iv,ES,AS,Fv,Ov,jv,SS,bS,xS,CS,zv,Qc;const Be=class Be{constructor(e){E(this,me);E(this,La,null);E(this,gi,null);E(this,Kt,null);E(this,Cl,!1);E(this,Ma,!1);E(this,Ft,null);E(this,Da,null);E(this,kl,this.focusin.bind(this));E(this,Tl,this.focusout.bind(this));E(this,Yt,null);E(this,uh,"");E(this,Na,!1);E(this,ws,null);E(this,hh,!1);E(this,Ia,!1);E(this,Ar,!1);E(this,Hi,null);E(this,Pl,0);E(this,Rl,0);E(this,Yn,null);le(this,"_initialOptions",Object.create(null));le(this,"_isVisible",!0);le(this,"_uiManager",null);le(this,"_focusEventsAllowed",!0);le(this,"_l10nPromise",null);E(this,dh,!1);E(this,jp,Be._zIndex++);this.constructor===Be&&Oe("Cannot initialize AnnotationEditor."),this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:i,pageHeight:r,pageX:s,pageY:a}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,r],this.pageTranslation=[s,a];const[o,l]=this.parentDimensions;this.x=e.x/o,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=Be.prototype._resizeWithKeyboard,t=Co.TRANSLATE_SMALL,i=Co.TRANSLATE_BIG;return be(this,"_resizerKeyboardManager",new xd([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,i]}],[["Escape","mac+Escape"],Be.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return be(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new uR({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t,i){if(Be._l10nPromise||(Be._l10nPromise=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map(s=>[s,e.get(s.replaceAll(/([A-Z])/g,a=>`-${a.toLowerCase()}`))]))),i!=null&&i.strings)for(const s of i.strings)Be._l10nPromise.set(s,e.get(s));if(Be._borderLineWidth!==-1)return;const r=getComputedStyle(document.documentElement);Be._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){Oe("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return c(this,dh)}set _isDraggable(e){var t;w(this,dh,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=c(this,jp)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):_(this,me,Qc).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(c(this,Na)?w(this,Na,!1):this.parent.setSelected(this))}focusout(e){var i;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(i=this.parent)!=null&&i.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,i,r){const[s,a]=this.parentDimensions;[i,r]=this.screenToPageTranslation(i,r),this.x=(e+i)/s,this.y=(t+r)/a,this.fixAndSetPosition()}translate(e,t){_(this,me,Dv).call(this,this.parentDimensions,e,t)}translateInPage(e,t){c(this,ws)||w(this,ws,[this.x,this.y]),_(this,me,Dv).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){c(this,ws)||w(this,ws,[this.x,this.y]);const[i,r]=this.parentDimensions;if(this.x+=e/i,this.y+=t/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:u,y:h}=this.div.getBoundingClientRect();this.parent.findNewParent(this,u,h)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:s,y:a}=this;const[o,l]=this.getBaseTranslation();s+=o,a+=l,this.div.style.left=`${(100*s).toFixed(2)}%`,this.div.style.top=`${(100*a).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!c(this,ws)&&(c(this,ws)[0]!==this.x||c(this,ws)[1]!==this.y)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:i}=Be,r=i/e,s=i/t;switch(this.rotation){case 90:return[-r,s];case 180:return[r,s];case 270:return[r,-s];default:return[-r,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[t,i]=this.pageDimensions;let{x:r,y:s,width:a,height:o}=this;if(a*=t,o*=i,r*=t,s*=i,this._mustFixPosition)switch(e){case 0:r=Math.max(0,Math.min(t-a,r)),s=Math.max(0,Math.min(i-o,s));break;case 90:r=Math.max(0,Math.min(t-o,r)),s=Math.min(i,Math.max(a,s));break;case 180:r=Math.min(t,Math.max(a,r)),s=Math.min(i,Math.max(o,s));break;case 270:r=Math.min(t,Math.max(o,r)),s=Math.max(0,Math.min(i-a,s));break}this.x=r/=t,this.y=s/=i;const[l,u]=this.getBaseTranslation();r+=l,s+=u;const{style:h}=this.div;h.left=`${(100*r).toFixed(2)}%`,h.top=`${(100*s).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var i;return _(i=Be,fh,Nv).call(i,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var i;return _(i=Be,fh,Nv).call(i,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,i]}=this,r=t*e,s=i*e;return yn.isCSSRoundSupported?[Math.round(r),Math.round(s)]:[r,s]}setDims(e,t){const[i,r]=this.parentDimensions;this.div.style.width=`${(100*e/i).toFixed(2)}%`,c(this,Ma)||(this.div.style.height=`${(100*t/r).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:i}=e,r=i.endsWith("%"),s=!c(this,Ma)&&t.endsWith("%");if(r&&s)return;const[a,o]=this.parentDimensions;r||(e.width=`${(100*parseFloat(i)/a).toFixed(2)}%`),!c(this,Ma)&&!s&&(e.height=`${(100*parseFloat(t)/o).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=c(this,Kt))==null||e.finish()}async addEditToolbar(){return c(this,Yt)||c(this,Ia)?c(this,Yt):(w(this,Yt,new Av(this)),this.div.append(c(this,Yt).render()),c(this,Kt)&&c(this,Yt).addAltTextButton(await c(this,Kt).render()),c(this,Yt))}removeEditToolbar(){var e;c(this,Yt)&&(c(this,Yt).remove(),w(this,Yt,null),(e=c(this,Kt))==null||e.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){c(this,Kt)||(bp.initialize(Be._l10nPromise),w(this,Kt,new bp(this)),c(this,La)&&(c(this,Kt).data=c(this,La),w(this,La,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=c(this,Kt))==null?void 0:e.data}set altTextData(e){c(this,Kt)&&(c(this,Kt).data=e)}hasAltText(){var e;return!((e=c(this,Kt))!=null&&e.isEmpty())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=c(this,Cl)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground();const e=this._uiManager._signal;this.div.addEventListener("focusin",c(this,kl),{signal:e}),this.div.addEventListener("focusout",c(this,Tl),{signal:e});const[t,i]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*i/t).toFixed(2)}%`,this.div.style.maxHeight=`${(100*t/i).toFixed(2)}%`);const[r,s]=this.getInitialTranslation();return this.translate(r,s),Sp(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:t}=yn.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(w(this,Na,!0),this._isDraggable){_(this,me,SS).call(this,e);return}_(this,me,jv).call(this,e)}moveInDOM(){c(this,Hi)&&clearTimeout(c(this,Hi)),w(this,Hi,setTimeout(()=>{var e;w(this,Hi,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,i){e.changeParent(this),this.x=t,this.y=i,this.fixAndSetPosition()}getRect(e,t,i=this.rotation){const r=this.parentScale,[s,a]=this.pageDimensions,[o,l]=this.pageTranslation,u=e/r,h=t/r,d=this.x*s,f=this.y*a,p=this.width*s,g=this.height*a;switch(i){case 0:return[d+u+o,a-f-h-g+l,d+u+p+o,a-f-h+l];case 90:return[d+h+o,a-f+u+l,d+h+g+o,a-f+u+p+l];case 180:return[d-u-p+o,a-f+h+l,d-u+o,a-f+h+g+l];case 270:return[d-h-g+o,a-f-u-p+l,d-h+o,a-f-u+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[i,r,s,a]=e,o=s-i,l=a-r;switch(this.rotation){case 0:return[i,t-a,o,l];case 90:return[i,t-r,l,o];case 180:return[s,t-r,o,l];case 270:return[s,t-a,l,o];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){w(this,Ia,!0)}disableEditMode(){w(this,Ia,!1)}isInEditMode(){return c(this,Ia)}shouldGetKeyboardEvents(){return c(this,Ar)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var t,i;const e=this._uiManager._signal;(t=this.div)==null||t.addEventListener("focusin",c(this,kl),{signal:e}),(i=this.div)==null||i.addEventListener("focusout",c(this,Tl),{signal:e})}rotate(e){}serialize(e=!1,t=null){Oe("An editor must be serializable")}static deserialize(e,t,i){const r=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:i});r.rotation=e.rotation,w(r,La,e.accessibilityData);const[s,a]=r.pageDimensions,[o,l,u,h]=r.getRectInCurrentCoords(e.rect,a);return r.x=o/s,r.y=l/a,r.width=u/s,r.height=h/a,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.div.removeEventListener("focusin",c(this,kl)),this.div.removeEventListener("focusout",c(this,Tl)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),c(this,Hi)&&(clearTimeout(c(this,Hi)),w(this,Hi,null)),_(this,me,Qc).call(this),this.removeEditToolbar(),c(this,Yn)){for(const e of c(this,Yn).values())clearTimeout(e);w(this,Yn,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(_(this,me,ES).call(this),c(this,Ft).classList.remove("hidden"),Sp(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),w(this,Da,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=c(this,Ft).children;if(!c(this,gi)){w(this,gi,Array.from(t));const a=_(this,me,bS).bind(this),o=_(this,me,xS).bind(this),l=this._uiManager._signal;for(const u of c(this,gi)){const h=u.getAttribute("data-resizer-name");u.setAttribute("role","spinbutton"),u.addEventListener("keydown",a,{signal:l}),u.addEventListener("blur",o,{signal:l}),u.addEventListener("focus",_(this,me,CS).bind(this,h),{signal:l}),Be._l10nPromise.get(`pdfjs-editor-resizer-label-${h}`).then(d=>u.setAttribute("aria-label",d))}}const i=c(this,gi)[0];let r=0;for(const a of t){if(a===i)break;r++}const s=(360-this.rotation+this.parentRotation)%360/90*(c(this,gi).length/4);if(s!==r){if(s<r)for(let o=0;o<r-s;o++)c(this,Ft).append(c(this,Ft).firstChild);else if(s>r)for(let o=0;o<s-r;o++)c(this,Ft).firstChild.before(c(this,Ft).lastChild);let a=0;for(const o of t){const u=c(this,gi)[a++].getAttribute("data-resizer-name");Be._l10nPromise.get(`pdfjs-editor-resizer-label-${u}`).then(h=>o.setAttribute("aria-label",h))}}_(this,me,zv).call(this,0),w(this,Ar,!0),c(this,Ft).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){c(this,Ar)&&_(this,me,Ov).call(this,c(this,uh),{movementX:e,movementY:t})}_stopResizingWithKeyboard(){_(this,me,Qc).call(this),this.div.focus()}select(){var e,t;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!c(this,Yt)){this.addEditToolbar().then(()=>{var i,r;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((r=c(this,Yt))==null||r.show())});return}(t=c(this,Yt))==null||t.show()}unselect(){var e,t,i,r;(e=c(this,Ft))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(i=this.div)!=null&&i.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(r=c(this,Yt))==null||r.hide()}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return c(this,hh)}set isEditing(e){w(this,hh,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){w(this,Ma,!0);const i=e/t,{style:r}=this.div;r.aspectRatio=i,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){c(this,Yn)||w(this,Yn,new Map);const{action:i}=e;let r=c(this,Yn).get(i);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(e),c(this,Yn).delete(i),c(this,Yn).size===0&&w(this,Yn,null)},Be._telemetryTimeout),c(this,Yn).set(i,r);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),w(this,Cl,!1)}disable(){this.div&&(this.div.tabIndex=-1),w(this,Cl,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const i=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),i.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;t.nodeName==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};La=new WeakMap,gi=new WeakMap,Kt=new WeakMap,Cl=new WeakMap,Ma=new WeakMap,Ft=new WeakMap,Da=new WeakMap,kl=new WeakMap,Tl=new WeakMap,Yt=new WeakMap,uh=new WeakMap,Na=new WeakMap,ws=new WeakMap,hh=new WeakMap,Ia=new WeakMap,Ar=new WeakMap,Hi=new WeakMap,Pl=new WeakMap,Rl=new WeakMap,Yn=new WeakMap,dh=new WeakMap,jp=new WeakMap,me=new WeakSet,Dv=function([e,t],i,r){[i,r]=this.screenToPageTranslation(i,r),this.x+=i/e,this.y+=r/t,this.fixAndSetPosition()},fh=new WeakSet,Nv=function(e,t,i){switch(i){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},Iv=function(e){switch(e){case 90:{const[t,i]=this.pageDimensions;return[0,-t/i,i/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,i]=this.pageDimensions;return[0,t/i,-i/t,0]}default:return[1,0,0,1]}},ES=function(){if(c(this,Ft))return;w(this,Ft,document.createElement("div")),c(this,Ft).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const i of e){const r=document.createElement("div");c(this,Ft).append(r),r.classList.add("resizer",i),r.setAttribute("data-resizer-name",i),r.addEventListener("pointerdown",_(this,me,AS).bind(this,i),{signal:t}),r.addEventListener("contextmenu",Sn,{signal:t}),r.tabIndex=-1}this.div.prepend(c(this,Ft))},AS=function(e,t){var y;t.preventDefault();const{isMac:i}=yn.platform;if(t.button!==0||t.ctrlKey&&i)return;(y=c(this,Kt))==null||y.toggle(!1);const r=_(this,me,Ov).bind(this,e),s=this._isDraggable;this._isDraggable=!1;const a=this._uiManager._signal,o={passive:!0,capture:!0,signal:a};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",r,o),window.addEventListener("contextmenu",Sn,{signal:a});const l=this.x,u=this.y,h=this.width,d=this.height,f=this.parent.div.style.cursor,p=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const g=()=>{var b;this.parent.togglePointerEvents(!0),(b=c(this,Kt))==null||b.toggle(!0),this._isDraggable=s,window.removeEventListener("pointerup",g),window.removeEventListener("blur",g),window.removeEventListener("pointermove",r,o),window.removeEventListener("contextmenu",Sn),this.parent.div.style.cursor=f,this.div.style.cursor=p,_(this,me,Fv).call(this,l,u,h,d)};window.addEventListener("pointerup",g,{signal:a}),window.addEventListener("blur",g,{signal:a})},Fv=function(e,t,i,r){const s=this.x,a=this.y,o=this.width,l=this.height;s===e&&a===t&&o===i&&l===r||this.addCommands({cmd:()=>{this.width=o,this.height=l,this.x=s,this.y=a;const[u,h]=this.parentDimensions;this.setDims(u*o,h*l),this.fixAndSetPosition()},undo:()=>{this.width=i,this.height=r,this.x=e,this.y=t;const[u,h]=this.parentDimensions;this.setDims(u*i,h*r),this.fixAndSetPosition()},mustExec:!0})},Ov=function(e,t){const[i,r]=this.parentDimensions,s=this.x,a=this.y,o=this.width,l=this.height,u=Be.MIN_SIZE/i,h=Be.MIN_SIZE/r,d=U=>Math.round(U*1e4)/1e4,f=_(this,me,Iv).call(this,this.rotation),p=(U,F)=>[f[0]*U+f[2]*F,f[1]*U+f[3]*F],g=_(this,me,Iv).call(this,360-this.rotation),y=(U,F)=>[g[0]*U+g[2]*F,g[1]*U+g[3]*F];let b,m,v=!1,A=!1;switch(e){case"topLeft":v=!0,b=(U,F)=>[0,0],m=(U,F)=>[U,F];break;case"topMiddle":b=(U,F)=>[U/2,0],m=(U,F)=>[U/2,F];break;case"topRight":v=!0,b=(U,F)=>[U,0],m=(U,F)=>[0,F];break;case"middleRight":A=!0,b=(U,F)=>[U,F/2],m=(U,F)=>[0,F/2];break;case"bottomRight":v=!0,b=(U,F)=>[U,F],m=(U,F)=>[0,0];break;case"bottomMiddle":b=(U,F)=>[U/2,F],m=(U,F)=>[U/2,0];break;case"bottomLeft":v=!0,b=(U,F)=>[0,F],m=(U,F)=>[U,0];break;case"middleLeft":A=!0,b=(U,F)=>[0,F/2],m=(U,F)=>[U,F/2];break}const C=b(o,l),T=m(o,l);let R=p(...T);const L=d(s+R[0]),x=d(a+R[1]);let N=1,I=1,[O,J]=this.screenToPageTranslation(t.movementX,t.movementY);if([O,J]=y(O/i,J/r),v){const U=Math.hypot(o,l);N=I=Math.max(Math.min(Math.hypot(T[0]-C[0]-O,T[1]-C[1]-J)/U,1/o,1/l),u/o,h/l)}else A?N=Math.max(u,Math.min(1,Math.abs(T[0]-C[0]-O)))/o:I=Math.max(h,Math.min(1,Math.abs(T[1]-C[1]-J)))/l;const Y=d(o*N),W=d(l*I);R=p(...m(Y,W));const se=L-R[0],oe=x-R[1];this.width=Y,this.height=W,this.x=se,this.y=oe,this.setDims(i*Y,r*W),this.fixAndSetPosition()},jv=function(e){const{isMac:t}=yn.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},SS=function(e){const t=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let i,r;const s=this._uiManager._signal;t&&(this.div.classList.add("moving"),i={passive:!0,capture:!0,signal:s},w(this,Pl,e.clientX),w(this,Rl,e.clientY),r=o=>{const{clientX:l,clientY:u}=o,[h,d]=this.screenToPageTranslation(l-c(this,Pl),u-c(this,Rl));w(this,Pl,l),w(this,Rl,u),this._uiManager.dragSelectedEditors(h,d)},window.addEventListener("pointermove",r,i));const a=()=>{window.removeEventListener("pointerup",a),window.removeEventListener("blur",a),t&&(this.div.classList.remove("moving"),window.removeEventListener("pointermove",r,i)),w(this,Na,!1),this._uiManager.endDragSession()||_(this,me,jv).call(this,e)};window.addEventListener("pointerup",a,{signal:s}),window.addEventListener("blur",a,{signal:s})},bS=function(e){Be._resizerKeyboardManager.exec(this,e)},xS=function(e){var t;c(this,Ar)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==c(this,Ft)&&_(this,me,Qc).call(this)},CS=function(e){w(this,uh,c(this,Ar)?e:"")},zv=function(e){if(c(this,gi))for(const t of c(this,gi))t.tabIndex=e},Qc=function(){if(w(this,Ar,!1),_(this,me,zv).call(this,-1),c(this,Da)){const{savedX:e,savedY:t,savedWidth:i,savedHeight:r}=c(this,Da);_(this,me,Fv).call(this,e,t,i,r),w(this,Da,null)}},E(Be,fh),le(Be,"_borderLineWidth",-1),le(Be,"_colorManager",new Cv),le(Be,"_zIndex",1),le(Be,"_telemetryTimeout",1e3);let Le=Be;class uR extends Le{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}const W_=3285377520,Xn=4294901760,Di=65535;class kS{constructor(e){this.h1=e?e&4294967295:W_,this.h2=e?e&4294967295:W_}update(e){let t,i;if(typeof e=="string"){t=new Uint8Array(e.length*2),i=0;for(let y=0,b=e.length;y<b;y++){const m=e.charCodeAt(y);m<=255?t[i++]=m:(t[i++]=m>>>8,t[i++]=m&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),i=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=i>>2,s=i-r*4,a=new Uint32Array(t.buffer,0,r);let o=0,l=0,u=this.h1,h=this.h2;const d=3432918353,f=461845907,p=d&Di,g=f&Di;for(let y=0;y<r;y++)y&1?(o=a[y],o=o*d&Xn|o*p&Di,o=o<<15|o>>>17,o=o*f&Xn|o*g&Di,u^=o,u=u<<13|u>>>19,u=u*5+3864292196):(l=a[y],l=l*d&Xn|l*p&Di,l=l<<15|l>>>17,l=l*f&Xn|l*g&Di,h^=l,h=h<<13|h>>>19,h=h*5+3864292196);switch(o=0,s){case 3:o^=t[r*4+2]<<16;case 2:o^=t[r*4+1]<<8;case 1:o^=t[r*4],o=o*d&Xn|o*p&Di,o=o<<15|o>>>17,o=o*f&Xn|o*g&Di,r&1?u^=o:h^=o}this.h1=u,this.h2=h}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Xn|e*36045&Di,t=t*4283543511&Xn|((t<<16|e>>>16)*2950163797&Xn)>>>16,e^=t>>>1,e=e*444984403&Xn|e*60499&Di,t=t*3301882366&Xn|((t<<16|e>>>16)*3120437893&Xn)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const Hv=Object.freeze({map:null,hash:"",transfer:void 0});var Fa,Ot,zp,TS;class U0{constructor(){E(this,zp);E(this,Fa,!1);E(this,Ot,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const i=c(this,Ot).get(e);return i===void 0?t:Object.assign(t,i)}getRawValue(e){return c(this,Ot).get(e)}remove(e){if(c(this,Ot).delete(e),c(this,Ot).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of c(this,Ot).values())if(t instanceof Le)return;this.onAnnotationEditor(null)}}setValue(e,t){const i=c(this,Ot).get(e);let r=!1;if(i!==void 0)for(const[s,a]of Object.entries(t))i[s]!==a&&(r=!0,i[s]=a);else r=!0,c(this,Ot).set(e,t);r&&_(this,zp,TS).call(this),t instanceof Le&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return c(this,Ot).has(e)}getAll(){return c(this,Ot).size>0?I0(c(this,Ot)):null}setAll(e){for(const[t,i]of Object.entries(e))this.setValue(t,i)}get size(){return c(this,Ot).size}resetModified(){c(this,Fa)&&(w(this,Fa,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new PS(this)}get serializable(){if(c(this,Ot).size===0)return Hv;const e=new Map,t=new kS,i=[],r=Object.create(null);let s=!1;for(const[a,o]of c(this,Ot)){const l=o instanceof Le?o.serialize(!1,r):o;l&&(e.set(a,l),t.update(`${a}:${JSON.stringify(l)}`),s||(s=!!l.bitmap))}if(s)for(const a of e.values())a.bitmap&&i.push(a.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:i}:Hv}get editorStats(){let e=null;const t=new Map;for(const i of c(this,Ot).values()){if(!(i instanceof Le))continue;const r=i.telemetryFinalData;if(!r)continue;const{type:s}=r;t.has(s)||t.set(s,Object.getPrototypeOf(i).constructor),e||(e=Object.create(null));const a=e[s]||(e[s]=new Map);for(const[o,l]of Object.entries(r)){if(o==="type")continue;let u=a.get(o);u||(u=new Map,a.set(o,u));const h=u.get(l)??0;u.set(l,h+1)}}for(const[i,r]of t)e[i]=r.computeTelemetryFinalData(e[i]);return e}}Fa=new WeakMap,Ot=new WeakMap,zp=new WeakSet,TS=function(){c(this,Fa)||(w(this,Fa,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var ph;class PS extends U0{constructor(t){super();E(this,ph);const{map:i,hash:r,transfer:s}=t.serializable,a=structuredClone(i,s?{transfer:s}:null);w(this,ph,{map:a,hash:r,transfer:s})}get print(){Oe("Should not call PrintAnnotationStorage.print")}get serializable(){return c(this,ph)}}ph=new WeakMap;var Ll;class hR{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){E(this,Ll,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),c(this,Ll).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:t}){if(!(!e||c(this,Ll).has(e.loadedName))){if(xt(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:r,style:s}=e,a=new FontFace(i,r,s);this.addNativeFontFace(a);try{await a.load(),c(this,Ll).add(i),t==null||t(e)}catch{ge(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(a)}return}Oe("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const i=e.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(r){throw ge(`Failed to load font '${i.family}': '${r}'.`),e.disableFontFace=!0,r}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const r=this._queueLoadingCallback(i);this._prepareFontLoadEvent(e,r)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return be(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(Jt||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),be(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function t(){for(xt(!r.done,"completeRequest() cannot be called twice."),r.done=!0;i.length>0&&i[0].done;){const s=i.shift();setTimeout(s.callback,0)}}const{loadingRequests:i}=this,r={done:!1,complete:t,callback:e};return i.push(r),r}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return be(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function i(C,T){return C.charCodeAt(T)<<24|C.charCodeAt(T+1)<<16|C.charCodeAt(T+2)<<8|C.charCodeAt(T+3)&255}function r(C,T,R,L){const x=C.substring(0,T),N=C.substring(T+R);return x+L+N}let s,a;const o=this._document.createElement("canvas");o.width=1,o.height=1;const l=o.getContext("2d");let u=0;function h(C,T){if(++u>30){ge("Load test font never loaded."),T();return}if(l.font="30px "+C,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){T();return}setTimeout(h.bind(null,C,T))}const d=`lt${Date.now()}${this.loadTestFontId++}`;let f=this._loadTestFont;f=r(f,976,d.length,d);const g=16,y=1482184792;let b=i(f,g);for(s=0,a=d.length-3;s<a;s+=4)b=b-y+i(d,s)|0;s<d.length&&(b=b-y+i(d+"XXX",s)|0),f=r(f,g,4,KP(b));const m=`url(data:font/opentype;base64,${btoa(f)});`,v=`@font-face {font-family:"${d}";src:${m}}`;this.insertRule(v);const A=this._document.createElement("div");A.style.visibility="hidden",A.style.width=A.style.height="10px",A.style.position="absolute",A.style.top=A.style.left="0px";for(const C of[e.loadedName,d]){const T=this._document.createElement("span");T.textContent="Hi",T.style.fontFamily=C,A.append(T)}this._document.body.append(A),h(d,()=>{A.remove(),t.complete()})}}Ll=new WeakMap;class dR{constructor(e,{disableFontFace:t=!1,inspectFont:i=null}){this.compiledGlyphs=Object.create(null);for(const r in e)this[r]=e[r];this.disableFontFace=t===!0,this._inspectFont=i}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const i={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(i.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,i)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var r;if(!this.data||this.disableFontFace)return null;const e=q1(this.data),t=`url(data:${this.mimetype};base64,${btoa(e)});`;let i;if(!this.cssFontInfo)i=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),i=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${t}}`}return(r=this._inspectFont)==null||r.call(this,this,t),i}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];let i;try{i=e.get(this.loadedName+"_path_"+t)}catch(s){ge(`getPathGenerator - ignoring character: "${s}".`)}if(!Array.isArray(i)||i.length===0)return this.compiledGlyphs[t]=function(s,a){};const r=[];for(let s=0,a=i.length;s<a;)switch(i[s++]){case ar.BEZIER_CURVE_TO:{const[o,l,u,h,d,f]=i.slice(s,s+6);r.push(p=>p.bezierCurveTo(o,l,u,h,d,f)),s+=6}break;case ar.MOVE_TO:{const[o,l]=i.slice(s,s+2);r.push(u=>u.moveTo(o,l)),s+=2}break;case ar.LINE_TO:{const[o,l]=i.slice(s,s+2);r.push(u=>u.lineTo(o,l)),s+=2}break;case ar.QUADRATIC_CURVE_TO:{const[o,l,u,h]=i.slice(s,s+4);r.push(d=>d.quadraticCurveTo(o,l,u,h)),s+=4}break;case ar.RESTORE:r.push(o=>o.restore());break;case ar.SAVE:r.push(o=>o.save());break;case ar.SCALE:xt(r.length===2,"Scale command is only valid at the third position.");break;case ar.TRANSFORM:{const[o,l,u,h,d,f]=i.slice(s,s+6);r.push(p=>p.transform(o,l,u,h,d,f)),s+=6}break;case ar.TRANSLATE:{const[o,l]=i.slice(s,s+2);r.push(u=>u.translate(o,l)),s+=2}break}return this.compiledGlyphs[t]=function(a,o){r[0](a),r[1](a),a.scale(o,-o);for(let l=2,u=r.length;l<u;l++)r[l](a)}}}if(Jt){var Bv=Promise.withResolvers(),vu=null;(async()=>{const e=await tf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),t=await tf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),i=await tf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=await tf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let s,a;return new Map(Object.entries({fs:e,http:t,https:i,url:r,canvas:s,path2d:a}))})().then(e=>{vu=e,Bv.resolve()},e=>{ge(`loadPackages: ${e}`),vu=new Map,Bv.resolve()})}class nr{static get promise(){return Bv.promise}static get(e){return vu==null?void 0:vu.get(e)}}const RS=function(n){return nr.get("fs").promises.readFile(n).then(t=>new Uint8Array(t))};class fR extends Eg{}class pR extends Ap{_createCanvas(e,t){return nr.get("canvas").createCanvas(e,t)}}class gR extends Ag{_fetchData(e,t){return RS(e).then(i=>({cMapData:i,compressionType:t}))}}class mR extends Sg{_fetchData(e){return RS(e)}}const an={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Uv(n,e){if(!e)return;const t=e[2]-e[0],i=e[3]-e[1],r=new Path2D;r.rect(e[0],e[1],t,i),n.clip(r)}class Cd{constructor(){this.constructor===Cd&&Oe("Cannot initialize BaseShadingPattern.")}getPattern(){Oe("Abstract method `getPattern` called.")}}class vR extends Cd{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const i of this._colorStops)t.addColorStop(i[0],i[1]);return t}getPattern(e,t,i,r){let s;if(r===an.STROKE||r===an.FILL){const a=t.current.getClippedPathBoundingBox(r,et(e))||[0,0,0,0],o=Math.ceil(a[2]-a[0])||1,l=Math.ceil(a[3]-a[1])||1,u=t.cachedCanvases.getCanvas("pattern",o,l,!0),h=u.context;h.clearRect(0,0,h.canvas.width,h.canvas.height),h.beginPath(),h.rect(0,0,h.canvas.width,h.canvas.height),h.translate(-a[0],-a[1]),i=Q.transform(i,[1,0,0,1,a[0],a[1]]),h.transform(...t.baseTransform),this.matrix&&h.transform(...this.matrix),Uv(h,this._bbox),h.fillStyle=this._createGradient(h),h.fill(),s=e.createPattern(u.canvas,"no-repeat");const d=new DOMMatrix(i);s.setTransform(d)}else Uv(e,this._bbox),s=this._createGradient(e);return s}}function vm(n,e,t,i,r,s,a,o){const l=e.coords,u=e.colors,h=n.data,d=n.width*4;let f;l[t+1]>l[i+1]&&(f=t,t=i,i=f,f=s,s=a,a=f),l[i+1]>l[r+1]&&(f=i,i=r,r=f,f=a,a=o,o=f),l[t+1]>l[i+1]&&(f=t,t=i,i=f,f=s,s=a,a=f);const p=(l[t]+e.offsetX)*e.scaleX,g=(l[t+1]+e.offsetY)*e.scaleY,y=(l[i]+e.offsetX)*e.scaleX,b=(l[i+1]+e.offsetY)*e.scaleY,m=(l[r]+e.offsetX)*e.scaleX,v=(l[r+1]+e.offsetY)*e.scaleY;if(g>=v)return;const A=u[s],C=u[s+1],T=u[s+2],R=u[a],L=u[a+1],x=u[a+2],N=u[o],I=u[o+1],O=u[o+2],J=Math.round(g),Y=Math.round(v);let W,se,oe,U,F,B,Z,we;for(let ne=J;ne<=Y;ne++){if(ne<b){const fe=ne<g?0:(g-ne)/(g-b);W=p-(p-y)*fe,se=A-(A-R)*fe,oe=C-(C-L)*fe,U=T-(T-x)*fe}else{let fe;ne>v?fe=1:b===v?fe=0:fe=(b-ne)/(b-v),W=y-(y-m)*fe,se=R-(R-N)*fe,oe=L-(L-I)*fe,U=x-(x-O)*fe}let de;ne<g?de=0:ne>v?de=1:de=(g-ne)/(g-v),F=p-(p-m)*de,B=A-(A-N)*de,Z=C-(C-I)*de,we=T-(T-O)*de;const ze=Math.round(Math.min(W,F)),Qe=Math.round(Math.max(W,F));let Se=d*ne+ze*4;for(let fe=ze;fe<=Qe;fe++)de=(W-fe)/(W-F),de<0?de=0:de>1&&(de=1),h[Se++]=se-(se-B)*de|0,h[Se++]=oe-(oe-Z)*de|0,h[Se++]=U-(U-we)*de|0,h[Se++]=255}}function yR(n,e,t){const i=e.coords,r=e.colors;let s,a;switch(e.type){case"lattice":const o=e.verticesPerRow,l=Math.floor(i.length/o)-1,u=o-1;for(s=0;s<l;s++){let h=s*o;for(let d=0;d<u;d++,h++)vm(n,t,i[h],i[h+1],i[h+o],r[h],r[h+1],r[h+o]),vm(n,t,i[h+o+1],i[h+1],i[h+o],r[h+o+1],r[h+1],r[h+o])}break;case"triangles":for(s=0,a=i.length;s<a;s+=3)vm(n,t,i[s],i[s+1],i[s+2],r[s],r[s+1],r[s+2]);break;default:throw new Error("illegal figure")}}class wR extends Cd{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,i){const o=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),u=Math.ceil(this._bounds[2])-o,h=Math.ceil(this._bounds[3])-l,d=Math.min(Math.ceil(Math.abs(u*e[0]*1.1)),3e3),f=Math.min(Math.ceil(Math.abs(h*e[1]*1.1)),3e3),p=u/d,g=h/f,y={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-l,scaleX:1/p,scaleY:1/g},b=d+2*2,m=f+2*2,v=i.getCanvas("mesh",b,m,!1),A=v.context,C=A.createImageData(d,f);if(t){const R=C.data;for(let L=0,x=R.length;L<x;L+=4)R[L]=t[0],R[L+1]=t[1],R[L+2]=t[2],R[L+3]=255}for(const R of this._figures)yR(C,R,y);return A.putImageData(C,2,2),{canvas:v.canvas,offsetX:o-2*p,offsetY:l-2*g,scaleX:p,scaleY:g}}getPattern(e,t,i,r){Uv(e,this._bbox);let s;if(r===an.SHADING)s=Q.singularValueDecompose2dScale(et(e));else if(s=Q.singularValueDecompose2dScale(t.baseTransform),this.matrix){const o=Q.singularValueDecompose2dScale(this.matrix);s=[s[0]*o[0],s[1]*o[1]]}const a=this._createMeshCanvas(s,r===an.SHADING?null:this._background,t.cachedCanvases);return r!==an.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}}class _R extends Cd{getPattern(){return"hotpink"}}function ER(n){switch(n[0]){case"RadialAxial":return new vR(n);case"Mesh":return new wR(n);case"Dummy":return new _R}throw new Error(`Unknown IR type: ${n[0]}`)}const G_={COLORED:1,UNCOLORED:2},Hp=class Hp{constructor(e,t,i,r,s){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=i,this.canvasGraphicsFactory=r,this.baseTransform=s}createPatternCanvas(e){const t=this.operatorList,i=this.bbox,r=this.xstep,s=this.ystep,a=this.paintType,o=this.tilingType,l=this.color,u=this.canvasGraphicsFactory;yg("TilingType: "+o);const h=i[0],d=i[1],f=i[2],p=i[3],g=Q.singularValueDecompose2dScale(this.matrix),y=Q.singularValueDecompose2dScale(this.baseTransform),b=[g[0]*y[0],g[1]*y[1]],m=this.getSizeAndScale(r,this.ctx.canvas.width,b[0]),v=this.getSizeAndScale(s,this.ctx.canvas.height,b[1]),A=e.cachedCanvases.getCanvas("pattern",m.size,v.size,!0),C=A.context,T=u.createCanvasGraphics(C);T.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(T,a,l);let R=h,L=d,x=f,N=p;return h<0&&(R=0,x+=Math.abs(h)),d<0&&(L=0,N+=Math.abs(d)),C.translate(-(m.scale*R),-(v.scale*L)),T.transform(m.scale,0,0,v.scale,0,0),C.save(),this.clipBbox(T,R,L,x,N),T.baseTransform=et(T.ctx),T.executeOperatorList(t),T.endDrawing(),{canvas:A.canvas,scaleX:m.scale,scaleY:v.scale,offsetX:R,offsetY:L}}getSizeAndScale(e,t,i){e=Math.abs(e);const r=Math.max(Hp.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*i);return s>=r?s=r:i=s/e,{scale:i,size:s}}clipBbox(e,t,i,r,s){const a=r-t,o=s-i;e.ctx.rect(t,i,a,o),e.current.updateRectMinMax(et(e.ctx),[t,i,r,s]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,i){const r=e.ctx,s=e.current;switch(t){case G_.COLORED:const a=this.ctx;r.fillStyle=a.fillStyle,r.strokeStyle=a.strokeStyle,s.fillColor=a.fillStyle,s.strokeColor=a.strokeStyle;break;case G_.UNCOLORED:const o=Q.makeHexColor(i[0],i[1],i[2]);r.fillStyle=o,r.strokeStyle=o,s.fillColor=o,s.strokeColor=o;break;default:throw new XP(`Unsupported paint type: ${t}`)}}getPattern(e,t,i,r){let s=i;r!==an.SHADING&&(s=Q.transform(s,t.baseTransform),this.matrix&&(s=Q.transform(s,this.matrix)));const a=this.createPatternCanvas(t);let o=new DOMMatrix(s);o=o.translate(a.offsetX,a.offsetY),o=o.scale(1/a.scaleX,1/a.scaleY);const l=e.createPattern(a.canvas,"repeat");return l.setTransform(o),l}};le(Hp,"MAX_PATTERN_SIZE",3e3);let $v=Hp;function AR({src:n,srcPos:e=0,dest:t,width:i,height:r,nonBlackColor:s=4294967295,inverseDecode:a=!1}){const o=yn.isLittleEndian?4278190080:255,[l,u]=a?[s,o]:[o,s],h=i>>3,d=i&7,f=n.length;t=new Uint32Array(t.buffer);let p=0;for(let g=0;g<r;g++){for(const b=e+h;e<b;e++){const m=e<f?n[e]:255;t[p++]=m&128?u:l,t[p++]=m&64?u:l,t[p++]=m&32?u:l,t[p++]=m&16?u:l,t[p++]=m&8?u:l,t[p++]=m&4?u:l,t[p++]=m&2?u:l,t[p++]=m&1?u:l}if(d===0)continue;const y=e<f?n[e++]:255;for(let b=0;b<d;b++)t[p++]=y&1<<7-b?u:l}return{srcPos:e,destPos:p}}const X_=16,K_=100,SR=15,Y_=10,q_=1e3,gn=16;function bR(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(i,r){e.translate(i,r),this.__originalTranslate(i,r)},n.scale=function(i,r){e.scale(i,r),this.__originalScale(i,r)},n.transform=function(i,r,s,a,o,l){e.transform(i,r,s,a,o,l),this.__originalTransform(i,r,s,a,o,l)},n.setTransform=function(i,r,s,a,o,l){e.setTransform(i,r,s,a,o,l),this.__originalSetTransform(i,r,s,a,o,l)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(i){e.rotate(i),this.__originalRotate(i)},n.clip=function(i){e.clip(i),this.__originalClip(i)},n.moveTo=function(t,i){e.moveTo(t,i),this.__originalMoveTo(t,i)},n.lineTo=function(t,i){e.lineTo(t,i),this.__originalLineTo(t,i)},n.bezierCurveTo=function(t,i,r,s,a,o){e.bezierCurveTo(t,i,r,s,a,o),this.__originalBezierCurveTo(t,i,r,s,a,o)},n.rect=function(t,i,r,s){e.rect(t,i,r,s),this.__originalRect(t,i,r,s)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class xR{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,i){let r;return this.cache[e]!==void 0?(r=this.cache[e],this.canvasFactory.reset(r,t,i)):(r=this.canvasFactory.create(t,i),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function nf(n,e,t,i,r,s,a,o,l,u){const[h,d,f,p,g,y]=et(n);if(d===0&&f===0){const v=a*h+g,A=Math.round(v),C=o*p+y,T=Math.round(C),R=(a+l)*h+g,L=Math.abs(Math.round(R)-A)||1,x=(o+u)*p+y,N=Math.abs(Math.round(x)-T)||1;return n.setTransform(Math.sign(h),0,0,Math.sign(p),A,T),n.drawImage(e,t,i,r,s,0,0,L,N),n.setTransform(h,d,f,p,g,y),[L,N]}if(h===0&&p===0){const v=o*f+g,A=Math.round(v),C=a*d+y,T=Math.round(C),R=(o+u)*f+g,L=Math.abs(Math.round(R)-A)||1,x=(a+l)*d+y,N=Math.abs(Math.round(x)-T)||1;return n.setTransform(0,Math.sign(d),Math.sign(f),0,A,T),n.drawImage(e,t,i,r,s,0,0,N,L),n.setTransform(h,d,f,p,g,y),[N,L]}n.drawImage(e,t,i,r,s,a,o,l,u);const b=Math.hypot(h,d),m=Math.hypot(f,p);return[b*l,m*u]}function CR(n){const{width:e,height:t}=n;if(e>q_||t>q_)return null;const i=1e3,r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),s=e+1;let a=new Uint8Array(s*(t+1)),o,l,u;const h=e+7&-8;let d=new Uint8Array(h*t),f=0;for(const m of n.data){let v=128;for(;v>0;)d[f++]=m&v?0:255,v>>=1}let p=0;for(f=0,d[f]!==0&&(a[0]=1,++p),l=1;l<e;l++)d[f]!==d[f+1]&&(a[l]=d[f]?2:1,++p),f++;for(d[f]!==0&&(a[l]=2,++p),o=1;o<t;o++){f=o*h,u=o*s,d[f-h]!==d[f]&&(a[u]=d[f]?1:8,++p);let m=(d[f]?4:0)+(d[f-h]?8:0);for(l=1;l<e;l++)m=(m>>2)+(d[f+1]?4:0)+(d[f-h+1]?8:0),r[m]&&(a[u+l]=r[m],++p),f++;if(d[f-h]!==d[f]&&(a[u+l]=d[f]?2:4,++p),p>i)return null}for(f=h*(t-1),u=o*s,d[f]!==0&&(a[u]=8,++p),l=1;l<e;l++)d[f]!==d[f+1]&&(a[u+l]=d[f]?4:8,++p),f++;if(d[f]!==0&&(a[u+l]=4,++p),p>i)return null;const g=new Int32Array([0,s,-1,0,-s,0,0,0,1]),y=new Path2D;for(o=0;p&&o<=t;o++){let m=o*s;const v=m+e;for(;m<v&&!a[m];)m++;if(m===v)continue;y.moveTo(m%s,o);const A=m;let C=a[m];do{const T=g[C];do m+=T;while(!a[m]);const R=a[m];R!==5&&R!==10?(C=R,a[m]=0):(C=R&51*C>>4,a[m]&=C>>2|C<<2),y.lineTo(m%s,m/s|0),a[m]||--p}while(A!==m);--o}return d=null,a=null,function(m){m.save(),m.scale(1/e,-1/t),m.translate(0,-t),m.fill(y),m.beginPath(),m.restore()}}class Q_{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=K1,this.textMatrixScale=1,this.fontMatrix=gv,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Gt.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,i){[t,i]=Q.applyTransform([t,i],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,i),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,i)}updateRectMinMax(e,t){const i=Q.applyTransform(t,e),r=Q.applyTransform(t.slice(2),e),s=Q.applyTransform([t[0],t[3]],e),a=Q.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,i[0],r[0],s[0],a[0]),this.minY=Math.min(this.minY,i[1],r[1],s[1],a[1]),this.maxX=Math.max(this.maxX,i[0],r[0],s[0],a[0]),this.maxY=Math.max(this.maxY,i[1],r[1],s[1],a[1])}updateScalingPathMinMax(e,t){Q.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,i,r,s,a,o,l,u,h){const d=Q.bezierBoundingBox(t,i,r,s,a,o,l,u,h);h||this.updateRectMinMax(e,d)}getPathBoundingBox(e=an.FILL,t=null){const i=[this.minX,this.minY,this.maxX,this.maxY];if(e===an.STROKE){t||Oe("Stroke bounding box must include transform.");const r=Q.singularValueDecompose2dScale(t),s=r[0]*this.lineWidth/2,a=r[1]*this.lineWidth/2;i[0]-=s,i[1]-=a,i[2]+=s,i[3]+=a}return i}updateClipFromPath(){const e=Q.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=an.FILL,t=null){return Q.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function J_(n,e){if(typeof ImageData<"u"&&e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,i=e.width,r=t%gn,s=(t-r)/gn,a=r===0?s:s+1,o=n.createImageData(i,gn);let l=0,u;const h=e.data,d=o.data;let f,p,g,y;if(e.kind===Ef.GRAYSCALE_1BPP){const b=h.byteLength,m=new Uint32Array(d.buffer,0,d.byteLength>>2),v=m.length,A=i+7>>3,C=4294967295,T=yn.isLittleEndian?4278190080:255;for(f=0;f<a;f++){for(g=f<s?gn:r,u=0,p=0;p<g;p++){const R=b-l;let L=0;const x=R>A?i:R*8-7,N=x&-8;let I=0,O=0;for(;L<N;L+=8)O=h[l++],m[u++]=O&128?C:T,m[u++]=O&64?C:T,m[u++]=O&32?C:T,m[u++]=O&16?C:T,m[u++]=O&8?C:T,m[u++]=O&4?C:T,m[u++]=O&2?C:T,m[u++]=O&1?C:T;for(;L<x;L++)I===0&&(O=h[l++],I=128),m[u++]=O&I?C:T,I>>=1}for(;u<v;)m[u++]=0;n.putImageData(o,0,f*gn)}}else if(e.kind===Ef.RGBA_32BPP){for(p=0,y=i*gn*4,f=0;f<s;f++)d.set(h.subarray(l,l+y)),l+=y,n.putImageData(o,0,p),p+=gn;f<a&&(y=i*r*4,d.set(h.subarray(l,l+y)),n.putImageData(o,0,p))}else if(e.kind===Ef.RGB_24BPP)for(g=gn,y=i*g,f=0;f<a;f++){for(f>=s&&(g=r,y=i*g),u=0,p=y;p--;)d[u++]=h[l++],d[u++]=h[l++],d[u++]=h[l++],d[u++]=255;n.putImageData(o,0,f*gn)}else throw new Error(`bad image kind: ${e.kind}`)}function Z_(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,i=e.width,r=t%gn,s=(t-r)/gn,a=r===0?s:s+1,o=n.createImageData(i,gn);let l=0;const u=e.data,h=o.data;for(let d=0;d<a;d++){const f=d<s?gn:r;({srcPos:l}=AR({src:u,srcPos:l,dest:h,width:i,height:f,nonBlackColor:0})),n.putImageData(o,0,d*gn)}}function zc(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of t)n[i]!==void 0&&(e[i]=n[i]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function rf(n){if(n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0),!Jt){const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}}function eE(n,e){if(e)return!0;const t=Q.singularValueDecompose2dScale(n);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);const i=Math.fround((globalThis.devicePixelRatio||1)*Ks.PDF_TO_CSS_UNITS);return t[0]<=i&&t[1]<=i}const kR=["butt","round","square"],TR=["miter","round","bevel"],PR={},tE={};var qs,Vv,Wv;const K0=class K0{constructor(e,t,i,r,s,{optionalContentConfig:a,markedContentStack:o=null},l,u){E(this,qs);this.ctx=e,this.current=new Q_(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=i,this.canvasFactory=r,this.filterFactory=s,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=a,this.cachedCanvases=new xR(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=u,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:i=!1,background:r=null}){const s=this.ctx.canvas.width,a=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,s,a),this.ctx.fillStyle=o,i){const l=this.cachedCanvases.getCanvas("transparent",s,a);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...et(this.compositeCtx))}this.ctx.save(),rf(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=et(this.ctx)}executeOperatorList(e,t,i,r){const s=e.argsArray,a=e.fnArray;let o=t||0;const l=s.length;if(l===o)return o;const u=l-o>Y_&&typeof i=="function",h=u?Date.now()+SR:0;let d=0;const f=this.commonObjs,p=this.objs;let g;for(;;){if(r!==void 0&&o===r.nextBreakPoint)return r.breakIt(o,i),o;if(g=a[o],g!==ui.dependency)this[g].apply(this,s[o]);else for(const y of s[o]){const b=y.startsWith("g_")?f:p;if(!b.has(y))return b.get(y,i),o}if(o++,o===l)return o;if(u&&++d>Y_){if(Date.now()>h)return i(),o;d=0}}}endDrawing(){_(this,qs,Vv).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),_(this,qs,Wv).call(this)}_scaleImage(e,t){const i=e.width,r=e.height;let s=Math.max(Math.hypot(t[0],t[1]),1),a=Math.max(Math.hypot(t[2],t[3]),1),o=i,l=r,u="prescale1",h,d;for(;s>2&&o>1||a>2&&l>1;){let f=o,p=l;s>2&&o>1&&(f=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),s/=o/f),a>2&&l>1&&(p=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,a/=l/p),h=this.cachedCanvases.getCanvas(u,f,p),d=h.context,d.clearRect(0,0,f,p),d.drawImage(e,0,0,o,l,0,0,f,p),e=h.canvas,o=f,l=p,u=u==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:o,paintHeight:l}}_createMaskCanvas(e){const t=this.ctx,{width:i,height:r}=e,s=this.current.fillColor,a=this.current.patternFill,o=et(t);let l,u,h,d;if((e.bitmap||e.data)&&e.count>1){const x=e.bitmap||e.data.buffer;u=JSON.stringify(a?o:[o.slice(0,4),s]),l=this._cachedBitmapsMap.get(x),l||(l=new Map,this._cachedBitmapsMap.set(x,l));const N=l.get(u);if(N&&!a){const I=Math.round(Math.min(o[0],o[2])+o[4]),O=Math.round(Math.min(o[1],o[3])+o[5]);return{canvas:N,offsetX:I,offsetY:O}}h=N}h||(d=this.cachedCanvases.getCanvas("maskCanvas",i,r),Z_(d.context,e));let f=Q.transform(o,[1/i,0,0,-1/r,0,0]);f=Q.transform(f,[1,0,0,1,0,-r]);const[p,g,y,b]=Q.getAxialAlignedBoundingBox([0,0,i,r],f),m=Math.round(y-p)||1,v=Math.round(b-g)||1,A=this.cachedCanvases.getCanvas("fillCanvas",m,v),C=A.context,T=p,R=g;C.translate(-T,-R),C.transform(...f),h||(h=this._scaleImage(d.canvas,or(C)),h=h.img,l&&a&&l.set(u,h)),C.imageSmoothingEnabled=eE(et(C),e.interpolate),nf(C,h,0,0,h.width,h.height,0,0,i,r),C.globalCompositeOperation="source-in";const L=Q.transform(or(C),[1,0,0,1,-T,-R]);return C.fillStyle=a?s.getPattern(t,this,L,an.FILL):s,C.fillRect(0,0,i,r),l&&!a&&(this.cachedCanvases.delete("fillCanvas"),l.set(u,A.canvas)),{canvas:A.canvas,offsetX:Math.round(T),offsetY:Math.round(R)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=kR[e]}setLineJoin(e){this.ctx.lineJoin=TR[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(e),i.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,i]of e)switch(t){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i[0],i[1]);break;case"CA":this.current.strokeAlpha=i;break;case"ca":this.current.fillAlpha=i,this.ctx.globalAlpha=i;break;case"BM":this.ctx.globalCompositeOperation=i;break;case"SMask":this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(i);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(i,e,t);this.suspendedCtx=this.ctx,this.ctx=r.context;const s=this.ctx;s.setTransform(...et(this.suspendedCtx)),zc(this.suspendedCtx,s),bR(s,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),zc(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,i,r){const s=r[0],a=r[1],o=r[2]-s,l=r[3]-a;o===0||l===0||(this.genericComposeSMask(t.context,i,o,l,t.subtype,t.backdrop,t.transferMap,s,a,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(i.canvas,0,0),e.restore())}genericComposeSMask(e,t,i,r,s,a,o,l,u,h,d){let f=e.canvas,p=l-h,g=u-d;if(a){if(p<0||g<0||p+i>f.width||g+r>f.height){const b=this.cachedCanvases.getCanvas("maskExtension",i,r),m=b.context;m.drawImage(f,-p,-g),a.some(v=>v!==0)&&(m.globalCompositeOperation="destination-atop",m.fillStyle=Q.makeHexColor(...a),m.fillRect(0,0,i,r),m.globalCompositeOperation="source-over"),f=b.canvas,p=g=0}else if(a.some(b=>b!==0)){e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const b=new Path2D;b.rect(p,g,i,r),e.clip(b),e.globalCompositeOperation="destination-atop",e.fillStyle=Q.makeHexColor(...a),e.fillRect(p,g,i,r),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&o?t.filter=this.filterFactory.addAlphaFilter(o):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(o));const y=new Path2D;y.rect(l,u,i,r),t.clip(y),t.globalCompositeOperation="destination-in",t.drawImage(f,p,g,i,r,l,u,i,r),t.restore()}save(){this.inSMaskMode?(zc(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),zc(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,i,r,s,a){this.ctx.transform(e,t,i,r,s,a),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,i){const r=this.ctx,s=this.current;let a=s.x,o=s.y,l,u;const h=et(r),d=h[0]===0&&h[3]===0||h[1]===0&&h[2]===0,f=d?i.slice(0):null;for(let p=0,g=0,y=e.length;p<y;p++)switch(e[p]|0){case ui.rectangle:a=t[g++],o=t[g++];const b=t[g++],m=t[g++],v=a+b,A=o+m;r.moveTo(a,o),b===0||m===0?r.lineTo(v,A):(r.lineTo(v,o),r.lineTo(v,A),r.lineTo(a,A)),d||s.updateRectMinMax(h,[a,o,v,A]),r.closePath();break;case ui.moveTo:a=t[g++],o=t[g++],r.moveTo(a,o),d||s.updatePathMinMax(h,a,o);break;case ui.lineTo:a=t[g++],o=t[g++],r.lineTo(a,o),d||s.updatePathMinMax(h,a,o);break;case ui.curveTo:l=a,u=o,a=t[g+4],o=t[g+5],r.bezierCurveTo(t[g],t[g+1],t[g+2],t[g+3],a,o),s.updateCurvePathMinMax(h,l,u,t[g],t[g+1],t[g+2],t[g+3],a,o,f),g+=6;break;case ui.curveTo2:l=a,u=o,r.bezierCurveTo(a,o,t[g],t[g+1],t[g+2],t[g+3]),s.updateCurvePathMinMax(h,l,u,a,o,t[g],t[g+1],t[g+2],t[g+3],f),a=t[g+2],o=t[g+3],g+=4;break;case ui.curveTo3:l=a,u=o,a=t[g+2],o=t[g+3],r.bezierCurveTo(t[g],t[g+1],a,o,a,o),s.updateCurvePathMinMax(h,l,u,t[g],t[g+1],a,o,a,o,f),g+=4;break;case ui.closePath:r.closePath();break}d&&s.updateScalingPathMinMax(h,f),s.setCurrentPoint(a,o)}closePath(){this.ctx.closePath()}stroke(e=!0){const t=this.ctx,i=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof i=="object"&&(i!=null&&i.getPattern)?(t.save(),t.strokeStyle=i.getPattern(t,this,or(t),an.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const t=this.ctx,i=this.current.fillColor,r=this.current.patternFill;let s=!1;r&&(t.save(),t.fillStyle=i.getPattern(t,this,or(t),an.FILL),s=!0);const a=this.current.getClippedPathBoundingBox();this.contentVisible&&a!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),s&&t.restore(),e&&this.consumePath(a)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=PR}eoClip(){this.pendingClip=tE}beginText(){this.current.textMatrix=K1,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0){t.beginPath();return}t.save(),t.beginPath();for(const i of e)t.setTransform(...i.transform),t.translate(i.x,i.y),i.addToPath(t,i.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var h;const i=this.commonObjs.get(e),r=this.current;if(!i)throw new Error(`Can't find font for ${e}`);if(r.fontMatrix=i.fontMatrix||gv,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&ge("Invalid font matrix for font "+e),t<0?(t=-t,r.fontDirection=-1):r.fontDirection=1,this.current.font=i,this.current.fontSize=t,i.isType3Font)return;const s=i.loadedName||"sans-serif",a=((h=i.systemFontInfo)==null?void 0:h.css)||`"${s}", ${i.fallbackName}`;let o="normal";i.black?o="900":i.bold&&(o="bold");const l=i.italic?"italic":"normal";let u=t;t<X_?u=X_:t>K_&&(u=K_),this.current.fontSizeScale=t/u,this.ctx.font=`${l} ${o} ${u}px ${a}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,i,r,s,a){this.current.textMatrix=[e,t,i,r,s,a],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,i,r){const s=this.ctx,a=this.current,o=a.font,l=a.textRenderingMode,u=a.fontSize/a.fontSizeScale,h=l&Gt.FILL_STROKE_MASK,d=!!(l&Gt.ADD_TO_PATH_FLAG),f=a.patternFill&&!o.missingFile;let p;(o.disableFontFace||d||f)&&(p=o.getPathGenerator(this.commonObjs,e)),o.disableFontFace||f?(s.save(),s.translate(t,i),s.beginPath(),p(s,u),r&&s.setTransform(...r),(h===Gt.FILL||h===Gt.FILL_STROKE)&&s.fill(),(h===Gt.STROKE||h===Gt.FILL_STROKE)&&s.stroke(),s.restore()):((h===Gt.FILL||h===Gt.FILL_STROKE)&&s.fillText(e,t,i),(h===Gt.STROKE||h===Gt.FILL_STROKE)&&s.strokeText(e,t,i)),d&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:et(s),x:t,y:i,fontSize:u,addToPath:p})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let i=!1;for(let r=3;r<t.length;r+=4)if(t[r]>0&&t[r]<255){i=!0;break}return be(this,"isFontSubpixelAAEnabled",i)}showText(e){const t=this.current,i=t.font;if(i.isType3Font)return this.showType3Text(e);const r=t.fontSize;if(r===0)return;const s=this.ctx,a=t.fontSizeScale,o=t.charSpacing,l=t.wordSpacing,u=t.fontDirection,h=t.textHScale*u,d=e.length,f=i.vertical,p=f?1:-1,g=i.defaultVMetrics,y=r*t.fontMatrix[0],b=t.textRenderingMode===Gt.FILL&&!i.disableFontFace&&!t.patternFill;s.save(),s.transform(...t.textMatrix),s.translate(t.x,t.y+t.textRise),u>0?s.scale(h,-1):s.scale(h,1);let m;if(t.patternFill){s.save();const R=t.fillColor.getPattern(s,this,or(s),an.FILL);m=et(s),s.restore(),s.fillStyle=R}let v=t.lineWidth;const A=t.textMatrixScale;if(A===0||v===0){const R=t.textRenderingMode&Gt.FILL_STROKE_MASK;(R===Gt.STROKE||R===Gt.FILL_STROKE)&&(v=this.getSinglePixelWidth())}else v/=A;if(a!==1&&(s.scale(a,a),v/=a),s.lineWidth=v,i.isInvalidPDFjsFont){const R=[];let L=0;for(const x of e)R.push(x.unicode),L+=x.width;s.fillText(R.join(""),0,0),t.x+=L*y*h,s.restore(),this.compose();return}let C=0,T;for(T=0;T<d;++T){const R=e[T];if(typeof R=="number"){C+=p*R*r/1e3;continue}let L=!1;const x=(R.isSpace?l:0)+o,N=R.fontChar,I=R.accent;let O,J,Y=R.width;if(f){const se=R.vmetric||g,oe=-(R.vmetric?se[1]:Y*.5)*y,U=se[2]*y;Y=se?-se[0]:Y,O=oe/a,J=(C+U)/a}else O=C/a,J=0;if(i.remeasure&&Y>0){const se=s.measureText(N).width*1e3/r*a;if(Y<se&&this.isFontSubpixelAAEnabled){const oe=Y/se;L=!0,s.save(),s.scale(oe,1),O/=oe}else Y!==se&&(O+=(Y-se)/2e3*r/a)}if(this.contentVisible&&(R.isInFont||i.missingFile)){if(b&&!I)s.fillText(N,O,J);else if(this.paintChar(N,O,J,m),I){const se=O+r*I.offset.x/a,oe=J-r*I.offset.y/a;this.paintChar(I.fontChar,se,oe,m)}}const W=f?Y*y-x*u:Y*y+x*u;C+=W,L&&s.restore()}f?t.y-=C:t.x+=C*h,s.restore(),this.compose()}showType3Text(e){const t=this.ctx,i=this.current,r=i.font,s=i.fontSize,a=i.fontDirection,o=r.vertical?1:-1,l=i.charSpacing,u=i.wordSpacing,h=i.textHScale*a,d=i.fontMatrix||gv,f=e.length,p=i.textRenderingMode===Gt.INVISIBLE;let g,y,b,m;if(!(p||s===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...i.textMatrix),t.translate(i.x,i.y),t.scale(h,a),g=0;g<f;++g){if(y=e[g],typeof y=="number"){m=o*y*s/1e3,this.ctx.translate(m,0),i.x+=m*h;continue}const v=(y.isSpace?u:0)+l,A=r.charProcOperatorList[y.operatorListId];if(!A){ge(`Type3 character "${y.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=y,this.save(),t.scale(s,s),t.transform(...d),this.executeOperatorList(A),this.restore()),b=Q.applyTransform([y.width,0],d)[0]*s+v,t.translate(b,0),i.x+=b*h}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,i,r,s,a){this.ctx.rect(i,r,s-i,a-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const i=e[1],r=this.baseTransform||et(this.ctx),s={createCanvasGraphics:a=>new K0(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new $v(e,i,this.ctx,s,r)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,i){const r=Q.makeHexColor(e,t,i);this.ctx.strokeStyle=r,this.current.strokeColor=r}setFillRGBColor(e,t,i){const r=Q.makeHexColor(e,t,i);this.ctx.fillStyle=r,this.current.fillColor=r,this.current.patternFill=!1}_getPattern(e,t=null){let i;return this.cachedPatterns.has(e)?i=this.cachedPatterns.get(e):(i=ER(this.getObject(e)),this.cachedPatterns.set(e,i)),t&&(i.matrix=t),i}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const i=this._getPattern(e);t.fillStyle=i.getPattern(t,this,or(t),an.SHADING);const r=or(t);if(r){const{width:s,height:a}=t.canvas,[o,l,u,h]=Q.getAxialAlignedBoundingBox([0,0,s,a],r);this.ctx.fillRect(o,l,u-o,h-l)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Oe("Should not call beginInlineImage")}beginImageData(){Oe("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=et(this.ctx),t)){const i=t[2]-t[0],r=t[3]-t[1];this.ctx.rect(t[0],t[1],i,r),this.current.updateRectMinMax(et(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||yg("TODO: Support non-isolated groups."),e.knockout&&ge("Knockout groups not supported.");const i=et(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let r=Q.getAxialAlignedBoundingBox(e.bbox,et(t));const s=[0,0,t.canvas.width,t.canvas.height];r=Q.intersect(r,s)||[0,0,0,0];const a=Math.floor(r[0]),o=Math.floor(r[1]),l=Math.max(Math.ceil(r[2])-a,1),u=Math.max(Math.ceil(r[3])-o,1);this.current.startNewPathAndClipBox([0,0,l,u]);let h="groupAt"+this.groupLevel;e.smask&&(h+="_smask_"+this.smaskCounter++%2);const d=this.cachedCanvases.getCanvas(h,l,u),f=d.context;f.translate(-a,-o),f.transform(...i),e.smask?this.smaskStack.push({canvas:d.canvas,context:f,offsetX:a,offsetY:o,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(a,o),t.save()),zc(t,f),this.ctx=f,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const r=et(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);const s=Q.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],r);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(e,t,i,r,s){if(_(this,qs,Vv).call(this),rf(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const a=t[2]-t[0],o=t[3]-t[1];if(s&&this.annotationCanvasMap){i=i.slice(),i[4]-=t[0],i[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=a,t[3]=o;const[l,u]=Q.singularValueDecompose2dScale(et(this.ctx)),{viewportScale:h}=this,d=Math.ceil(a*this.outputScaleX*h),f=Math.ceil(o*this.outputScaleY*h);this.annotationCanvas=this.canvasFactory.create(d,f);const{canvas:p,context:g}=this.annotationCanvas;this.annotationCanvasMap.set(e,p),this.annotationCanvas.savedCtx=this.ctx,this.ctx=g,this.ctx.save(),this.ctx.setTransform(l,0,0,-u,0,o*u),rf(this.ctx)}else rf(this.ctx),this.ctx.rect(t[0],t[1],a,o),this.ctx.clip(),this.endPath()}this.current=new Q_(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...i),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),_(this,qs,Wv).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const i=this.ctx,r=this.processingType3;if(r&&(r.compiled===void 0&&(r.compiled=CR(e)),r.compiled)){r.compiled(i);return}const s=this._createMaskCanvas(e),a=s.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(a,s.offsetX,s.offsetY),i.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,i=0,r=0,s,a){if(!this.contentVisible)return;e=this.getObject(e.data,e);const o=this.ctx;o.save();const l=et(o);o.transform(t,i,r,s,0,0);const u=this._createMaskCanvas(e);o.setTransform(1,0,0,1,u.offsetX-l[4],u.offsetY-l[5]);for(let h=0,d=a.length;h<d;h+=2){const f=Q.transform(l,[t,i,r,s,a[h],a[h+1]]),[p,g]=Q.applyTransform([0,0],f);o.drawImage(u.canvas,p,g)}o.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,i=this.current.fillColor,r=this.current.patternFill;for(const s of e){const{data:a,width:o,height:l,transform:u}=s,h=this.cachedCanvases.getCanvas("maskCanvas",o,l),d=h.context;d.save();const f=this.getObject(a,s);Z_(d,f),d.globalCompositeOperation="source-in",d.fillStyle=r?i.getPattern(d,this,or(t),an.FILL):i,d.fillRect(0,0,o,l),d.restore(),t.save(),t.transform(...u),t.scale(1,-1),nf(t,h.canvas,0,0,o,l,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){ge("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,i,r){if(!this.contentVisible)return;const s=this.getObject(e);if(!s){ge("Dependent image isn't ready yet");return}const a=s.width,o=s.height,l=[];for(let u=0,h=r.length;u<h;u+=2)l.push({transform:[t,0,0,i,r[u],r[u+1]],x:0,y:0,w:a,h:o});this.paintInlineImageXObjectGroup(s,l)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:i,height:r}=e,s=this.cachedCanvases.getCanvas("inlineImage",i,r),a=s.context;return a.filter=this.current.transferMaps,a.drawImage(t,0,0),a.filter="none",s.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,i=e.height,r=this.ctx;if(this.save(),!Jt){const{filter:o}=r;o!=="none"&&o!==""&&(r.filter="none")}r.scale(1/t,-1/i);let s;if(e.bitmap)s=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)s=e;else{const l=this.cachedCanvases.getCanvas("inlineImage",t,i).context;J_(l,e),s=this.applyTransferMapsToCanvas(l)}const a=this._scaleImage(s,or(r));r.imageSmoothingEnabled=eE(et(r),e.interpolate),nf(r,a.img,0,0,a.paintWidth,a.paintHeight,0,-i,t,i),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const i=this.ctx;let r;if(e.bitmap)r=e.bitmap;else{const s=e.width,a=e.height,l=this.cachedCanvases.getCanvas("inlineImage",s,a).context;J_(l,e),r=this.applyTransferMapsToCanvas(l)}for(const s of t)i.save(),i.transform(...s.transform),i.scale(1,-1),nf(i,r,s.x,s.y,s.w,s.h,0,-1,1,1),i.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const i=this.ctx;this.pendingClip&&(t||(this.pendingClip===tE?i.clip("evenodd"):i.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),i.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=et(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),i=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(i,r)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:i,c:r,d:s}=this.ctx.getTransform();let a,o;if(i===0&&r===0){const l=Math.abs(t),u=Math.abs(s);if(l===u)if(e===0)a=o=1/l;else{const h=l*e;a=o=h<1?1/h:1}else if(e===0)a=1/l,o=1/u;else{const h=l*e,d=u*e;a=h<1?1/h:1,o=d<1?1/d:1}}else{const l=Math.abs(t*s-i*r),u=Math.hypot(t,i),h=Math.hypot(r,s);if(e===0)a=h/l,o=u/l;else{const d=e*l;a=h>d?h/d:1,o=u>d?u/d:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:i}=this.current,[r,s]=this.getScaleForStroking();if(t.lineWidth=i||1,r===1&&s===1){t.stroke();return}const a=t.getLineDash();if(e&&t.save(),t.scale(r,s),a.length>0){const o=Math.max(r,s);t.setLineDash(a.map(l=>l/o)),t.lineDashOffset/=o}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};qs=new WeakSet,Vv=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Wv=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}};let gl=K0;for(const n in ui)gl.prototype[n]!==void 0&&(gl.prototype[ui[n]]=gl.prototype[n]);var gh,mh;class Vr{static get workerPort(){return c(this,gh)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");w(this,gh,e)}static get workerSrc(){return c(this,mh)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");w(this,mh,e)}}gh=new WeakMap,mh=new WeakMap,E(Vr,gh,null),E(Vr,mh,"");const sf={UNKNOWN:0,DATA:1,ERROR:2},pt={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Cn(n){switch(n instanceof Error||typeof n=="object"&&n!==null||Oe('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new Fo(n.message);case"MissingPDFException":return new Io(n.message);case"PasswordException":return new vv(n.message,n.code);case"UnexpectedResponseException":return new wg(n.message,n.status);case"UnknownErrorException":return new yv(n.message,n.details);default:return new yv(n.message,n.toString())}}var er,LS,MS,kf;class Jc{constructor(e,t,i){E(this,er);this.sourceName=e,this.targetName=t,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=r=>{const s=r.data;if(s.targetName!==this.sourceName)return;if(s.stream){_(this,er,MS).call(this,s);return}if(s.callback){const o=s.callbackId,l=this.callbackCapabilities[o];if(!l)throw new Error(`Cannot resolve callback ${o}`);if(delete this.callbackCapabilities[o],s.callback===sf.DATA)l.resolve(s.data);else if(s.callback===sf.ERROR)l.reject(Cn(s.reason));else throw new Error("Unexpected callback case");return}const a=this.actionHandler[s.action];if(!a)throw new Error(`Unknown action from worker: ${s.action}`);if(s.callbackId){const o=this.sourceName,l=s.sourceName;new Promise(function(u){u(a(s.data))}).then(function(u){i.postMessage({sourceName:o,targetName:l,callback:sf.DATA,callbackId:s.callbackId,data:u})},function(u){i.postMessage({sourceName:o,targetName:l,callback:sf.ERROR,callbackId:s.callbackId,reason:Cn(u)})});return}if(s.streamId){_(this,er,LS).call(this,s);return}a(s.data)},i.addEventListener("message",this._onComObjOnMessage)}on(e,t){const i=this.actionHandler;if(i[e])throw new Error(`There is already an actionName called "${e}"`);i[e]=t}send(e,t,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},i)}sendWithPromise(e,t,i){const r=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[r]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:t},i)}catch(a){s.reject(a)}return s.promise}sendWithStream(e,t,i,r){const s=this.streamId++,a=this.sourceName,o=this.targetName,l=this.comObj;return new ReadableStream({start:u=>{const h=Promise.withResolvers();return this.streamControllers[s]={controller:u,startCall:h,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:a,targetName:o,action:e,streamId:s,data:t,desiredSize:u.desiredSize},r),h.promise},pull:u=>{const h=Promise.withResolvers();return this.streamControllers[s].pullCall=h,l.postMessage({sourceName:a,targetName:o,stream:pt.PULL,streamId:s,desiredSize:u.desiredSize}),h.promise},cancel:u=>{xt(u instanceof Error,"cancel must have a valid reason");const h=Promise.withResolvers();return this.streamControllers[s].cancelCall=h,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:a,targetName:o,stream:pt.CANCEL,streamId:s,reason:Cn(u)}),h.promise}},i)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}er=new WeakSet,LS=function(e){const t=e.streamId,i=this.sourceName,r=e.sourceName,s=this.comObj,a=this,o=this.actionHandler[e.action],l={enqueue(u,h=1,d){if(this.isCancelled)return;const f=this.desiredSize;this.desiredSize-=h,f>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:i,targetName:r,stream:pt.ENQUEUE,streamId:t,chunk:u},d)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:r,stream:pt.CLOSE,streamId:t}),delete a.streamSinks[t])},error(u){xt(u instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:r,stream:pt.ERROR,streamId:t,reason:Cn(u)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[t]=l,new Promise(function(u){u(o(e.data,l))}).then(function(){s.postMessage({sourceName:i,targetName:r,stream:pt.START_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:i,targetName:r,stream:pt.START_COMPLETE,streamId:t,reason:Cn(u)})})},MS=function(e){const t=e.streamId,i=this.sourceName,r=e.sourceName,s=this.comObj,a=this.streamControllers[t],o=this.streamSinks[t];switch(e.stream){case pt.START_COMPLETE:e.success?a.startCall.resolve():a.startCall.reject(Cn(e.reason));break;case pt.PULL_COMPLETE:e.success?a.pullCall.resolve():a.pullCall.reject(Cn(e.reason));break;case pt.PULL:if(!o){s.postMessage({sourceName:i,targetName:r,stream:pt.PULL_COMPLETE,streamId:t,success:!0});break}o.desiredSize<=0&&e.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=e.desiredSize,new Promise(function(l){var u;l((u=o.onPull)==null?void 0:u.call(o))}).then(function(){s.postMessage({sourceName:i,targetName:r,stream:pt.PULL_COMPLETE,streamId:t,success:!0})},function(l){s.postMessage({sourceName:i,targetName:r,stream:pt.PULL_COMPLETE,streamId:t,reason:Cn(l)})});break;case pt.ENQUEUE:if(xt(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case pt.CLOSE:if(xt(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),_(this,er,kf).call(this,a,t);break;case pt.ERROR:xt(a,"error should have stream controller"),a.controller.error(Cn(e.reason)),_(this,er,kf).call(this,a,t);break;case pt.CANCEL_COMPLETE:e.success?a.cancelCall.resolve():a.cancelCall.reject(Cn(e.reason)),_(this,er,kf).call(this,a,t);break;case pt.CANCEL:if(!o)break;new Promise(function(l){var u;l((u=o.onCancel)==null?void 0:u.call(o,Cn(e.reason)))}).then(function(){s.postMessage({sourceName:i,targetName:r,stream:pt.CANCEL_COMPLETE,streamId:t,success:!0})},function(l){s.postMessage({sourceName:i,targetName:r,stream:pt.CANCEL_COMPLETE,streamId:t,reason:Cn(l)})}),o.sinkCapability.reject(Cn(e.reason)),o.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},kf=async function(e,t){var i,r,s;await Promise.allSettled([(i=e.startCall)==null?void 0:i.promise,(r=e.pullCall)==null?void 0:r.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[t]};var Oa,vh;class RR{constructor({parsedData:e,rawData:t}){E(this,Oa);E(this,vh);w(this,Oa,e),w(this,vh,t)}getRaw(){return c(this,vh)}get(e){return c(this,Oa).get(e)??null}getAll(){return I0(c(this,Oa))}has(e){return c(this,Oa).has(e)}}Oa=new WeakMap,vh=new WeakMap;const ls=Symbol("INTERNAL");var yh,wh,_h,Ml;class LR{constructor(e,{name:t,intent:i,usage:r}){E(this,yh,!1);E(this,wh,!1);E(this,_h,!1);E(this,Ml,!0);w(this,yh,!!(e&Jn.DISPLAY)),w(this,wh,!!(e&Jn.PRINT)),this.name=t,this.intent=i,this.usage=r}get visible(){if(c(this,_h))return c(this,Ml);if(!c(this,Ml))return!1;const{print:e,view:t}=this.usage;return c(this,yh)?(t==null?void 0:t.viewState)!=="OFF":c(this,wh)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,i=!1){e!==ls&&Oe("Internal method `_setVisible` called."),w(this,_h,i),w(this,Ml,t)}}yh=new WeakMap,wh=new WeakMap,_h=new WeakMap,Ml=new WeakMap;var _s,Ie,Dl,Nl,Eh,Gv;class MR{constructor(e,t=Jn.DISPLAY){E(this,Eh);E(this,_s,null);E(this,Ie,new Map);E(this,Dl,null);E(this,Nl,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,w(this,Nl,e.order);for(const i of e.groups)c(this,Ie).set(i.id,new LR(t,i));if(e.baseState==="OFF")for(const i of c(this,Ie).values())i._setVisible(ls,!1);for(const i of e.on)c(this,Ie).get(i)._setVisible(ls,!0);for(const i of e.off)c(this,Ie).get(i)._setVisible(ls,!1);w(this,Dl,this.getHash())}}isVisible(e){if(c(this,Ie).size===0)return!0;if(!e)return yg("Optional content group not defined."),!0;if(e.type==="OCG")return c(this,Ie).has(e.id)?c(this,Ie).get(e.id).visible:(ge(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return _(this,Eh,Gv).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!c(this,Ie).has(t))return ge(`Optional content group not found: ${t}`),!0;if(c(this,Ie).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!c(this,Ie).has(t))return ge(`Optional content group not found: ${t}`),!0;if(!c(this,Ie).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!c(this,Ie).has(t))return ge(`Optional content group not found: ${t}`),!0;if(!c(this,Ie).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!c(this,Ie).has(t))return ge(`Optional content group not found: ${t}`),!0;if(c(this,Ie).get(t).visible)return!1}return!0}return ge(`Unknown optional content policy ${e.policy}.`),!0}return ge(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0){const i=c(this,Ie).get(e);if(!i){ge(`Optional content group not found: ${e}`);return}i._setVisible(ls,!!t,!0),w(this,_s,null)}setOCGState({state:e,preserveRB:t}){let i;for(const r of e){switch(r){case"ON":case"OFF":case"Toggle":i=r;continue}const s=c(this,Ie).get(r);if(s)switch(i){case"ON":s._setVisible(ls,!0);break;case"OFF":s._setVisible(ls,!1);break;case"Toggle":s._setVisible(ls,!s.visible);break}}w(this,_s,null)}get hasInitialVisibility(){return c(this,Dl)===null||this.getHash()===c(this,Dl)}getOrder(){return c(this,Ie).size?c(this,Nl)?c(this,Nl).slice():[...c(this,Ie).keys()]:null}getGroups(){return c(this,Ie).size>0?I0(c(this,Ie)):null}getGroup(e){return c(this,Ie).get(e)||null}getHash(){if(c(this,_s)!==null)return c(this,_s);const e=new kS;for(const[t,i]of c(this,Ie))e.update(`${t}:${i.visible}`);return w(this,_s,e.hexdigest())}}_s=new WeakMap,Ie=new WeakMap,Dl=new WeakMap,Nl=new WeakMap,Eh=new WeakSet,Gv=function(e){const t=e.length;if(t<2)return!0;const i=e[0];for(let r=1;r<t;r++){const s=e[r];let a;if(Array.isArray(s))a=_(this,Eh,Gv).call(this,s);else if(c(this,Ie).has(s))a=c(this,Ie).get(s).visible;else return ge(`Optional content group not found: ${s}`),!0;switch(i){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return i==="And"};class DR{constructor(e,{disableRange:t=!1,disableStream:i=!1}){xt(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:s,progressiveDone:a,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=o,(s==null?void 0:s.length)>0){const l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!i,this._isRangeSupported=!t,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,u)=>{this._onReceiveData({begin:l,chunk:u})}),e.addProgressListener((l,u)=>{this._onProgress({loaded:l,total:u})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const i=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const r=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(i),!0)});xt(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,i,r,s;e.total===void 0?(i=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||i.call(t,{loaded:e.loaded}):(s=(r=this._fullRequestReader)==null?void 0:r.onProgress)==null||s.call(r,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){xt(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new NR(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new IR(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeReaders.slice(0))i.cancel(e);this._pdfDataRangeTransport.abort()}}class NR{constructor(e,t,i=!1,r=null){this._stream=e,this._done=i||!1,this._filename=H0(r)?r:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class IR{constructor(e,t,i){this._stream=e,this._begin=t,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function FR(n){let e=!0,t=i("filename\\*","i").exec(n);if(t){t=t[1];let h=o(t);return h=unescape(h),h=l(h),h=u(h),s(h)}if(t=a(n),t){const h=u(t);return s(h)}if(t=i("filename","i").exec(n),t){t=t[1];let h=o(t);return h=u(h),s(h)}function i(h,d){return new RegExp("(?:^|;)\\s*"+h+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',d)}function r(h,d){if(h){if(!/^[\x00-\xFF]+$/.test(d))return d;try{const f=new TextDecoder(h,{fatal:!0}),p=_g(d);d=f.decode(p),e=!1}catch{}}return d}function s(h){return e&&/[\x80-\xff]/.test(h)&&(h=r("utf-8",h),e&&(h=r("iso-8859-1",h))),h}function a(h){const d=[];let f;const p=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(f=p.exec(h))!==null;){let[,y,b,m]=f;if(y=parseInt(y,10),y in d){if(y===0)break;continue}d[y]=[b,m]}const g=[];for(let y=0;y<d.length&&y in d;++y){let[b,m]=d[y];m=o(m),b&&(m=unescape(m),y===0&&(m=l(m))),g.push(m)}return g.join("")}function o(h){if(h.startsWith('"')){const d=h.slice(1).split('\\"');for(let f=0;f<d.length;++f){const p=d[f].indexOf('"');p!==-1&&(d[f]=d[f].slice(0,p),d.length=f+1),d[f]=d[f].replaceAll(/\\(.)/g,"$1")}h=d.join('"')}return h}function l(h){const d=h.indexOf("'");if(d===-1)return h;const f=h.slice(0,d),g=h.slice(d+1).replace(/^[^']*'/,"");return r(f,g)}function u(h){return!h.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(h)?h:h.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(d,f,p,g){if(p==="q"||p==="Q")return g=g.replaceAll("_"," "),g=g.replaceAll(/=([0-9a-fA-F]{2})/g,function(y,b){return String.fromCharCode(parseInt(b,16))}),r(f,g);try{g=atob(g)}catch{}return r(f,g)})}return""}function $0({getResponseHeader:n,isHttp:e,rangeChunkSize:t,disableRange:i}){const r={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(n("Content-Length"),10);return!Number.isInteger(s)||(r.suggestedLength=s,s<=2*t)||i||!e||n("Accept-Ranges")!=="bytes"||(n("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function V0(n){const e=n("Content-Disposition");if(e){let t=FR(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(H0(t))return t}return null}function xg(n,e){return n===404||n===0&&e.startsWith("file:")?new Io('Missing PDF "'+e+'".'):new wg(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n)}function DS(n){return n===200||n===206}function NS(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function IS(n){const e=new Headers;for(const t in n){const i=n[t];i!==void 0&&e.append(t,i)}return e}function FS(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(ge(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class nE{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return xt(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new OR(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new jR(this,e,t);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class OR{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._headers=IS(this._stream.httpHeaders);const i=t.url;fetch(i,NS(this._headers,this._withCredentials,this._abortController)).then(r=>{if(!DS(r.status))throw xg(r.status,i);this._reader=r.body.getReader(),this._headersCapability.resolve();const s=l=>r.headers.get(l),{allowRangeRequests:a,suggestedLength:o}=$0({getResponseHeader:s,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=o||this._contentLength,this._filename=V0(s),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Fo("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:FS(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class jR{constructor(e,t,i){this._stream=e,this._reader=null,this._loaded=0;const r=e.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController,this._headers=IS(this._stream.httpHeaders),this._headers.append("Range",`bytes=${t}-${i-1}`);const s=r.url;fetch(s,NS(this._headers,this._withCredentials,this._abortController)).then(a=>{if(!DS(a.status))throw xg(a.status,s);this._readCapability.resolve(),this._reader=a.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:FS(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const ym=200,wm=206;function zR(n){const e=n.response;return typeof e!="string"?e:_g(e).buffer}class HR{constructor(e,t={}){this.url=e,this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&t.httpHeaders||Object.create(null),this.withCredentials=t.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,i){const r={begin:e,end:t};for(const s in i)r[s]=i[s];return this.request(r)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,i=this.currXhrId++,r=this.pendingRequests[i]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const s in this.httpHeaders){const a=this.httpHeaders[s];a!==void 0&&t.setRequestHeader(s,a)}return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),r.expectedStatus=wm):r.expectedStatus=ym,t.responseType="arraybuffer",e.onError&&(t.onerror=function(s){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,i),t.onprogress=this.onProgress.bind(this,i),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,t.send(null),i}onProgress(e,t){var r;const i=this.pendingRequests[e];i&&((r=i.onProgress)==null||r.call(i,t))}onStateChange(e,t){var l,u,h;const i=this.pendingRequests[e];if(!i)return;const r=i.xhr;if(r.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),r.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],r.status===0&&this.isHttp){(l=i.onError)==null||l.call(i,r.status);return}const s=r.status||ym;if(!(s===ym&&i.expectedStatus===wm)&&s!==i.expectedStatus){(u=i.onError)==null||u.call(i,r.status);return}const o=zR(r);if(s===wm){const d=r.getResponseHeader("Content-Range"),f=/bytes (\d+)-(\d+)\/(\d+)/.exec(d);i.onDone({begin:parseInt(f[1],10),chunk:o})}else o?i.onDone({begin:0,chunk:o}):(h=i.onError)==null||h.call(i,r.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class BR{constructor(e){this._source=e,this._manager=new HR(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return xt(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new UR(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const i=new $R(this._manager,e,t);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class UR{constructor(e,t){this._manager=e;const i={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(i),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),i=a=>t.getResponseHeader(a),{allowRangeRequests:r,suggestedLength:s}=$0({getResponseHeader:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=V0(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=xg(e,this._url),this._headersReceivedCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersReceivedCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class $R{constructor(e,t,i){this._manager=e;const r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,i,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=xg(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const OS=/^file:\/\/\/[a-zA-Z]:\//;function VR(n){const e=nr.get("url"),t=e.parse(n);return t.protocol==="file:"||t.host?t:/^[a-z]:[/\\]/i.test(n)?e.parse(`file:///${n}`):(t.host||(t.protocol="file:"),t)}class WR{constructor(e){this.source=e,this.url=VR(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return xt(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new KR(this):new GR(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=this.isFsUrl?new YR(this,e,t):new XR(this,e,t);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class jS{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Fo("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class zS{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function xp(n,e){return{protocol:n.protocol,auth:n.auth,host:n.hostname,port:n.port,path:n.path,method:"GET",headers:e}}class GR extends jS{constructor(e){super(e);const t=i=>{if(i.statusCode===404){const o=new Io(`Missing PDF "${this._url}".`);this._storedError=o,this._headersCapability.reject(o);return}this._headersCapability.resolve(),this._setReadableStream(i);const r=o=>this._readableStream.headers[o.toLowerCase()],{allowRangeRequests:s,suggestedLength:a}=$0({getResponseHeader:r,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=a||this._contentLength,this._filename=V0(r)};if(this._request=null,this._url.protocol==="http:"){const i=nr.get("http");this._request=i.request(xp(this._url,e.httpHeaders),t)}else{const i=nr.get("https");this._request=i.request(xp(this._url,e.httpHeaders),t)}this._request.on("error",i=>{this._storedError=i,this._headersCapability.reject(i)}),this._request.end()}}class XR extends zS{constructor(e,t,i){super(e),this._httpHeaders={};for(const s in e.httpHeaders){const a=e.httpHeaders[s];a!==void 0&&(this._httpHeaders[s]=a)}this._httpHeaders.Range=`bytes=${t}-${i-1}`;const r=s=>{if(s.statusCode===404){const a=new Io(`Missing PDF "${this._url}".`);this._storedError=a;return}this._setReadableStream(s)};if(this._request=null,this._url.protocol==="http:"){const s=nr.get("http");this._request=s.request(xp(this._url,this._httpHeaders),r)}else{const s=nr.get("https");this._request=s.request(xp(this._url,this._httpHeaders),r)}this._request.on("error",s=>{this._storedError=s}),this._request.end()}}class KR extends jS{constructor(e){super(e);let t=decodeURIComponent(this._url.path);OS.test(this._url.href)&&(t=t.replace(/^\//,""));const i=nr.get("fs");i.promises.lstat(t).then(r=>{this._contentLength=r.size,this._setReadableStream(i.createReadStream(t)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=new Io(`Missing PDF "${t}".`)),this._storedError=r,this._headersCapability.reject(r)})}}class YR extends zS{constructor(e,t,i){super(e);let r=decodeURIComponent(this._url.path);OS.test(this._url.href)&&(r=r.replace(/^\//,""));const s=nr.get("fs");this._setReadableStream(s.createReadStream(r,{start:t,end:i-1}))}}const qR=1e5,dn=30,QR=.8;var gE,Es,pn,Ah,Sh,ja,Sr,bh,xh,za,Il,Fl,As,Ol,Ch,jl,Ha,kh,Th,St,Ba,Ua,Ss,zl,Jr,HS,BS,Xv,tr,Tf,US,$S;let Cp=(St=class{constructor({textContentSource:e,container:t,viewport:i}){E(this,Jr);E(this,Es,Promise.withResolvers());E(this,pn,null);E(this,Ah,!1);E(this,Sh,!!((gE=globalThis.FontInspector)!=null&&gE.enabled));E(this,ja,null);E(this,Sr,null);E(this,bh,0);E(this,xh,0);E(this,za,null);E(this,Il,null);E(this,Fl,0);E(this,As,0);E(this,Ol,Object.create(null));E(this,Ch,[]);E(this,jl,null);E(this,Ha,[]);E(this,kh,new WeakMap);E(this,Th,null);var l;if(e instanceof ReadableStream)w(this,jl,e);else if(typeof e=="object")w(this,jl,new ReadableStream({start(u){u.enqueue(e),u.close()}}));else throw new Error('No "textContentSource" parameter specified.');w(this,pn,w(this,Il,t)),w(this,As,i.scale*(globalThis.devicePixelRatio||1)),w(this,Fl,i.rotation),w(this,Sr,{prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:s,pageX:a,pageY:o}=i.rawDims;w(this,Th,[1,0,0,-1,-a,o+s]),w(this,xh,r),w(this,bh,s),_(l=St,tr,US).call(l),xo(t,i),c(this,Es).promise.catch(()=>{}).then(()=>{c(St,zl).delete(this),w(this,Sr,null),w(this,Ol,null)})}render(){const e=()=>{c(this,za).read().then(({value:t,done:i})=>{if(i){c(this,Es).resolve();return}c(this,ja)??w(this,ja,t.lang),Object.assign(c(this,Ol),t.styles),_(this,Jr,HS).call(this,t.items),e()},c(this,Es).reject)};return w(this,za,c(this,jl).getReader()),c(St,zl).add(this),e(),c(this,Es).promise}update({viewport:e,onBefore:t=null}){var s;const i=e.scale*(globalThis.devicePixelRatio||1),r=e.rotation;if(r!==c(this,Fl)&&(t==null||t(),w(this,Fl,r),xo(c(this,Il),{rotation:r})),i!==c(this,As)){t==null||t(),w(this,As,i);const a={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:_(s=St,tr,Tf).call(s,c(this,ja))};for(const o of c(this,Ha))a.properties=c(this,kh).get(o),a.div=o,_(this,Jr,Xv).call(this,a)}}cancel(){var t;const e=new Fo("TextLayer task cancelled.");(t=c(this,za))==null||t.cancel(e).catch(()=>{}),w(this,za,null),c(this,Es).reject(e)}get textDivs(){return c(this,Ha)}get textContentItemsStr(){return c(this,Ch)}static cleanup(){if(!(c(this,zl).size>0)){c(this,Ba).clear();for(const{canvas:e}of c(this,Ua).values())e.remove();c(this,Ua).clear()}}},Es=new WeakMap,pn=new WeakMap,Ah=new WeakMap,Sh=new WeakMap,ja=new WeakMap,Sr=new WeakMap,bh=new WeakMap,xh=new WeakMap,za=new WeakMap,Il=new WeakMap,Fl=new WeakMap,As=new WeakMap,Ol=new WeakMap,Ch=new WeakMap,jl=new WeakMap,Ha=new WeakMap,kh=new WeakMap,Th=new WeakMap,Ba=new WeakMap,Ua=new WeakMap,Ss=new WeakMap,zl=new WeakMap,Jr=new WeakSet,HS=function(e){var r,s;if(c(this,Ah))return;(s=c(this,Sr)).ctx??(s.ctx=_(r=St,tr,Tf).call(r,c(this,ja)));const t=c(this,Ha),i=c(this,Ch);for(const a of e){if(t.length>qR){ge("Ignoring additional textDivs for performance reasons."),w(this,Ah,!0);return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const o=c(this,pn);w(this,pn,document.createElement("span")),c(this,pn).classList.add("markedContent"),a.id!==null&&c(this,pn).setAttribute("id",`${a.id}`),o.append(c(this,pn))}else a.type==="endMarkedContent"&&w(this,pn,c(this,pn).parentNode);continue}i.push(a.str),_(this,Jr,BS).call(this,a)}},BS=function(e){var y;const t=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};c(this,Ha).push(t);const r=Q.transform(c(this,Th),e.transform);let s=Math.atan2(r[1],r[0]);const a=c(this,Ol)[e.fontName];a.vertical&&(s+=Math.PI/2);const o=c(this,Sh)&&a.fontSubstitution||a.fontFamily,l=Math.hypot(r[2],r[3]),u=l*_(y=St,tr,$S).call(y,o,c(this,ja));let h,d;s===0?(h=r[4],d=r[5]-u):(h=r[4]+u*Math.sin(s),d=r[5]-u*Math.cos(s));const f="calc(var(--scale-factor)*",p=t.style;c(this,pn)===c(this,Il)?(p.left=`${(100*h/c(this,xh)).toFixed(2)}%`,p.top=`${(100*d/c(this,bh)).toFixed(2)}%`):(p.left=`${f}${h.toFixed(2)}px)`,p.top=`${f}${d.toFixed(2)}px)`),p.fontSize=`${f}${(c(St,Ss)*l).toFixed(2)}px)`,p.fontFamily=o,i.fontSize=l,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,c(this,Sh)&&(t.dataset.fontName=a.fontSubstitutionLoadedName||e.fontName),s!==0&&(i.angle=s*(180/Math.PI));let g=!1;if(e.str.length>1)g=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const b=Math.abs(e.transform[0]),m=Math.abs(e.transform[3]);b!==m&&Math.max(b,m)/Math.min(b,m)>1.5&&(g=!0)}if(g&&(i.canvasWidth=a.vertical?e.height:e.width),c(this,kh).set(t,i),c(this,Sr).div=t,c(this,Sr).properties=i,_(this,Jr,Xv).call(this,c(this,Sr)),i.hasText&&c(this,pn).append(t),i.hasEOL){const b=document.createElement("br");b.setAttribute("role","presentation"),c(this,pn).append(b)}},Xv=function(e){const{div:t,properties:i,ctx:r,prevFontSize:s,prevFontFamily:a}=e,{style:o}=t;let l="";if(c(St,Ss)>1&&(l=`scale(${1/c(St,Ss)})`),i.canvasWidth!==0&&i.hasText){const{fontFamily:u}=o,{canvasWidth:h,fontSize:d}=i;(s!==d||a!==u)&&(r.font=`${d*c(this,As)}px ${u}`,e.prevFontSize=d,e.prevFontFamily=u);const{width:f}=r.measureText(t.textContent);f>0&&(l=`scaleX(${h*c(this,As)/f}) ${l}`)}i.angle!==0&&(l=`rotate(${i.angle}deg) ${l}`),l.length>0&&(o.transform=l)},tr=new WeakSet,Tf=function(e=null){let t=c(this,Ua).get(e||(e=""));if(!t){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=e,document.body.append(i),t=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),c(this,Ua).set(e,t)}return t},US=function(){if(c(this,Ss)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.textContent="X",document.body.append(e),w(this,Ss,e.getBoundingClientRect().height),e.remove()},$S=function(e,t){const i=c(this,Ba).get(e);if(i)return i;const r=_(this,tr,Tf).call(this,t),s=r.font;r.canvas.width=r.canvas.height=dn,r.font=`${dn}px ${e}`;const a=r.measureText("");let o=a.fontBoundingBoxAscent,l=Math.abs(a.fontBoundingBoxDescent);if(o){const d=o/(o+l);return c(this,Ba).set(e,d),r.canvas.width=r.canvas.height=0,r.font=s,d}r.strokeStyle="red",r.clearRect(0,0,dn,dn),r.strokeText("g",0,0);let u=r.getImageData(0,0,dn,dn).data;l=0;for(let d=u.length-1-3;d>=0;d-=4)if(u[d]>0){l=Math.ceil(d/4/dn);break}r.clearRect(0,0,dn,dn),r.strokeText("A",0,dn),u=r.getImageData(0,0,dn,dn).data,o=0;for(let d=0,f=u.length;d<f;d+=4)if(u[d]>0){o=dn-Math.floor(d/4/dn);break}r.canvas.width=r.canvas.height=0,r.font=s;const h=o?o/(o+l):QR;return c(this,Ba).set(e,h),h},E(St,tr),E(St,Ba,new Map),E(St,Ua,new Map),E(St,Ss,null),E(St,zl,new Set),St);function JR(){tS("`renderTextLayer`, please use `TextLayer` instead.");const{textContentSource:n,container:e,viewport:t,...i}=arguments[0],r=Object.keys(i);r.length>0&&ge("Ignoring `renderTextLayer` parameters: "+r.join(", "));const s=new Cp({textContentSource:n,container:e,viewport:t}),{textDivs:a,textContentItemsStr:o}=s;return{promise:s.render(),textDivs:a,textContentItemsStr:o}}function ZR(){tS("`updateTextLayer`, please use `TextLayer` instead.")}class zu{static textContent(e){const t=[],i={items:t,styles:Object.create(null)};function r(s){var l;if(!s)return;let a=null;const o=s.name;if(o==="#text")a=s.value;else if(zu.shouldBuildText(o))(l=s==null?void 0:s.attributes)!=null&&l.textContent?a=s.attributes.textContent:s.value&&(a=s.value);else return;if(a!==null&&t.push({str:a}),!!s.children)for(const u of s.children)r(u)}return r(e),i}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const eL=65536,tL=100,nL=5e3,iL=Jt?pR:tR,rL=Jt?gR:Z1,sL=Jt?fR:eR,aL=Jt?mR:eS;function oL(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new Kv,{docId:t}=e,i=n.url?lL(n.url):null,r=n.data?cL(n.data):null,s=n.httpHeaders||null,a=n.withCredentials===!0,o=n.password??null,l=n.range instanceof VS?n.range:null,u=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:eL;let h=n.worker instanceof ml?n.worker:null;const d=n.verbosity,f=typeof n.docBaseUrl=="string"&&!z0(n.docBaseUrl)?n.docBaseUrl:null,p=typeof n.cMapUrl=="string"?n.cMapUrl:null,g=n.cMapPacked!==!1,y=n.CMapReaderFactory||rL,b=typeof n.standardFontDataUrl=="string"?n.standardFontDataUrl:null,m=n.StandardFontDataFactory||aL,v=n.stopAtErrors!==!0,A=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,C=n.isEvalSupported!==!1,T=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!Jt,R=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,L=typeof n.disableFontFace=="boolean"?n.disableFontFace:Jt,x=n.fontExtraProperties===!0,N=n.enableXfa===!0,I=n.ownerDocument||globalThis.document,O=n.disableRange===!0,J=n.disableStream===!0,Y=n.disableAutoFetch===!0,W=n.pdfBug===!0,se=n.enableHWA===!0,oe=l?l.length:n.length??NaN,U=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!Jt&&!L,F=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:y===Z1&&m===eS&&p&&b&&Yc(p,document.baseURI)&&Yc(b,document.baseURI),B=n.canvasFactory||new iL({ownerDocument:I,enableHWA:se}),Z=n.filterFactory||new sL({docId:t,ownerDocument:I}),we=null;$P(d);const ne={canvasFactory:B,filterFactory:Z};if(F||(ne.cMapReaderFactory=new y({baseUrl:p,isCompressed:g}),ne.standardFontDataFactory=new m({baseUrl:b})),!h){const Qe={verbosity:d,port:Vr.workerPort};h=Qe.port?ml.fromPort(Qe):new ml(Qe),e._worker=h}const de={docId:t,apiVersion:"4.4.168",data:r,password:o,disableAutoFetch:Y,rangeChunkSize:u,length:oe,docBaseUrl:f,enableXfa:N,evaluatorOptions:{maxImageSize:A,disableFontFace:L,ignoreErrors:v,isEvalSupported:C,isOffscreenCanvasSupported:T,canvasMaxAreaInBytes:R,fontExtraProperties:x,useSystemFonts:U,cMapUrl:F?p:null,standardFontDataUrl:F?b:null}},ze={disableFontFace:L,fontExtraProperties:x,ownerDocument:I,pdfBug:W,styleElement:we,loadingParams:{disableAutoFetch:Y,enableXfa:N}};return h.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const Qe=h.messageHandler.sendWithPromise("GetDocRequest",de,r?[r.buffer]:null);let Se;if(l)Se=new DR(l,{disableRange:O,disableStream:J});else if(!r){if(!i)throw new Error("getDocument - no `url` parameter provided.");Se=(st=>Jt?function(){return typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype}()&&Yc(st.url)?new nE(st):new WR(st):Yc(st.url)?new nE(st):new BR(st))({url:i,length:oe,httpHeaders:s,withCredentials:a,rangeChunkSize:u,disableRange:O,disableStream:J})}return Qe.then(fe=>{if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const st=new Jc(t,fe,h.port),Vn=new fL(st,e,Se,ze,ne);e._transport=Vn,st.send("Ready",null)})}).catch(e._capability.reject),e}function lL(n){if(n instanceof URL)return n.href;try{return new URL(n,window.location).href}catch{if(Jt&&typeof n=="string")return n}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function cL(n){if(Jt&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return _g(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function iE(n){return typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0}var Bp;const Up=class Up{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${xn(Up,Bp)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,t,i;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(r){throw(i=this._worker)!=null&&i.port&&delete this._worker._pendingDestroy,r}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};Bp=new WeakMap,E(Up,Bp,0);let Kv=Up,VS=class{constructor(e,t,i=!1,r=null){this.length=e,this.initialData=t,this.progressiveDone=i,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const i of this._rangeListeners)i(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(const i of this._progressListeners)i(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){Oe("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class uL{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return be(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var bs,br,ti,Go,Pf;class hL{constructor(e,t,i,r=!1){E(this,ti);E(this,bs,null);E(this,br,!1);this._pageIndex=e,this._pageInfo=t,this._transport=i,this._stats=r?new $_:null,this._pdfBug=r,this.commonObjs=i.commonObjs,this.objs=new WS,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:i=0,offsetY:r=0,dontFlip:s=!1}={}){return new bd({viewBox:this.view,scale:e,rotation:t,offsetX:i,offsetY:r,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return be(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:i="display",annotationMode:r=ps.ENABLE,transform:s=null,background:a=null,optionalContentConfigPromise:o=null,annotationCanvasMap:l=null,pageColors:u=null,printAnnotationStorage:h=null}){var A,C;(A=this._stats)==null||A.time("Overall");const d=this._transport.getRenderingIntent(i,r,h),{renderingIntent:f,cacheKey:p}=d;w(this,br,!1),_(this,ti,Pf).call(this),o||(o=this._transport.getOptionalContentConfig(f));let g=this._intentStates.get(p);g||(g=Object.create(null),this._intentStates.set(p,g)),g.streamReaderCancelTimeout&&(clearTimeout(g.streamReaderCancelTimeout),g.streamReaderCancelTimeout=null);const y=!!(f&Jn.PRINT);g.displayReadyCapability||(g.displayReadyCapability=Promise.withResolvers(),g.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(C=this._stats)==null||C.time("Page Request"),this._pumpOperatorList(d));const b=T=>{var R;g.renderTasks.delete(m),(this._maybeCleanupAfterRender||y)&&w(this,br,!0),_(this,ti,Go).call(this,!y),T?(m.capability.reject(T),this._abortOperatorList({intentState:g,reason:T instanceof Error?T:new Error(T)})):m.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(R=globalThis.Stats)!=null&&R.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},m=new qv({callback:b,params:{canvasContext:e,viewport:t,transform:s,background:a},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:g.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!y,pdfBug:this._pdfBug,pageColors:u});(g.renderTasks||(g.renderTasks=new Set)).add(m);const v=m.task;return Promise.all([g.displayReadyCapability.promise,o]).then(([T,R])=>{var L;if(this.destroyed){b();return}if((L=this._stats)==null||L.time("Rendering"),!(R.renderingIntent&f))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");m.initializeGraphics({transparency:T,optionalContentConfig:R}),m.operatorListChanged()}).catch(b),v}getOperatorList({intent:e="display",annotationMode:t=ps.ENABLE,printAnnotationStorage:i=null}={}){var l;function r(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(o))}const s=this._transport.getRenderingIntent(e,t,i,!0);let a=this._intentStates.get(s.cacheKey);a||(a=Object.create(null),this._intentStates.set(s.cacheKey,a));let o;return a.opListReadCapability||(o=Object.create(null),o.operatorListChanged=r,a.opListReadCapability=Promise.withResolvers(),(a.renderTasks||(a.renderTasks=new Set)).add(o),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(l=this._stats)==null||l.time("Page Request"),this._pumpOperatorList(s)),a.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>zu.textContent(i));const t=this.streamTextContent(e);return new Promise(function(i,r){function s(){a.read().then(function({value:l,done:u}){if(u){i(o);return}o.lang??(o.lang=l.lang),Object.assign(o.styles,l.styles),o.items.push(...l.items),s()},r)}const a=t.getReader(),o={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const i of t.renderTasks)e.push(i.completed),i.cancel();return this.objs.clear(),w(this,br,!1),_(this,ti,Pf).call(this),Promise.all(e)}cleanup(e=!1){w(this,br,!0);const t=_(this,ti,Go).call(this,!1);return e&&t&&this._stats&&(this._stats=new $_),t}_startRenderPage(e,t){var r,s;const i=this._intentStates.get(t);i&&((r=this._stats)==null||r.timeEnd("Page Request"),(s=i.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,t){for(let i=0,r=e.length;i<r;i++)t.operatorList.fnArray.push(e.fnArray[i]),t.operatorList.argsArray.push(e.argsArray[i]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const i of t.renderTasks)i.operatorListChanged();e.lastChunk&&_(this,ti,Go).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:i}){const{map:r,transfer:s}=i,o=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:r},s).getReader(),l=this._intentStates.get(t);l.streamReader=o;const u=()=>{o.read().then(({value:h,done:d})=>{if(d){l.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(h,l),u())},h=>{if(l.streamReader=null,!this._transport.destroyed){if(l.operatorList){l.operatorList.lastChunk=!0;for(const d of l.renderTasks)d.operatorListChanged();_(this,ti,Go).call(this,!0)}if(l.displayReadyCapability)l.displayReadyCapability.reject(h);else if(l.opListReadCapability)l.opListReadCapability.reject(h);else throw h}})};u()}_abortOperatorList({intentState:e,reason:t,force:i=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!i){if(e.renderTasks.size>0)return;if(t instanceof j0){let r=tL;t.extraDelay>0&&t.extraDelay<1e3&&(r+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},r);return}}if(e.streamReader.cancel(new Fo(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[r,s]of this._intentStates)if(s===e){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}bs=new WeakMap,br=new WeakMap,ti=new WeakSet,Go=function(e=!1){if(_(this,ti,Pf).call(this),!c(this,br)||this.destroyed)return!1;if(e)return w(this,bs,setTimeout(()=>{w(this,bs,null),_(this,ti,Go).call(this,!1)},nL)),!1;for(const{renderTasks:t,operatorList:i}of this._intentStates.values())if(t.size>0||!i.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),w(this,br,!1),!0},Pf=function(){c(this,bs)&&(clearTimeout(c(this,bs)),w(this,bs,null))};var $a,$p;class dL{constructor(){E(this,$a,new Set);E(this,$p,Promise.resolve())}postMessage(e,t){const i={data:structuredClone(e,t?{transfer:t}:null)};c(this,$p).then(()=>{for(const r of c(this,$a))r.call(this,i)})}addEventListener(e,t){c(this,$a).add(t)}removeEventListener(e,t){c(this,$a).delete(t)}terminate(){c(this,$a).clear()}}$a=new WeakMap,$p=new WeakMap;const pr={isWorkerDisabled:!1,fakeWorkerId:0};Jt&&(pr.isWorkerDisabled=!0,Vr.workerSrc||(Vr.workerSrc="./pdf.worker.mjs")),pr.isSameOrigin=function(n,e){let t;try{if(t=new URL(n),!t.origin||t.origin==="null")return!1}catch{return!1}const i=new URL(e,t);return t.origin===i.origin},pr.createCDNWrapper=function(n){const e=`await import("${n}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};var Va,Hl,Rf,Bl,Lf;const kn=class kn{constructor({name:e=null,port:t=null,verbosity:i=VP()}={}){E(this,Hl);var r;if(this.name=e,this.destroyed=!1,this.verbosity=i,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if((r=c(kn,Va))!=null&&r.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(c(kn,Va)||w(kn,Va,new WeakMap)).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return Jt?Promise.all([nr.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new Jc("main","worker",e),this._messageHandler.on("ready",function(){}),_(this,Hl,Rf).call(this)}_initialize(){if(pr.isWorkerDisabled||c(kn,Bl,Lf)){this._setupFakeWorker();return}let{workerSrc:e}=kn;try{pr.isSameOrigin(window.location.href,e)||(e=pr.createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),i=new Jc("main","worker",t),r=()=>{s.abort(),i.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},s=new AbortController;t.addEventListener("error",()=>{this._webWorker||r()},{signal:s.signal}),i.on("test",o=>{if(s.abort(),this.destroyed||!o){r();return}this._messageHandler=i,this._port=t,this._webWorker=t,_(this,Hl,Rf).call(this)}),i.on("ready",o=>{if(s.abort(),this.destroyed){r();return}try{a()}catch{this._setupFakeWorker()}});const a=()=>{const o=new Uint8Array;i.send("test",o,[o.buffer])};a();return}catch{yg("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){pr.isWorkerDisabled||(ge("Setting up fake worker."),pr.isWorkerDisabled=!0),kn._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const t=new dL;this._port=t;const i=`fake${pr.fakeWorkerId++}`,r=new Jc(i+"_worker",i,t);e.setup(r,t),this._messageHandler=new Jc(i,i+"_worker",t),_(this,Hl,Rf).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=c(kn,Va))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var i;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const t=(i=c(this,Va))==null?void 0:i.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new kn(e)}static get workerSrc(){if(Vr.workerSrc)return Vr.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return be(this,"_setupFakeWorkerGlobal",(async()=>c(this,Bl,Lf)?c(this,Bl,Lf):(await import(this.workerSrc)).WorkerMessageHandler)())}};Va=new WeakMap,Hl=new WeakSet,Rf=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},Bl=new WeakSet,Lf=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},E(kn,Bl),E(kn,Va);let ml=kn;var xr,Bi,Ul,$l,Ui,Wa,Zc;class fL{constructor(e,t,i,r,s){E(this,Wa);E(this,xr,new Map);E(this,Bi,new Map);E(this,Ul,new Map);E(this,$l,new Map);E(this,Ui,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new WS,this.fontLoader=new hR({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return be(this,"annotationStorage",new U0)}getRenderingIntent(e,t=ps.ENABLE,i=null,r=!1){let s=Jn.DISPLAY,a=Hv;switch(e){case"any":s=Jn.ANY;break;case"display":break;case"print":s=Jn.PRINT;break;default:ge(`getRenderingIntent - invalid intent: ${e}`)}switch(t){case ps.DISABLE:s+=Jn.ANNOTATIONS_DISABLE;break;case ps.ENABLE:break;case ps.ENABLE_FORMS:s+=Jn.ANNOTATIONS_FORMS;break;case ps.ENABLE_STORAGE:s+=Jn.ANNOTATIONS_STORAGE,a=(s&Jn.PRINT&&i instanceof PS?i:this.annotationStorage).serializable;break;default:ge(`getRenderingIntent - invalid annotationMode: ${t}`)}return r&&(s+=Jn.OPLIST),{renderingIntent:s,cacheKey:`${s}_${a.hash}`,annotationStorageSerializable:a}}destroy(){var i;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(i=c(this,Ui))==null||i.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const r of c(this,Bi).values())e.push(r._destroy());c(this,Bi).clear(),c(this,Ul).clear(),c(this,$l).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var r;this.commonObjs.clear(),this.fontLoader.clear(),c(this,xr).clear(),this.filterFactory.destroy(),Cp.cleanup(),(r=this._networkStream)==null||r.cancelAllRequests(new Fo("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(i,r)=>{xt(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},r.onPull=()=>{this._fullReader.read().then(function({value:s,done:a}){if(a){r.close();return}xt(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{r.error(s)})},r.onCancel=s=>{this._fullReader.cancel(s),r.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("ReaderHeadersReady",i=>{const r=Promise.withResolvers(),s=this._fullReader;return s.headersReady.then(()=>{var a;(!s.isStreamingSupported||!s.isRangeSupported)&&(this._lastProgress&&((a=t.onProgress)==null||a.call(t,this._lastProgress)),s.onProgress=o=>{var l;(l=t.onProgress)==null||l.call(t,{loaded:o.loaded,total:o.total})}),r.resolve({isStreamingSupported:s.isStreamingSupported,isRangeSupported:s.isRangeSupported,contentLength:s.contentLength})},r.reject),r.promise}),e.on("GetRangeReader",(i,r)=>{xt(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(i.begin,i.end);if(!s){r.close();return}r.onPull=()=>{s.read().then(function({value:a,done:o}){if(o){r.close();return}xt(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{r.error(a)})},r.onCancel=a=>{s.cancel(a),r.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,t._capability.resolve(new uL(i,this))}),e.on("DocException",function(i){let r;switch(i.name){case"PasswordException":r=new vv(i.message,i.code);break;case"InvalidPDFException":r=new Y1(i.message);break;case"MissingPDFException":r=new Io(i.message);break;case"UnexpectedResponseException":r=new wg(i.message,i.status);break;case"UnknownErrorException":r=new yv(i.message,i.details);break;default:Oe("DocException - expected a valid Error.")}t._capability.reject(r)}),e.on("PasswordRequest",i=>{if(w(this,Ui,Promise.withResolvers()),t.onPassword){const r=s=>{s instanceof Error?c(this,Ui).reject(s):c(this,Ui).resolve({password:s})};try{t.onPassword(r,i.code)}catch(s){c(this,Ui).reject(s)}}else c(this,Ui).reject(new vv(i.message,i.code));return c(this,Ui).promise}),e.on("DataLoaded",i=>{var r;(r=t.onProgress)==null||r.call(t,{loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),e.on("StartRenderPage",i=>{if(this.destroyed)return;c(this,Bi).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),e.on("commonobj",([i,r,s])=>{var a;if(this.destroyed||this.commonObjs.has(i))return null;switch(r){case"Font":const{disableFontFace:o,fontExtraProperties:l,pdfBug:u}=this._params;if("error"in s){const p=s.error;ge(`Error during font loading: ${p}`),this.commonObjs.resolve(i,p);break}const h=u&&((a=globalThis.FontInspector)!=null&&a.enabled)?(p,g)=>globalThis.FontInspector.fontAdded(p,g):null,d=new dR(s,{disableFontFace:o,inspectFont:h});this.fontLoader.bind(d).catch(()=>e.sendWithPromise("FontFallback",{id:i})).finally(()=>{!l&&d.data&&(d.data=null),this.commonObjs.resolve(i,d)});break;case"CopyLocalImage":const{imageRef:f}=s;xt(f,"The imageRef must be defined.");for(const p of c(this,Bi).values())for(const[,g]of p.objs)if((g==null?void 0:g.ref)===f)return g.dataLen?(this.commonObjs.resolve(i,structuredClone(g)),g.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,s);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),e.on("obj",([i,r,s,a])=>{var l;if(this.destroyed)return;const o=c(this,Bi).get(r);if(!o.objs.has(i)){if(o._intentStates.size===0){(l=a==null?void 0:a.bitmap)==null||l.close();return}switch(s){case"Image":o.objs.resolve(i,a),(a==null?void 0:a.dataLen)>zP&&(o._maybeCleanupAfterRender=!0);break;case"Pattern":o.objs.resolve(i,a);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",i=>{var r;this.destroyed||(r=t.onProgress)==null||r.call(t,{loaded:i.loaded,total:i.total})}),e.on("FetchBuiltInCMap",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(i):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),e.on("FetchStandardFontData",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(i):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var i;this.annotationStorage.size<=0&&ge("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((i=this._fullReader)==null?void 0:i.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,i=c(this,Ul).get(t);if(i)return i;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&c(this,$l).set(s.refStr,e);const a=new hL(t,s,this,this._params.pdfBug);return c(this,Bi).set(t,a),a});return c(this,Ul).set(t,r),r}getPageIndex(e){return iE(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return _(this,Wa,Zc).call(this,"GetFieldObjects")}hasJSActions(){return _(this,Wa,Zc).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return _(this,Wa,Zc).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return _(this,Wa,Zc).call(this,"GetOptionalContentConfig").then(t=>new MR(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=c(this,xr).get(e);if(t)return t;const i=this.messageHandler.sendWithPromise(e,null).then(r=>{var s,a;return{info:r[0],metadata:r[1]?new RR(r[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((a=this._fullReader)==null?void 0:a.contentLength)??null}});return c(this,xr).set(e,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of c(this,Bi).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),c(this,xr).clear(),this.filterFactory.destroy(!0),Cp.cleanup()}}cachedPageNumber(e){if(!iE(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return c(this,$l).get(t)??null}}xr=new WeakMap,Bi=new WeakMap,Ul=new WeakMap,$l=new WeakMap,Ui=new WeakMap,Wa=new WeakSet,Zc=function(e,t=null){const i=c(this,xr).get(e);if(i)return i;const r=this.messageHandler.sendWithPromise(e,t);return c(this,xr).set(e,r),r};const af=Symbol("INITIAL_DATA");var mi,Ph,Yv;class WS{constructor(){E(this,Ph);E(this,mi,Object.create(null))}get(e,t=null){if(t){const r=_(this,Ph,Yv).call(this,e);return r.promise.then(()=>t(r.data)),null}const i=c(this,mi)[e];if(!i||i.data===af)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return i.data}has(e){const t=c(this,mi)[e];return!!t&&t.data!==af}resolve(e,t=null){const i=_(this,Ph,Yv).call(this,e);i.data=t,i.resolve()}clear(){var e;for(const t in c(this,mi)){const{data:i}=c(this,mi)[t];(e=i==null?void 0:i.bitmap)==null||e.close()}w(this,mi,Object.create(null))}*[Symbol.iterator](){for(const e in c(this,mi)){const{data:t}=c(this,mi)[e];t!==af&&(yield[e,t])}}}mi=new WeakMap,Ph=new WeakSet,Yv=function(e){var t;return(t=c(this,mi))[e]||(t[e]={...Promise.withResolvers(),data:af})};var xs;class pL{constructor(e){E(this,xs,null);w(this,xs,e),this.onContinue=null}get promise(){return c(this,xs).capability.promise}cancel(e=0){c(this,xs).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=c(this,xs).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=c(this,xs);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}xs=new WeakMap;var Cs,Ga;const pa=class pa{constructor({callback:e,params:t,objs:i,commonObjs:r,annotationCanvasMap:s,operatorList:a,pageIndex:o,canvasFactory:l,filterFactory:u,useRequestAnimationFrame:h=!1,pdfBug:d=!1,pageColors:f=null}){E(this,Cs,null);this.callback=e,this.params=t,this.objs=i,this.commonObjs=r,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=u,this._pdfBug=d,this.pageColors=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=h===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new pL(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var o,l;if(this.cancelled)return;if(this._canvas){if(c(pa,Ga).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");c(pa,Ga).add(this._canvas)}this._pdfBug&&((o=globalThis.StepperManager)!=null&&o.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:i,viewport:r,transform:s,background:a}=this.params;this.gfx=new gl(i,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:r,transparency:e,background:a}),this.operatorListIdx=0,this.graphicsReady=!0,(l=this.graphicsReadyCallback)==null||l.call(this)}cancel(e=null,t=0){var i;this.running=!1,this.cancelled=!0,(i=this.gfx)==null||i.endDrawing(),c(this,Cs)&&(window.cancelAnimationFrame(c(this,Cs)),w(this,Cs,null)),c(pa,Ga).delete(this._canvas),this.callback(e||new j0(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?w(this,Cs,window.requestAnimationFrame(()=>{w(this,Cs,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),c(pa,Ga).delete(this._canvas),this.callback())))}};Cs=new WeakMap,Ga=new WeakMap,E(pa,Ga,new WeakSet);let qv=pa;const gL="4.4.168",mL="19fbc8998";function rE(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function Hc(n){return Math.max(0,Math.min(255,255*n))}class sE{static CMYK_G([e,t,i,r]){return["G",1-Math.min(1,.3*e+.59*i+.11*t+r)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Hc(e),[e,e,e]}static G_HTML([e]){const t=rE(e);return`#${t}${t}${t}`}static RGB_G([e,t,i]){return["G",.3*e+.59*t+.11*i]}static RGB_rgb(e){return e.map(Hc)}static RGB_HTML(e){return`#${e.map(rE).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,i,r]){return["RGB",1-Math.min(1,e+r),1-Math.min(1,i+r),1-Math.min(1,t+r)]}static CMYK_rgb([e,t,i,r]){return[Hc(1-Math.min(1,e+r)),Hc(1-Math.min(1,i+r)),Hc(1-Math.min(1,t+r))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,i]){const r=1-e,s=1-t,a=1-i,o=Math.min(r,s,a);return["CMYK",r,s,a,o]}}class GS{static setupStorage(e,t,i,r,s){const a=r.getValue(t,{value:null});switch(i.name){case"textarea":if(a.value!==null&&(e.textContent=a.value),s==="print")break;e.addEventListener("input",o=>{r.setValue(t,{value:o.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(a.value===i.attributes.xfaOn?e.setAttribute("checked",!0):a.value===i.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",o=>{r.setValue(t,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&e.setAttribute("value",a.value),s==="print")break;e.addEventListener("input",o=>{r.setValue(t,{value:o.target.value})})}break;case"select":if(a.value!==null){e.setAttribute("value",a.value);for(const o of i.children)o.attributes.value===a.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}e.addEventListener("input",o=>{const l=o.target.options,u=l.selectedIndex===-1?"":l[l.selectedIndex].value;r.setValue(t,{value:u})});break}}static setAttributes({html:e,element:t,storage:i=null,intent:r,linkService:s}){const{attributes:a}=t,o=e instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${r}`);for(const[l,u]of Object.entries(a))if(u!=null)switch(l){case"class":u.length&&e.setAttribute(l,u.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",u);break;case"style":Object.assign(e.style,u);break;case"textContent":e.textContent=u;break;default:(!o||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,u)}o&&s.addLinkAttributes(e,a.href,a.newWindow),i&&a.dataId&&this.setupStorage(e,a.dataId,t,i)}static render(e){var d,f;const t=e.annotationStorage,i=e.linkService,r=e.xfaHtml,s=e.intent||"display",a=document.createElement(r.name);r.attributes&&this.setAttributes({html:a,element:r,intent:s,linkService:i});const o=s!=="richText",l=e.div;if(l.append(a),e.viewport){const p=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=p}o&&l.setAttribute("class","xfaLayer xfaFont");const u=[];if(r.children.length===0){if(r.value){const p=document.createTextNode(r.value);a.append(p),o&&zu.shouldBuildText(r.name)&&u.push(p)}return{textDivs:u}}const h=[[r,-1,a]];for(;h.length>0;){const[p,g,y]=h.at(-1);if(g+1===p.children.length){h.pop();continue}const b=p.children[++h.at(-1)[1]];if(b===null)continue;const{name:m}=b;if(m==="#text"){const A=document.createTextNode(b.value);u.push(A),y.append(A);continue}const v=(d=b==null?void 0:b.attributes)!=null&&d.xmlns?document.createElementNS(b.attributes.xmlns,m):document.createElement(m);if(y.append(v),b.attributes&&this.setAttributes({html:v,element:b,storage:t,intent:s,linkService:i}),((f=b.children)==null?void 0:f.length)>0)h.push([b,-1,v]);else if(b.value){const A=document.createTextNode(b.value);o&&zu.shouldBuildText(m)&&u.push(A),v.append(A)}}for(const p of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:u}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const kd=1e3,vL=9,ko=new WeakSet;function Wr(n){return{width:n[2]-n[0],height:n[3]-n[1]}}class yL{static create(e){switch(e.data.annotationType){case yt.LINK:return new XS(e);case yt.TEXT:return new wL(e);case yt.WIDGET:switch(e.data.fieldType){case"Tx":return new _L(e);case"Btn":return e.data.radioButton?new qS(e):e.data.checkBox?new AL(e):new SL(e);case"Ch":return new bL(e);case"Sig":return new EL(e)}return new Oo(e);case yt.POPUP:return new Jv(e);case yt.FREETEXT:return new tb(e);case yt.LINE:return new CL(e);case yt.SQUARE:return new kL(e);case yt.CIRCLE:return new TL(e);case yt.POLYLINE:return new nb(e);case yt.CARET:return new RL(e);case yt.INK:return new ib(e);case yt.POLYGON:return new PL(e);case yt.HIGHLIGHT:return new LL(e);case yt.UNDERLINE:return new ML(e);case yt.SQUIGGLY:return new DL(e);case yt.STRIKEOUT:return new NL(e);case yt.STAMP:return new rb(e);case yt.FILEATTACHMENT:return new IL(e);default:return new dt(e)}}}var Xa,Vl,Wl,Rh,Qv;const Y0=class Y0{constructor(e,{isRenderable:t=!1,ignoreBorder:i=!1,createQuadrilaterals:r=!1}={}){E(this,Rh);E(this,Xa,null);E(this,Vl,!1);E(this,Wl,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(i)),r&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:i}){return!!(e!=null&&e.str||t!=null&&t.str||i!=null&&i.str)}get hasPopupData(){return Y0._hasPopupData(this.data)}updateEdited(e){var i;if(!this.container)return;c(this,Xa)||w(this,Xa,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&_(this,Rh,Qv).call(this,t),(i=c(this,Wl))==null||i.popup.updateEdited(e)}resetEdited(){var e;c(this,Xa)&&(_(this,Rh,Qv).call(this,c(this,Xa).rect),(e=c(this,Wl))==null||e.popup.resetEdited(),w(this,Xa,null))}_createContainer(e){const{data:t,parent:{page:i,viewport:r}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),this instanceof Oo||(s.tabIndex=kd);const{style:a}=s;if(a.zIndex=this.parent.zIndex++,t.popupRef&&s.setAttribute("aria-haspopup","dialog"),t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof Jv){const{rotation:y}=t;return!t.hasOwnCanvas&&y!==0&&this.setRotation(y,s),s}const{width:o,height:l}=Wr(t.rect);if(!e&&t.borderStyle.width>0){a.borderWidth=`${t.borderStyle.width}px`;const y=t.borderStyle.horizontalCornerRadius,b=t.borderStyle.verticalCornerRadius;if(y>0||b>0){const v=`calc(${y}px * var(--scale-factor)) / calc(${b}px * var(--scale-factor))`;a.borderRadius=v}else if(this instanceof qS){const v=`calc(${o}px * var(--scale-factor)) / calc(${l}px * var(--scale-factor))`;a.borderRadius=v}switch(t.borderStyle.style){case jc.SOLID:a.borderStyle="solid";break;case jc.DASHED:a.borderStyle="dashed";break;case jc.BEVELED:ge("Unimplemented border style: beveled");break;case jc.INSET:ge("Unimplemented border style: inset");break;case jc.UNDERLINE:a.borderBottomStyle="solid";break}const m=t.borderColor||null;m?(w(this,Vl,!0),a.borderColor=Q.makeHexColor(m[0]|0,m[1]|0,m[2]|0)):a.borderWidth=0}const u=Q.normalizeRect([t.rect[0],i.view[3]-t.rect[1]+i.view[1],t.rect[2],i.view[3]-t.rect[3]+i.view[1]]),{pageWidth:h,pageHeight:d,pageX:f,pageY:p}=r.rawDims;a.left=`${100*(u[0]-f)/h}%`,a.top=`${100*(u[1]-p)/d}%`;const{rotation:g}=t;return t.hasOwnCanvas||g===0?(a.width=`${100*o/h}%`,a.height=`${100*l/d}%`):this.setRotation(g,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:r}=this.parent.viewport.rawDims,{width:s,height:a}=Wr(this.data.rect);let o,l;e%180===0?(o=100*s/i,l=100*a/r):(o=100*a/i,l=100*s/r),t.style.width=`${o}%`,t.style.height=`${l}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,i,r)=>{const s=r.detail[t],a=s[0],o=s.slice(1);r.target.style[i]=sE[`${a}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[i]:sE[`${a}_rgb`](o)})};return be(this,"_commonActions",{display:t=>{const{display:i}=t.detail,r=i%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:i===1||i===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:i}=t.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const i=t.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(e,t){const i=this._commonActions;for(const r of Object.keys(t.detail)){const s=e[r]||i[r];s==null||s(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const i=this._commonActions;for(const[r,s]of Object.entries(t)){const a=i[r];if(a){const o={detail:{[r]:s},target:e};a(o),delete t[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,i,r,s]=this.data.rect.map(y=>Math.fround(y));if(e.length===8){const[y,b,m,v]=e.subarray(2,6);if(r===y&&s===b&&t===m&&i===v)return}const{style:a}=this.container;let o;if(c(this,Vl)){const{borderColor:y,borderWidth:b}=a;a.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${y}" stroke-width="${b}">`],this.container.classList.add("hasBorder")}const l=r-t,u=s-i,{svgFactory:h}=this,d=h.createElement("svg");d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0);const f=h.createElement("defs");d.append(f);const p=h.createElement("clipPath"),g=`clippath_${this.data.id}`;p.setAttribute("id",g),p.setAttribute("clipPathUnits","objectBoundingBox"),f.append(p);for(let y=2,b=e.length;y<b;y+=8){const m=e[y],v=e[y+1],A=e[y+2],C=e[y+3],T=h.createElement("rect"),R=(A-t)/l,L=(s-v)/u,x=(m-A)/l,N=(v-C)/u;T.setAttribute("x",R),T.setAttribute("y",L),T.setAttribute("width",x),T.setAttribute("height",N),p.append(T),o==null||o.push(`<rect vector-effect="non-scaling-stroke" x="${R}" y="${L}" width="${x}" height="${N}"/>`)}c(this,Vl)&&(o.push("</g></svg>')"),a.backgroundImage=o.join("")),this.container.append(d),this.container.style.clipPath=`url(#${g})`}_createPopup(){const{container:e,data:t}=this;e.setAttribute("aria-haspopup","dialog");const i=w(this,Wl,new Jv({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(i.render())}render(){Oe("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const i=[];if(this._fieldObjects){const r=this._fieldObjects[e];if(r)for(const{page:s,id:a,exportValues:o}of r){if(s===-1||a===t)continue;const l=typeof o=="string"?o:null,u=document.querySelector(`[data-element-id="${a}"]`);if(u&&!ko.has(u)){ge(`_getElementsByName - element not allowed: ${a}`);continue}i.push({id:a,exportValue:l,domElement:u})}return i}for(const r of document.getElementsByName(e)){const{exportValue:s}=r,a=r.getAttribute("data-element-id");a!==t&&ko.has(r)&&i.push({id:a,exportValue:s,domElement:r})}return i}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var i;(i=this.linkService.eventBus)==null||i.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}};Xa=new WeakMap,Vl=new WeakMap,Wl=new WeakMap,Rh=new WeakSet,Qv=function(e){const{container:{style:t},data:{rect:i,rotation:r},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:l}}}}=this;i==null||i.splice(0,4,...e);const{width:u,height:h}=Wr(e);t.left=`${100*(e[0]-o)/s}%`,t.top=`${100*(a-e[3]+l)/a}%`,r===0?(t.width=`${100*u/s}%`,t.height=`${100*h/a}%`):this.setRotation(r)};let dt=Y0;var jn,ca,KS,YS;class XS extends dt{constructor(t,i=null){super(t,{isRenderable:!0,ignoreBorder:!!(i!=null&&i.ignoreBorder),createQuadrilaterals:!0});E(this,jn);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:i}=this,r=document.createElement("a");r.setAttribute("data-element-id",t.id);let s=!1;return t.url?(i.addLinkAttributes(r,t.url,t.newWindow),s=!0):t.action?(this._bindNamedAction(r,t.action),s=!0):t.attachment?(_(this,jn,KS).call(this,r,t.attachment,t.attachmentDest),s=!0):t.setOCGState?(_(this,jn,YS).call(this,r,t.setOCGState),s=!0):t.dest?(this._bindLink(r,t.dest),s=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,t),s=!0),t.resetForm?(this._bindResetFormAction(r,t.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(r,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(r),this.container}_bindLink(t,i){t.href=this.linkService.getDestinationHash(i),t.onclick=()=>(i&&this.linkService.goToDestination(i),!1),(i||i==="")&&_(this,jn,ca).call(this)}_bindNamedAction(t,i){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(i),!1),_(this,jn,ca).call(this)}_bindJSAction(t,i){t.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(i.actions)){const a=r.get(s);a&&(t[a]=()=>{var o;return(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i.id,name:s}}),!1})}t.onclick||(t.onclick=()=>!1),_(this,jn,ca).call(this)}_bindResetFormAction(t,i){const r=t.onclick;if(r||(t.href=this.linkService.getAnchorUrl("")),_(this,jn,ca).call(this),!this._fieldObjects){ge('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(t.onclick=()=>!1);return}t.onclick=()=>{var d;r==null||r();const{fields:s,refs:a,include:o}=i,l=[];if(s.length!==0||a.length!==0){const f=new Set(a);for(const p of s){const g=this._fieldObjects[p]||[];for(const{id:y}of g)f.add(y)}for(const p of Object.values(this._fieldObjects))for(const g of p)f.has(g.id)===o&&l.push(g)}else for(const f of Object.values(this._fieldObjects))l.push(...f);const u=this.annotationStorage,h=[];for(const f of l){const{id:p}=f;switch(h.push(p),f.type){case"text":{const y=f.defaultValue||"";u.setValue(p,{value:y});break}case"checkbox":case"radiobutton":{const y=f.defaultValue===f.exportValues;u.setValue(p,{value:y});break}case"combobox":case"listbox":{const y=f.defaultValue||"";u.setValue(p,{value:y});break}default:continue}const g=document.querySelector(`[data-element-id="${p}"]`);if(g){if(!ko.has(g)){ge(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;g.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:h,name:"ResetForm"}})),!1}}}jn=new WeakSet,ca=function(){this.container.setAttribute("data-internal-link","")},KS=function(t,i,r=null){t.href=this.linkService.getAnchorUrl(""),i.description&&(t.title=i.description),t.onclick=()=>{var s;return(s=this.downloadManager)==null||s.openOrDownloadData(i.content,i.filename,r),!1},_(this,jn,ca).call(this)},YS=function(t,i){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(i),!1),_(this,jn,ca).call(this)};class wL extends dt{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Oo extends dt{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return yn.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,i,r,s){i.includes("mouse")?e.addEventListener(i,a=>{var o;(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):e.addEventListener(i,a=>{var o;if(i==="blur"){if(!t.focused||!a.relatedTarget)return;t.focused=!1}else if(i==="focus"){if(t.focused)return;t.focused=!0}s&&((o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(a)}}))})}_setEventListeners(e,t,i,r){var s,a,o;for(const[l,u]of i)(u==="Action"||(s=this.data.actions)!=null&&s[u])&&((u==="Focus"||u==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,l,u,r),u==="Focus"&&!((a=this.data.actions)!=null&&a.Blur)?this._setEventListener(e,t,"blur","Blur",null):u==="Blur"&&!((o=this.data.actions)!=null&&o.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":Q.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||vL,s=e.style;let a;const o=2,l=u=>Math.round(10*u)/10;if(this.data.multiLine){const u=Math.abs(this.data.rect[3]-this.data.rect[1]-o),h=Math.round(u/(pm*r))||1,d=u/h;a=Math.min(r,l(d/pm))}else{const u=Math.abs(this.data.rect[3]-this.data.rect[1]-o);a=Math.min(r,l(u/pm))}s.fontSize=`calc(${a}px * var(--scale-factor))`,s.color=Q.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class _L extends Oo{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,i,r){const s=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[t]=i),s.setValue(a.id,{[r]:i})}render(){var r,s;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const a=e.getValue(t,{value:this.data.fieldValue});let o=a.value||"";const l=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;l&&o.length>l&&(o=o.slice(0,l));let u=a.formattedValue||((r=this.data.textContent)==null?void 0:r.join(`
`))||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const h={userValue:o,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=u??o,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type="text",i.setAttribute("value",u??o),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),ko.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=kd,this._setRequired(i,this.data.required),l&&(i.maxLength=l),i.addEventListener("input",f=>{e.setValue(t,{value:f.target.value}),this.setPropertyOnSiblings(i,"value",f.target.value,"value"),h.formattedValue=null}),i.addEventListener("resetform",f=>{const p=this.data.defaultFieldValue??"";i.value=h.userValue=p,h.formattedValue=null});let d=f=>{const{formattedValue:p}=h;p!=null&&(f.target.value=p),f.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",p=>{var y;if(h.focused)return;const{target:g}=p;h.userValue&&(g.value=h.userValue),h.lastCommittedValue=g.value,h.commitKey=1,(y=this.data.actions)!=null&&y.Focus||(h.focused=!0)}),i.addEventListener("updatefromsandbox",p=>{this.showElementAndHideCanvas(p.target);const g={value(y){h.userValue=y.detail.value??"",e.setValue(t,{value:h.userValue.toString()}),y.target.value=h.userValue},formattedValue(y){const{formattedValue:b}=y.detail;h.formattedValue=b,b!=null&&y.target!==document.activeElement&&(y.target.value=b),e.setValue(t,{formattedValue:b})},selRange(y){y.target.setSelectionRange(...y.detail.selRange)},charLimit:y=>{var A;const{charLimit:b}=y.detail,{target:m}=y;if(b===0){m.removeAttribute("maxLength");return}m.setAttribute("maxLength",b);let v=h.userValue;!v||v.length<=b||(v=v.slice(0,b),m.value=h.userValue=v,e.setValue(t,{value:v}),(A=this.linkService.eventBus)==null||A.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:v,willCommit:!0,commitKey:1,selStart:m.selectionStart,selEnd:m.selectionEnd}}))}};this._dispatchEventFromSandbox(g,p)}),i.addEventListener("keydown",p=>{var b;h.commitKey=1;let g=-1;if(p.key==="Escape"?g=0:p.key==="Enter"&&!this.data.multiLine?g=2:p.key==="Tab"&&(h.commitKey=3),g===-1)return;const{value:y}=p.target;h.lastCommittedValue!==y&&(h.lastCommittedValue=y,h.userValue=y,(b=this.linkService.eventBus)==null||b.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:y,willCommit:!0,commitKey:g,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}}))});const f=d;d=null,i.addEventListener("blur",p=>{var y,b;if(!h.focused||!p.relatedTarget)return;(y=this.data.actions)!=null&&y.Blur||(h.focused=!1);const{value:g}=p.target;h.userValue=g,h.lastCommittedValue!==g&&((b=this.linkService.eventBus)==null||b.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:g,willCommit:!0,commitKey:h.commitKey,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}})),f(p)}),(s=this.data.actions)!=null&&s.Keystroke&&i.addEventListener("beforeinput",p=>{var T;h.lastCommittedValue=null;const{data:g,target:y}=p,{value:b,selectionStart:m,selectionEnd:v}=y;let A=m,C=v;switch(p.inputType){case"deleteWordBackward":{const R=b.substring(0,m).match(/\w*[^\w]*$/);R&&(A-=R[0].length);break}case"deleteWordForward":{const R=b.substring(m).match(/^[^\w]*\w*/);R&&(C+=R[0].length);break}case"deleteContentBackward":m===v&&(A-=1);break;case"deleteContentForward":m===v&&(C+=1);break}p.preventDefault(),(T=this.linkService.eventBus)==null||T.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:b,change:g||"",willCommit:!1,selStart:A,selEnd:C}})}),this._setEventListeners(i,h,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],p=>p.target.value)}if(d&&i.addEventListener("blur",d),this.data.comb){const p=(this.data.rect[2]-this.data.rect[0])/l;i.classList.add("comb"),i.style.letterSpacing=`calc(${p}px * var(--scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class EL extends Oo{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class AL extends Oo{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,i=t.id;let r=e.getValue(i,{value:t.exportValue===t.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",e.setValue(i,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return ko.add(s),s.setAttribute("data-element-id",i),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,r&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=kd,s.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const u of this._getElementsByName(o,i)){const h=l&&u.exportValue===t.exportValue;u.domElement&&(u.domElement.checked=h),e.setValue(u.id,{value:h})}e.setValue(i,{value:l})}),s.addEventListener("resetform",a=>{const o=t.defaultFieldValue||"Off";a.target.checked=o===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",a=>{const o={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(i,{value:l.target.checked})}};this._dispatchEventFromSandbox(o,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class qS extends Oo{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,i=t.id;let r=e.getValue(i,{value:t.fieldValue===t.buttonValue}).value;if(typeof r=="string"&&(r=r!==t.buttonValue,e.setValue(i,{value:r})),r)for(const a of this._getElementsByName(t.fieldName,i))e.setValue(a.id,{value:!1});const s=document.createElement("input");if(ko.add(s),s.setAttribute("data-element-id",i),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,r&&s.setAttribute("checked",!0),s.tabIndex=kd,s.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const u of this._getElementsByName(o,i))e.setValue(u.id,{value:!1});e.setValue(i,{value:l})}),s.addEventListener("resetform",a=>{const o=t.defaultFieldValue;a.target.checked=o!=null&&o===t.buttonValue}),this.enableScripting&&this.hasJSActions){const a=t.buttonValue;s.addEventListener("updatefromsandbox",o=>{const l={value:u=>{const h=a===u.detail.value;for(const d of this._getElementsByName(u.target.name)){const f=h&&d.id===i;d.domElement&&(d.domElement.checked=f),e.setValue(d.id,{value:f})}}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class SL extends XS{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),e}}class bL extends Oo{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,i=e.getValue(t,{value:this.data.fieldValue}),r=document.createElement("select");ko.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=kd;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",h=>{const d=this.data.defaultFieldValue;for(const f of r.options)f.selected=f.value===d});for(const h of this.data.options){const d=document.createElement("option");d.textContent=h.displayValue,d.value=h.exportValue,i.value.includes(h.exportValue)&&(d.setAttribute("selected",!0),s=!1),r.append(d)}let a=null;if(s){const h=document.createElement("option");h.value=" ",h.setAttribute("hidden",!0),h.setAttribute("selected",!0),r.prepend(h),a=()=>{h.remove(),r.removeEventListener("input",a),a=null},r.addEventListener("input",a)}const o=h=>{const d=h?"value":"textContent",{options:f,multiple:p}=r;return p?Array.prototype.filter.call(f,g=>g.selected).map(g=>g[d]):f.selectedIndex===-1?null:f[f.selectedIndex][d]};let l=o(!1);const u=h=>{const d=h.target.options;return Array.prototype.map.call(d,f=>({displayValue:f.textContent,exportValue:f.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",h=>{const d={value(f){a==null||a();const p=f.detail.value,g=new Set(Array.isArray(p)?p:[p]);for(const y of r.options)y.selected=g.has(y.value);e.setValue(t,{value:o(!0)}),l=o(!1)},multipleSelection(f){r.multiple=!0},remove(f){const p=r.options,g=f.detail.remove;p[g].selected=!1,r.remove(g),p.length>0&&Array.prototype.findIndex.call(p,b=>b.selected)===-1&&(p[0].selected=!0),e.setValue(t,{value:o(!0),items:u(f)}),l=o(!1)},clear(f){for(;r.length!==0;)r.remove(0);e.setValue(t,{value:null,items:[]}),l=o(!1)},insert(f){const{index:p,displayValue:g,exportValue:y}=f.detail.insert,b=r.children[p],m=document.createElement("option");m.textContent=g,m.value=y,b?b.before(m):r.append(m),e.setValue(t,{value:o(!0),items:u(f)}),l=o(!1)},items(f){const{items:p}=f.detail;for(;r.length!==0;)r.remove(0);for(const g of p){const{displayValue:y,exportValue:b}=g,m=document.createElement("option");m.textContent=y,m.value=b,r.append(m)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(t,{value:o(!0),items:u(f)}),l=o(!1)},indices(f){const p=new Set(f.detail.indices);for(const g of f.target.options)g.selected=p.has(g.index);e.setValue(t,{value:o(!0)}),l=o(!1)},editable(f){f.target.disabled=!f.detail.editable}};this._dispatchEventFromSandbox(d,h)}),r.addEventListener("input",h=>{var p;const d=o(!0),f=o(!1);e.setValue(t,{value:d}),h.preventDefault(),(p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:l,change:f,changeEx:d,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],h=>h.target.value)):r.addEventListener("input",function(h){e.setValue(t,{value:o(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class Jv extends dt{constructor(e){const{data:t,elements:i}=e;super(e,{isRenderable:dt._hasPopupData(t)}),this.elements=i,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new xL({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const i of this.elements)i.popup=e,t.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(i=>`${Q1}${i}`).join(",")),this.container}}var Gl,Vp,Wp,Xl,Ka,ot,Cr,Ya,Lh,Mh,Kl,kr,vi,Tr,Dh,Pr,Nh,qa,Qa,je,Mf,Zv,QS,JS,ZS,eb,Df,Nf,ey;class xL{constructor({container:e,color:t,elements:i,titleObj:r,modificationDate:s,contentsObj:a,richText:o,parent:l,rect:u,parentRect:h,open:d}){E(this,je);E(this,Gl,_(this,je,ZS).bind(this));E(this,Vp,_(this,je,ey).bind(this));E(this,Wp,_(this,je,Nf).bind(this));E(this,Xl,_(this,je,Df).bind(this));E(this,Ka,null);E(this,ot,null);E(this,Cr,null);E(this,Ya,null);E(this,Lh,null);E(this,Mh,null);E(this,Kl,null);E(this,kr,!1);E(this,vi,null);E(this,Tr,null);E(this,Dh,null);E(this,Pr,null);E(this,Nh,null);E(this,qa,null);E(this,Qa,!1);var f;w(this,ot,e),w(this,Nh,r),w(this,Cr,a),w(this,Pr,o),w(this,Mh,l),w(this,Ka,t),w(this,Dh,u),w(this,Kl,h),w(this,Lh,i),w(this,Ya,nS.toDateObject(s)),this.trigger=i.flatMap(p=>p.getElementsToTriggerPopup());for(const p of this.trigger)p.addEventListener("click",c(this,Xl)),p.addEventListener("mouseenter",c(this,Wp)),p.addEventListener("mouseleave",c(this,Vp)),p.classList.add("popupTriggerArea");for(const p of i)(f=p.container)==null||f.addEventListener("keydown",c(this,Gl));c(this,ot).hidden=!0,d&&_(this,je,Df).call(this)}render(){if(c(this,vi))return;const e=w(this,vi,document.createElement("div"));if(e.className="popup",c(this,Ka)){const s=e.style.outlineColor=Q.makeHexColor(...c(this,Ka));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`:e.style.backgroundColor=Q.makeHexColor(...c(this,Ka).map(o=>Math.floor(.7*(255-o)+o)))}const t=document.createElement("span");t.className="header";const i=document.createElement("h1");if(t.append(i),{dir:i.dir,str:i.textContent}=c(this,Nh),e.append(t),c(this,Ya)){const s=document.createElement("span");s.classList.add("popupDate"),s.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),s.setAttribute("data-l10n-args",JSON.stringify({date:c(this,Ya).toLocaleDateString(),time:c(this,Ya).toLocaleTimeString()})),t.append(s)}const r=c(this,je,Mf);if(r)GS.render({xfaHtml:r,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const s=this._formatContents(c(this,Cr));e.append(s)}c(this,ot).append(e)}_formatContents({str:e,dir:t}){const i=document.createElement("p");i.classList.add("popupContent"),i.dir=t;const r=e.split(/(?:\r\n?|\n)/);for(let s=0,a=r.length;s<a;++s){const o=r[s];i.append(document.createTextNode(o)),s<a-1&&i.append(document.createElement("br"))}return i}updateEdited({rect:e,popupContent:t}){var i;c(this,qa)||w(this,qa,{contentsObj:c(this,Cr),richText:c(this,Pr)}),e&&w(this,Tr,null),t&&(w(this,Pr,_(this,je,JS).call(this,t)),w(this,Cr,null)),(i=c(this,vi))==null||i.remove(),w(this,vi,null)}resetEdited(){var e;c(this,qa)&&({contentsObj:xn(this,Cr)._,richText:xn(this,Pr)._}=c(this,qa),w(this,qa,null),(e=c(this,vi))==null||e.remove(),w(this,vi,null),w(this,Tr,null))}forceHide(){w(this,Qa,this.isVisible),c(this,Qa)&&(c(this,ot).hidden=!0)}maybeShow(){c(this,Qa)&&(c(this,vi)||_(this,je,Nf).call(this),w(this,Qa,!1),c(this,ot).hidden=!1)}get isVisible(){return c(this,ot).hidden===!1}}Gl=new WeakMap,Vp=new WeakMap,Wp=new WeakMap,Xl=new WeakMap,Ka=new WeakMap,ot=new WeakMap,Cr=new WeakMap,Ya=new WeakMap,Lh=new WeakMap,Mh=new WeakMap,Kl=new WeakMap,kr=new WeakMap,vi=new WeakMap,Tr=new WeakMap,Dh=new WeakMap,Pr=new WeakMap,Nh=new WeakMap,qa=new WeakMap,Qa=new WeakMap,je=new WeakSet,Mf=function(){const e=c(this,Pr),t=c(this,Cr);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&c(this,Pr).html||null},Zv=function(){var e,t,i;return((i=(t=(e=c(this,je,Mf))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:i.fontSize)||0},QS=function(){var e,t,i;return((i=(t=(e=c(this,je,Mf))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:i.color)||null},JS=function(e){const t=[],i={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},r={style:{color:c(this,je,QS),fontSize:c(this,je,Zv)?`calc(${c(this,je,Zv)}px * var(--scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:r});return i},ZS=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&c(this,kr))&&_(this,je,Df).call(this)},eb=function(){if(c(this,Tr)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:i,pageX:r,pageY:s}}}=c(this,Mh);let a=!!c(this,Kl),o=a?c(this,Kl):c(this,Dh);for(const g of c(this,Lh))if(!o||Q.intersect(g.data.rect,o)!==null){o=g.data.rect,a=!0;break}const l=Q.normalizeRect([o[0],e[3]-o[1]+e[1],o[2],e[3]-o[3]+e[1]]),h=a?o[2]-o[0]+5:0,d=l[0]+h,f=l[1];w(this,Tr,[100*(d-r)/t,100*(f-s)/i]);const{style:p}=c(this,ot);p.left=`${c(this,Tr)[0]}%`,p.top=`${c(this,Tr)[1]}%`},Df=function(){w(this,kr,!c(this,kr)),c(this,kr)?(_(this,je,Nf).call(this),c(this,ot).addEventListener("click",c(this,Xl)),c(this,ot).addEventListener("keydown",c(this,Gl))):(_(this,je,ey).call(this),c(this,ot).removeEventListener("click",c(this,Xl)),c(this,ot).removeEventListener("keydown",c(this,Gl)))},Nf=function(){c(this,vi)||this.render(),this.isVisible?c(this,kr)&&c(this,ot).classList.add("focused"):(_(this,je,eb).call(this),c(this,ot).hidden=!1,c(this,ot).style.zIndex=parseInt(c(this,ot).style.zIndex)+1e3)},ey=function(){c(this,ot).classList.remove("focused"),!(c(this,kr)||!this.isVisible)&&(c(this,ot).hidden=!0,c(this,ot).style.zIndex=parseInt(c(this,ot).style.zIndex)-1e3)};class tb extends dt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Ae.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const i=document.createElement("span");i.textContent=t,e.append(i)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}var Ih;class CL extends dt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});E(this,Ih,null)}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:i,height:r}=Wr(t.rect),s=this.svgFactory.create(i,r,!0),a=w(this,Ih,this.svgFactory.createElement("svg:line"));return a.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),a.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),a.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),a.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),a.setAttribute("stroke-width",t.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,Ih)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ih=new WeakMap;var Fh;class kL extends dt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});E(this,Fh,null)}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:i,height:r}=Wr(t.rect),s=this.svgFactory.create(i,r,!0),a=t.borderStyle.width,o=w(this,Fh,this.svgFactory.createElement("svg:rect"));return o.setAttribute("x",a/2),o.setAttribute("y",a/2),o.setAttribute("width",i-a),o.setAttribute("height",r-a),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,Fh)}addHighlightArea(){this.container.classList.add("highlightArea")}}Fh=new WeakMap;var Oh;class TL extends dt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});E(this,Oh,null)}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:i,height:r}=Wr(t.rect),s=this.svgFactory.create(i,r,!0),a=t.borderStyle.width,o=w(this,Oh,this.svgFactory.createElement("svg:ellipse"));return o.setAttribute("cx",i/2),o.setAttribute("cy",r/2),o.setAttribute("rx",i/2-a/2),o.setAttribute("ry",r/2-a/2),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,Oh)}addHighlightArea(){this.container.classList.add("highlightArea")}}Oh=new WeakMap;var jh;class nb extends dt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});E(this,jh,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:i,borderStyle:r,popupRef:s}}=this;if(!i)return this.container;const{width:a,height:o}=Wr(t),l=this.svgFactory.create(a,o,!0);let u=[];for(let d=0,f=i.length;d<f;d+=2){const p=i[d]-t[0],g=t[3]-i[d+1];u.push(`${p},${g}`)}u=u.join(" ");const h=w(this,jh,this.svgFactory.createElement(this.svgElementName));return h.setAttribute("points",u),h.setAttribute("stroke-width",r.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),l.append(h),this.container.append(l),!s&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,jh)}addHighlightArea(){this.container.classList.add("highlightArea")}}jh=new WeakMap;class PL extends nb{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class RL extends dt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var zh;class ib extends dt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});E(this,zh,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=Ae.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,inkLists:i,borderStyle:r,popupRef:s}}=this,{width:a,height:o}=Wr(t),l=this.svgFactory.create(a,o,!0);for(const u of i){let h=[];for(let f=0,p=u.length;f<p;f+=2){const g=u[f]-t[0],y=t[3]-u[f+1];h.push(`${g},${y}`)}h=h.join(" ");const d=this.svgFactory.createElement(this.svgElementName);c(this,zh).push(d),d.setAttribute("points",h),d.setAttribute("stroke-width",r.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),!s&&this.hasPopupData&&this._createPopup(),l.append(d)}return this.container.append(l),this.container}getElementsToTriggerPopup(){return c(this,zh)}addHighlightArea(){this.container.classList.add("highlightArea")}}zh=new WeakMap;class LL extends dt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class ML extends dt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class DL extends dt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class NL extends dt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class rb extends dt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Hh,Bh,ty;class IL extends dt{constructor(t){var r;super(t,{isRenderable:!0});E(this,Bh);E(this,Hh,null);const{file:i}=this.data;this.filename=i.filename,this.content=i.content,(r=this.linkService.eventBus)==null||r.dispatch("fileattachmentannotation",{source:this,...i})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:i}=this;let r;i.hasAppearance||i.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(i.name)?"paperclip":"pushpin"}.svg`,i.fillAlpha&&i.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(i.fillAlpha*100)}%);`)),r.addEventListener("dblclick",_(this,Bh,ty).bind(this)),w(this,Hh,r);const{isMac:s}=yn.platform;return t.addEventListener("keydown",a=>{a.key==="Enter"&&(s?a.metaKey:a.ctrlKey)&&_(this,Bh,ty).call(this)}),!i.popupRef&&this.hasPopupData?this._createPopup():r.classList.add("popupTriggerArea"),t.append(r),t}getElementsToTriggerPopup(){return c(this,Hh)}addHighlightArea(){this.container.classList.add("highlightArea")}}Hh=new WeakMap,Bh=new WeakSet,ty=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var Uh,Ja,Yl,Po,sb,ny,mE;let FL=(mE=class{constructor({div:e,accessibilityManager:t,annotationCanvasMap:i,annotationEditorUIManager:r,page:s,viewport:a}){E(this,Po);E(this,Uh,null);E(this,Ja,null);E(this,Yl,new Map);this.div=e,w(this,Uh,t),w(this,Ja,i),this.page=s,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=r}async render(e){var a;const{annotations:t}=e,i=this.div;xo(i,this.viewport);const r=new Map,s={data:null,layer:i,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new O0,annotationStorage:e.annotationStorage||new U0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const o of t){if(o.noHTML)continue;const l=o.annotationType===yt.POPUP;if(l){const d=r.get(o.id);if(!d)continue;s.elements=d}else{const{width:d,height:f}=Wr(o.rect);if(d<=0||f<=0)continue}s.data=o;const u=yL.create(s);if(!u.isRenderable)continue;if(!l&&o.popupRef){const d=r.get(o.popupRef);d?d.push(u):r.set(o.popupRef,[u])}const h=u.render();o.hidden&&(h.style.visibility="hidden"),_(this,Po,sb).call(this,h,o.id),u.annotationEditorType>0&&(c(this,Yl).set(u.data.id,u),(a=this._annotationEditorUIManager)==null||a.renderAnnotationElement(u))}_(this,Po,ny).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,xo(t,{rotation:e.rotation}),_(this,Po,ny).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(c(this,Yl).values())}getEditableAnnotation(e){return c(this,Yl).get(e)}},Uh=new WeakMap,Ja=new WeakMap,Yl=new WeakMap,Po=new WeakSet,sb=function(e,t){var r;const i=e.firstChild||e;i.id=`${Q1}${t}`,this.div.append(e),(r=c(this,Uh))==null||r.moveElementInDOM(this.div,e,i,!1)},ny=function(){if(!c(this,Ja))return;const e=this.div;for(const[t,i]of c(this,Ja)){const r=e.querySelector(`[data-annotation-id="${t}"]`);if(!r)continue;i.className="annotationContent";const{firstChild:s}=r;s?s.nodeName==="CANVAS"?s.replaceWith(i):s.classList.contains("annotationContent")?s.after(i):s.before(i):r.append(i)}c(this,Ja).clear()},mE);const of=/\r\n?|\n/g;var $h,Vh,Wh,Gh,Xh,yi,Ln,Kh,Mn,ql,vt,ab,ob,lb,If,Xr,Ff,Of,cb,ry,ub;const We=class We extends Le{constructor(t){super({...t,name:"freeTextEditor"});E(this,vt);E(this,$h,this.editorDivBlur.bind(this));E(this,Vh,this.editorDivFocus.bind(this));E(this,Wh,this.editorDivInput.bind(this));E(this,Gh,this.editorDivKeydown.bind(this));E(this,Xh,this.editorDivPaste.bind(this));E(this,yi);E(this,Ln,"");E(this,Kh,`${this.id}-editor`);E(this,Mn);E(this,ql,null);w(this,yi,t.color||We._defaultColor||Le._defaultLineColor),w(this,Mn,t.fontSize||We._defaultFontSize)}static get _keyboardManager(){const t=We.prototype,i=a=>a.isEmpty(),r=Co.TRANSLATE_SMALL,s=Co.TRANSLATE_BIG;return be(this,"_keyboardManager",new xd([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:i}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[r,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[s,0],checker:i}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:i}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,r],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,s],checker:i}]]))}static initialize(t,i){Le.initialize(t,i,{strings:["pdfjs-free-text-default-content"]});const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,i){switch(t){case ae.FREETEXT_SIZE:We._defaultFontSize=i;break;case ae.FREETEXT_COLOR:We._defaultColor=i;break}}updateParams(t,i){switch(t){case ae.FREETEXT_SIZE:_(this,vt,ab).call(this,i);break;case ae.FREETEXT_COLOR:_(this,vt,ob).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[ae.FREETEXT_SIZE,We._defaultFontSize],[ae.FREETEXT_COLOR,We._defaultColor||Le._defaultLineColor]]}get propertiesToUpdate(){return[[ae.FREETEXT_SIZE,c(this,Mn)],[ae.FREETEXT_COLOR,c(this,yi)]]}_translateEmpty(t,i){this._uiManager.translateSelectedEditors(t,i,!0)}getInitialTranslation(){const t=this.parentScale;return[-We._internalPadding*t,-(We._internalPadding+c(this,Mn))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Ae.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant");const t=this._uiManager._signal;this.editorDiv.addEventListener("keydown",c(this,Gh),{signal:t}),this.editorDiv.addEventListener("focus",c(this,Vh),{signal:t}),this.editorDiv.addEventListener("blur",c(this,$h),{signal:t}),this.editorDiv.addEventListener("input",c(this,Wh),{signal:t}),this.editorDiv.addEventListener("paste",c(this,Xh),{signal:t})}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",c(this,Kh)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",c(this,Gh)),this.editorDiv.removeEventListener("focus",c(this,Vh)),this.editorDiv.removeEventListener("blur",c(this,$h)),this.editorDiv.removeEventListener("input",c(this,Wh)),this.editorDiv.removeEventListener("paste",c(this,Xh)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var t;this.width||(this.enableEditMode(),this.editorDiv.focus(),(t=this._initialOptions)!=null&&t.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=c(this,Ln),i=w(this,Ln,_(this,vt,lb).call(this).trimEnd());if(t===i)return;const r=s=>{if(w(this,Ln,s),!s){this.remove();return}_(this,vt,Of).call(this),this._uiManager.rebuild(this),_(this,vt,If).call(this)};this.addCommands({cmd:()=>{r(i)},undo:()=>{r(t)},mustExec:!1}),_(this,vt,If).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){We._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,i;this.width&&(t=this.x,i=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",c(this,Kh)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),Le._l10nPromise.get("pdfjs-free-text-default-content").then(s=>{var a;return(a=this.editorDiv)==null?void 0:a.setAttribute("default-content",s)}),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${c(this,Mn)}px * var(--scale-factor))`,r.color=c(this,yi),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),Sp(this,this.div,["dblclick","keydown"]),this.width){const[s,a]=this.parentDimensions;if(this.annotationElementId){const{position:o}=c(this,ql);let[l,u]=this.getInitialTranslation();[l,u]=this.pageTranslationToScreen(l,u);const[h,d]=this.pageDimensions,[f,p]=this.pageTranslation;let g,y;switch(this.rotation){case 0:g=t+(o[0]-f)/h,y=i+this.height-(o[1]-p)/d;break;case 90:g=t+(o[0]-f)/h,y=i-(o[1]-p)/d,[l,u]=[u,-l];break;case 180:g=t-this.width+(o[0]-f)/h,y=i-(o[1]-p)/d,[l,u]=[-l,-u];break;case 270:g=t+(o[0]-f-this.height*d)/h,y=i+(o[1]-p-this.width*h)/d,[l,u]=[-u,l];break}this.setAt(g*s,y*a,l,u)}else this.setAt(t*s,i*a,this.width*s,this.height*a);_(this,vt,Of).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var g,y,b;const i=t.clipboardData||window.clipboardData,{types:r}=i;if(r.length===1&&r[0]==="text/plain")return;t.preventDefault();const s=_(g=We,Xr,ry).call(g,i.getData("text")||"").replaceAll(of,`
`);if(!s)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const o=a.getRangeAt(0);if(!s.includes(`
`)){o.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:l,startOffset:u}=o,h=[],d=[];if(l.nodeType===Node.TEXT_NODE){const m=l.parentElement;if(d.push(l.nodeValue.slice(u).replaceAll(of,"")),m!==this.editorDiv){let v=h;for(const A of this.editorDiv.childNodes){if(A===m){v=d;continue}v.push(_(y=We,Xr,Ff).call(y,A))}}h.push(l.nodeValue.slice(0,u).replaceAll(of,""))}else if(l===this.editorDiv){let m=h,v=0;for(const A of this.editorDiv.childNodes)v++===u&&(m=d),m.push(_(b=We,Xr,Ff).call(b,A))}w(this,Ln,`${h.join(`
`)}${s}${d.join(`
`)}`),_(this,vt,Of).call(this);const f=new Range;let p=h.reduce((m,v)=>m+v.length,0);for(const{firstChild:m}of this.editorDiv.childNodes)if(m.nodeType===Node.TEXT_NODE){const v=m.nodeValue.length;if(p<=v){f.setStart(m,p),f.setEnd(m,p);break}p-=v}a.removeAllRanges(),a.addRange(f)}get contentDiv(){return this.editorDiv}static deserialize(t,i,r){var o;let s=null;if(t instanceof tb){const{data:{defaultAppearanceData:{fontSize:l,fontColor:u},rect:h,rotation:d,id:f},textContent:p,textPosition:g,parent:{page:{pageNumber:y}}}=t;if(!p||p.length===0)return null;s=t={annotationType:Ae.FREETEXT,color:Array.from(u),fontSize:l,value:p.join(`
`),position:g,pageIndex:y-1,rect:h.slice(0),rotation:d,id:f,deleted:!1}}const a=super.deserialize(t,i,r);return w(a,Mn,t.fontSize),w(a,yi,Q.makeHexColor(...t.color)),w(a,Ln,_(o=We,Xr,ry).call(o,t.value)),a.annotationElementId=t.id||null,w(a,ql,s),a}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const i=We._internalPadding*this.parentScale,r=this.getRect(i,i),s=Le._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:c(this,yi)),a={annotationType:Ae.FREETEXT,color:s,fontSize:c(this,Mn),value:_(this,vt,cb).call(this),pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?a:this.annotationElementId&&!_(this,vt,ub).call(this,a)?null:(a.id=this.annotationElementId,a)}renderAnnotationElement(t){const i=super.renderAnnotationElement(t);if(this.deleted)return i;const{style:r}=i;r.fontSize=`calc(${c(this,Mn)}px * var(--scale-factor))`,r.color=c(this,yi),i.replaceChildren();for(const a of c(this,Ln).split(`
`)){const o=document.createElement("div");o.append(a?document.createTextNode(a):document.createElement("br")),i.append(o)}const s=We._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(s,s),popupContent:c(this,Ln)}),i}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};$h=new WeakMap,Vh=new WeakMap,Wh=new WeakMap,Gh=new WeakMap,Xh=new WeakMap,yi=new WeakMap,Ln=new WeakMap,Kh=new WeakMap,Mn=new WeakMap,ql=new WeakMap,vt=new WeakSet,ab=function(t){const i=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--scale-factor))`,this.translate(0,-(s-c(this,Mn))*this.parentScale),w(this,Mn,s),_(this,vt,If).call(this)},r=c(this,Mn);this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ae.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},ob=function(t){const i=s=>{w(this,yi,this.editorDiv.style.color=s)},r=c(this,yi);this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ae.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},lb=function(){var i;const t=[];this.editorDiv.normalize();for(const r of this.editorDiv.childNodes)t.push(_(i=We,Xr,Ff).call(i,r));return t.join(`
`)},If=function(){const[t,i]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:s,div:a}=this,o=a.style.display,l=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",s.div.append(this.div),r=a.getBoundingClientRect(),a.remove(),a.style.display=o,a.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=r.width/t,this.height=r.height/i):(this.width=r.height/t,this.height=r.width/i),this.fixAndSetPosition()},Xr=new WeakSet,Ff=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(of,"")},Of=function(){if(this.editorDiv.replaceChildren(),!!c(this,Ln))for(const t of c(this,Ln).split(`
`)){const i=document.createElement("div");i.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(i)}},cb=function(){return c(this,Ln).replaceAll(" "," ")},ry=function(t){return t.replaceAll(" "," ")},ub=function(t){const{value:i,fontSize:r,color:s,pageIndex:a}=c(this,ql);return this._hasBeenMoved||t.value!==i||t.fontSize!==r||t.color.some((o,l)=>o!==s[l])||t.pageIndex!==a},E(We,Xr),le(We,"_freeTextDefaultContent",""),le(We,"_internalPadding",0),le(We,"_defaultColor",null),le(We,"_defaultFontSize",10),le(We,"_type","freetext"),le(We,"_editorType",Ae.FREETEXT);let iy=We;var Yh,ks,wi,cn,hb,jf,db,fb,ay;class sy{constructor(e,t=0,i=0,r=!0){E(this,cn);E(this,Yh);E(this,ks,[]);E(this,wi,[]);let s=1/0,a=-1/0,o=1/0,l=-1/0;const h=10**-4;for(const{x:m,y:v,width:A,height:C}of e){const T=Math.floor((m-t)/h)*h,R=Math.ceil((m+A+t)/h)*h,L=Math.floor((v-t)/h)*h,x=Math.ceil((v+C+t)/h)*h,N=[T,L,x,!0],I=[R,L,x,!1];c(this,ks).push(N,I),s=Math.min(s,T),a=Math.max(a,R),o=Math.min(o,L),l=Math.max(l,x)}const d=a-s+2*i,f=l-o+2*i,p=s-i,g=o-i,y=c(this,ks).at(r?-1:-2),b=[y[0],y[2]];for(const m of c(this,ks)){const[v,A,C]=m;m[0]=(v-p)/d,m[1]=(A-g)/f,m[2]=(C-g)/f}w(this,Yh,{x:p,y:g,width:d,height:f,lastPoint:b})}getOutlines(){c(this,ks).sort((t,i)=>t[0]-i[0]||t[1]-i[1]||t[2]-i[2]);const e=[];for(const t of c(this,ks))t[3]?(e.push(..._(this,cn,ay).call(this,t)),_(this,cn,db).call(this,t)):(_(this,cn,fb).call(this,t),e.push(..._(this,cn,ay).call(this,t)));return _(this,cn,hb).call(this,e)}}Yh=new WeakMap,ks=new WeakMap,wi=new WeakMap,cn=new WeakSet,hb=function(e){const t=[],i=new Set;for(const a of e){const[o,l,u]=a;t.push([o,l,a],[o,u,a])}t.sort((a,o)=>a[1]-o[1]||a[0]-o[0]);for(let a=0,o=t.length;a<o;a+=2){const l=t[a][2],u=t[a+1][2];l.push(u),u.push(l),i.add(l),i.add(u)}const r=[];let s;for(;i.size>0;){const a=i.values().next().value;let[o,l,u,h,d]=a;i.delete(a);let f=o,p=l;for(s=[o,u],r.push(s);;){let g;if(i.has(h))g=h;else if(i.has(d))g=d;else break;i.delete(g),[o,l,u,h,d]=g,f!==o&&(s.push(f,p,o,p===l?l:u),f=o),p=p===l?u:l}s.push(f,p)}return new OL(r,c(this,Yh))},jf=function(e){const t=c(this,wi);let i=0,r=t.length-1;for(;i<=r;){const s=i+r>>1,a=t[s][0];if(a===e)return s;a<e?i=s+1:r=s-1}return r+1},db=function([,e,t]){const i=_(this,cn,jf).call(this,e);c(this,wi).splice(i,0,[e,t])},fb=function([,e,t]){const i=_(this,cn,jf).call(this,e);for(let r=i;r<c(this,wi).length;r++){const[s,a]=c(this,wi)[r];if(s!==e)break;if(s===e&&a===t){c(this,wi).splice(r,1);return}}for(let r=i-1;r>=0;r--){const[s,a]=c(this,wi)[r];if(s!==e)break;if(s===e&&a===t){c(this,wi).splice(r,1);return}}},ay=function(e){const[t,i,r]=e,s=[[t,i,r]],a=_(this,cn,jf).call(this,r);for(let o=0;o<a;o++){const[l,u]=c(this,wi)[o];for(let h=0,d=s.length;h<d;h++){const[,f,p]=s[h];if(!(u<=f||p<=l)){if(f>=l){if(p>u)s[h][1]=u;else{if(d===1)return[];s.splice(h,1),h--,d--}continue}s[h][2]=l,p>u&&s.push([t,u,p])}}}return s};class pb{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize(e,t){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof ly}}var qh,Ql;class OL extends pb{constructor(t,i){super();E(this,qh);E(this,Ql);w(this,Ql,t),w(this,qh,i)}toSVGPath(){const t=[];for(const i of c(this,Ql)){let[r,s]=i;t.push(`M${r} ${s}`);for(let a=2;a<i.length;a+=2){const o=i[a],l=i[a+1];o===r?(t.push(`V${l}`),s=l):l===s&&(t.push(`H${o}`),r=o)}t.push("Z")}return t.join(" ")}serialize([t,i,r,s],a){const o=[],l=r-t,u=s-i;for(const h of c(this,Ql)){const d=new Array(h.length);for(let f=0;f<h.length;f+=2)d[f]=t+h[f]*l,d[f+1]=s-h[f+1]*u;o.push(d)}return o}get box(){return c(this,qh)}}qh=new WeakMap,Ql=new WeakMap;var $i,Rr,Jl,Zl,Vi,Ee,Za,eo,Qh,Jh,ec,tc,Ts,Zh,Gp,Xp,ed,oy;const hr=class hr{constructor({x:e,y:t},i,r,s,a,o=0){E(this,ed);E(this,$i);E(this,Rr,[]);E(this,Jl);E(this,Zl);E(this,Vi,[]);E(this,Ee,new Float64Array(18));E(this,Za);E(this,eo);E(this,Qh);E(this,Jh);E(this,ec);E(this,tc);E(this,Ts,[]);w(this,$i,i),w(this,tc,s*r),w(this,Zl,a),c(this,Ee).set([NaN,NaN,NaN,NaN,e,t],6),w(this,Jl,o),w(this,Jh,c(hr,Zh)*r),w(this,Qh,c(hr,Xp)*r),w(this,ec,r),c(this,Ts).push(e,t)}get free(){return!0}isEmpty(){return isNaN(c(this,Ee)[8])}add({x:e,y:t}){var N;w(this,Za,e),w(this,eo,t);const[i,r,s,a]=c(this,$i);let[o,l,u,h]=c(this,Ee).subarray(8,12);const d=e-u,f=t-h,p=Math.hypot(d,f);if(p<c(this,Qh))return!1;const g=p-c(this,Jh),y=g/p,b=y*d,m=y*f;let v=o,A=l;o=u,l=h,u+=b,h+=m,(N=c(this,Ts))==null||N.push(e,t);const C=-m/g,T=b/g,R=C*c(this,tc),L=T*c(this,tc);return c(this,Ee).set(c(this,Ee).subarray(2,8),0),c(this,Ee).set([u+R,h+L],4),c(this,Ee).set(c(this,Ee).subarray(14,18),12),c(this,Ee).set([u-R,h-L],16),isNaN(c(this,Ee)[6])?(c(this,Vi).length===0&&(c(this,Ee).set([o+R,l+L],2),c(this,Vi).push(NaN,NaN,NaN,NaN,(o+R-i)/s,(l+L-r)/a),c(this,Ee).set([o-R,l-L],14),c(this,Rr).push(NaN,NaN,NaN,NaN,(o-R-i)/s,(l-L-r)/a)),c(this,Ee).set([v,A,o,l,u,h],6),!this.isEmpty()):(c(this,Ee).set([v,A,o,l,u,h],6),Math.abs(Math.atan2(A-l,v-o)-Math.atan2(m,b))<Math.PI/2?([o,l,u,h]=c(this,Ee).subarray(2,6),c(this,Vi).push(NaN,NaN,NaN,NaN,((o+u)/2-i)/s,((l+h)/2-r)/a),[o,l,v,A]=c(this,Ee).subarray(14,18),c(this,Rr).push(NaN,NaN,NaN,NaN,((v+o)/2-i)/s,((A+l)/2-r)/a),!0):([v,A,o,l,u,h]=c(this,Ee).subarray(0,6),c(this,Vi).push(((v+5*o)/6-i)/s,((A+5*l)/6-r)/a,((5*o+u)/6-i)/s,((5*l+h)/6-r)/a,((o+u)/2-i)/s,((l+h)/2-r)/a),[u,h,o,l,v,A]=c(this,Ee).subarray(12,18),c(this,Rr).push(((v+5*o)/6-i)/s,((A+5*l)/6-r)/a,((5*o+u)/6-i)/s,((5*l+h)/6-r)/a,((o+u)/2-i)/s,((l+h)/2-r)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const e=c(this,Vi),t=c(this,Rr),i=c(this,Ee).subarray(4,6),r=c(this,Ee).subarray(16,18),[s,a,o,l]=c(this,$i),[u,h,d,f]=_(this,ed,oy).call(this);if(isNaN(c(this,Ee)[6])&&!this.isEmpty())return`M${(c(this,Ee)[2]-s)/o} ${(c(this,Ee)[3]-a)/l} L${(c(this,Ee)[4]-s)/o} ${(c(this,Ee)[5]-a)/l} L${u} ${h} L${d} ${f} L${(c(this,Ee)[16]-s)/o} ${(c(this,Ee)[17]-a)/l} L${(c(this,Ee)[14]-s)/o} ${(c(this,Ee)[15]-a)/l} Z`;const p=[];p.push(`M${e[4]} ${e[5]}`);for(let g=6;g<e.length;g+=6)isNaN(e[g])?p.push(`L${e[g+4]} ${e[g+5]}`):p.push(`C${e[g]} ${e[g+1]} ${e[g+2]} ${e[g+3]} ${e[g+4]} ${e[g+5]}`);p.push(`L${(i[0]-s)/o} ${(i[1]-a)/l} L${u} ${h} L${d} ${f} L${(r[0]-s)/o} ${(r[1]-a)/l}`);for(let g=t.length-6;g>=6;g-=6)isNaN(t[g])?p.push(`L${t[g+4]} ${t[g+5]}`):p.push(`C${t[g]} ${t[g+1]} ${t[g+2]} ${t[g+3]} ${t[g+4]} ${t[g+5]}`);return p.push(`L${t[4]} ${t[5]} Z`),p.join(" ")}getOutlines(){var m;const e=c(this,Vi),t=c(this,Rr),i=c(this,Ee),r=i.subarray(4,6),s=i.subarray(16,18),[a,o,l,u]=c(this,$i),h=new Float64Array((((m=c(this,Ts))==null?void 0:m.length)??0)+2);for(let v=0,A=h.length-2;v<A;v+=2)h[v]=(c(this,Ts)[v]-a)/l,h[v+1]=(c(this,Ts)[v+1]-o)/u;h[h.length-2]=(c(this,Za)-a)/l,h[h.length-1]=(c(this,eo)-o)/u;const[d,f,p,g]=_(this,ed,oy).call(this);if(isNaN(i[6])&&!this.isEmpty()){const v=new Float64Array(36);return v.set([NaN,NaN,NaN,NaN,(i[2]-a)/l,(i[3]-o)/u,NaN,NaN,NaN,NaN,(i[4]-a)/l,(i[5]-o)/u,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,(i[16]-a)/l,(i[17]-o)/u,NaN,NaN,NaN,NaN,(i[14]-a)/l,(i[15]-o)/u],0),new ly(v,h,c(this,$i),c(this,ec),c(this,Jl),c(this,Zl))}const y=new Float64Array(c(this,Vi).length+24+c(this,Rr).length);let b=e.length;for(let v=0;v<b;v+=2){if(isNaN(e[v])){y[v]=y[v+1]=NaN;continue}y[v]=e[v],y[v+1]=e[v+1]}y.set([NaN,NaN,NaN,NaN,(r[0]-a)/l,(r[1]-o)/u,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,(s[0]-a)/l,(s[1]-o)/u],b),b+=24;for(let v=t.length-6;v>=6;v-=6)for(let A=0;A<6;A+=2){if(isNaN(t[v+A])){y[b]=y[b+1]=NaN,b+=2;continue}y[b]=t[v+A],y[b+1]=t[v+A+1],b+=2}return y.set([NaN,NaN,NaN,NaN,t[4],t[5]],b),new ly(y,h,c(this,$i),c(this,ec),c(this,Jl),c(this,Zl))}};$i=new WeakMap,Rr=new WeakMap,Jl=new WeakMap,Zl=new WeakMap,Vi=new WeakMap,Ee=new WeakMap,Za=new WeakMap,eo=new WeakMap,Qh=new WeakMap,Jh=new WeakMap,ec=new WeakMap,tc=new WeakMap,Ts=new WeakMap,Zh=new WeakMap,Gp=new WeakMap,Xp=new WeakMap,ed=new WeakSet,oy=function(){const e=c(this,Ee).subarray(4,6),t=c(this,Ee).subarray(16,18),[i,r,s,a]=c(this,$i);return[(c(this,Za)+(e[0]-t[0])/2-i)/s,(c(this,eo)+(e[1]-t[1])/2-r)/a,(c(this,Za)+(t[0]-e[0])/2-i)/s,(c(this,eo)+(t[1]-e[1])/2-r)/a]},E(hr,Zh,8),E(hr,Gp,2),E(hr,Xp,c(hr,Zh)+c(hr,Gp));let kp=hr;var nc,to,Lr,td,Dn,nd,ut,wn,eu,tu,gb;class ly extends pb{constructor(t,i,r,s,a,o){super();E(this,wn);E(this,nc);E(this,to,null);E(this,Lr);E(this,td);E(this,Dn);E(this,nd);E(this,ut);w(this,ut,t),w(this,Dn,i),w(this,nc,r),w(this,nd,s),w(this,Lr,a),w(this,td,o),_(this,wn,gb).call(this,o);const{x:l,y:u,width:h,height:d}=c(this,to);for(let f=0,p=t.length;f<p;f+=2)t[f]=(t[f]-l)/h,t[f+1]=(t[f+1]-u)/d;for(let f=0,p=i.length;f<p;f+=2)i[f]=(i[f]-l)/h,i[f+1]=(i[f+1]-u)/d}toSVGPath(){const t=[`M${c(this,ut)[4]} ${c(this,ut)[5]}`];for(let i=6,r=c(this,ut).length;i<r;i+=6){if(isNaN(c(this,ut)[i])){t.push(`L${c(this,ut)[i+4]} ${c(this,ut)[i+5]}`);continue}t.push(`C${c(this,ut)[i]} ${c(this,ut)[i+1]} ${c(this,ut)[i+2]} ${c(this,ut)[i+3]} ${c(this,ut)[i+4]} ${c(this,ut)[i+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,i,r,s],a){const o=r-t,l=s-i;let u,h;switch(a){case 0:u=_(this,wn,eu).call(this,c(this,ut),t,s,o,-l),h=_(this,wn,eu).call(this,c(this,Dn),t,s,o,-l);break;case 90:u=_(this,wn,tu).call(this,c(this,ut),t,i,o,l),h=_(this,wn,tu).call(this,c(this,Dn),t,i,o,l);break;case 180:u=_(this,wn,eu).call(this,c(this,ut),r,i,-o,l),h=_(this,wn,eu).call(this,c(this,Dn),r,i,-o,l);break;case 270:u=_(this,wn,tu).call(this,c(this,ut),r,s,-o,-l),h=_(this,wn,tu).call(this,c(this,Dn),r,s,-o,-l);break}return{outline:Array.from(u),points:[Array.from(h)]}}get box(){return c(this,to)}getNewOutline(t,i){const{x:r,y:s,width:a,height:o}=c(this,to),[l,u,h,d]=c(this,nc),f=a*h,p=o*d,g=r*h+l,y=s*d+u,b=new kp({x:c(this,Dn)[0]*f+g,y:c(this,Dn)[1]*p+y},c(this,nc),c(this,nd),t,c(this,td),i??c(this,Lr));for(let m=2;m<c(this,Dn).length;m+=2)b.add({x:c(this,Dn)[m]*f+g,y:c(this,Dn)[m+1]*p+y});return b.getOutlines()}}nc=new WeakMap,to=new WeakMap,Lr=new WeakMap,td=new WeakMap,Dn=new WeakMap,nd=new WeakMap,ut=new WeakMap,wn=new WeakSet,eu=function(t,i,r,s,a){const o=new Float64Array(t.length);for(let l=0,u=t.length;l<u;l+=2)o[l]=i+t[l]*s,o[l+1]=r+t[l+1]*a;return o},tu=function(t,i,r,s,a){const o=new Float64Array(t.length);for(let l=0,u=t.length;l<u;l+=2)o[l]=i+t[l+1]*s,o[l+1]=r+t[l]*a;return o},gb=function(t){const i=c(this,ut);let r=i[4],s=i[5],a=r,o=s,l=r,u=s,h=r,d=s;const f=t?Math.max:Math.min;for(let m=6,v=i.length;m<v;m+=6){if(isNaN(i[m]))a=Math.min(a,i[m+4]),o=Math.min(o,i[m+5]),l=Math.max(l,i[m+4]),u=Math.max(u,i[m+5]),d<i[m+5]?(h=i[m+4],d=i[m+5]):d===i[m+5]&&(h=f(h,i[m+4]));else{const A=Q.bezierBoundingBox(r,s,...i.slice(m,m+6));a=Math.min(a,A[0]),o=Math.min(o,A[1]),l=Math.max(l,A[2]),u=Math.max(u,A[3]),d<A[3]?(h=A[2],d=A[3]):d===A[3]&&(h=f(h,A[2]))}r=i[m+4],s=i[m+5]}const p=a-c(this,Lr),g=o-c(this,Lr),y=l-a+2*c(this,Lr),b=u-o+2*c(this,Lr);w(this,to,{x:p,y:g,width:y,height:b,lastPoint:[h,d]})};var id,rd,_i,no,ic,_t,sd,rc,ad,od,Ei,sc,$e,cy,uy,mb,ua,vb,cs;const dr=class dr{constructor({editor:e=null,uiManager:t=null}){E(this,$e);E(this,id,_(this,$e,mb).bind(this));E(this,rd,_(this,$e,vb).bind(this));E(this,_i,null);E(this,no,null);E(this,ic);E(this,_t,null);E(this,sd,!1);E(this,rc,!1);E(this,ad,null);E(this,od);E(this,Ei,null);E(this,sc);var i;e?(w(this,rc,!1),w(this,sc,ae.HIGHLIGHT_COLOR),w(this,ad,e)):(w(this,rc,!0),w(this,sc,ae.HIGHLIGHT_DEFAULT_COLOR)),w(this,Ei,(e==null?void 0:e._uiManager)||t),w(this,od,c(this,Ei)._eventBus),w(this,ic,(e==null?void 0:e.color)||((i=c(this,Ei))==null?void 0:i.highlightColors.values().next().value)||"#FFFF98")}static get _keyboardManager(){return be(this,"_keyboardManager",new xd([[["Escape","mac+Escape"],dr.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],dr.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],dr.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],dr.prototype._moveToPrevious],[["Home","mac+Home"],dr.prototype._moveToBeginning],[["End","mac+End"],dr.prototype._moveToEnd]]))}renderButton(){const e=w(this,_i,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const t=c(this,Ei)._signal;e.addEventListener("click",_(this,$e,ua).bind(this),{signal:t}),e.addEventListener("keydown",c(this,id),{signal:t});const i=w(this,no,document.createElement("span"));return i.className="swatch",i.setAttribute("aria-hidden",!0),i.style.backgroundColor=c(this,ic),e.append(i),e}renderMainDropdown(){const e=w(this,_t,_(this,$e,cy).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===c(this,_i)){_(this,$e,ua).call(this,e);return}const t=e.target.getAttribute("data-color");t&&_(this,$e,uy).call(this,t,e)}_moveToNext(e){var t,i;if(!c(this,$e,cs)){_(this,$e,ua).call(this,e);return}if(e.target===c(this,_i)){(t=c(this,_t).firstChild)==null||t.focus();return}(i=e.target.nextSibling)==null||i.focus()}_moveToPrevious(e){var t,i;if(e.target===((t=c(this,_t))==null?void 0:t.firstChild)||e.target===c(this,_i)){c(this,$e,cs)&&this._hideDropdownFromKeyboard();return}c(this,$e,cs)||_(this,$e,ua).call(this,e),(i=e.target.previousSibling)==null||i.focus()}_moveToBeginning(e){var t;if(!c(this,$e,cs)){_(this,$e,ua).call(this,e);return}(t=c(this,_t).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!c(this,$e,cs)){_(this,$e,ua).call(this,e);return}(t=c(this,_t).lastChild)==null||t.focus()}hideDropdown(){var e;(e=c(this,_t))==null||e.classList.add("hidden"),window.removeEventListener("pointerdown",c(this,rd))}_hideDropdownFromKeyboard(){var e;if(!c(this,rc)){if(!c(this,$e,cs)){(e=c(this,ad))==null||e.unselect();return}this.hideDropdown(),c(this,_i).focus({preventScroll:!0,focusVisible:c(this,sd)})}}updateColor(e){if(c(this,no)&&(c(this,no).style.backgroundColor=e),!c(this,_t))return;const t=c(this,Ei).highlightColors.values();for(const i of c(this,_t).children)i.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;(e=c(this,_i))==null||e.remove(),w(this,_i,null),w(this,no,null),(t=c(this,_t))==null||t.remove(),w(this,_t,null)}};id=new WeakMap,rd=new WeakMap,_i=new WeakMap,no=new WeakMap,ic=new WeakMap,_t=new WeakMap,sd=new WeakMap,rc=new WeakMap,ad=new WeakMap,od=new WeakMap,Ei=new WeakMap,sc=new WeakMap,$e=new WeakSet,cy=function(){const e=document.createElement("div"),t=c(this,Ei)._signal;e.addEventListener("contextmenu",Sn,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[i,r]of c(this,Ei).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",r),s.title=i,s.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${i}`);const a=document.createElement("span");s.append(a),a.className="swatch",a.style.backgroundColor=r,s.setAttribute("aria-selected",r===c(this,ic)),s.addEventListener("click",_(this,$e,uy).bind(this,r),{signal:t}),e.append(s)}return e.addEventListener("keydown",c(this,id),{signal:t}),e},uy=function(e,t){t.stopPropagation(),c(this,od).dispatch("switchannotationeditorparams",{source:this,type:c(this,sc),value:e})},mb=function(e){dr._keyboardManager.exec(this,e)},ua=function(e){if(c(this,$e,cs)){this.hideDropdown();return}if(w(this,sd,e.detail===0),window.addEventListener("pointerdown",c(this,rd),{signal:c(this,Ei)._signal}),c(this,_t)){c(this,_t).classList.remove("hidden");return}const t=w(this,_t,_(this,$e,cy).call(this));c(this,_i).append(t)},vb=function(e){var t;(t=c(this,_t))!=null&&t.contains(e.target)||this.hideDropdown()},cs=function(){return c(this,_t)&&!c(this,_t).classList.contains("hidden")};let Tp=dr;var ac,ld,Ps,io,oc,qn,cd,ud,ro,Ai,tn,Nn,Kp,lc,so,Et,cc,Wi,hd,ve,hy,dy,yb,wb,_b,fy,nu,ni,Xo,Eb,zf,iu,Ab,Sb,bb,xb;const ke=class ke extends Le{constructor(t){super({...t,name:"highlightEditor"});E(this,ve);E(this,ac,null);E(this,ld,0);E(this,Ps);E(this,io,null);E(this,oc,null);E(this,qn,null);E(this,cd,null);E(this,ud,0);E(this,ro,null);E(this,Ai,null);E(this,tn,null);E(this,Nn,!1);E(this,Kp,_(this,ve,Eb).bind(this));E(this,lc,null);E(this,so);E(this,Et,null);E(this,cc,"");E(this,Wi);E(this,hd,"");this.color=t.color||ke._defaultColor,w(this,Wi,t.thickness||ke._defaultThickness),w(this,so,t.opacity||ke._defaultOpacity),w(this,Ps,t.boxes||null),w(this,hd,t.methodOfCreation||""),w(this,cc,t.text||""),this._isDraggable=!1,t.highlightId>-1?(w(this,Nn,!0),_(this,ve,dy).call(this,t),_(this,ve,nu).call(this)):(w(this,ac,t.anchorNode),w(this,ld,t.anchorOffset),w(this,cd,t.focusNode),w(this,ud,t.focusOffset),_(this,ve,hy).call(this),_(this,ve,nu).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const t=ke.prototype;return be(this,"_keyboardManager",new xd([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:c(this,Nn)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:c(this,Wi),methodOfCreation:c(this,hd)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,i){var r;Le.initialize(t,i),ke._defaultColor||(ke._defaultColor=((r=i.highlightColors)==null?void 0:r.values().next().value)||"#fff066")}static updateDefaultParams(t,i){switch(t){case ae.HIGHLIGHT_DEFAULT_COLOR:ke._defaultColor=i;break;case ae.HIGHLIGHT_THICKNESS:ke._defaultThickness=i;break}}translateInPage(t,i){}get toolbarPosition(){return c(this,lc)}updateParams(t,i){switch(t){case ae.HIGHLIGHT_COLOR:_(this,ve,yb).call(this,i);break;case ae.HIGHLIGHT_THICKNESS:_(this,ve,wb).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[ae.HIGHLIGHT_DEFAULT_COLOR,ke._defaultColor],[ae.HIGHLIGHT_THICKNESS,ke._defaultThickness]]}get propertiesToUpdate(){return[[ae.HIGHLIGHT_COLOR,this.color||ke._defaultColor],[ae.HIGHLIGHT_THICKNESS,c(this,Wi)||ke._defaultThickness],[ae.HIGHLIGHT_FREE,c(this,Nn)]]}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(w(this,oc,new Tp({editor:this})),t.addColorPicker(c(this,oc))),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(_(this,ve,iu).call(this))}getBaseTranslation(){return[0,0]}getRect(t,i){return super.getRect(t,i,_(this,ve,iu).call(this))}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){_(this,ve,fy).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(_(this,ve,nu).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var r;let i=!1;this.parent&&!t?_(this,ve,fy).call(this):t&&(_(this,ve,nu).call(this,t),i=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),i&&this.select()}rotate(t){var s,a,o;const{drawLayer:i}=this.parent;let r;c(this,Nn)?(t=(t-this.rotation+360)%360,r=_(s=ke,ni,Xo).call(s,c(this,Ai).box,t)):r=_(a=ke,ni,Xo).call(a,this,t),i.rotate(c(this,tn),t),i.rotate(c(this,Et),t),i.updateBox(c(this,tn),r),i.updateBox(c(this,Et),_(o=ke,ni,Xo).call(o,c(this,qn).box,t))}render(){if(this.div)return this.div;const t=super.render();c(this,cc)&&(t.setAttribute("aria-label",c(this,cc)),t.setAttribute("role","mark")),c(this,Nn)?t.classList.add("free"):this.div.addEventListener("keydown",c(this,Kp),{signal:this._uiManager._signal});const i=w(this,ro,document.createElement("div"));t.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",i.style.clipPath=c(this,io);const[r,s]=this.parentDimensions;return this.setDims(this.width*r,this.height*s),Sp(this,c(this,ro),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.parent.drawLayer.addClass(c(this,Et),"hovered")}pointerleave(){this.parent.drawLayer.removeClass(c(this,Et),"hovered")}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:_(this,ve,zf).call(this,!0);break;case 1:case 3:_(this,ve,zf).call(this,!1);break}}select(){var t,i;super.select(),c(this,Et)&&((t=this.parent)==null||t.drawLayer.removeClass(c(this,Et),"hovered"),(i=this.parent)==null||i.drawLayer.addClass(c(this,Et),"selected"))}unselect(){var t;super.unselect(),c(this,Et)&&((t=this.parent)==null||t.drawLayer.removeClass(c(this,Et),"selected"),c(this,Nn)||_(this,ve,zf).call(this,!1))}get _mustFixPosition(){return!c(this,Nn)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.show(c(this,tn),t),this.parent.drawLayer.show(c(this,Et),t))}static startHighlighting(t,i,{target:r,x:s,y:a}){const{x:o,y:l,width:u,height:h}=r.getBoundingClientRect(),d=b=>{_(this,ni,bb).call(this,t,b)},f=t._signal,p={capture:!0,passive:!1,signal:f},g=b=>{b.preventDefault(),b.stopPropagation()},y=b=>{r.removeEventListener("pointermove",d),window.removeEventListener("blur",y),window.removeEventListener("pointerup",y),window.removeEventListener("pointerdown",g,p),window.removeEventListener("contextmenu",Sn),_(this,ni,xb).call(this,t,b)};window.addEventListener("blur",y,{signal:f}),window.addEventListener("pointerup",y,{signal:f}),window.addEventListener("pointerdown",g,p),window.addEventListener("contextmenu",Sn,{signal:f}),r.addEventListener("pointermove",d,{signal:f}),this._freeHighlight=new kp({x:s,y:a},[o,l,u,h],t.scale,this._defaultThickness/2,i,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static deserialize(t,i,r){var y;const s=super.deserialize(t,i,r),{rect:[a,o,l,u],color:h,quadPoints:d}=t;s.color=Q.makeHexColor(...h),w(s,so,t.opacity);const[f,p]=s.pageDimensions;s.width=(l-a)/f,s.height=(u-o)/p;const g=w(s,Ps,[]);for(let b=0;b<d.length;b+=8)g.push({x:(d[4]-l)/f,y:(u-(1-d[b+5]))/p,width:(d[b+2]-d[b])/f,height:(d[b+5]-d[b+1])/p});return _(y=s,ve,hy).call(y),s}serialize(t=!1){if(this.isEmpty()||t)return null;const i=this.getRect(0,0),r=Le._colorManager.convert(this.color);return{annotationType:Ae.HIGHLIGHT,color:r,opacity:c(this,so),thickness:c(this,Wi),quadPoints:_(this,ve,Ab).call(this),outlines:_(this,ve,Sb).call(this,i),pageIndex:this.pageIndex,rect:i,rotation:_(this,ve,iu).call(this),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}};ac=new WeakMap,ld=new WeakMap,Ps=new WeakMap,io=new WeakMap,oc=new WeakMap,qn=new WeakMap,cd=new WeakMap,ud=new WeakMap,ro=new WeakMap,Ai=new WeakMap,tn=new WeakMap,Nn=new WeakMap,Kp=new WeakMap,lc=new WeakMap,so=new WeakMap,Et=new WeakMap,cc=new WeakMap,Wi=new WeakMap,hd=new WeakMap,ve=new WeakSet,hy=function(){const t=new sy(c(this,Ps),.001);w(this,Ai,t.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=c(this,Ai).box;const i=new sy(c(this,Ps),.0025,.001,this._uiManager.direction==="ltr");w(this,qn,i.getOutlines());const{lastPoint:r}=c(this,qn).box;w(this,lc,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height])},dy=function({highlightOutlines:t,highlightId:i,clipPathId:r}){var d,f;if(w(this,Ai,t),w(this,qn,t.getNewOutline(c(this,Wi)/2+1.5,.0025)),i>=0)w(this,tn,i),w(this,io,r),this.parent.drawLayer.finalizeLine(i,t),w(this,Et,this.parent.drawLayer.highlightOutline(c(this,qn)));else if(this.parent){const p=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(c(this,tn),t),this.parent.drawLayer.updateBox(c(this,tn),_(d=ke,ni,Xo).call(d,c(this,Ai).box,(p-this.rotation+360)%360)),this.parent.drawLayer.updateLine(c(this,Et),c(this,qn)),this.parent.drawLayer.updateBox(c(this,Et),_(f=ke,ni,Xo).call(f,c(this,qn).box,p))}const{x:a,y:o,width:l,height:u}=t.box;switch(this.rotation){case 0:this.x=a,this.y=o,this.width=l,this.height=u;break;case 90:{const[p,g]=this.parentDimensions;this.x=o,this.y=1-a,this.width=l*g/p,this.height=u*p/g;break}case 180:this.x=1-a,this.y=1-o,this.width=l,this.height=u;break;case 270:{const[p,g]=this.parentDimensions;this.x=1-o,this.y=a,this.width=l*g/p,this.height=u*p/g;break}}const{lastPoint:h}=c(this,qn).box;w(this,lc,[(h[0]-a)/l,(h[1]-o)/u])},yb=function(t){const i=s=>{var a,o;this.color=s,(a=this.parent)==null||a.drawLayer.changeColor(c(this,tn),s),(o=c(this,oc))==null||o.updateColor(s)},r=this.color;this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ae.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},wb=function(t){const i=c(this,Wi),r=s=>{w(this,Wi,s),_(this,ve,_b).call(this,s)};this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ae.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},_b=function(t){if(!c(this,Nn))return;_(this,ve,dy).call(this,{highlightOutlines:c(this,Ai).getNewOutline(t/2)}),this.fixAndSetPosition();const[i,r]=this.parentDimensions;this.setDims(this.width*i,this.height*r)},fy=function(){c(this,tn)===null||!this.parent||(this.parent.drawLayer.remove(c(this,tn)),w(this,tn,null),this.parent.drawLayer.remove(c(this,Et)),w(this,Et,null))},nu=function(t=this.parent){c(this,tn)===null&&({id:xn(this,tn)._,clipPathId:xn(this,io)._}=t.drawLayer.highlight(c(this,Ai),this.color,c(this,so)),w(this,Et,t.drawLayer.highlightOutline(c(this,qn))),c(this,ro)&&(c(this,ro).style.clipPath=c(this,io)))},ni=new WeakSet,Xo=function({x:t,y:i,width:r,height:s},a){switch(a){case 90:return{x:1-i-s,y:t,width:s,height:r};case 180:return{x:1-t-r,y:1-i-s,width:r,height:s};case 270:return{x:i,y:1-t-r,width:s,height:r}}return{x:t,y:i,width:r,height:s}},Eb=function(t){ke._keyboardManager.exec(this,t)},zf=function(t){if(!c(this,ac))return;const i=window.getSelection();t?i.setPosition(c(this,ac),c(this,ld)):i.setPosition(c(this,cd),c(this,ud))},iu=function(){return c(this,Nn)?this.rotation:0},Ab=function(){if(c(this,Nn))return null;const[t,i]=this.pageDimensions,r=c(this,Ps),s=new Float32Array(r.length*8);let a=0;for(const{x:o,y:l,width:u,height:h}of r){const d=o*t,f=(1-l-h)*i;s[a]=s[a+4]=d,s[a+1]=s[a+3]=f,s[a+2]=s[a+6]=d+u*t,s[a+5]=s[a+7]=f+h*i,a+=8}return s},Sb=function(t){return c(this,Ai).serialize(t,_(this,ve,iu).call(this))},bb=function(t,i){this._freeHighlight.add(i)&&t.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},xb=function(t,i){this._freeHighlight.isEmpty()?t.drawLayer.removeFreeHighlight(this._freeHighlightId):t.createAndAddNewEditor(i,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},E(ke,ni),le(ke,"_defaultColor",null),le(ke,"_defaultOpacity",1),le(ke,"_defaultThickness",12),le(ke,"_l10nPromise"),le(ke,"_type","highlight"),le(ke,"_editorType",Ae.HIGHLIGHT),le(ke,"_freeHighlightId",-1),le(ke,"_freeHighlight",null),le(ke,"_freeHighlightClipId","");let Pp=ke;var ao,oo,dd,fd,pd,lo,Gi,Mr,Qn,co,uo,Dr,ho,fo,Rs,V,Cb,kb,Tb,Pb,gy,Rb,my,Lb,Mb,Db,Nb,Ib,ha,vy,Hf,Bf,Ko,yy,Uf,Zr,Fb,wy,Ob,jb,_y,$f,ru;const Ze=class Ze extends Le{constructor(t){super({...t,name:"inkEditor"});E(this,V);E(this,ao,0);E(this,oo,0);E(this,dd,this.canvasPointermove.bind(this));E(this,fd,this.canvasPointerleave.bind(this));E(this,pd,this.canvasPointerup.bind(this));E(this,lo,this.canvasPointerdown.bind(this));E(this,Gi,null);E(this,Mr,new Path2D);E(this,Qn,!1);E(this,co,!1);E(this,uo,!1);E(this,Dr,null);E(this,ho,0);E(this,fo,0);E(this,Rs,null);this.color=t.color||null,this.thickness=t.thickness||null,this.opacity=t.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(t,i){Le.initialize(t,i)}static updateDefaultParams(t,i){switch(t){case ae.INK_THICKNESS:Ze._defaultThickness=i;break;case ae.INK_COLOR:Ze._defaultColor=i;break;case ae.INK_OPACITY:Ze._defaultOpacity=i/100;break}}updateParams(t,i){switch(t){case ae.INK_THICKNESS:_(this,V,Cb).call(this,i);break;case ae.INK_COLOR:_(this,V,kb).call(this,i);break;case ae.INK_OPACITY:_(this,V,Tb).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[ae.INK_THICKNESS,Ze._defaultThickness],[ae.INK_COLOR,Ze._defaultColor||Le._defaultLineColor],[ae.INK_OPACITY,Math.round(Ze._defaultOpacity*100)]]}get propertiesToUpdate(){return[[ae.INK_THICKNESS,this.thickness||Ze._defaultThickness],[ae.INK_COLOR,this.color||Ze._defaultColor||Le._defaultLineColor],[ae.INK_OPACITY,Math.round(100*(this.opacity??Ze._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(_(this,V,Hf).call(this),_(this,V,Bf).call(this)),this.isAttachedToDOM||(this.parent.add(this),_(this,V,Ko).call(this)),_(this,V,ru).call(this)))}remove(){var t;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,c(this,Gi)&&(clearTimeout(c(this,Gi)),w(this,Gi,null)),(t=c(this,Dr))==null||t.disconnect(),w(this,Dr,null),super.remove())}setParent(t){!this.parent&&t?this._uiManager.removeShouldRescale(this):this.parent&&t===null&&this._uiManager.addShouldRescale(this),super.setParent(t)}onScaleChanging(){const[t,i]=this.parentDimensions,r=this.width*t,s=this.height*i;this.setDimensions(r,s)}enableEditMode(){c(this,Qn)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",c(this,lo),{signal:this._uiManager._signal}))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",c(this,lo)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){c(this,Qn)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),w(this,Qn,!0),this.div.classList.add("disabled"),_(this,V,ru).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),this.enableEditMode())}canvasPointerdown(t){t.button!==0||!this.isInEditMode()||c(this,Qn)||(this.setInForeground(),t.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),_(this,V,Rb).call(this,t.offsetX,t.offsetY))}canvasPointermove(t){t.preventDefault(),_(this,V,my).call(this,t.offsetX,t.offsetY)}canvasPointerup(t){t.preventDefault(),_(this,V,vy).call(this,t)}canvasPointerleave(t){_(this,V,vy).call(this,t)}get isResizable(){return!this.isEmpty()&&c(this,Qn)}render(){if(this.div)return this.div;let t,i;this.width&&(t=this.x,i=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[r,s,a,o]=_(this,V,Pb).call(this);if(this.setAt(r,s,0,0),this.setDims(a,o),_(this,V,Hf).call(this),this.width){const[l,u]=this.parentDimensions;this.setAspectRatio(this.width*l,this.height*u),this.setAt(t*l,i*u,this.width*l,this.height*u),w(this,uo,!0),_(this,V,Ko).call(this),this.setDims(this.width*l,this.height*u),_(this,V,ha).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return _(this,V,Bf).call(this),this.div}setDimensions(t,i){const r=Math.round(t),s=Math.round(i);if(c(this,ho)===r&&c(this,fo)===s)return;w(this,ho,r),w(this,fo,s),this.canvas.style.visibility="hidden";const[a,o]=this.parentDimensions;this.width=t/a,this.height=i/o,this.fixAndSetPosition(),c(this,Qn)&&_(this,V,yy).call(this,t,i),_(this,V,Ko).call(this),_(this,V,ha).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(t,i,r){var b,m,v;if(t instanceof ib)return null;const s=super.deserialize(t,i,r);s.thickness=t.thickness,s.color=Q.makeHexColor(...t.color),s.opacity=t.opacity;const[a,o]=s.pageDimensions,l=s.width*a,u=s.height*o,h=s.parentScale,d=t.thickness/2;w(s,Qn,!0),w(s,ho,Math.round(l)),w(s,fo,Math.round(u));const{paths:f,rect:p,rotation:g}=t;for(let{bezier:A}of f){A=_(b=Ze,Zr,Ob).call(b,A,p,g);const C=[];s.paths.push(C);let T=h*(A[0]-d),R=h*(A[1]-d);for(let x=2,N=A.length;x<N;x+=6){const I=h*(A[x]-d),O=h*(A[x+1]-d),J=h*(A[x+2]-d),Y=h*(A[x+3]-d),W=h*(A[x+4]-d),se=h*(A[x+5]-d);C.push([[T,R],[I,O],[J,Y],[W,se]]),T=W,R=se}const L=_(this,Zr,Fb).call(this,C);s.bezierPath2D.push(L)}const y=_(m=s,V,_y).call(m);return w(s,oo,Math.max(Le.MIN_SIZE,y[2]-y[0])),w(s,ao,Math.max(Le.MIN_SIZE,y[3]-y[1])),_(v=s,V,yy).call(v,l,u),s}serialize(){if(this.isEmpty())return null;const t=this.getRect(0,0),i=Le._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Ae.INK,color:i,thickness:this.thickness,opacity:this.opacity,paths:_(this,V,jb).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};ao=new WeakMap,oo=new WeakMap,dd=new WeakMap,fd=new WeakMap,pd=new WeakMap,lo=new WeakMap,Gi=new WeakMap,Mr=new WeakMap,Qn=new WeakMap,co=new WeakMap,uo=new WeakMap,Dr=new WeakMap,ho=new WeakMap,fo=new WeakMap,Rs=new WeakMap,V=new WeakSet,Cb=function(t){const i=s=>{this.thickness=s,_(this,V,ru).call(this)},r=this.thickness;this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ae.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},kb=function(t){const i=s=>{this.color=s,_(this,V,ha).call(this)},r=this.color;this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ae.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Tb=function(t){const i=s=>{this.opacity=s,_(this,V,ha).call(this)};t/=100;const r=this.opacity;this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ae.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},Pb=function(){const{parentRotation:t,parentDimensions:[i,r]}=this;switch(t){case 90:return[0,r,r,i];case 180:return[i,r,i,r];case 270:return[i,0,r,i];default:return[0,0,i,r]}},gy=function(){const{ctx:t,color:i,opacity:r,thickness:s,parentScale:a,scaleFactor:o}=this;t.lineWidth=s*a/o,t.lineCap="round",t.lineJoin="round",t.miterLimit=10,t.strokeStyle=`${i}${oR(r)}`},Rb=function(t,i){const r=this._uiManager._signal;this.canvas.addEventListener("contextmenu",Sn,{signal:r}),this.canvas.addEventListener("pointerleave",c(this,fd),{signal:r}),this.canvas.addEventListener("pointermove",c(this,dd),{signal:r}),this.canvas.addEventListener("pointerup",c(this,pd),{signal:r}),this.canvas.removeEventListener("pointerdown",c(this,lo)),this.isEditing=!0,c(this,uo)||(w(this,uo,!0),_(this,V,Ko).call(this),this.thickness||(this.thickness=Ze._defaultThickness),this.color||(this.color=Ze._defaultColor||Le._defaultLineColor),this.opacity??(this.opacity=Ze._defaultOpacity)),this.currentPath.push([t,i]),w(this,co,!1),_(this,V,gy).call(this),w(this,Rs,()=>{_(this,V,Db).call(this),c(this,Rs)&&window.requestAnimationFrame(c(this,Rs))}),window.requestAnimationFrame(c(this,Rs))},my=function(t,i){const[r,s]=this.currentPath.at(-1);if(this.currentPath.length>1&&t===r&&i===s)return;const a=this.currentPath;let o=c(this,Mr);if(a.push([t,i]),w(this,co,!0),a.length<=2){o.moveTo(...a[0]),o.lineTo(t,i);return}a.length===3&&(w(this,Mr,o=new Path2D),o.moveTo(...a[0])),_(this,V,Nb).call(this,o,...a.at(-3),...a.at(-2),t,i)},Lb=function(){if(this.currentPath.length===0)return;const t=this.currentPath.at(-1);c(this,Mr).lineTo(...t)},Mb=function(t,i){w(this,Rs,null),t=Math.min(Math.max(t,0),this.canvas.width),i=Math.min(Math.max(i,0),this.canvas.height),_(this,V,my).call(this,t,i),_(this,V,Lb).call(this);let r;if(this.currentPath.length!==1)r=_(this,V,Ib).call(this);else{const u=[t,i];r=[[u,u.slice(),u.slice(),u]]}const s=c(this,Mr),a=this.currentPath;this.currentPath=[],w(this,Mr,new Path2D);const o=()=>{this.allRawPaths.push(a),this.paths.push(r),this.bezierPath2D.push(s),this._uiManager.rebuild(this)},l=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(_(this,V,Hf).call(this),_(this,V,Bf).call(this)),_(this,V,ru).call(this))};this.addCommands({cmd:o,undo:l,mustExec:!0})},Db=function(){if(!c(this,co))return;w(this,co,!1);const t=Math.ceil(this.thickness*this.parentScale),i=this.currentPath.slice(-3),r=i.map(o=>o[0]),s=i.map(o=>o[1]);Math.min(...r)-t,Math.max(...r)+t,Math.min(...s)-t,Math.max(...s)+t;const{ctx:a}=this;a.save(),a.clearRect(0,0,this.canvas.width,this.canvas.height);for(const o of this.bezierPath2D)a.stroke(o);a.stroke(c(this,Mr)),a.restore()},Nb=function(t,i,r,s,a,o,l){const u=(i+s)/2,h=(r+a)/2,d=(s+o)/2,f=(a+l)/2;t.bezierCurveTo(u+2*(s-u)/3,h+2*(a-h)/3,d+2*(s-d)/3,f+2*(a-f)/3,d,f)},Ib=function(){const t=this.currentPath;if(t.length<=2)return[[t[0],t[0],t.at(-1),t.at(-1)]];const i=[];let r,[s,a]=t[0];for(r=1;r<t.length-2;r++){const[p,g]=t[r],[y,b]=t[r+1],m=(p+y)/2,v=(g+b)/2,A=[s+2*(p-s)/3,a+2*(g-a)/3],C=[m+2*(p-m)/3,v+2*(g-v)/3];i.push([[s,a],A,C,[m,v]]),[s,a]=[m,v]}const[o,l]=t[r],[u,h]=t[r+1],d=[s+2*(o-s)/3,a+2*(l-a)/3],f=[u+2*(o-u)/3,h+2*(l-h)/3];return i.push([[s,a],d,f,[u,h]]),i},ha=function(){if(this.isEmpty()){_(this,V,Uf).call(this);return}_(this,V,gy).call(this);const{canvas:t,ctx:i}=this;i.setTransform(1,0,0,1,0,0),i.clearRect(0,0,t.width,t.height),_(this,V,Uf).call(this);for(const r of this.bezierPath2D)i.stroke(r)},vy=function(t){this.canvas.removeEventListener("pointerleave",c(this,fd)),this.canvas.removeEventListener("pointermove",c(this,dd)),this.canvas.removeEventListener("pointerup",c(this,pd)),this.canvas.addEventListener("pointerdown",c(this,lo),{signal:this._uiManager._signal}),c(this,Gi)&&clearTimeout(c(this,Gi)),w(this,Gi,setTimeout(()=>{w(this,Gi,null),this.canvas.removeEventListener("contextmenu",Sn)},10)),_(this,V,Mb).call(this,t.offsetX,t.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Hf=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Bf=function(){w(this,Dr,new ResizeObserver(t=>{const i=t[0].contentRect;i.width&&i.height&&this.setDimensions(i.width,i.height)})),c(this,Dr).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=c(this,Dr))==null||t.disconnect(),w(this,Dr,null)},{once:!0})},Ko=function(){if(!c(this,uo))return;const[t,i]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*t),this.canvas.height=Math.ceil(this.height*i),_(this,V,Uf).call(this)},yy=function(t,i){const r=_(this,V,$f).call(this),s=(t-r)/c(this,oo),a=(i-r)/c(this,ao);this.scaleFactor=Math.min(s,a)},Uf=function(){const t=_(this,V,$f).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+t,this.translationY*this.scaleFactor+t)},Zr=new WeakSet,Fb=function(t){const i=new Path2D;for(let r=0,s=t.length;r<s;r++){const[a,o,l,u]=t[r];r===0&&i.moveTo(...a),i.bezierCurveTo(o[0],o[1],l[0],l[1],u[0],u[1])}return i},wy=function(t,i,r){const[s,a,o,l]=i;switch(r){case 0:for(let u=0,h=t.length;u<h;u+=2)t[u]+=s,t[u+1]=l-t[u+1];break;case 90:for(let u=0,h=t.length;u<h;u+=2){const d=t[u];t[u]=t[u+1]+s,t[u+1]=d+a}break;case 180:for(let u=0,h=t.length;u<h;u+=2)t[u]=o-t[u],t[u+1]+=a;break;case 270:for(let u=0,h=t.length;u<h;u+=2){const d=t[u];t[u]=o-t[u+1],t[u+1]=l-d}break;default:throw new Error("Invalid rotation")}return t},Ob=function(t,i,r){const[s,a,o,l]=i;switch(r){case 0:for(let u=0,h=t.length;u<h;u+=2)t[u]-=s,t[u+1]=l-t[u+1];break;case 90:for(let u=0,h=t.length;u<h;u+=2){const d=t[u];t[u]=t[u+1]-a,t[u+1]=d-s}break;case 180:for(let u=0,h=t.length;u<h;u+=2)t[u]=o-t[u],t[u+1]-=a;break;case 270:for(let u=0,h=t.length;u<h;u+=2){const d=t[u];t[u]=l-t[u+1],t[u+1]=o-d}break;default:throw new Error("Invalid rotation")}return t},jb=function(t,i,r,s){var h,d;const a=[],o=this.thickness/2,l=t*i+o,u=t*r+o;for(const f of this.paths){const p=[],g=[];for(let y=0,b=f.length;y<b;y++){const[m,v,A,C]=f[y];if(m[0]===C[0]&&m[1]===C[1]&&b===1){const Y=t*m[0]+l,W=t*m[1]+u;p.push(Y,W),g.push(Y,W);break}const T=t*m[0]+l,R=t*m[1]+u,L=t*v[0]+l,x=t*v[1]+u,N=t*A[0]+l,I=t*A[1]+u,O=t*C[0]+l,J=t*C[1]+u;y===0&&(p.push(T,R),g.push(T,R)),p.push(L,x,N,I,O,J),g.push(L,x),y===b-1&&g.push(O,J)}a.push({bezier:_(h=Ze,Zr,wy).call(h,p,s,this.rotation),points:_(d=Ze,Zr,wy).call(d,g,s,this.rotation)})}return a},_y=function(){let t=1/0,i=-1/0,r=1/0,s=-1/0;for(const a of this.paths)for(const[o,l,u,h]of a){const d=Q.bezierBoundingBox(...o,...l,...u,...h);t=Math.min(t,d[0]),r=Math.min(r,d[1]),i=Math.max(i,d[2]),s=Math.max(s,d[3])}return[t,r,i,s]},$f=function(){return c(this,Qn)?Math.ceil(this.thickness*this.parentScale):0},ru=function(t=!1){if(this.isEmpty())return;if(!c(this,Qn)){_(this,V,ha).call(this);return}const i=_(this,V,_y).call(this),r=_(this,V,$f).call(this);w(this,oo,Math.max(Le.MIN_SIZE,i[2]-i[0])),w(this,ao,Math.max(Le.MIN_SIZE,i[3]-i[1]));const s=Math.ceil(r+c(this,oo)*this.scaleFactor),a=Math.ceil(r+c(this,ao)*this.scaleFactor),[o,l]=this.parentDimensions;this.width=s/o,this.height=a/l,this.setAspectRatio(s,a);const u=this.translationX,h=this.translationY;this.translationX=-i[0],this.translationY=-i[1],_(this,V,Ko).call(this),_(this,V,ha).call(this),w(this,ho,s),w(this,fo,a),this.setDims(s,a);const d=t?r/this.scaleFactor/2:0;this.translate(u-this.translationX-d,h-this.translationY-d)},E(Ze,Zr),le(Ze,"_defaultColor",null),le(Ze,"_defaultOpacity",1),le(Ze,"_defaultThickness",1),le(Ze,"_type","ink"),le(Ze,"_editorType",Ae.INK);let py=Ze;var jt,zt,Ls,Nr,Ms,uc,Xi,Ir,Ki,Si,gd,Ce,su,au,Vf,Ay,zb,Hb,Sy,Wf,Bb;const yu=class yu extends Le{constructor(t){super({...t,name:"stampEditor"});E(this,Ce);E(this,jt,null);E(this,zt,null);E(this,Ls,null);E(this,Nr,null);E(this,Ms,null);E(this,uc,"");E(this,Xi,null);E(this,Ir,null);E(this,Ki,null);E(this,Si,!1);E(this,gd,!1);w(this,Nr,t.bitmapUrl),w(this,Ms,t.bitmapFile)}static initialize(t,i){Le.initialize(t,i)}static get supportedTypes(){return be(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(i=>`image/${i}`))}static get supportedTypesStr(){return be(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,i){i.pasteEditor(Ae.STAMP,{bitmapFile:t.getAsFile()})}remove(){var t,i;c(this,zt)&&(w(this,jt,null),this._uiManager.imageManager.deleteId(c(this,zt)),(t=c(this,Xi))==null||t.remove(),w(this,Xi,null),(i=c(this,Ir))==null||i.disconnect(),w(this,Ir,null),c(this,Ki)&&(clearTimeout(c(this,Ki)),w(this,Ki,null))),super.remove()}rebuild(){if(!this.parent){c(this,zt)&&_(this,Ce,Vf).call(this);return}super.rebuild(),this.div!==null&&(c(this,zt)&&c(this,Xi)===null&&_(this,Ce,Vf).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(c(this,Ls)||c(this,jt)||c(this,Nr)||c(this,Ms)||c(this,zt))}get isResizable(){return!0}render(){if(this.div)return this.div;let t,i;if(this.width&&(t=this.x,i=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),c(this,jt)?_(this,Ce,Ay).call(this):_(this,Ce,Vf).call(this),this.width){const[r,s]=this.parentDimensions;this.setAt(t*r,i*s,this.width*r,this.height*s)}return this.div}getImageForAltText(){return c(this,Xi)}static deserialize(t,i,r){if(t instanceof rb)return null;const s=super.deserialize(t,i,r),{rect:a,bitmapUrl:o,bitmapId:l,isSvg:u,accessibilityData:h}=t;l&&r.imageManager.isValidId(l)?w(s,zt,l):w(s,Nr,o),w(s,Si,u);const[d,f]=s.pageDimensions;return s.width=(a[2]-a[0])/d,s.height=(a[3]-a[1])/f,h&&(s.altTextData=h),s}serialize(t=!1,i=null){if(this.isEmpty())return null;const r={annotationType:Ae.STAMP,bitmapId:c(this,zt),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:c(this,Si),structTreeParentId:this._structTreeParentId};if(t)return r.bitmapUrl=_(this,Ce,Wf).call(this,!0),r.accessibilityData=this.altTextData,r;const{decorative:s,altText:a}=this.altTextData;if(!s&&a&&(r.accessibilityData={type:"Figure",alt:a}),i===null)return r;i.stamps||(i.stamps=new Map);const o=c(this,Si)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!i.stamps.has(c(this,zt)))i.stamps.set(c(this,zt),{area:o,serialized:r}),r.bitmap=_(this,Ce,Wf).call(this,!1);else if(c(this,Si)){const l=i.stamps.get(c(this,zt));o>l.area&&(l.area=o,l.serialized.bitmap.close(),l.serialized.bitmap=_(this,Ce,Wf).call(this,!1))}return r}};jt=new WeakMap,zt=new WeakMap,Ls=new WeakMap,Nr=new WeakMap,Ms=new WeakMap,uc=new WeakMap,Xi=new WeakMap,Ir=new WeakMap,Ki=new WeakMap,Si=new WeakMap,gd=new WeakMap,Ce=new WeakSet,su=function(t,i=!1){if(!t){this.remove();return}w(this,jt,t.bitmap),i||(w(this,zt,t.id),w(this,Si,t.isSvg)),t.file&&w(this,uc,t.file.name),_(this,Ce,Ay).call(this)},au=function(){w(this,Ls,null),this._uiManager.enableWaiting(!1),c(this,Xi)&&this.div.focus()},Vf=function(){if(c(this,zt)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(c(this,zt)).then(r=>_(this,Ce,su).call(this,r,!0)).finally(()=>_(this,Ce,au).call(this));return}if(c(this,Nr)){const r=c(this,Nr);w(this,Nr,null),this._uiManager.enableWaiting(!0),w(this,Ls,this._uiManager.imageManager.getFromUrl(r).then(s=>_(this,Ce,su).call(this,s)).finally(()=>_(this,Ce,au).call(this)));return}if(c(this,Ms)){const r=c(this,Ms);w(this,Ms,null),this._uiManager.enableWaiting(!0),w(this,Ls,this._uiManager.imageManager.getFromFile(r).then(s=>_(this,Ce,su).call(this,s)).finally(()=>_(this,Ce,au).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=yu.supportedTypesStr;const i=this._uiManager._signal;w(this,Ls,new Promise(r=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(t.files[0]);_(this,Ce,su).call(this,s)}r()},{signal:i}),t.addEventListener("cancel",()=>{this.remove(),r()},{signal:i})}).finally(()=>_(this,Ce,au).call(this))),t.click()},Ay=function(){const{div:t}=this;let{width:i,height:r}=c(this,jt);const[s,a]=this.pageDimensions,o=.75;if(this.width)i=this.width*s,r=this.height*a;else if(i>o*s||r>o*a){const d=Math.min(o*s/i,o*a/r);i*=d,r*=d}const[l,u]=this.parentDimensions;this.setDims(i*l/s,r*u/a),this._uiManager.enableWaiting(!1);const h=w(this,Xi,document.createElement("canvas"));t.append(h),t.hidden=!1,_(this,Ce,Sy).call(this,i,r),_(this,Ce,Bb).call(this),c(this,gd)||(this.parent.addUndoableEditor(this),w(this,gd,!0)),this._reportTelemetry({action:"inserted_image"}),c(this,uc)&&h.setAttribute("aria-label",c(this,uc))},zb=function(t,i){var o;const[r,s]=this.parentDimensions;this.width=t/r,this.height=i/s,this.setDims(t,i),(o=this._initialOptions)!=null&&o.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,c(this,Ki)!==null&&clearTimeout(c(this,Ki)),w(this,Ki,setTimeout(()=>{w(this,Ki,null),_(this,Ce,Sy).call(this,t,i)},200))},Hb=function(t,i){const{width:r,height:s}=c(this,jt);let a=r,o=s,l=c(this,jt);for(;a>2*t||o>2*i;){const u=a,h=o;a>2*t&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),o>2*i&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const d=new OffscreenCanvas(a,o);d.getContext("2d").drawImage(l,0,0,u,h,0,0,a,o),l=d.transferToImageBitmap()}return l},Sy=function(t,i){t=Math.ceil(t),i=Math.ceil(i);const r=c(this,Xi);if(!r||r.width===t&&r.height===i)return;r.width=t,r.height=i;const s=c(this,Si)?c(this,jt):_(this,Ce,Hb).call(this,t,i);if(this._uiManager.hasMLManager&&!this.hasAltText()){const l=new OffscreenCanvas(t,i).getContext("2d");l.drawImage(s,0,0,s.width,s.height,0,0,t,i),this._uiManager.mlGuess({service:"image-to-text",request:{data:l.getImageData(0,0,t,i).data,width:t,height:i,channels:4}}).then(u=>{const h=(u==null?void 0:u.output)||"";this.parent&&h&&!this.hasAltText()&&(this.altTextData={altText:h,decorative:!1})})}const a=r.getContext("2d");a.filter=this._uiManager.hcmFilter,a.drawImage(s,0,0,s.width,s.height,0,0,t,i)},Wf=function(t){if(t){if(c(this,Si)){const s=this._uiManager.imageManager.getSvgUrl(c(this,zt));if(s)return s}const i=document.createElement("canvas");return{width:i.width,height:i.height}=c(this,jt),i.getContext("2d").drawImage(c(this,jt),0,0),i.toDataURL()}if(c(this,Si)){const[i,r]=this.pageDimensions,s=Math.round(this.width*i*Ks.PDF_TO_CSS_UNITS),a=Math.round(this.height*r*Ks.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(s,a);return o.getContext("2d").drawImage(c(this,jt),0,0,c(this,jt).width,c(this,jt).height,0,0,s,a),o.transferToImageBitmap()}return structuredClone(c(this,jt))},Bb=function(){this._uiManager._signal&&(w(this,Ir,new ResizeObserver(t=>{const i=t[0].contentRect;i.width&&i.height&&_(this,Ce,zb).call(this,i.width,i.height)})),c(this,Ir).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=c(this,Ir))==null||t.disconnect(),w(this,Ir,null)},{once:!0}))},le(yu,"_type","stamp"),le(yu,"_editorType",Ae.STAMP);let Ey=yu;var po,hc,Yi,go,Fr,Or,jr,In,Ds,dc,fc,nn,ee,Ns,Ut,Ub,xy,Cy,ky,Gf;const li=class li{constructor({uiManager:e,pageIndex:t,div:i,accessibilityManager:r,annotationLayer:s,drawLayer:a,textLayer:o,viewport:l,l10n:u}){E(this,Ut);E(this,po);E(this,hc,!1);E(this,Yi,null);E(this,go,null);E(this,Fr,null);E(this,Or,null);E(this,jr,null);E(this,In,new Map);E(this,Ds,!1);E(this,dc,!1);E(this,fc,!1);E(this,nn,null);E(this,ee);const h=[...c(li,Ns).values()];if(!li._initialized){li._initialized=!0;for(const d of h)d.initialize(u,e)}e.registerEditorTypes(h),w(this,ee,e),this.pageIndex=t,this.div=i,w(this,po,r),w(this,Yi,s),this.viewport=l,w(this,nn,o),this.drawLayer=a,c(this,ee).addLayer(this)}get isEmpty(){return c(this,In).size===0}get isInvisible(){return this.isEmpty&&c(this,ee).getMode()===Ae.NONE}updateToolbar(e){c(this,ee).updateToolbar(e)}updateMode(e=c(this,ee).getMode()){switch(_(this,Ut,Gf).call(this),e){case Ae.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Ae.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case Ae.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const i of c(li,Ns).values())t.toggle(`${i._type}Editing`,e===i._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=c(this,nn))==null?void 0:t.div)}addInkEditorIfNeeded(e){if(c(this,ee).getMode()!==Ae.INK)return;if(!e){for(const i of c(this,In).values())if(i.isEmpty()){i.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){c(this,ee).setEditingState(e)}addCommands(e){c(this,ee).addCommands(e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=c(this,Yi))==null||t.div.classList.toggle("disabled",!e)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const i of c(this,In).values())i.enableEditing(),i.show(!0),i.annotationElementId&&(c(this,ee).removeChangedExistingAnnotation(i),e.add(i.annotationElementId));if(!c(this,Yi))return;const t=c(this,Yi).getEditableAnnotations();for(const i of t){if(i.hide(),c(this,ee).isDeletedAnnotationElement(i.data.id)||e.has(i.data.id))continue;const r=this.deserialize(i);r&&(this.addOrRebuild(r),r.enableEditing())}}disable(){var r;w(this,fc,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const s of c(this,In).values())if(s.disableEditing(),!!s.annotationElementId){if(s.serialize()!==null){e.set(s.annotationElementId,s);continue}else t.set(s.annotationElementId,s);(r=this.getEditableAnnotation(s.annotationElementId))==null||r.show(),s.remove()}if(c(this,Yi)){const s=c(this,Yi).getEditableAnnotations();for(const a of s){const{id:o}=a.data;if(c(this,ee).isDeletedAnnotationElement(o))continue;let l=t.get(o);if(l){l.resetAnnotationElement(a),l.show(!1),a.show();continue}l=e.get(o),l&&(c(this,ee).addChangedExistingAnnotation(l),l.renderAnnotationElement(a),l.show(!1)),a.show()}}_(this,Ut,Gf).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:i}=this.div;for(const s of c(li,Ns).values())i.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),w(this,fc,!1)}getEditableAnnotation(e){var t;return((t=c(this,Yi))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){c(this,ee).getActive()!==e&&c(this,ee).setActiveEditor(e)}enableTextSelection(){var e;this.div.tabIndex=-1,(e=c(this,nn))!=null&&e.div&&!c(this,Or)&&(w(this,Or,_(this,Ut,Ub).bind(this)),c(this,nn).div.addEventListener("pointerdown",c(this,Or),{signal:c(this,ee)._signal}),c(this,nn).div.classList.add("highlighting"))}disableTextSelection(){var e;this.div.tabIndex=0,(e=c(this,nn))!=null&&e.div&&c(this,Or)&&(c(this,nn).div.removeEventListener("pointerdown",c(this,Or)),w(this,Or,null),c(this,nn).div.classList.remove("highlighting"))}enableClick(){if(c(this,Fr))return;const e=c(this,ee)._signal;w(this,Fr,this.pointerdown.bind(this)),w(this,go,this.pointerup.bind(this)),this.div.addEventListener("pointerdown",c(this,Fr),{signal:e}),this.div.addEventListener("pointerup",c(this,go),{signal:e})}disableClick(){c(this,Fr)&&(this.div.removeEventListener("pointerdown",c(this,Fr)),this.div.removeEventListener("pointerup",c(this,go)),w(this,Fr,null),w(this,go,null))}attach(e){c(this,In).set(e.id,e);const{annotationElementId:t}=e;t&&c(this,ee).isDeletedAnnotationElement(t)&&c(this,ee).removeDeletedAnnotationElement(e)}detach(e){var t;c(this,In).delete(e.id),(t=c(this,po))==null||t.removePointerInTextLayer(e.contentDiv),!c(this,fc)&&e.annotationElementId&&c(this,ee).addDeletedAnnotationElement(e)}remove(e){this.detach(e),c(this,ee).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,c(this,dc)||this.addInkEditorIfNeeded(!1)}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(c(this,ee).addDeletedAnnotationElement(e.annotationElementId),Le.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),c(this,ee).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),c(this,ee).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var i;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!c(this,jr)&&(e._focusEventsAllowed=!1,w(this,jr,setTimeout(()=>{w(this,jr,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:c(this,ee)._signal}),t.focus())},0))),e._structTreeParentId=(i=c(this,po))==null?void 0:i.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),i=()=>{e.remove()};this.addCommands({cmd:t,undo:i,mustExec:!1})}getNextId(){return c(this,ee).getId()}get _signal(){return c(this,ee)._signal}canCreateNewEmptyEditor(){var e;return(e=c(this,Ut,xy))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,t){c(this,ee).updateToolbar(e),c(this,ee).updateMode(e);const{offsetX:i,offsetY:r}=_(this,Ut,ky).call(this),s=this.getNextId(),a=_(this,Ut,Cy).call(this,{parent:this,id:s,x:i,y:r,uiManager:c(this,ee),isCentered:!0,...t});a&&this.add(a)}deserialize(e){var t;return((t=c(li,Ns).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,c(this,ee)))||null}createAndAddNewEditor(e,t,i={}){const r=this.getNextId(),s=_(this,Ut,Cy).call(this,{parent:this,id:r,x:e.offsetX,y:e.offsetY,uiManager:c(this,ee),isCentered:t,...i});return s&&this.add(s),s}addNewEditor(){this.createAndAddNewEditor(_(this,Ut,ky).call(this),!0)}setSelected(e){c(this,ee).setSelected(e)}toggleSelected(e){c(this,ee).toggleSelected(e)}isSelected(e){return c(this,ee).isSelected(e)}unselect(e){c(this,ee).unselect(e)}pointerup(e){const{isMac:t}=yn.platform;if(!(e.button!==0||e.ctrlKey&&t)&&e.target===this.div&&c(this,Ds)){if(w(this,Ds,!1),!c(this,hc)){w(this,hc,!0);return}if(c(this,ee).getMode()===Ae.STAMP){c(this,ee).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(c(this,ee).getMode()===Ae.HIGHLIGHT&&this.enableTextSelection(),c(this,Ds)){w(this,Ds,!1);return}const{isMac:t}=yn.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;w(this,Ds,!0);const i=c(this,ee).getActive();w(this,hc,!i||i.isEmpty())}findNewParent(e,t,i){const r=c(this,ee).findParent(t,i);return r===null||r===this?!1:(r.changeParent(e),!0)}destroy(){var e,t;((e=c(this,ee).getActive())==null?void 0:e.parent)===this&&(c(this,ee).commitOrRemove(),c(this,ee).setActiveEditor(null)),c(this,jr)&&(clearTimeout(c(this,jr)),w(this,jr,null));for(const i of c(this,In).values())(t=c(this,po))==null||t.removePointerInTextLayer(i.contentDiv),i.setParent(null),i.isAttachedToDOM=!1,i.div.remove();this.div=null,c(this,In).clear(),c(this,ee).removeLayer(this)}render({viewport:e}){this.viewport=e,xo(this.div,e);for(const t of c(this,ee).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){c(this,ee).commitOrRemove(),_(this,Ut,Gf).call(this);const t=this.viewport.rotation,i=e.rotation;if(this.viewport=e,xo(this.div,{rotation:i}),t!==i)for(const r of c(this,In).values())r.rotate(i);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return c(this,ee).viewParameters.realScale}};po=new WeakMap,hc=new WeakMap,Yi=new WeakMap,go=new WeakMap,Fr=new WeakMap,Or=new WeakMap,jr=new WeakMap,In=new WeakMap,Ds=new WeakMap,dc=new WeakMap,fc=new WeakMap,nn=new WeakMap,ee=new WeakMap,Ns=new WeakMap,Ut=new WeakSet,Ub=function(e){if(c(this,ee).unselectAll(),e.target===c(this,nn).div){const{isMac:t}=yn.platform;if(e.button!==0||e.ctrlKey&&t)return;c(this,ee).showAllEditors("highlight",!0,!0),c(this,nn).div.classList.add("free"),Pp.startHighlighting(this,c(this,ee).direction==="ltr",e),c(this,nn).div.addEventListener("pointerup",()=>{c(this,nn).div.classList.remove("free")},{once:!0,signal:c(this,ee)._signal}),e.preventDefault()}},xy=function(){return c(li,Ns).get(c(this,ee).getMode())},Cy=function(e){const t=c(this,Ut,xy);return t?new t.prototype.constructor(e):null},ky=function(){const{x:e,y:t,width:i,height:r}=this.div.getBoundingClientRect(),s=Math.max(0,e),a=Math.max(0,t),o=Math.min(window.innerWidth,e+i),l=Math.min(window.innerHeight,t+r),u=(s+o)/2-e,h=(a+l)/2-t,[d,f]=this.viewport.rotation%180===0?[u,h]:[h,u];return{offsetX:d,offsetY:f}},Gf=function(){w(this,dc,!0);for(const e of c(this,In).values())e.isEmpty()&&e.remove();w(this,dc,!1)},le(li,"_initialized",!1),E(li,Ns,new Map([iy,py,Ey,Pp].map(e=>[e._editorType,e])));let by=li;var qi,md,At,Is,vd,Py,Ro,Ry,$b;const Dt=class Dt{constructor({pageIndex:e}){E(this,Ro);E(this,qi,null);E(this,md,0);E(this,At,new Map);E(this,Is,new Map);this.pageIndex=e}setParent(e){if(!c(this,qi)){w(this,qi,e);return}if(c(this,qi)!==e){if(c(this,At).size>0)for(const t of c(this,At).values())t.remove(),e.append(t);w(this,qi,e)}}static get _svgFactory(){return be(this,"_svgFactory",new O0)}highlight(e,t,i,r=!1){const s=xn(this,md)._++,a=_(this,Ro,Ry).call(this,e.box);a.classList.add("highlight"),e.free&&a.classList.add("free");const o=Dt._svgFactory.createElement("defs");a.append(o);const l=Dt._svgFactory.createElement("path");o.append(l);const u=`path_p${this.pageIndex}_${s}`;l.setAttribute("id",u),l.setAttribute("d",e.toSVGPath()),r&&c(this,Is).set(s,l);const h=_(this,Ro,$b).call(this,o,u),d=Dt._svgFactory.createElement("use");return a.append(d),a.setAttribute("fill",t),a.setAttribute("fill-opacity",i),d.setAttribute("href",`#${u}`),c(this,At).set(s,a),{id:s,clipPathId:`url(#${h})`}}highlightOutline(e){const t=xn(this,md)._++,i=_(this,Ro,Ry).call(this,e.box);i.classList.add("highlightOutline");const r=Dt._svgFactory.createElement("defs");i.append(r);const s=Dt._svgFactory.createElement("path");r.append(s);const a=`path_p${this.pageIndex}_${t}`;s.setAttribute("id",a),s.setAttribute("d",e.toSVGPath()),s.setAttribute("vector-effect","non-scaling-stroke");let o;if(e.free){i.classList.add("free");const h=Dt._svgFactory.createElement("mask");r.append(h),o=`mask_p${this.pageIndex}_${t}`,h.setAttribute("id",o),h.setAttribute("maskUnits","objectBoundingBox");const d=Dt._svgFactory.createElement("rect");h.append(d),d.setAttribute("width","1"),d.setAttribute("height","1"),d.setAttribute("fill","white");const f=Dt._svgFactory.createElement("use");h.append(f),f.setAttribute("href",`#${a}`),f.setAttribute("stroke","none"),f.setAttribute("fill","black"),f.setAttribute("fill-rule","nonzero"),f.classList.add("mask")}const l=Dt._svgFactory.createElement("use");i.append(l),l.setAttribute("href",`#${a}`),o&&l.setAttribute("mask",`url(#${o})`);const u=l.cloneNode();return i.append(u),l.classList.add("mainOutline"),u.classList.add("secondaryOutline"),c(this,At).set(t,i),t}finalizeLine(e,t){const i=c(this,Is).get(e);c(this,Is).delete(e),this.updateBox(e,t.box),i.setAttribute("d",t.toSVGPath())}updateLine(e,t){c(this,At).get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}removeFreeHighlight(e){this.remove(e),c(this,Is).delete(e)}updatePath(e,t){c(this,Is).get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){var i;_(i=Dt,vd,Py).call(i,c(this,At).get(e),t)}show(e,t){c(this,At).get(e).classList.toggle("hidden",!t)}rotate(e,t){c(this,At).get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){c(this,At).get(e).setAttribute("fill",t)}changeOpacity(e,t){c(this,At).get(e).setAttribute("fill-opacity",t)}addClass(e,t){c(this,At).get(e).classList.add(t)}removeClass(e,t){c(this,At).get(e).classList.remove(t)}remove(e){c(this,qi)!==null&&(c(this,At).get(e).remove(),c(this,At).delete(e))}destroy(){w(this,qi,null);for(const e of c(this,At).values())e.remove();c(this,At).clear()}};qi=new WeakMap,md=new WeakMap,At=new WeakMap,Is=new WeakMap,vd=new WeakSet,Py=function(e,{x:t=0,y:i=0,width:r=1,height:s=1}={}){const{style:a}=e;a.top=`${100*i}%`,a.left=`${100*t}%`,a.width=`${100*r}%`,a.height=`${100*s}%`},Ro=new WeakSet,Ry=function(e){var i;const t=Dt._svgFactory.create(1,1,!0);return c(this,qi).append(t),t.setAttribute("aria-hidden",!0),_(i=Dt,vd,Py).call(i,t,e),t},$b=function(e,t){const i=Dt._svgFactory.createElement("clipPath");e.append(i);const r=`clip_${t}`;i.setAttribute("id",r),i.setAttribute("clipPathUnits","objectBoundingBox");const s=Dt._svgFactory.createElement("use");return i.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),r},E(Dt,vd);let Ty=Dt;var jL=re.AbortException,zL=re.AnnotationEditorLayer,HL=re.AnnotationEditorParamsType,BL=re.AnnotationEditorType,UL=re.AnnotationEditorUIManager,Vb=re.AnnotationLayer,Wb=re.AnnotationMode,$L=re.CMapCompressionType,VL=re.ColorPicker,WL=re.DOMSVGFactory,GL=re.DrawLayer,XL=re.FeatureTest,W0=re.GlobalWorkerOptions,KL=re.ImageKind,YL=re.InvalidPDFException,qL=re.MissingPDFException,QL=re.OPS,JL=re.Outliner,ZL=re.PDFDataRangeTransport,eM=re.PDFDateString,tM=re.PDFWorker,nM=re.PasswordResponses,iM=re.PermissionFlag,rM=re.PixelsPerInch,sM=re.RenderingCancelledException,Gb=re.TextLayer,aM=re.UnexpectedResponseException,oM=re.Util,lM=re.VerbosityLevel,cM=re.XfaLayer,uM=re.build,hM=re.createValidAbsoluteUrl,dM=re.fetchData,Xb=re.getDocument,fM=re.getFilenameFromUrl,pM=re.getPdfFilenameFromUrl,gM=re.getXfaPageViewport,mM=re.isDataScheme,vM=re.isPdfFile,yM=re.noContextMenu,wM=re.normalizeUnicode,_M=re.renderTextLayer,EM=re.setLayerDimensions,AM=re.shadow,SM=re.updateTextLayer,Kb=re.version;const bM=Object.freeze(Object.defineProperty({__proto__:null,AbortException:jL,AnnotationEditorLayer:zL,AnnotationEditorParamsType:HL,AnnotationEditorType:BL,AnnotationEditorUIManager:UL,AnnotationLayer:Vb,AnnotationMode:Wb,CMapCompressionType:$L,ColorPicker:VL,DOMSVGFactory:WL,DrawLayer:GL,FeatureTest:XL,GlobalWorkerOptions:W0,ImageKind:KL,InvalidPDFException:YL,MissingPDFException:qL,OPS:QL,Outliner:JL,PDFDataRangeTransport:ZL,PDFDateString:eM,PDFWorker:tM,PasswordResponses:nM,PermissionFlag:iM,PixelsPerInch:rM,RenderingCancelledException:sM,TextLayer:Gb,UnexpectedResponseException:aM,Util:oM,VerbosityLevel:lM,XfaLayer:cM,build:uM,createValidAbsoluteUrl:hM,fetchData:dM,getDocument:Xb,getFilenameFromUrl:fM,getPdfFilenameFromUrl:pM,getXfaPageViewport:gM,isDataScheme:mM,isPdfFile:vM,noContextMenu:yM,normalizeUnicode:wM,renderTextLayer:_M,setLayerDimensions:EM,shadow:AM,updateTextLayer:SM,version:Kb},Symbol.toStringTag,{value:"Module"}));var kt=function(n,e,t){if(t||arguments.length===2)for(var i=0,r=e.length,s;i<r;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return n.concat(s||Array.prototype.slice.call(e))},xM=["onCopy","onCut","onPaste"],CM=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],kM=["onFocus","onBlur"],TM=["onInput","onInvalid","onReset","onSubmit"],PM=["onLoad","onError"],RM=["onKeyDown","onKeyPress","onKeyUp"],LM=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],MM=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],DM=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],NM=["onSelect"],IM=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],FM=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],OM=["onScroll"],jM=["onWheel"],zM=["onAnimationStart","onAnimationEnd","onAnimationIteration"],HM=["onTransitionEnd"],BM=["onToggle"],UM=["onChange"],$M=kt(kt(kt(kt(kt(kt(kt(kt(kt(kt(kt(kt(kt(kt(kt(kt(kt(kt([],xM,!0),CM,!0),kM,!0),TM,!0),PM,!0),RM,!0),LM,!0),MM,!0),DM,!0),NM,!0),IM,!0),FM,!0),OM,!0),jM,!0),zM,!0),HM,!0),UM,!0),BM,!0);function Yb(n,e){var t={};return $M.forEach(function(i){var r=n[i];r&&(e?t[i]=function(s){return r(s,e(i))}:t[i]=r)}),t}function Td(n){var e=!1,t=new Promise(function(i,r){n.then(function(s){return!e&&i(s)}).catch(function(s){return!e&&r(s)})});return{promise:t,cancel:function(){e=!0}}}function qb(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(e=0;e<r;e++)n[e]&&(t=qb(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function Cg(){for(var n,e,t=0,i="",r=arguments.length;t<r;t++)(n=arguments[t])&&(e=qb(n))&&(i&&(i+=" "),i+=e);return i}var VM="Invariant failed";function Ue(n,e){if(!n)throw new Error(VM)}var WM=function(){},GM=WM;const Qt=Dy(GM);var aE=Object.prototype.hasOwnProperty;function oE(n,e,t){for(t of n.keys())if(vl(t,e))return t}function vl(n,e){var t,i,r;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((i=n.length)===e.length)for(;i--&&vl(n[i],e[i]););return i===-1}if(t===Set){if(n.size!==e.size)return!1;for(i of n)if(r=i,r&&typeof r=="object"&&(r=oE(e,r),!r)||!e.has(r))return!1;return!0}if(t===Map){if(n.size!==e.size)return!1;for(i of n)if(r=i[0],r&&typeof r=="object"&&(r=oE(e,r),!r)||!vl(i[1],e.get(r)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(t===DataView){if((i=n.byteLength)===e.byteLength)for(;i--&&n.getInt8(i)===e.getInt8(i););return i===-1}if(ArrayBuffer.isView(n)){if((i=n.byteLength)===e.byteLength)for(;i--&&n[i]===e[i];);return i===-1}if(!t||typeof n=="object"){i=0;for(t in n)if(aE.call(n,t)&&++i&&!aE.call(e,t)||!(t in e)||!vl(n[t],e[t]))return!1;return Object.keys(e).length===i}}return n!==n&&e!==e}const Qb=D.createContext(null);function yl({children:n,type:e}){return S.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:n})}const XM="noopener noreferrer nofollow";class KM{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Ue(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){Ue(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(t=>{Ue(this.pdfDocument),Ue(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{Ue(Array.isArray(t));const i=t[0];new Promise(r=>{Ue(this.pdfDocument),i instanceof Object?this.pdfDocument.getPageIndex(i).then(s=>{r(s)}).catch(()=>{Ue(!1)}):typeof i=="number"?r(i):Ue(!1)}).then(r=>{const s=r+1;Ue(this.pdfViewer),Ue(s>=1&&s<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:r,pageNumber:s})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const t=e-1;Ue(this.pdfViewer),Ue(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}addLinkAttributes(e,t,i){e.href=t,e.rel=this.externalLinkRel||XM,e.target=i?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const lE={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},kg=typeof document<"u",Jb=kg&&window.location.protocol==="file:";function YM(n){return typeof n<"u"}function aa(n){return YM(n)&&n!==null}function qM(n){return typeof n=="string"}function QM(n){return n instanceof ArrayBuffer}function JM(n){return Ue(kg),n instanceof Blob}function Ly(n){return qM(n)&&/^data:/.test(n)}function cE(n){Ue(Ly(n));const[e="",t=""]=n.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function ZM(){return kg&&window.devicePixelRatio||1}const Zb="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function uE(){Qt(!Jb,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${Zb}`)}function e2(){Qt(!Jb,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${Zb}`)}function To(n){n!=null&&n.cancel&&n.cancel()}function My(n,e){return Object.defineProperty(n,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(n,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(n,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(n,"originalHeight",{get(){return this.view[3]},configurable:!0}),n}function t2(n){return n.name==="RenderingCancelledException"}function n2(n){return new Promise((e,t)=>{const i=new FileReader;i.onload=()=>{if(!i.result)return t(new Error("Error while reading a file."));e(i.result)},i.onerror=r=>{if(!r.target)return t(new Error("Error while reading a file."));const{error:s}=r.target;if(!s)return t(new Error("Error while reading a file."));switch(s.code){case s.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case s.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case s.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},i.readAsArrayBuffer(n)})}function i2(n,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return n}}function Ec(){return D.useReducer(i2,{value:void 0,error:void 0})}var r2=function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(h){try{u(i.next(h))}catch(d){a(d)}}function l(h){try{u(i.throw(h))}catch(d){a(d)}}function u(h){h.done?s(h.value):r(h.value).then(o,l)}u((i=i.apply(n,e||[])).next())})},hE=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const{PDFDataRangeTransport:s2}=bM,a2=(n,e)=>{switch(e){case lE.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");n(t);break}case lE.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");n(t);break}}};function dE(n){return typeof n=="object"&&n!==null&&("data"in n||"range"in n||"url"in n)}const o2=D.forwardRef(function(e,t){var{children:i,className:r,error:s="Failed to load PDF file.",externalLinkRel:a,externalLinkTarget:o,file:l,inputRef:u,imageResourcesPath:h,loading:d="Loading PDF…",noData:f="No PDF file specified.",onItemClick:p,onLoadError:g,onLoadProgress:y,onLoadSuccess:b,onPassword:m=a2,onSourceError:v,onSourceSuccess:A,options:C,renderMode:T,rotate:R}=e,L=hE(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[x,N]=Ec(),{value:I,error:O}=x,[J,Y]=Ec(),{value:W,error:se}=J,oe=D.useRef(new KM),U=D.useRef([]),F=D.useRef(void 0),B=D.useRef(void 0);l&&l!==F.current&&dE(l)&&(Qt(!vl(l,F.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),F.current=l),C&&C!==B.current&&(Qt(!vl(C,B.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),B.current=C);const Z=D.useRef({scrollPageIntoView:De=>{const{dest:_e,pageNumber:Je,pageIndex:ct=Je-1}=De;if(p){p({dest:_e,pageIndex:ct,pageNumber:Je});return}const Ri=U.current[ct];if(Ri){Ri.scrollIntoView();return}Qt(!1,`An internal link leading to page ${Je} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});D.useImperativeHandle(t,()=>({linkService:oe,pages:U,viewer:Z}),[]);function we(){A&&A()}function ne(){O&&(Qt(!1,O.toString()),v&&v(O))}function de(){N({type:"RESET"})}D.useEffect(de,[l,N]);const ze=D.useCallback(()=>r2(this,void 0,void 0,function*(){if(!l)return null;if(typeof l=="string")return Ly(l)?{data:cE(l)}:(uE(),{url:l});if(l instanceof s2)return{range:l};if(QM(l))return{data:l};if(kg&&JM(l))return{data:yield n2(l)};if(Ue(typeof l=="object"),Ue(dE(l)),"url"in l&&typeof l.url=="string"){if(Ly(l.url)){const{url:De}=l,_e=hE(l,["url"]),Je=cE(De);return Object.assign({data:Je},_e)}uE()}return l}),[l]);D.useEffect(()=>{const De=Td(ze());return De.promise.then(_e=>{N({type:"RESOLVE",value:_e})}).catch(_e=>{N({type:"REJECT",error:_e})}),()=>{To(De)}},[ze,N]),D.useEffect(()=>{if(!(typeof I>"u")){if(I===!1){ne();return}we()}},[I]);function Qe(){W&&(b&&b(W),U.current=new Array(W.numPages),oe.current.setDocument(W))}function Se(){se&&(Qt(!1,se.toString()),g&&g(se))}D.useEffect(function(){Y({type:"RESET"})},[Y,I]),D.useEffect(function(){if(!I)return;const _e=Object.assign(Object.assign({},I),C),Je=Xb(_e);y&&(Je.onProgress=y),m&&(Je.onPassword=m);const ct=Je;return ct.promise.then(Ri=>{Y({type:"RESOLVE",value:Ri})}).catch(Ri=>{ct.destroyed||Y({type:"REJECT",error:Ri})}),()=>{ct.destroy()}},[C,Y,I]),D.useEffect(()=>{if(!(typeof W>"u")){if(W===!1){Se();return}Qe()}},[W]),D.useEffect(function(){oe.current.setViewer(Z.current),oe.current.setExternalLinkRel(a),oe.current.setExternalLinkTarget(o)},[a,o]);const fe=D.useCallback((De,_e)=>{U.current[De]=_e},[]),st=D.useCallback(De=>{delete U.current[De]},[]),Vn=D.useMemo(()=>({imageResourcesPath:h,linkService:oe.current,onItemClick:p,pdf:W,registerPage:fe,renderMode:T,rotate:R,unregisterPage:st}),[h,p,W,fe,T,R,st]),Ve=D.useMemo(()=>Yb(L,()=>W),[L,W]);function ta(){return S.jsx(Qb.Provider,{value:Vn,children:i})}function na(){return l?W==null?S.jsx(yl,{type:"loading",children:typeof d=="function"?d():d}):W===!1?S.jsx(yl,{type:"error",children:typeof s=="function"?s():s}):ta():S.jsx(yl,{type:"no-data",children:typeof f=="function"?f():f})}return S.jsx("div",Object.assign({className:Cg("react-pdf__Document",r),ref:u,style:{"--scale-factor":"1"}},Ve,{children:na()}))});function ex(){return D.useContext(Qb)}function tx(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=n.filter(Boolean);if(t.length<=1){var i=t[0];return i||null}return function(s){t.forEach(function(a){typeof a=="function"?a(s):a&&(a.current=s)})}}const nx=D.createContext(null),ix={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},l2=/^H(\d+)$/;function c2(n){return n in ix}function Tg(n){return"children"in n}function rx(n){return Tg(n)?n.children.length===1&&0 in n.children&&"id"in n.children[0]:!1}function u2(n){const e={};if(Tg(n)){const{role:t}=n,i=t.match(l2);if(i)e.role="heading",e["aria-level"]=Number(i[1]);else if(c2(t)){const r=ix[t];r&&(e.role=r)}}return e}function sx(n){const e={};if(Tg(n)){if(n.alt!==void 0&&(e["aria-label"]=n.alt),n.lang!==void 0&&(e.lang=n.lang),rx(n)){const[t]=n.children;if(t){const i=sx(t);return Object.assign(Object.assign({},e),i)}}}else"id"in n&&(e["aria-owns"]=n.id);return e}function h2(n){return n?Object.assign(Object.assign({},u2(n)),sx(n)):null}function ax({className:n,node:e}){const t=D.useMemo(()=>h2(e),[e]),i=D.useMemo(()=>!Tg(e)||rx(e)?null:e.children.map((r,s)=>S.jsx(ax,{node:r},s)),[e]);return S.jsx("span",Object.assign({className:n},t,{children:i}))}function Pg(){return D.useContext(nx)}function d2(){const n=Pg();Ue(n);const{onGetStructTreeError:e,onGetStructTreeSuccess:t}=n,[i,r]=Ec(),{value:s,error:a}=i,{customTextRenderer:o,page:l}=n;function u(){s&&t&&t(s)}function h(){a&&(Qt(!1,a.toString()),e&&e(a))}return D.useEffect(function(){r({type:"RESET"})},[r,l]),D.useEffect(function(){if(o||!l)return;const f=Td(l.getStructTree()),p=f;return f.promise.then(g=>{r({type:"RESOLVE",value:g})}).catch(g=>{r({type:"REJECT",error:g})}),()=>To(p)},[o,l,r]),D.useEffect(()=>{if(s!==void 0){if(s===!1){h();return}u()}},[s]),s?S.jsx(ax,{className:"react-pdf__Page__structTree structTree",node:s}):null}const fE=Wb;function f2(n){const e=Pg();Ue(e);const t=Object.assign(Object.assign({},e),n),{_className:i,canvasBackground:r,devicePixelRatio:s=ZM(),onRenderError:a,onRenderSuccess:o,page:l,renderForms:u,renderTextLayer:h,rotate:d,scale:f}=t,{canvasRef:p}=n;Ue(l);const g=D.useRef(null);function y(){l&&o&&o(My(l,f))}function b(C){t2(C)||(Qt(!1,C.toString()),a&&a(C))}const m=D.useMemo(()=>l.getViewport({scale:f*s,rotation:d}),[s,l,d,f]),v=D.useMemo(()=>l.getViewport({scale:f,rotation:d}),[l,d,f]);D.useEffect(function(){if(!l)return;l.cleanup();const{current:T}=g;if(!T)return;T.width=m.width,T.height=m.height,T.style.width=`${Math.floor(v.width)}px`,T.style.height=`${Math.floor(v.height)}px`,T.style.visibility="hidden";const R={annotationMode:u?fE.ENABLE_FORMS:fE.ENABLE,canvasContext:T.getContext("2d",{alpha:!1}),viewport:m};r&&(R.background=r);const L=l.render(R),x=L;return L.promise.then(()=>{T.style.visibility="",y()}).catch(b),()=>To(x)},[r,l,u,m,v]);const A=D.useCallback(()=>{const{current:C}=g;C&&(C.width=0,C.height=0)},[]);return D.useEffect(()=>A,[A]),S.jsx("canvas",{className:`${i}__canvas`,dir:"ltr",ref:tx(p,g),style:{display:"block",userSelect:"none"},children:h?S.jsx(d2,{}):null})}function p2(n){return"str"in n}function g2(){const n=Pg();Ue(n);const{customTextRenderer:e,onGetTextError:t,onGetTextSuccess:i,onRenderTextLayerError:r,onRenderTextLayerSuccess:s,page:a,pageIndex:o,pageNumber:l,rotate:u,scale:h}=n;Ue(a);const[d,f]=Ec(),{value:p,error:g}=d,y=D.useRef(null),b=D.useRef(void 0);Qt(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function m(){p&&i&&i(p)}function v(){g&&(Qt(!1,g.toString()),t&&t(g))}D.useEffect(function(){f({type:"RESET"})},[a,f]),D.useEffect(function(){if(!a)return;const N=Td(a.getTextContent()),I=N;return N.promise.then(O=>{f({type:"RESOLVE",value:O})}).catch(O=>{f({type:"REJECT",error:O})}),()=>To(I)},[a,f]),D.useEffect(()=>{if(p!==void 0){if(p===!1){v();return}m()}},[p]);const A=D.useCallback(()=>{s&&s()},[s]),C=D.useCallback(x=>{Qt(!1,x.toString()),r&&r(x)},[r]);function T(){const x=b.current;x&&x.classList.add("active")}function R(){const x=b.current;x&&x.classList.remove("active")}const L=D.useMemo(()=>a.getViewport({scale:h,rotation:u}),[a,u,h]);return D.useLayoutEffect(function(){if(!a||!p)return;const{current:N}=y;if(!N)return;N.innerHTML="";const I=a.streamTextContent({includeMarkedContent:!0}),O={container:N,textContentSource:I,viewport:L},J=new Gb(O),Y=J;return J.render().then(()=>{const W=document.createElement("div");W.className="endOfContent",N.append(W),b.current=W;const se=N.querySelectorAll('[role="presentation"]');if(e){let oe=0;p.items.forEach((U,F)=>{if(!p2(U))return;const B=se[oe];if(!B)return;const Z=e(Object.assign({pageIndex:o,pageNumber:l,itemIndex:F},U));B.innerHTML=Z,oe+=U.str&&U.hasEOL?2:1})}A()}).catch(C),()=>To(Y)},[e,C,A,a,o,l,p,L]),S.jsx("div",{className:Cg("react-pdf__Page__textContent","textLayer"),onMouseUp:R,onMouseDown:T,ref:y})}function m2(){const n=ex(),e=Pg();Ue(e);const t=Object.assign(Object.assign({},n),e),{imageResourcesPath:i,linkService:r,onGetAnnotationsError:s,onGetAnnotationsSuccess:a,onRenderAnnotationLayerError:o,onRenderAnnotationLayerSuccess:l,page:u,pdf:h,renderForms:d,rotate:f,scale:p=1}=t;Ue(h),Ue(u),Ue(r);const[g,y]=Ec(),{value:b,error:m}=g,v=D.useRef(null);Qt(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function A(){b&&a&&a(b)}function C(){m&&(Qt(!1,m.toString()),s&&s(m))}D.useEffect(function(){y({type:"RESET"})},[y,u]),D.useEffect(function(){if(!u)return;const N=Td(u.getAnnotations()),I=N;return N.promise.then(O=>{y({type:"RESOLVE",value:O})}).catch(O=>{y({type:"REJECT",error:O})}),()=>{To(I)}},[y,u]),D.useEffect(()=>{if(b!==void 0){if(b===!1){C();return}A()}},[b]);function T(){l&&l()}function R(x){Qt(!1,`${x}`),o&&o(x)}const L=D.useMemo(()=>u.getViewport({scale:p,rotation:f}),[u,f,p]);return D.useEffect(function(){if(!h||!u||!r||!b)return;const{current:N}=v;if(!N)return;const I=L.clone({dontFlip:!0}),O={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:N,l10n:null,page:u,viewport:I},J={annotations:b,annotationStorage:h.annotationStorage,div:N,imageResourcesPath:i,linkService:r,page:u,renderForms:d,viewport:I};N.innerHTML="";try{new Vb(O).render(J),T()}catch(Y){R(Y)}return()=>{}},[b,i,r,u,h,d,L]),S.jsx("div",{className:Cg("react-pdf__Page__annotations","annotationLayer"),ref:v})}var v2=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const pE=1;function y2(n){const e=ex(),t=Object.assign(Object.assign({},e),n),{_className:i="react-pdf__Page",_enableRegisterUnregisterPage:r=!0,canvasBackground:s,canvasRef:a,children:o,className:l,customRenderer:u,customTextRenderer:h,devicePixelRatio:d,error:f="Failed to load the page.",height:p,inputRef:g,loading:y="Loading page…",noData:b="No page specified.",onGetAnnotationsError:m,onGetAnnotationsSuccess:v,onGetStructTreeError:A,onGetStructTreeSuccess:C,onGetTextError:T,onGetTextSuccess:R,onLoadError:L,onLoadSuccess:x,onRenderAnnotationLayerError:N,onRenderAnnotationLayerSuccess:I,onRenderError:O,onRenderSuccess:J,onRenderTextLayerError:Y,onRenderTextLayerSuccess:W,pageIndex:se,pageNumber:oe,pdf:U,registerPage:F,renderAnnotationLayer:B=!0,renderForms:Z=!1,renderMode:we="canvas",renderTextLayer:ne=!0,rotate:de,scale:ze=pE,unregisterPage:Qe,width:Se}=t,fe=v2(t,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[st,Vn]=Ec(),{value:Ve,error:ta}=st,na=D.useRef(null);Ue(U);const De=aa(oe)?oe-1:se??null,_e=oe??(aa(se)?se+1:null),Je=de??(Ve?Ve.rotate:null),ct=D.useMemo(()=>{if(!Ve)return null;let Wn=1;const sa=ze??pE;if(Se||p){const ns=Ve.getViewport({scale:1,rotation:Je});Se?Wn=Se/ns.width:p&&(Wn=p/ns.height)}return sa*Wn},[p,Ve,Je,ze,Se]);D.useEffect(function(){return()=>{aa(De)&&r&&Qe&&Qe(De)}},[r,U,De,Qe]);function Ri(){if(x){if(!Ve||!ct)return;x(My(Ve,ct))}if(r&&F){if(!aa(De)||!na.current)return;F(De,na.current)}}function ir(){ta&&(Qt(!1,ta.toString()),L&&L(ta))}D.useEffect(function(){Vn({type:"RESET"})},[Vn,U,De]),D.useEffect(function(){if(!U||!_e)return;const sa=Td(U.getPage(_e)),ns=sa;return sa.promise.then(Gn=>{Vn({type:"RESOLVE",value:Gn})}).catch(Gn=>{Vn({type:"REJECT",error:Gn})}),()=>To(ns)},[Vn,U,_e]),D.useEffect(()=>{if(Ve!==void 0){if(Ve===!1){ir();return}Ri()}},[Ve,ct]);const Rg=D.useMemo(()=>Ve&&aa(De)&&_e&&aa(Je)&&aa(ct)?{_className:i,canvasBackground:s,customTextRenderer:h,devicePixelRatio:d,onGetAnnotationsError:m,onGetAnnotationsSuccess:v,onGetStructTreeError:A,onGetStructTreeSuccess:C,onGetTextError:T,onGetTextSuccess:R,onRenderAnnotationLayerError:N,onRenderAnnotationLayerSuccess:I,onRenderError:O,onRenderSuccess:J,onRenderTextLayerError:Y,onRenderTextLayerSuccess:W,page:Ve,pageIndex:De,pageNumber:_e,renderForms:Z,renderTextLayer:ne,rotate:Je,scale:ct}:null,[i,s,h,d,m,v,A,C,T,R,N,I,O,J,Y,W,Ve,De,_e,Z,ne,Je,ct]),Lg=D.useMemo(()=>Yb(fe,()=>Ve&&(ct?My(Ve,ct):void 0)),[fe,Ve,ct]),ia=`${De}@${ct}/${Je}`;function Mg(){switch(we){case"custom":return Ue(u),S.jsx(u,{},`${ia}_custom`);case"none":return null;case"canvas":default:return S.jsx(f2,{canvasRef:a},`${ia}_canvas`)}}function Dg(){return ne?S.jsx(g2,{},`${ia}_text`):null}function Ng(){return B?S.jsx(m2,{},`${ia}_annotations`):null}function Ig(){return S.jsxs(nx.Provider,{value:Rg,children:[Mg(),Dg(),Ng(),o]})}function ra(){return _e?U===null||Ve===void 0||Ve===null?S.jsx(yl,{type:"loading",children:typeof y=="function"?y():y}):U===!1||Ve===!1?S.jsx(yl,{type:"error",children:typeof f=="function"?f():f}):Ig():S.jsx(yl,{type:"no-data",children:typeof b=="function"?b():b})}return S.jsx("div",Object.assign({className:Cg(i,l),"data-page-number":_e,ref:tx(g,na),style:{"--scale-factor":`${ct}`,backgroundColor:s||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},Lg,{children:ra()}))}e2();W0.workerSrc="pdf.worker.mjs";W0.workerSrc=`//unpkg.com/pdfjs-dist@${Kb}/build/pdf.worker.min.mjs`;const w2=()=>S.jsx(o2,{file:"/assets/BinhLe_Resume.pdf",children:S.jsx(y2,{pageNumber:1})}),_2=lP([{path:"/",element:S.jsx(DP,{})},{path:"/experience",element:S.jsx(NP,{})},{path:"/projects",element:S.jsx(IP,{})},{path:"/about",element:S.jsx(FP,{})},{path:"/resume",element:S.jsx(w2,{})}]);_m.createRoot(document.getElementById("root")).render(S.jsx(Br.StrictMode,{children:S.jsx(vP,{router:_2})}));
